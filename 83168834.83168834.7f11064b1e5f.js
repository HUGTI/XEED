(self.webpackChunkgame_thimbles=self.webpackChunkgame_thimbles||[]).push([[83168834,94797045],{28632837:(t,e,r)=>{"use strict";var n=r(21907650),i=r(69885103),o=r(51820883),a=r(22833532);t.exports=a||n.call(o,i)},69885103:t=>{"use strict";t.exports=Function.prototype.apply},51820883:t=>{"use strict";t.exports=Function.prototype.call},45773503:(t,e,r)=>{"use strict";var n=r(21907650),i=r(70638380),o=r(51820883),a=r(28632837);t.exports=function(t){if(t.length<1||"function"!=typeof t[0])throw new i("a function is required");return a(n,o,t)}},22833532:t=>{"use strict";t.exports="undefined"!=typeof Reflect&&Reflect&&Reflect.apply},95694287:(t,e,r)=>{"use strict";var n=r(71811760),i=r(45773503),o=i([n("%String.prototype.indexOf%")]);t.exports=function(t,e){var r=n(t,!!e);return"function"==typeof r&&o(t,".prototype.")>-1?i([r]):r}},45031050:(t,e,r)=>{"use strict";var n=r(6295189),i=r(71858391),o=TypeError;t.exports=function(t){if(n(t))return t;throw new o(i(t)+" is not a function")}},11291772:(t,e,r)=>{"use strict";var n=r(87487757),i=r(71858391),o=TypeError;t.exports=function(t){if(n(t))return t;throw new o(i(t)+" is not a constructor")}},53262658:(t,e,r)=>{"use strict";var n=r(58565029),i=String,o=TypeError;t.exports=function(t){if(n(t))return t;throw new o("Can't set "+i(t)+" as a prototype")}},25798213:(t,e,r)=>{"use strict";var n=r(62248275),i=r(4546008),o=r(64767377).f,a=n("unscopables"),s=Array.prototype;void 0===s[a]&&o(s,a,{configurable:!0,value:i(null)}),t.exports=function(t){s[a][t]=!0}},89301573:(t,e,r)=>{"use strict";var n=r(34745591).charAt;t.exports=function(t,e,r){return e+(r?n(t,e).length:1)}},60144823:(t,e,r)=>{"use strict";var n=r(43396857),i=TypeError;t.exports=function(t,e){if(n(e,t))return t;throw new i("Incorrect invocation")}},32189351:(t,e,r)=>{"use strict";var n=r(75849826),i=String,o=TypeError;t.exports=function(t){if(n(t))return t;throw new o(i(t)+" is not an object")}},4526291:t=>{"use strict";t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},80270786:(t,e,r)=>{"use strict";var n=r(95619008),i=r(3670610),o=r(91206336),a=n.ArrayBuffer,s=n.TypeError;t.exports=a&&i(a.prototype,"byteLength","get")||function(t){if("ArrayBuffer"!==o(t))throw new s("ArrayBuffer expected");return t.byteLength}},42713030:(t,e,r)=>{"use strict";var n=r(95619008),i=r(54892980),o=r(80270786),a=n.ArrayBuffer,s=a&&a.prototype,u=s&&i(s.slice);t.exports=function(t){if(0!==o(t))return!1;if(!u)return!1;try{return u(t,0,0),!1}catch(e){return!0}}},9209828:(t,e,r)=>{"use strict";var n=r(17964319);t.exports=n(function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}})},37463009:(t,e,r)=>{"use strict";var n=r(42713030),i=TypeError;t.exports=function(t){if(n(t))throw new i("ArrayBuffer is detached");return t}},31814452:(t,e,r)=>{"use strict";var n=r(95619008),i=r(92746832),o=r(3670610),a=r(88678560),s=r(37463009),u=r(80270786),c=r(72006195),l=r(78839724),f=n.structuredClone,h=n.ArrayBuffer,p=n.DataView,d=Math.min,y=h.prototype,v=p.prototype,m=i(y.slice),b=o(y,"resizable","get"),g=o(y,"maxByteLength","get"),w=i(v.getInt8),S=i(v.setInt8);t.exports=(l||c)&&function(t,e,r){var n,i=u(t),o=void 0===e?i:a(e),y=!b||!b(t);if(s(t),l&&(t=f(t,{transfer:[t]}),i===o&&(r||y)))return t;if(i>=o&&(!r||y))n=m(t,0,o);else{var v=r&&!y&&g?{maxByteLength:g(t)}:void 0;n=new h(o,v);for(var x=new p(t),_=new p(n),E=d(o,i),T=0;T<E;T++)S(_,T,w(x,T))}return l||c(t),n}},22204436:(t,e,r)=>{"use strict";var n,i,o,a=r(4526291),s=r(97881036),u=r(95619008),c=r(6295189),l=r(75849826),f=r(26847425),h=r(15357275),p=r(71858391),d=r(24415083),y=r(17917960),v=r(83560634),m=r(43396857),b=r(2003331),g=r(15245319),w=r(62248275),S=r(7593520),x=r(71814253),_=x.enforce,E=x.get,T=u.Int8Array,k=T&&T.prototype,P=u.Uint8ClampedArray,O=P&&P.prototype,A=T&&b(T),R=k&&b(k),j=Object.prototype,I=u.TypeError,C=w("toStringTag"),M=S("TYPED_ARRAY_TAG"),D="TypedArrayConstructor",N=a&&!!g&&"Opera"!==h(u.opera),B=!1,F={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},L={BigInt64Array:8,BigUint64Array:8},U=function(t){var e=b(t);if(l(e)){var r=E(e);return r&&f(r,D)?r[D]:U(e)}},V=function(t){if(!l(t))return!1;var e=h(t);return f(F,e)||f(L,e)};for(n in F)(o=(i=u[n])&&i.prototype)?_(o)[D]=i:N=!1;for(n in L)(o=(i=u[n])&&i.prototype)&&(_(o)[D]=i);if((!N||!c(A)||A===Function.prototype)&&(A=function(){throw new I("Incorrect invocation")},N))for(n in F)u[n]&&g(u[n],A);if((!N||!R||R===j)&&(R=A.prototype,N))for(n in F)u[n]&&g(u[n].prototype,R);if(N&&b(O)!==R&&g(O,R),s&&!f(R,C))for(n in B=!0,v(R,C,{configurable:!0,get:function(){return l(this)?this[M]:void 0}}),F)u[n]&&d(u[n],M,n);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:N,TYPED_ARRAY_TAG:B&&M,aTypedArray:function(t){if(V(t))return t;throw new I("Target is not a typed array")},aTypedArrayConstructor:function(t){if(c(t)&&(!g||m(A,t)))return t;throw new I(p(t)+" is not a typed array constructor")},exportTypedArrayMethod:function(t,e,r,n){if(s){if(r)for(var i in F){var o=u[i];if(o&&f(o.prototype,t))try{delete o.prototype[t]}catch(a){try{o.prototype[t]=e}catch(c){}}}R[t]&&!r||y(R,t,r?e:N&&k[t]||e,n)}},exportTypedArrayStaticMethod:function(t,e,r){var n,i;if(s){if(g){if(r)for(n in F)if((i=u[n])&&f(i,t))try{delete i[t]}catch(o){}if(A[t]&&!r)return;try{return y(A,t,r?e:N&&A[t]||e)}catch(o){}}for(n in F)!(i=u[n])||i[t]&&!r||y(i,t,e)}},getTypedArrayConstructor:U,isView:function(t){if(!l(t))return!1;var e=h(t);return"DataView"===e||f(F,e)||f(L,e)},isTypedArray:V,TypedArray:A,TypedArrayPrototype:R}},33792842:(t,e,r)=>{"use strict";var n=r(95619008),i=r(92746832),o=r(97881036),a=r(4526291),s=r(63398638),u=r(24415083),c=r(83560634),l=r(34507415),f=r(17964319),h=r(60144823),p=r(73390427),d=r(92625342),y=r(88678560),v=r(86256481),m=r(76071690),b=r(2003331),g=r(15245319),w=r(34213557),S=r(28654784),x=r(14531263),_=r(87344268),E=r(73627903),T=r(71814253),k=s.PROPER,P=s.CONFIGURABLE,O="ArrayBuffer",A="DataView",R="prototype",j="Wrong index",I=T.getterFor(O),C=T.getterFor(A),M=T.set,D=n[O],N=D,B=N&&N[R],F=n[A],L=F&&F[R],U=Object.prototype,V=n.Array,X=n.RangeError,G=i(w),Y=i([].reverse),q=m.pack,W=m.unpack,H=function(t){return[255&t]},z=function(t){return[255&t,t>>8&255]},Q=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},Z=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},K=function(t){return q(v(t),23,4)},$=function(t){return q(t,52,8)},J=function(t,e,r){c(t[R],e,{configurable:!0,get:function(){return r(this)[e]}})},tt=function(t,e,r,n){var i=C(t),o=y(r),a=!!n;if(o+e>i.byteLength)throw new X(j);var s=i.bytes,u=o+i.byteOffset,c=S(s,u,u+e);return a?c:Y(c)},et=function(t,e,r,n,i,o){var a=C(t),s=y(r),u=n(+i),c=!!o;if(s+e>a.byteLength)throw new X(j);for(var l=a.bytes,f=s+a.byteOffset,h=0;h<e;h++)l[f+h]=u[c?h:e-h-1]};if(a){var rt=k&&D.name!==O;f(function(){D(1)})&&f(function(){new D(-1)})&&!f(function(){return new D,new D(1.5),new D(NaN),1!==D.length||rt&&!P})?rt&&P&&u(D,"name",O):((N=function(t){return h(this,B),x(new D(y(t)),this,N)})[R]=B,B.constructor=N,_(N,D)),g&&b(L)!==U&&g(L,U);var nt=new F(new N(2)),it=i(L.setInt8);nt.setInt8(0,2147483648),nt.setInt8(1,2147483649),!nt.getInt8(0)&&nt.getInt8(1)||l(L,{setInt8:function(t,e){it(this,t,e<<24>>24)},setUint8:function(t,e){it(this,t,e<<24>>24)}},{unsafe:!0})}else B=(N=function(t){h(this,B);var e=y(t);M(this,{type:O,bytes:G(V(e),0),byteLength:e}),o||(this.byteLength=e,this.detached=!1)})[R],L=(F=function(t,e,r){h(this,L),h(t,B);var n=I(t),i=n.byteLength,a=p(e);if(a<0||a>i)throw new X("Wrong offset");if(a+(r=void 0===r?i-a:d(r))>i)throw new X("Wrong length");M(this,{type:A,buffer:t,byteLength:r,byteOffset:a,bytes:n.bytes}),o||(this.buffer=t,this.byteLength=r,this.byteOffset=a)})[R],o&&(J(N,"byteLength",I),J(F,"buffer",C),J(F,"byteLength",C),J(F,"byteOffset",C)),l(L,{getInt8:function(t){return tt(this,1,t)[0]<<24>>24},getUint8:function(t){return tt(this,1,t)[0]},getInt16:function(t){var e=tt(this,2,t,arguments.length>1&&arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=tt(this,2,t,arguments.length>1&&arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return Z(tt(this,4,t,arguments.length>1&&arguments[1]))},getUint32:function(t){return Z(tt(this,4,t,arguments.length>1&&arguments[1]))>>>0},getFloat32:function(t){return W(tt(this,4,t,arguments.length>1&&arguments[1]),23)},getFloat64:function(t){return W(tt(this,8,t,arguments.length>1&&arguments[1]),52)},setInt8:function(t,e){et(this,1,t,H,e)},setUint8:function(t,e){et(this,1,t,H,e)},setInt16:function(t,e){et(this,2,t,z,e,arguments.length>2&&arguments[2])},setUint16:function(t,e){et(this,2,t,z,e,arguments.length>2&&arguments[2])},setInt32:function(t,e){et(this,4,t,Q,e,arguments.length>2&&arguments[2])},setUint32:function(t,e){et(this,4,t,Q,e,arguments.length>2&&arguments[2])},setFloat32:function(t,e){et(this,4,t,K,e,arguments.length>2&&arguments[2])},setFloat64:function(t,e){et(this,8,t,$,e,arguments.length>2&&arguments[2])}});E(N,O),E(F,A),t.exports={ArrayBuffer:N,DataView:F}},71138149:(t,e,r)=>{"use strict";var n=r(39045557),i=r(34897786),o=r(7793558),a=r(51345246),s=Math.min;t.exports=[].copyWithin||function(t,e){var r=n(this),u=o(r),c=i(t,u),l=i(e,u),f=arguments.length>2?arguments[2]:void 0,h=s((void 0===f?u:i(f,u))-l,u-c),p=1;for(l<c&&c<l+h&&(p=-1,l+=h-1,c+=h-1);h-- >0;)l in r?r[c]=r[l]:a(r,c),c+=p,l+=p;return r}},34213557:(t,e,r)=>{"use strict";var n=r(39045557),i=r(34897786),o=r(7793558);t.exports=function(t){for(var e=n(this),r=o(e),a=arguments.length,s=i(a>1?arguments[1]:void 0,r),u=a>2?arguments[2]:void 0,c=void 0===u?r:i(u,r);c>s;)e[s++]=t;return e}},89176283:(t,e,r)=>{"use strict";var n=r(39485517).forEach,i=r(5841222)("forEach");t.exports=i?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},3548874:(t,e,r)=>{"use strict";var n=r(7793558);t.exports=function(t,e,r){for(var i=0,o=arguments.length>2?r:n(e),a=new t(o);o>i;)a[i]=e[i++];return a}},36473372:(t,e,r)=>{"use strict";var n=r(22662608),i=r(82185277),o=r(39045557),a=r(32010847),s=r(8703953),u=r(87487757),c=r(7793558),l=r(74893328),f=r(3140833),h=r(29931715),p=Array;t.exports=function(t){var e=o(t),r=u(this),d=arguments.length,y=d>1?arguments[1]:void 0,v=void 0!==y;v&&(y=n(y,d>2?arguments[2]:void 0));var m,b,g,w,S,x,_=h(e),E=0;if(!_||this===p&&s(_))for(m=c(e),b=r?new this(m):p(m);m>E;E++)x=v?y(e[E],E):e[E],l(b,E,x);else for(b=r?new this:[],S=(w=f(e,_)).next;!(g=i(S,w)).done;E++)x=v?a(w,y,[g.value,E],!0):g.value,l(b,E,x);return b.length=E,b}},3239681:(t,e,r)=>{"use strict";var n=r(86022357),i=r(34897786),o=r(7793558),a=function(t){return function(e,r,a){var s=n(e),u=o(s);if(0===u)return!t&&-1;var c,l=i(a,u);if(t&&r!=r){for(;u>l;)if((c=s[l++])!=c)return!0}else for(;u>l;l++)if((t||l in s)&&s[l]===r)return t||l||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},15318911:(t,e,r)=>{"use strict";var n=r(22662608),i=r(85687055),o=r(39045557),a=r(7793558),s=function(t){var e=1===t;return function(r,s,u){for(var c,l=o(r),f=i(l),h=a(f),p=n(s,u);h-- >0;)if(p(c=f[h],h,l))switch(t){case 0:return c;case 1:return h}return e?-1:void 0}};t.exports={findLast:s(0),findLastIndex:s(1)}},39485517:(t,e,r)=>{"use strict";var n=r(22662608),i=r(92746832),o=r(85687055),a=r(39045557),s=r(7793558),u=r(86282333),c=i([].push),l=function(t){var e=1===t,r=2===t,i=3===t,l=4===t,f=6===t,h=7===t,p=5===t||f;return function(d,y,v,m){for(var b,g,w=a(d),S=o(w),x=s(S),_=n(y,v),E=0,T=m||u,k=e?T(d,x):r||h?T(d,0):void 0;x>E;E++)if((p||E in S)&&(g=_(b=S[E],E,w),t))if(e)k[E]=g;else if(g)switch(t){case 3:return!0;case 5:return b;case 6:return E;case 2:c(k,b)}else switch(t){case 4:return!1;case 7:c(k,b)}return f?-1:i||l?l:k}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},18967483:(t,e,r)=>{"use strict";var n=r(12020825),i=r(86022357),o=r(73390427),a=r(7793558),s=r(5841222),u=Math.min,c=[].lastIndexOf,l=!!c&&1/[1].lastIndexOf(1,-0)<0,f=s("lastIndexOf"),h=l||!f;t.exports=h?function(t){if(l)return n(c,this,arguments)||0;var e=i(this),r=a(e);if(0===r)return-1;var s=r-1;for(arguments.length>1&&(s=u(s,o(arguments[1]))),s<0&&(s=r+s);s>=0;s--)if(s in e&&e[s]===t)return s||0;return-1}:c},46921189:(t,e,r)=>{"use strict";var n=r(17964319),i=r(62248275),o=r(19678175),a=i("species");t.exports=function(t){return o>=51||!n(function(){var e=[];return(e.constructor={})[a]=function(){return{foo:1}},1!==e[t](Boolean).foo})}},5841222:(t,e,r)=>{"use strict";var n=r(17964319);t.exports=function(t,e){var r=[][t];return!!r&&n(function(){r.call(null,e||function(){return 1},1)})}},47667518:(t,e,r)=>{"use strict";var n=r(45031050),i=r(39045557),o=r(85687055),a=r(7793558),s=TypeError,u="Reduce of empty array with no initial value",c=function(t){return function(e,r,c,l){var f=i(e),h=o(f),p=a(f);if(n(r),0===p&&c<2)throw new s(u);var d=t?p-1:0,y=t?-1:1;if(c<2)for(;;){if(d in h){l=h[d],d+=y;break}if(d+=y,t?d<0:p<=d)throw new s(u)}for(;t?d>=0:p>d;d+=y)d in h&&(l=r(l,h[d],d,f));return l}};t.exports={left:c(!1),right:c(!0)}},24509983:(t,e,r)=>{"use strict";var n=r(97881036),i=r(99195304),o=TypeError,a=Object.getOwnPropertyDescriptor,s=n&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=s?function(t,e){if(i(t)&&!a(t,"length").writable)throw new o("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},28654784:(t,e,r)=>{"use strict";var n=r(92746832);t.exports=n([].slice)},88769624:(t,e,r)=>{"use strict";var n=r(28654784),i=Math.floor,o=function(t,e){var r=t.length;if(r<8)for(var a,s,u=1;u<r;){for(s=u,a=t[u];s&&e(t[s-1],a)>0;)t[s]=t[--s];s!==u++&&(t[s]=a)}else for(var c=i(r/2),l=o(n(t,0,c),e),f=o(n(t,c),e),h=l.length,p=f.length,d=0,y=0;d<h||y<p;)t[d+y]=d<h&&y<p?e(l[d],f[y])<=0?l[d++]:f[y++]:d<h?l[d++]:f[y++];return t};t.exports=o},9859081:(t,e,r)=>{"use strict";var n=r(99195304),i=r(87487757),o=r(75849826),a=r(62248275)("species"),s=Array;t.exports=function(t){var e;return n(t)&&(e=t.constructor,(i(e)&&(e===s||n(e.prototype))||o(e)&&null===(e=e[a]))&&(e=void 0)),void 0===e?s:e}},86282333:(t,e,r)=>{"use strict";var n=r(9859081);t.exports=function(t,e){return new(n(t))(0===e?0:e)}},50880572:(t,e,r)=>{"use strict";var n=r(7793558);t.exports=function(t,e){for(var r=n(t),i=new e(r),o=0;o<r;o++)i[o]=t[r-o-1];return i}},61033912:(t,e,r)=>{"use strict";var n=r(7793558),i=r(73390427),o=RangeError;t.exports=function(t,e,r,a){var s=n(t),u=i(r),c=u<0?s+u:u;if(c>=s||c<0)throw new o("Incorrect index");for(var l=new e(s),f=0;f<s;f++)l[f]=f===c?a:t[f];return l}},32010847:(t,e,r)=>{"use strict";var n=r(32189351),i=r(3539779);t.exports=function(t,e,r,o){try{return o?e(n(r)[0],r[1]):e(r)}catch(a){i(t,"throw",a)}}},90871788:(t,e,r)=>{"use strict";var n=r(62248275)("iterator"),i=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){i=!0}};a[n]=function(){return this},Array.from(a,function(){throw 2})}catch(s){}t.exports=function(t,e){try{if(!e&&!i)return!1}catch(s){return!1}var r=!1;try{var o={};o[n]=function(){return{next:function(){return{done:r=!0}}}},t(o)}catch(s){}return r}},91206336:(t,e,r)=>{"use strict";var n=r(92746832),i=n({}.toString),o=n("".slice);t.exports=function(t){return o(i(t),8,-1)}},15357275:(t,e,r)=>{"use strict";var n=r(10578092),i=r(6295189),o=r(91206336),a=r(62248275)("toStringTag"),s=Object,u="Arguments"===o(function(){return arguments}());t.exports=n?o:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(r){}}(e=s(t),a))?r:u?o(e):"Object"===(n=o(e))&&i(e.callee)?"Arguments":n}},25529914:(t,e,r)=>{"use strict";var n=r(4546008),i=r(83560634),o=r(34507415),a=r(22662608),s=r(60144823),u=r(63139477),c=r(66670348),l=r(41197328),f=r(71577793),h=r(21172241),p=r(97881036),d=r(96734235).fastKey,y=r(71814253),v=y.set,m=y.getterFor;t.exports={getConstructor:function(t,e,r,l){var f=t(function(t,i){s(t,h),v(t,{type:e,index:n(null),first:null,last:null,size:0}),p||(t.size=0),u(i)||c(i,t[l],{that:t,AS_ENTRIES:r})}),h=f.prototype,y=m(e),b=function(t,e,r){var n,i,o=y(t),a=g(t,e);return a?a.value=r:(o.last=a={index:i=d(e,!0),key:e,value:r,previous:n=o.last,next:null,removed:!1},o.first||(o.first=a),n&&(n.next=a),p?o.size++:t.size++,"F"!==i&&(o.index[i]=a)),t},g=function(t,e){var r,n=y(t),i=d(e);if("F"!==i)return n.index[i];for(r=n.first;r;r=r.next)if(r.key===e)return r};return o(h,{clear:function(){for(var t=y(this),e=t.first;e;)e.removed=!0,e.previous&&(e.previous=e.previous.next=null),e=e.next;t.first=t.last=null,t.index=n(null),p?t.size=0:this.size=0},delete:function(t){var e=this,r=y(e),n=g(e,t);if(n){var i=n.next,o=n.previous;delete r.index[n.index],n.removed=!0,o&&(o.next=i),i&&(i.previous=o),r.first===n&&(r.first=i),r.last===n&&(r.last=o),p?r.size--:e.size--}return!!n},forEach:function(t){for(var e,r=y(this),n=a(t,arguments.length>1?arguments[1]:void 0);e=e?e.next:r.first;)for(n(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!g(this,t)}}),o(h,r?{get:function(t){var e=g(this,t);return e&&e.value},set:function(t,e){return b(this,0===t?0:t,e)}}:{add:function(t){return b(this,t=0===t?0:t,t)}}),p&&i(h,"size",{configurable:!0,get:function(){return y(this).size}}),f},setStrong:function(t,e,r){var n=e+" Iterator",i=m(e),o=m(n);l(t,e,function(t,e){v(this,{type:n,target:t,state:i(t),kind:e,last:null})},function(){for(var t=o(this),e=t.kind,r=t.last;r&&r.removed;)r=r.previous;return t.target&&(t.last=r=r?r.next:t.state.first)?f("keys"===e?r.key:"values"===e?r.value:[r.key,r.value],!1):(t.target=null,f(void 0,!0))},r?"entries":"values",!r,!0),h(e)}}},46948980:(t,e,r)=>{"use strict";var n=r(33084182),i=r(95619008),o=r(92746832),a=r(59117244),s=r(17917960),u=r(96734235),c=r(66670348),l=r(60144823),f=r(6295189),h=r(63139477),p=r(75849826),d=r(17964319),y=r(90871788),v=r(73627903),m=r(14531263);t.exports=function(t,e,r){var b=-1!==t.indexOf("Map"),g=-1!==t.indexOf("Weak"),w=b?"set":"add",S=i[t],x=S&&S.prototype,_=S,E={},T=function(t){var e=o(x[t]);s(x,t,"add"===t?function(t){return e(this,0===t?0:t),this}:"delete"===t?function(t){return!(g&&!p(t))&&e(this,0===t?0:t)}:"get"===t?function(t){return g&&!p(t)?void 0:e(this,0===t?0:t)}:"has"===t?function(t){return!(g&&!p(t))&&e(this,0===t?0:t)}:function(t,r){return e(this,0===t?0:t,r),this})};if(a(t,!f(S)||!(g||x.forEach&&!d(function(){(new S).entries().next()}))))_=r.getConstructor(e,t,b,w),u.enable();else if(a(t,!0)){var k=new _,P=k[w](g?{}:-0,1)!==k,O=d(function(){k.has(1)}),A=y(function(t){new S(t)}),R=!g&&d(function(){for(var t=new S,e=5;e--;)t[w](e,e);return!t.has(-0)});A||((_=e(function(t,e){l(t,x);var r=m(new S,t,_);return h(e)||c(e,r[w],{that:r,AS_ENTRIES:b}),r})).prototype=x,x.constructor=_),(O||R)&&(T("delete"),T("has"),b&&T("get")),(R||P)&&T(w),g&&x.clear&&delete x.clear}return E[t]=_,n({global:!0,constructor:!0,forced:_!==S},E),v(_,t),g||r.setStrong(_,t,b),_}},87344268:(t,e,r)=>{"use strict";var n=r(26847425),i=r(59264791),o=r(37441603),a=r(64767377);t.exports=function(t,e,r){for(var s=i(e),u=a.f,c=o.f,l=0;l<s.length;l++){var f=s[l];n(t,f)||r&&n(r,f)||u(t,f,c(e,f))}}},1691452:(t,e,r)=>{"use strict";var n=r(62248275)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[n]=!1,"/./"[t](e)}catch(i){}}return!1}},92989875:(t,e,r)=>{"use strict";var n=r(17964319);t.exports=!n(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})},71577793:t=>{"use strict";t.exports=function(t,e){return{value:t,done:e}}},24415083:(t,e,r)=>{"use strict";var n=r(97881036),i=r(64767377),o=r(71873636);t.exports=n?function(t,e,r){return i.f(t,e,o(1,r))}:function(t,e,r){return t[e]=r,t}},71873636:t=>{"use strict";t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},74893328:(t,e,r)=>{"use strict";var n=r(97881036),i=r(64767377),o=r(71873636);t.exports=function(t,e,r){n?i.f(t,e,o(0,r)):t[e]=r}},31265256:(t,e,r)=>{"use strict";var n=r(32189351),i=r(40008558),o=TypeError;t.exports=function(t){if(n(this),"string"===t||"default"===t)t="string";else if("number"!==t)throw new o("Incorrect hint");return i(this,t)}},83560634:(t,e,r)=>{"use strict";var n=r(66218731),i=r(64767377);t.exports=function(t,e,r){return r.get&&n(r.get,e,{getter:!0}),r.set&&n(r.set,e,{setter:!0}),i.f(t,e,r)}},17917960:(t,e,r)=>{"use strict";var n=r(6295189),i=r(64767377),o=r(66218731),a=r(48829257);t.exports=function(t,e,r,s){s||(s={});var u=s.enumerable,c=void 0!==s.name?s.name:e;if(n(r)&&o(r,c,s),s.global)u?t[e]=r:a(e,r);else{try{s.unsafe?t[e]&&(u=!0):delete t[e]}catch(l){}u?t[e]=r:i.f(t,e,{value:r,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return t}},34507415:(t,e,r)=>{"use strict";var n=r(17917960);t.exports=function(t,e,r){for(var i in e)n(t,i,e[i],r);return t}},48829257:(t,e,r)=>{"use strict";var n=r(95619008),i=Object.defineProperty;t.exports=function(t,e){try{i(n,t,{value:e,configurable:!0,writable:!0})}catch(r){n[t]=e}return e}},51345246:(t,e,r)=>{"use strict";var n=r(71858391),i=TypeError;t.exports=function(t,e){if(!delete t[e])throw new i("Cannot delete property "+n(e)+" of "+n(t))}},97881036:(t,e,r)=>{"use strict";var n=r(17964319);t.exports=!n(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})},72006195:(t,e,r)=>{"use strict";var n,i,o,a,s=r(95619008),u=r(43802901),c=r(78839724),l=s.structuredClone,f=s.ArrayBuffer,h=s.MessageChannel,p=!1;if(c)p=function(t){l(t,{transfer:[t]})};else if(f)try{h||(n=u("worker_threads"))&&(h=n.MessageChannel),h&&(i=new h,o=new f(2),a=function(t){i.port1.postMessage(null,[t])},2===o.byteLength&&(a(o),0===o.byteLength&&(p=a)))}catch(d){}t.exports=p},64054231:(t,e,r)=>{"use strict";var n=r(95619008),i=r(75849826),o=n.document,a=i(o)&&i(o.createElement);t.exports=function(t){return a?o.createElement(t):{}}},68509637:t=>{"use strict";var e=TypeError;t.exports=function(t){if(t>9007199254740991)throw e("Maximum allowed index exceeded");return t}},46604666:t=>{"use strict";t.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},94191720:t=>{"use strict";t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},44313248:(t,e,r)=>{"use strict";var n=r(64054231)("span").classList,i=n&&n.constructor&&n.constructor.prototype;t.exports=i===Object.prototype?void 0:i},6120855:t=>{"use strict";t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},61687661:(t,e,r)=>{"use strict";var n=r(39898839).match(/firefox\/(\d+)/i);t.exports=!!n&&+n[1]},92792579:(t,e,r)=>{"use strict";var n=r(39898839);t.exports=/MSIE|Trident/.test(n)},51660745:(t,e,r)=>{"use strict";var n=r(39898839);t.exports=/ipad|iphone|ipod/i.test(n)&&"undefined"!=typeof Pebble},73610120:(t,e,r)=>{"use strict";var n=r(39898839);t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(n)},61095617:(t,e,r)=>{"use strict";var n=r(28494039);t.exports="NODE"===n},45343988:(t,e,r)=>{"use strict";var n=r(39898839);t.exports=/web0s(?!.*chrome)/i.test(n)},39898839:(t,e,r)=>{"use strict";var n=r(95619008).navigator,i=n&&n.userAgent;t.exports=i?String(i):""},19678175:(t,e,r)=>{"use strict";var n,i,o=r(95619008),a=r(39898839),s=o.process,u=o.Deno,c=s&&s.versions||u&&u.version,l=c&&c.v8;l&&(i=(n=l.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!i&&a&&(!(n=a.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=a.match(/Chrome\/(\d+)/))&&(i=+n[1]),t.exports=i},78614711:(t,e,r)=>{"use strict";var n=r(39898839).match(/AppleWebKit\/(\d+)\./);t.exports=!!n&&+n[1]},28494039:(t,e,r)=>{"use strict";var n=r(95619008),i=r(39898839),o=r(91206336),a=function(t){return i.slice(0,t.length)===t};t.exports=a("Bun/")?"BUN":a("Cloudflare-Workers")?"CLOUDFLARE":a("Deno/")?"DENO":a("Node.js/")?"NODE":n.Bun&&"string"==typeof Bun.version?"BUN":n.Deno&&"object"==typeof Deno.version?"DENO":"process"===o(n.process)?"NODE":n.window&&n.document?"BROWSER":"REST"},88844257:(t,e,r)=>{"use strict";var n=r(92746832),i=Error,o=n("".replace),a=String(new i("zxcasd").stack),s=/\n\s*at [^:]*:[^\n]*/,u=s.test(a);t.exports=function(t,e){if(u&&"string"==typeof t&&!i.prepareStackTrace)for(;e--;)t=o(t,s,"");return t}},72786283:(t,e,r)=>{"use strict";var n=r(24415083),i=r(88844257),o=r(61063027),a=Error.captureStackTrace;t.exports=function(t,e,r,s){o&&(a?a(t,e):n(t,"stack",i(r,s)))}},61063027:(t,e,r)=>{"use strict";var n=r(17964319),i=r(71873636);t.exports=!n(function(){var t=new Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",i(1,7)),7!==t.stack)})},99968544:(t,e,r)=>{"use strict";var n=r(97881036),i=r(17964319),o=r(32189351),a=r(53102555),s=Error.prototype.toString,u=i(function(){if(n){var t=Object.create(Object.defineProperty({},"name",{get:function(){return this===t}}));if("true"!==s.call(t))return!0}return"2: 1"!==s.call({message:1,name:2})||"Error"!==s.call({})});t.exports=u?function(){var t=o(this),e=a(t.name,"Error"),r=a(t.message);return e?r?e+": "+r:e:r}:s},33084182:(t,e,r)=>{"use strict";var n=r(95619008),i=r(37441603).f,o=r(24415083),a=r(17917960),s=r(48829257),u=r(87344268),c=r(59117244);t.exports=function(t,e){var r,l,f,h,p,d=t.target,y=t.global,v=t.stat;if(r=y?n:v?n[d]||s(d,{}):n[d]&&n[d].prototype)for(l in e){if(h=e[l],f=t.dontCallGetSet?(p=i(r,l))&&p.value:r[l],!c(y?l:d+(v?".":"#")+l,t.forced)&&void 0!==f){if(typeof h==typeof f)continue;u(h,f)}(t.sham||f&&f.sham)&&o(h,"sham",!0),a(r,l,h,t)}}},17964319:t=>{"use strict";t.exports=function(t){try{return!!t()}catch(e){return!0}}},96355468:(t,e,r)=>{"use strict";r(47138695);var n=r(82185277),i=r(17917960),o=r(35761195),a=r(17964319),s=r(62248275),u=r(24415083),c=s("species"),l=RegExp.prototype;t.exports=function(t,e,r,f){var h=s(t),p=!a(function(){var e={};return e[h]=function(){return 7},7!==""[t](e)}),d=p&&!a(function(){var e=!1,r=/a/;return"split"===t&&((r={}).constructor={},r.constructor[c]=function(){return r},r.flags="",r[h]=/./[h]),r.exec=function(){return e=!0,null},r[h](""),!e});if(!p||!d||r){var y=/./[h],v=e(h,""[t],function(t,e,r,i,a){var s=e.exec;return s===o||s===l.exec?p&&!a?{done:!0,value:n(y,e,r,i)}:{done:!0,value:n(t,r,e,i)}:{done:!1}});i(String.prototype,t,v[0]),i(l,h,v[1])}f&&u(l[h],"sham",!0)}},5540776:(t,e,r)=>{"use strict";var n=r(17964319);t.exports=!n(function(){return Object.isExtensible(Object.preventExtensions({}))})},12020825:(t,e,r)=>{"use strict";var n=r(1436072),i=Function.prototype,o=i.apply,a=i.call;t.exports="object"==typeof Reflect&&Reflect.apply||(n?a.bind(o):function(){return a.apply(o,arguments)})},22662608:(t,e,r)=>{"use strict";var n=r(54892980),i=r(45031050),o=r(1436072),a=n(n.bind);t.exports=function(t,e){return i(t),void 0===e?t:o?a(t,e):function(){return t.apply(e,arguments)}}},1436072:(t,e,r)=>{"use strict";var n=r(17964319);t.exports=!n(function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})},49023782:(t,e,r)=>{"use strict";var n=r(92746832),i=r(45031050),o=r(75849826),a=r(26847425),s=r(28654784),u=r(1436072),c=Function,l=n([].concat),f=n([].join),h={};t.exports=u?c.bind:function(t){var e=i(this),r=e.prototype,n=s(arguments,1),u=function(){var r=l(n,s(arguments));return this instanceof u?function(t,e,r){if(!a(h,e)){for(var n=[],i=0;i<e;i++)n[i]="a["+i+"]";h[e]=c("C,a","return new C("+f(n,",")+")")}return h[e](t,r)}(e,r.length,r):e.apply(t,r)};return o(r)&&(u.prototype=r),u}},82185277:(t,e,r)=>{"use strict";var n=r(1436072),i=Function.prototype.call;t.exports=n?i.bind(i):function(){return i.apply(i,arguments)}},63398638:(t,e,r)=>{"use strict";var n=r(97881036),i=r(26847425),o=Function.prototype,a=n&&Object.getOwnPropertyDescriptor,s=i(o,"name"),u=s&&"something"===function(){}.name,c=s&&(!n||n&&a(o,"name").configurable);t.exports={EXISTS:s,PROPER:u,CONFIGURABLE:c}},3670610:(t,e,r)=>{"use strict";var n=r(92746832),i=r(45031050);t.exports=function(t,e,r){try{return n(i(Object.getOwnPropertyDescriptor(t,e)[r]))}catch(o){}}},54892980:(t,e,r)=>{"use strict";var n=r(91206336),i=r(92746832);t.exports=function(t){if("Function"===n(t))return i(t)}},92746832:(t,e,r)=>{"use strict";var n=r(1436072),i=Function.prototype,o=i.call,a=n&&i.bind.bind(o,o);t.exports=n?a:function(t){return function(){return o.apply(t,arguments)}}},43802901:(t,e,r)=>{"use strict";var n=r(95619008),i=r(61095617);t.exports=function(t){if(i){try{return n.process.getBuiltinModule(t)}catch(e){}try{return Function('return require("'+t+'")')()}catch(e){}}}},60033783:(t,e,r)=>{"use strict";var n=r(95619008),i=r(6295189);t.exports=function(t,e){return arguments.length<2?(r=n[t],i(r)?r:void 0):n[t]&&n[t][e];var r}},43259527:t=>{"use strict";t.exports=function(t){return{iterator:t,next:t.next,done:!1}}},29931715:(t,e,r)=>{"use strict";var n=r(15357275),i=r(71242462),o=r(63139477),a=r(84511133),s=r(62248275)("iterator");t.exports=function(t){if(!o(t))return i(t,s)||i(t,"@@iterator")||a[n(t)]}},3140833:(t,e,r)=>{"use strict";var n=r(82185277),i=r(45031050),o=r(32189351),a=r(71858391),s=r(29931715),u=TypeError;t.exports=function(t,e){var r=arguments.length<2?s(t):e;if(i(r))return o(n(r,t));throw new u(a(t)+" is not iterable")}},65216565:(t,e,r)=>{"use strict";var n=r(92746832),i=r(99195304),o=r(6295189),a=r(91206336),s=r(31678159),u=n([].push);t.exports=function(t){if(o(t))return t;if(i(t)){for(var e=t.length,r=[],n=0;n<e;n++){var c=t[n];"string"==typeof c?u(r,c):"number"!=typeof c&&"Number"!==a(c)&&"String"!==a(c)||u(r,s(c))}var l=r.length,f=!0;return function(t,e){if(f)return f=!1,e;if(i(this))return e;for(var n=0;n<l;n++)if(r[n]===t)return e}}}},71242462:(t,e,r)=>{"use strict";var n=r(45031050),i=r(63139477);t.exports=function(t,e){var r=t[e];return i(r)?void 0:n(r)}},18610286:(t,e,r)=>{"use strict";var n=r(92746832),i=r(39045557),o=Math.floor,a=n("".charAt),s=n("".replace),u=n("".slice),c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,r,n,f,h){var p=r+t.length,d=n.length,y=l;return void 0!==f&&(f=i(f),y=c),s(h,y,function(i,s){var c;switch(a(s,0)){case"$":return"$";case"&":return t;case"`":return u(e,0,r);case"'":return u(e,p);case"<":c=f[u(s,1,-1)];break;default:var l=+s;if(0===l)return i;if(l>d){var h=o(l/10);return 0===h?i:h<=d?void 0===n[h-1]?a(s,1):n[h-1]+a(s,1):i}c=n[l-1]}return void 0===c?"":c})}},95619008:function(t,e,r){"use strict";var n=function(t){return t&&t.Math===Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||n("object"==typeof this&&this)||function(){return this}()||Function("return this")()},26847425:(t,e,r)=>{"use strict";var n=r(92746832),i=r(39045557),o=n({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return o(i(t),e)}},13101749:t=>{"use strict";t.exports={}},39187301:t=>{"use strict";t.exports=function(t,e){try{1===arguments.length?console.error(t):console.error(t,e)}catch(r){}}},41127437:(t,e,r)=>{"use strict";var n=r(60033783);t.exports=n("document","documentElement")},79302765:(t,e,r)=>{"use strict";var n=r(97881036),i=r(17964319),o=r(64054231);t.exports=!n&&!i(function(){return 7!==Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a})},76071690:t=>{"use strict";var e=Array,r=Math.abs,n=Math.pow,i=Math.floor,o=Math.log,a=Math.LN2;t.exports={pack:function(t,s,u){var c,l,f,h=e(u),p=8*u-s-1,d=(1<<p)-1,y=d>>1,v=23===s?n(2,-24)-n(2,-77):0,m=t<0||0===t&&1/t<0?1:0,b=0;for((t=r(t))!=t||t===1/0?(l=t!=t?1:0,c=d):(c=i(o(t)/a),t*(f=n(2,-c))<1&&(c--,f*=2),(t+=c+y>=1?v/f:v*n(2,1-y))*f>=2&&(c++,f/=2),c+y>=d?(l=0,c=d):c+y>=1?(l=(t*f-1)*n(2,s),c+=y):(l=t*n(2,y-1)*n(2,s),c=0));s>=8;)h[b++]=255&l,l/=256,s-=8;for(c=c<<s|l,p+=s;p>0;)h[b++]=255&c,c/=256,p-=8;return h[b-1]|=128*m,h},unpack:function(t,e){var r,i=t.length,o=8*i-e-1,a=(1<<o)-1,s=a>>1,u=o-7,c=i-1,l=t[c--],f=127&l;for(l>>=7;u>0;)f=256*f+t[c--],u-=8;for(r=f&(1<<-u)-1,f>>=-u,u+=e;u>0;)r=256*r+t[c--],u-=8;if(0===f)f=1-s;else{if(f===a)return r?NaN:l?-1/0:1/0;r+=n(2,e),f-=s}return(l?-1:1)*r*n(2,f-e)}}},85687055:(t,e,r)=>{"use strict";var n=r(92746832),i=r(17964319),o=r(91206336),a=Object,s=n("".split);t.exports=i(function(){return!a("z").propertyIsEnumerable(0)})?function(t){return"String"===o(t)?s(t,""):a(t)}:a},14531263:(t,e,r)=>{"use strict";var n=r(6295189),i=r(75849826),o=r(15245319);t.exports=function(t,e,r){var a,s;return o&&n(a=e.constructor)&&a!==r&&i(s=a.prototype)&&s!==r.prototype&&o(t,s),t}},85622122:(t,e,r)=>{"use strict";var n=r(92746832),i=r(6295189),o=r(7866109),a=n(Function.toString);i(o.inspectSource)||(o.inspectSource=function(t){return a(t)}),t.exports=o.inspectSource},88736976:(t,e,r)=>{"use strict";var n=r(75849826),i=r(24415083);t.exports=function(t,e){n(e)&&"cause"in e&&i(t,"cause",e.cause)}},96734235:(t,e,r)=>{"use strict";var n=r(33084182),i=r(92746832),o=r(13101749),a=r(75849826),s=r(26847425),u=r(64767377).f,c=r(61698288),l=r(48290746),f=r(61909644),h=r(7593520),p=r(5540776),d=!1,y=h("meta"),v=0,m=function(t){u(t,y,{value:{objectID:"O"+v++,weakData:{}}})},b=t.exports={enable:function(){b.enable=function(){},d=!0;var t=c.f,e=i([].splice),r={};r[y]=1,t(r).length&&(c.f=function(r){for(var n=t(r),i=0,o=n.length;i<o;i++)if(n[i]===y){e(n,i,1);break}return n},n({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:l.f}))},fastKey:function(t,e){if(!a(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!s(t,y)){if(!f(t))return"F";if(!e)return"E";m(t)}return t[y].objectID},getWeakData:function(t,e){if(!s(t,y)){if(!f(t))return!0;if(!e)return!1;m(t)}return t[y].weakData},onFreeze:function(t){return p&&d&&f(t)&&!s(t,y)&&m(t),t}};o[y]=!0},71814253:(t,e,r)=>{"use strict";var n,i,o,a=r(34850366),s=r(95619008),u=r(75849826),c=r(24415083),l=r(26847425),f=r(7866109),h=r(64510599),p=r(13101749),d="Object already initialized",y=s.TypeError,v=s.WeakMap;if(a||f.state){var m=f.state||(f.state=new v);m.get=m.get,m.has=m.has,m.set=m.set,n=function(t,e){if(m.has(t))throw new y(d);return e.facade=t,m.set(t,e),e},i=function(t){return m.get(t)||{}},o=function(t){return m.has(t)}}else{var b=h("state");p[b]=!0,n=function(t,e){if(l(t,b))throw new y(d);return e.facade=t,c(t,b,e),e},i=function(t){return l(t,b)?t[b]:{}},o=function(t){return l(t,b)}}t.exports={set:n,get:i,has:o,enforce:function(t){return o(t)?i(t):n(t,{})},getterFor:function(t){return function(e){var r;if(!u(e)||(r=i(e)).type!==t)throw new y("Incompatible receiver, "+t+" required");return r}}}},8703953:(t,e,r)=>{"use strict";var n=r(62248275),i=r(84511133),o=n("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||a[o]===t)}},99195304:(t,e,r)=>{"use strict";var n=r(91206336);t.exports=Array.isArray||function(t){return"Array"===n(t)}},26719143:(t,e,r)=>{"use strict";var n=r(15357275);t.exports=function(t){var e=n(t);return"BigInt64Array"===e||"BigUint64Array"===e}},6295189:t=>{"use strict";var e="object"==typeof document&&document.all;t.exports=void 0===e&&void 0!==e?function(t){return"function"==typeof t||t===e}:function(t){return"function"==typeof t}},87487757:(t,e,r)=>{"use strict";var n=r(92746832),i=r(17964319),o=r(6295189),a=r(15357275),s=r(60033783),u=r(85622122),c=function(){},l=s("Reflect","construct"),f=/^\s*(?:class|function)\b/,h=n(f.exec),p=!f.test(c),d=function(t){if(!o(t))return!1;try{return l(c,[],t),!0}catch(e){return!1}},y=function(t){if(!o(t))return!1;switch(a(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!h(f,u(t))}catch(e){return!0}};y.sham=!0,t.exports=!l||i(function(){var t;return d(d.call)||!d(Object)||!d(function(){t=!0})||t})?y:d},92623039:(t,e,r)=>{"use strict";var n=r(26847425);t.exports=function(t){return void 0!==t&&(n(t,"value")||n(t,"writable"))}},59117244:(t,e,r)=>{"use strict";var n=r(17964319),i=r(6295189),o=/#|\.prototype\./,a=function(t,e){var r=u[s(t)];return r===l||r!==c&&(i(e)?n(e):!!e)},s=a.normalize=function(t){return String(t).replace(o,".").toLowerCase()},u=a.data={},c=a.NATIVE="N",l=a.POLYFILL="P";t.exports=a},28447303:(t,e,r)=>{"use strict";var n=r(75849826),i=Math.floor;t.exports=Number.isInteger||function(t){return!n(t)&&isFinite(t)&&i(t)===t}},63139477:t=>{"use strict";t.exports=function(t){return null==t}},75849826:(t,e,r)=>{"use strict";var n=r(6295189);t.exports=function(t){return"object"==typeof t?null!==t:n(t)}},58565029:(t,e,r)=>{"use strict";var n=r(75849826);t.exports=function(t){return n(t)||null===t}},13599787:t=>{"use strict";t.exports=!1},22576084:(t,e,r)=>{"use strict";var n=r(75849826),i=r(91206336),o=r(62248275)("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[o])?!!e:"RegExp"===i(t))}},93988325:(t,e,r)=>{"use strict";var n=r(60033783),i=r(6295189),o=r(43396857),a=r(50520448),s=Object;t.exports=a?function(t){return"symbol"==typeof t}:function(t){var e=n("Symbol");return i(e)&&o(e.prototype,s(t))}},66670348:(t,e,r)=>{"use strict";var n=r(22662608),i=r(82185277),o=r(32189351),a=r(71858391),s=r(8703953),u=r(7793558),c=r(43396857),l=r(3140833),f=r(29931715),h=r(3539779),p=TypeError,d=function(t,e){this.stopped=t,this.result=e},y=d.prototype;t.exports=function(t,e,r){var v,m,b,g,w,S,x,_=r&&r.that,E=!(!r||!r.AS_ENTRIES),T=!(!r||!r.IS_RECORD),k=!(!r||!r.IS_ITERATOR),P=!(!r||!r.INTERRUPTED),O=n(e,_),A=function(t){return v&&h(v,"normal",t),new d(!0,t)},R=function(t){return E?(o(t),P?O(t[0],t[1],A):O(t[0],t[1])):P?O(t,A):O(t)};if(T)v=t.iterator;else if(k)v=t;else{if(!(m=f(t)))throw new p(a(t)+" is not iterable");if(s(m)){for(b=0,g=u(t);g>b;b++)if((w=R(t[b]))&&c(y,w))return w;return new d(!1)}v=l(t,m)}for(S=T?t.next:v.next;!(x=i(S,v)).done;){try{w=R(x.value)}catch(j){h(v,"throw",j)}if("object"==typeof w&&w&&c(y,w))return w}return new d(!1)}},3539779:(t,e,r)=>{"use strict";var n=r(82185277),i=r(32189351),o=r(71242462);t.exports=function(t,e,r){var a,s;i(t);try{if(!(a=o(t,"return"))){if("throw"===e)throw r;return r}a=n(a,t)}catch(u){s=!0,a=u}if("throw"===e)throw r;if(s)throw a;return i(a),r}},10648170:(t,e,r)=>{"use strict";var n=r(20837561).IteratorPrototype,i=r(4546008),o=r(71873636),a=r(73627903),s=r(84511133),u=function(){return this};t.exports=function(t,e,r,c){var l=e+" Iterator";return t.prototype=i(n,{next:o(+!c,r)}),a(t,l,!1,!0),s[l]=u,t}},2098918:(t,e,r)=>{"use strict";var n=r(82185277),i=r(4546008),o=r(24415083),a=r(34507415),s=r(62248275),u=r(71814253),c=r(71242462),l=r(20837561).IteratorPrototype,f=r(71577793),h=r(3539779),p=s("toStringTag"),d="IteratorHelper",y="WrapForValidIterator",v=u.set,m=function(t){var e=u.getterFor(t?y:d);return a(i(l),{next:function(){var r=e(this);if(t)return r.nextHandler();try{var n=r.done?void 0:r.nextHandler();return f(n,r.done)}catch(i){throw r.done=!0,i}},return:function(){var r=e(this),i=r.iterator;if(r.done=!0,t){var o=c(i,"return");return o?n(o,i):f(void 0,!0)}if(r.inner)try{h(r.inner.iterator,"normal")}catch(a){return h(i,"throw",a)}return h(i,"normal"),f(void 0,!0)}})},b=m(!0),g=m(!1);o(g,p,"Iterator Helper"),t.exports=function(t,e){var r=function(r,n){n?(n.iterator=r.iterator,n.next=r.next):n=r,n.type=e?y:d,n.nextHandler=t,n.counter=0,n.done=!1,v(this,n)};return r.prototype=e?b:g,r}},41197328:(t,e,r)=>{"use strict";var n=r(33084182),i=r(82185277),o=r(13599787),a=r(63398638),s=r(6295189),u=r(10648170),c=r(2003331),l=r(15245319),f=r(73627903),h=r(24415083),p=r(17917960),d=r(62248275),y=r(84511133),v=r(20837561),m=a.PROPER,b=a.CONFIGURABLE,g=v.IteratorPrototype,w=v.BUGGY_SAFARI_ITERATORS,S=d("iterator"),x="keys",_="values",E="entries",T=function(){return this};t.exports=function(t,e,r,a,d,v,k){u(r,e,a);var P,O,A,R=function(t){if(t===d&&D)return D;if(!w&&t&&t in C)return C[t];switch(t){case x:case _:case E:return function(){return new r(this,t)}}return function(){return new r(this)}},j=e+" Iterator",I=!1,C=t.prototype,M=C[S]||C["@@iterator"]||d&&C[d],D=!w&&M||R(d),N="Array"===e&&C.entries||M;if(N&&(P=c(N.call(new t)))!==Object.prototype&&P.next&&(o||c(P)===g||(l?l(P,g):s(P[S])||p(P,S,T)),f(P,j,!0,!0),o&&(y[j]=T)),m&&d===_&&M&&M.name!==_&&(!o&&b?h(C,"name",_):(I=!0,D=function(){return i(M,this)})),d)if(O={values:R(_),keys:v?D:R(x),entries:R(E)},k)for(A in O)(w||I||!(A in C))&&p(C,A,O[A]);else n({target:e,proto:!0,forced:w||I},O);return o&&!k||C[S]===D||p(C,S,D,{name:d}),y[e]=D,O}},49133897:(t,e,r)=>{"use strict";var n=r(82185277),i=r(45031050),o=r(32189351),a=r(43259527),s=r(2098918),u=r(32010847),c=s(function(){var t=this.iterator,e=o(n(this.next,t));if(!(this.done=!!e.done))return u(t,this.mapper,[e.value,this.counter++],!0)});t.exports=function(t){return o(this),i(t),new c(a(this),{mapper:t})}},20837561:(t,e,r)=>{"use strict";var n,i,o,a=r(17964319),s=r(6295189),u=r(75849826),c=r(4546008),l=r(2003331),f=r(17917960),h=r(62248275),p=r(13599787),d=h("iterator"),y=!1;[].keys&&("next"in(o=[].keys())?(i=l(l(o)))!==Object.prototype&&(n=i):y=!0),!u(n)||a(function(){var t={};return n[d].call(t)!==t})?n={}:p&&(n=c(n)),s(n[d])||f(n,d,function(){return this}),t.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:y}},84511133:t=>{"use strict";t.exports={}},7793558:(t,e,r)=>{"use strict";var n=r(92625342);t.exports=function(t){return n(t.length)}},66218731:(t,e,r)=>{"use strict";var n=r(92746832),i=r(17964319),o=r(6295189),a=r(26847425),s=r(97881036),u=r(63398638).CONFIGURABLE,c=r(85622122),l=r(71814253),f=l.enforce,h=l.get,p=String,d=Object.defineProperty,y=n("".slice),v=n("".replace),m=n([].join),b=s&&!i(function(){return 8!==d(function(){},"length",{value:8}).length}),g=String(String).split("String"),w=t.exports=function(t,e,r){"Symbol("===y(p(e),0,7)&&(e="["+v(p(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),r&&r.getter&&(e="get "+e),r&&r.setter&&(e="set "+e),(!a(t,"name")||u&&t.name!==e)&&(s?d(t,"name",{value:e,configurable:!0}):t.name=e),b&&r&&a(r,"arity")&&t.length!==r.arity&&d(t,"length",{value:r.arity});try{r&&a(r,"constructor")&&r.constructor?s&&d(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(i){}var n=f(t);return a(n,"source")||(n.source=m(g,"string"==typeof e?e:"")),t};Function.prototype.toString=w(function(){return o(this)&&h(this).source||c(this)},"toString")},11226252:(t,e,r)=>{"use strict";var n=r(98684502),i=Math.abs,o=2220446049250313e-31,a=1/o;t.exports=function(t,e,r,s){var u=+t,c=i(u),l=n(u);if(c<s)return l*function(t){return t+a-a}(c/s/e)*s*e;var f=(1+e/o)*c,h=f-(f-c);return h>r||h!=h?l*(1/0):l*h}},86256481:(t,e,r)=>{"use strict";var n=r(11226252);t.exports=Math.fround||function(t){return n(t,1.1920928955078125e-7,34028234663852886e22,11754943508222875e-54)}},98684502:t=>{"use strict";t.exports=Math.sign||function(t){var e=+t;return 0===e||e!=e?e:e<0?-1:1}},37372773:t=>{"use strict";var e=Math.ceil,r=Math.floor;t.exports=Math.trunc||function(t){var n=+t;return(n>0?r:e)(n)}},87823891:(t,e,r)=>{"use strict";var n,i,o,a,s,u=r(95619008),c=r(7937517),l=r(22662608),f=r(54442329).set,h=r(12565977),p=r(73610120),d=r(51660745),y=r(45343988),v=r(61095617),m=u.MutationObserver||u.WebKitMutationObserver,b=u.document,g=u.process,w=u.Promise,S=c("queueMicrotask");if(!S){var x=new h,_=function(){var t,e;for(v&&(t=g.domain)&&t.exit();e=x.get();)try{e()}catch(r){throw x.head&&n(),r}t&&t.enter()};p||v||y||!m||!b?!d&&w&&w.resolve?((a=w.resolve(void 0)).constructor=w,s=l(a.then,a),n=function(){s(_)}):v?n=function(){g.nextTick(_)}:(f=l(f,u),n=function(){f(_)}):(i=!0,o=b.createTextNode(""),new m(_).observe(o,{characterData:!0}),n=function(){o.data=i=!i}),S=function(t){x.head||n(),x.add(t)}}t.exports=S},77483563:(t,e,r)=>{"use strict";var n=r(45031050),i=TypeError,o=function(t){var e,r;this.promise=new t(function(t,n){if(void 0!==e||void 0!==r)throw new i("Bad Promise constructor");e=t,r=n}),this.resolve=n(e),this.reject=n(r)};t.exports.f=function(t){return new o(t)}},53102555:(t,e,r)=>{"use strict";var n=r(31678159);t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:n(t)}},64403775:(t,e,r)=>{"use strict";var n=r(22576084),i=TypeError;t.exports=function(t){if(n(t))throw new i("The method doesn't accept regular expressions");return t}},96213429:(t,e,r)=>{"use strict";var n=r(97881036),i=r(92746832),o=r(82185277),a=r(17964319),s=r(45857120),u=r(38659413),c=r(7545477),l=r(39045557),f=r(85687055),h=Object.assign,p=Object.defineProperty,d=i([].concat);t.exports=!h||a(function(){if(n&&1!==h({b:1},h(p({},"a",{enumerable:!0,get:function(){p(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},r=Symbol("assign detection"),i="abcdefghijklmnopqrst";return t[r]=7,i.split("").forEach(function(t){e[t]=t}),7!==h({},t)[r]||s(h({},e)).join("")!==i})?function(t,e){for(var r=l(t),i=arguments.length,a=1,h=u.f,p=c.f;i>a;)for(var y,v=f(arguments[a++]),m=h?d(s(v),h(v)):s(v),b=m.length,g=0;b>g;)y=m[g++],n&&!o(p,v,y)||(r[y]=v[y]);return r}:h},4546008:(t,e,r)=>{"use strict";var n,i=r(32189351),o=r(99338369),a=r(6120855),s=r(13101749),u=r(41127437),c=r(64054231),l=r(64510599),f="prototype",h="script",p=l("IE_PROTO"),d=function(){},y=function(t){return"<"+h+">"+t+"</"+h+">"},v=function(t){t.write(y("")),t.close();var e=t.parentWindow.Object;return t=null,e},m=function(){try{n=new ActiveXObject("htmlfile")}catch(o){}var t,e,r;m="undefined"!=typeof document?document.domain&&n?v(n):(e=c("iframe"),r="java"+h+":",e.style.display="none",u.appendChild(e),e.src=String(r),(t=e.contentWindow.document).open(),t.write(y("document.F=Object")),t.close(),t.F):v(n);for(var i=a.length;i--;)delete m[f][a[i]];return m()};s[p]=!0,t.exports=Object.create||function(t,e){var r;return null!==t?(d[f]=i(t),r=new d,d[f]=null,r[p]=t):r=m(),void 0===e?r:o.f(r,e)}},99338369:(t,e,r)=>{"use strict";var n=r(97881036),i=r(51398382),o=r(64767377),a=r(32189351),s=r(86022357),u=r(45857120);e.f=n&&!i?Object.defineProperties:function(t,e){a(t);for(var r,n=s(e),i=u(e),c=i.length,l=0;c>l;)o.f(t,r=i[l++],n[r]);return t}},64767377:(t,e,r)=>{"use strict";var n=r(97881036),i=r(79302765),o=r(51398382),a=r(32189351),s=r(88720361),u=TypeError,c=Object.defineProperty,l=Object.getOwnPropertyDescriptor,f="enumerable",h="configurable",p="writable";e.f=n?o?function(t,e,r){if(a(t),e=s(e),a(r),"function"==typeof t&&"prototype"===e&&"value"in r&&p in r&&!r[p]){var n=l(t,e);n&&n[p]&&(t[e]=r.value,r={configurable:h in r?r[h]:n[h],enumerable:f in r?r[f]:n[f],writable:!1})}return c(t,e,r)}:c:function(t,e,r){if(a(t),e=s(e),a(r),i)try{return c(t,e,r)}catch(n){}if("get"in r||"set"in r)throw new u("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},37441603:(t,e,r)=>{"use strict";var n=r(97881036),i=r(82185277),o=r(7545477),a=r(71873636),s=r(86022357),u=r(88720361),c=r(26847425),l=r(79302765),f=Object.getOwnPropertyDescriptor;e.f=n?f:function(t,e){if(t=s(t),e=u(e),l)try{return f(t,e)}catch(r){}if(c(t,e))return a(!i(o.f,t,e),t[e])}},48290746:(t,e,r)=>{"use strict";var n=r(91206336),i=r(86022357),o=r(61698288).f,a=r(28654784),s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"Window"===n(t)?function(t){try{return o(t)}catch(e){return a(s)}}(t):o(i(t))}},61698288:(t,e,r)=>{"use strict";var n=r(17085284),i=r(6120855).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,i)}},38659413:(t,e)=>{"use strict";e.f=Object.getOwnPropertySymbols},2003331:(t,e,r)=>{"use strict";var n=r(26847425),i=r(6295189),o=r(39045557),a=r(64510599),s=r(92989875),u=a("IE_PROTO"),c=Object,l=c.prototype;t.exports=s?c.getPrototypeOf:function(t){var e=o(t);if(n(e,u))return e[u];var r=e.constructor;return i(r)&&e instanceof r?r.prototype:e instanceof c?l:null}},61909644:(t,e,r)=>{"use strict";var n=r(17964319),i=r(75849826),o=r(91206336),a=r(9209828),s=Object.isExtensible,u=n(function(){s(1)});t.exports=u||a?function(t){return!!i(t)&&((!a||"ArrayBuffer"!==o(t))&&(!s||s(t)))}:s},43396857:(t,e,r)=>{"use strict";var n=r(92746832);t.exports=n({}.isPrototypeOf)},17085284:(t,e,r)=>{"use strict";var n=r(92746832),i=r(26847425),o=r(86022357),a=r(3239681).indexOf,s=r(13101749),u=n([].push);t.exports=function(t,e){var r,n=o(t),c=0,l=[];for(r in n)!i(s,r)&&i(n,r)&&u(l,r);for(;e.length>c;)i(n,r=e[c++])&&(~a(l,r)||u(l,r));return l}},45857120:(t,e,r)=>{"use strict";var n=r(17085284),i=r(6120855);t.exports=Object.keys||function(t){return n(t,i)}},7545477:(t,e)=>{"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,i=n&&!r.call({1:2},1);e.f=i?function(t){var e=n(this,t);return!!e&&e.enumerable}:r},15245319:(t,e,r)=>{"use strict";var n=r(3670610),i=r(75849826),o=r(15389094),a=r(53262658);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=n(Object.prototype,"__proto__","set"))(r,[]),e=r instanceof Array}catch(s){}return function(r,n){return o(r),a(n),i(r)?(e?t(r,n):r.__proto__=n,r):r}}():void 0)},30537861:(t,e,r)=>{"use strict";var n=r(97881036),i=r(17964319),o=r(92746832),a=r(2003331),s=r(45857120),u=r(86022357),c=o(r(7545477).f),l=o([].push),f=n&&i(function(){var t=Object.create(null);return t[2]=2,!c(t,2)}),h=function(t){return function(e){for(var r,i=u(e),o=s(i),h=f&&null===a(i),p=o.length,d=0,y=[];p>d;)r=o[d++],n&&!(h?r in i:c(i,r))||l(y,t?[r,i[r]]:i[r]);return y}};t.exports={entries:h(!0),values:h(!1)}},45910715:(t,e,r)=>{"use strict";var n=r(10578092),i=r(15357275);t.exports=n?{}.toString:function(){return"[object "+i(this)+"]"}},40008558:(t,e,r)=>{"use strict";var n=r(82185277),i=r(6295189),o=r(75849826),a=TypeError;t.exports=function(t,e){var r,s;if("string"===e&&i(r=t.toString)&&!o(s=n(r,t)))return s;if(i(r=t.valueOf)&&!o(s=n(r,t)))return s;if("string"!==e&&i(r=t.toString)&&!o(s=n(r,t)))return s;throw new a("Can't convert object to primitive value")}},59264791:(t,e,r)=>{"use strict";var n=r(60033783),i=r(92746832),o=r(61698288),a=r(38659413),s=r(32189351),u=i([].concat);t.exports=n("Reflect","ownKeys")||function(t){var e=o.f(s(t)),r=a.f;return r?u(e,r(t)):e}},63206591:(t,e,r)=>{"use strict";var n=r(95619008);t.exports=n},58747087:t=>{"use strict";t.exports=function(t){try{return{error:!1,value:t()}}catch(e){return{error:!0,value:e}}}},95074756:(t,e,r)=>{"use strict";var n=r(95619008),i=r(34330246),o=r(6295189),a=r(59117244),s=r(85622122),u=r(62248275),c=r(28494039),l=r(13599787),f=r(19678175),h=i&&i.prototype,p=u("species"),d=!1,y=o(n.PromiseRejectionEvent),v=a("Promise",function(){var t=s(i),e=t!==String(i);if(!e&&66===f)return!0;if(l&&(!h.catch||!h.finally))return!0;if(!f||f<51||!/native code/.test(t)){var r=new i(function(t){t(1)}),n=function(t){t(function(){},function(){})};if((r.constructor={})[p]=n,!(d=r.then(function(){})instanceof n))return!0}return!(e||"BROWSER"!==c&&"DENO"!==c||y)});t.exports={CONSTRUCTOR:v,REJECTION_EVENT:y,SUBCLASSING:d}},34330246:(t,e,r)=>{"use strict";var n=r(95619008);t.exports=n.Promise},70279166:(t,e,r)=>{"use strict";var n=r(32189351),i=r(75849826),o=r(77483563);t.exports=function(t,e){if(n(t),i(e)&&e.constructor===t)return e;var r=o.f(t);return(0,r.resolve)(e),r.promise}},17211977:(t,e,r)=>{"use strict";var n=r(34330246),i=r(90871788),o=r(95074756).CONSTRUCTOR;t.exports=o||!i(function(t){n.all(t).then(void 0,function(){})})},39129584:(t,e,r)=>{"use strict";var n=r(64767377).f;t.exports=function(t,e,r){r in t||n(t,r,{configurable:!0,get:function(){return e[r]},set:function(t){e[r]=t}})}},12565977:t=>{"use strict";var e=function(){this.head=null,this.tail=null};e.prototype={add:function(t){var e={item:t,next:null},r=this.tail;r?r.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return null===(this.head=t.next)&&(this.tail=null),t.item}},t.exports=e},33707306:(t,e,r)=>{"use strict";var n=r(82185277),i=r(32189351),o=r(6295189),a=r(91206336),s=r(35761195),u=TypeError;t.exports=function(t,e){var r=t.exec;if(o(r)){var c=n(r,t,e);return null!==c&&i(c),c}if("RegExp"===a(t))return n(s,t,e);throw new u("RegExp#exec called on incompatible receiver")}},35761195:(t,e,r)=>{"use strict";var n,i,o=r(82185277),a=r(92746832),s=r(31678159),u=r(80327915),c=r(45855709),l=r(96365585),f=r(4546008),h=r(71814253).get,p=r(7634099),d=r(78943102),y=l("native-string-replace",String.prototype.replace),v=RegExp.prototype.exec,m=v,b=a("".charAt),g=a("".indexOf),w=a("".replace),S=a("".slice),x=(i=/b*/g,o(v,n=/a/,"a"),o(v,i,"a"),0!==n.lastIndex||0!==i.lastIndex),_=c.BROKEN_CARET,E=void 0!==/()??/.exec("")[1];(x||E||_||p||d)&&(m=function(t){var e,r,n,i,a,c,l,p=this,d=h(p),T=s(t),k=d.raw;if(k)return k.lastIndex=p.lastIndex,e=o(m,k,T),p.lastIndex=k.lastIndex,e;var P=d.groups,O=_&&p.sticky,A=o(u,p),R=p.source,j=0,I=T;if(O&&(A=w(A,"y",""),-1===g(A,"g")&&(A+="g"),I=S(T,p.lastIndex),p.lastIndex>0&&(!p.multiline||p.multiline&&"\n"!==b(T,p.lastIndex-1))&&(R="(?: "+R+")",I=" "+I,j++),r=new RegExp("^(?:"+R+")",A)),E&&(r=new RegExp("^"+R+"$(?!\\s)",A)),x&&(n=p.lastIndex),i=o(v,O?r:p,I),O?i?(i.input=S(i.input,j),i[0]=S(i[0],j),i.index=p.lastIndex,p.lastIndex+=i[0].length):p.lastIndex=0:x&&i&&(p.lastIndex=p.global?i.index+i[0].length:n),E&&i&&i.length>1&&o(y,i[0],r,function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(i[a]=void 0)}),i&&P)for(i.groups=c=f(null),a=0;a<P.length;a++)c[(l=P[a])[0]]=i[l[1]];return i}),t.exports=m},80327915:(t,e,r)=>{"use strict";var n=r(32189351);t.exports=function(){var t=n(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e}},34818794:(t,e,r)=>{"use strict";var n=r(82185277),i=r(26847425),o=r(43396857),a=r(80327915),s=RegExp.prototype;t.exports=function(t){var e=t.flags;return void 0!==e||"flags"in s||i(t,"flags")||!o(s,t)?e:n(a,t)}},45855709:(t,e,r)=>{"use strict";var n=r(17964319),i=r(95619008).RegExp,o=n(function(){var t=i("a","y");return t.lastIndex=2,null!==t.exec("abcd")}),a=o||n(function(){return!i("a","y").sticky}),s=o||n(function(){var t=i("^r","gy");return t.lastIndex=2,null!==t.exec("str")});t.exports={BROKEN_CARET:s,MISSED_STICKY:a,UNSUPPORTED_Y:o}},7634099:(t,e,r)=>{"use strict";var n=r(17964319),i=r(95619008).RegExp;t.exports=n(function(){var t=i(".","s");return!(t.dotAll&&t.test("\n")&&"s"===t.flags)})},78943102:(t,e,r)=>{"use strict";var n=r(17964319),i=r(95619008).RegExp;t.exports=n(function(){var t=i("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")})},15389094:(t,e,r)=>{"use strict";var n=r(63139477),i=TypeError;t.exports=function(t){if(n(t))throw new i("Can't call method on "+t);return t}},7937517:(t,e,r)=>{"use strict";var n=r(95619008),i=r(97881036),o=Object.getOwnPropertyDescriptor;t.exports=function(t){if(!i)return n[t];var e=o(n,t);return e&&e.value}},43087470:t=>{"use strict";t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},21172241:(t,e,r)=>{"use strict";var n=r(60033783),i=r(83560634),o=r(62248275),a=r(97881036),s=o("species");t.exports=function(t){var e=n(t);a&&e&&!e[s]&&i(e,s,{configurable:!0,get:function(){return this}})}},73627903:(t,e,r)=>{"use strict";var n=r(64767377).f,i=r(26847425),o=r(62248275)("toStringTag");t.exports=function(t,e,r){t&&!r&&(t=t.prototype),t&&!i(t,o)&&n(t,o,{configurable:!0,value:e})}},64510599:(t,e,r)=>{"use strict";var n=r(96365585),i=r(7593520),o=n("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},7866109:(t,e,r)=>{"use strict";var n=r(13599787),i=r(95619008),o=r(48829257),a="__core-js_shared__",s=t.exports=i[a]||o(a,{});(s.versions||(s.versions=[])).push({version:"3.38.1",mode:n?"pure":"global",copyright:" 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.38.1/LICENSE",source:"https://github.com/zloirock/core-js"})},96365585:(t,e,r)=>{"use strict";var n=r(7866109);t.exports=function(t,e){return n[t]||(n[t]=e||{})}},84870901:(t,e,r)=>{"use strict";var n=r(32189351),i=r(11291772),o=r(63139477),a=r(62248275)("species");t.exports=function(t,e){var r,s=n(t).constructor;return void 0===s||o(r=n(s)[a])?e:i(r)}},34745591:(t,e,r)=>{"use strict";var n=r(92746832),i=r(73390427),o=r(31678159),a=r(15389094),s=n("".charAt),u=n("".charCodeAt),c=n("".slice),l=function(t){return function(e,r){var n,l,f=o(a(e)),h=i(r),p=f.length;return h<0||h>=p?t?"":void 0:(n=u(f,h))<55296||n>56319||h+1===p||(l=u(f,h+1))<56320||l>57343?t?s(f,h):n:t?c(f,h,h+2):l-56320+(n-55296<<10)+65536}};t.exports={codeAt:l(!1),charAt:l(!0)}},74623063:(t,e,r)=>{"use strict";var n=r(39898839);t.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(n)},79671381:(t,e,r)=>{"use strict";var n=r(92746832),i=r(92625342),o=r(31678159),a=r(61177997),s=r(15389094),u=n(a),c=n("".slice),l=Math.ceil,f=function(t){return function(e,r,n){var a,f,h=o(s(e)),p=i(r),d=h.length,y=void 0===n?" ":o(n);return p<=d||""===y?h:((f=u(y,l((a=p-d)/y.length))).length>a&&(f=c(f,0,a)),t?h+f:f+h)}};t.exports={start:f(!1),end:f(!0)}},18781221:(t,e,r)=>{"use strict";var n=r(92746832),i=2147483647,o=/[^\0-\u007E]/,a=/[.\u3002\uFF0E\uFF61]/g,s="Overflow: input needs wider integers to process",u=RangeError,c=n(a.exec),l=Math.floor,f=String.fromCharCode,h=n("".charCodeAt),p=n([].join),d=n([].push),y=n("".replace),v=n("".split),m=n("".toLowerCase),b=function(t){return t+22+75*(t<26)},g=function(t,e,r){var n=0;for(t=r?l(t/700):t>>1,t+=l(t/e);t>455;)t=l(t/35),n+=36;return l(n+36*t/(t+38))},w=function(t){var e=[];t=function(t){for(var e=[],r=0,n=t.length;r<n;){var i=h(t,r++);if(i>=55296&&i<=56319&&r<n){var o=h(t,r++);56320==(64512&o)?d(e,((1023&i)<<10)+(1023&o)+65536):(d(e,i),r--)}else d(e,i)}return e}(t);var r,n,o=t.length,a=128,c=0,y=72;for(r=0;r<t.length;r++)(n=t[r])<128&&d(e,f(n));var v=e.length,m=v;for(v&&d(e,"-");m<o;){var w=i;for(r=0;r<t.length;r++)(n=t[r])>=a&&n<w&&(w=n);var S=m+1;if(w-a>l((i-c)/S))throw new u(s);for(c+=(w-a)*S,a=w,r=0;r<t.length;r++){if((n=t[r])<a&&++c>i)throw new u(s);if(n===a){for(var x=c,_=36;;){var E=_<=y?1:_>=y+26?26:_-y;if(x<E)break;var T=x-E,k=36-E;d(e,f(b(E+T%k))),x=l(T/k),_+=36}d(e,f(b(x))),y=g(c,S,m===v),c=0,m++}}c++,a++}return p(e,"")};t.exports=function(t){var e,r,n=[],i=v(y(m(t),a,"."),".");for(e=0;e<i.length;e++)r=i[e],d(n,c(o,r)?"xn--"+w(r):r);return p(n,".")}},61177997:(t,e,r)=>{"use strict";var n=r(73390427),i=r(31678159),o=r(15389094),a=RangeError;t.exports=function(t){var e=i(o(this)),r="",s=n(t);if(s<0||s===1/0)throw new a("Wrong number of repetitions");for(;s>0;(s>>>=1)&&(e+=e))1&s&&(r+=e);return r}},17467698:(t,e,r)=>{"use strict";var n=r(13678330).end,i=r(20989698);t.exports=i("trimEnd")?function(){return n(this)}:"".trimEnd},20989698:(t,e,r)=>{"use strict";var n=r(63398638).PROPER,i=r(17964319),o=r(40762716);t.exports=function(t){return i(function(){return!!o[t]()||""!==""[t]()||n&&o[t].name!==t})}},13678330:(t,e,r)=>{"use strict";var n=r(92746832),i=r(15389094),o=r(31678159),a=r(40762716),s=n("".replace),u=RegExp("^["+a+"]+"),c=RegExp("(^|[^"+a+"])["+a+"]+$"),l=function(t){return function(e){var r=o(i(e));return 1&t&&(r=s(r,u,"")),2&t&&(r=s(r,c,"$1")),r}};t.exports={start:l(1),end:l(2),trim:l(3)}},78839724:(t,e,r)=>{"use strict";var n=r(95619008),i=r(17964319),o=r(19678175),a=r(28494039),s=n.structuredClone;t.exports=!!s&&!i(function(){if("DENO"===a&&o>92||"NODE"===a&&o>94||"BROWSER"===a&&o>97)return!1;var t=new ArrayBuffer(8),e=s(t,{transfer:[t]});return 0!==t.byteLength||8!==e.byteLength})},8401231:(t,e,r)=>{"use strict";var n=r(19678175),i=r(17964319),o=r(95619008).String;t.exports=!!Object.getOwnPropertySymbols&&!i(function(){var t=Symbol("symbol detection");return!o(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&n&&n<41})},253922:(t,e,r)=>{"use strict";var n=r(82185277),i=r(60033783),o=r(62248275),a=r(17917960);t.exports=function(){var t=i("Symbol"),e=t&&t.prototype,r=e&&e.valueOf,s=o("toPrimitive");e&&!e[s]&&a(e,s,function(t){return n(r,this)},{arity:1})}},47427840:(t,e,r)=>{"use strict";var n=r(8401231);t.exports=n&&!!Symbol.for&&!!Symbol.keyFor},54442329:(t,e,r)=>{"use strict";var n,i,o,a,s=r(95619008),u=r(12020825),c=r(22662608),l=r(6295189),f=r(26847425),h=r(17964319),p=r(41127437),d=r(28654784),y=r(64054231),v=r(69053340),m=r(73610120),b=r(61095617),g=s.setImmediate,w=s.clearImmediate,S=s.process,x=s.Dispatch,_=s.Function,E=s.MessageChannel,T=s.String,k=0,P={},O="onreadystatechange";h(function(){n=s.location});var A=function(t){if(f(P,t)){var e=P[t];delete P[t],e()}},R=function(t){return function(){A(t)}},j=function(t){A(t.data)},I=function(t){s.postMessage(T(t),n.protocol+"//"+n.host)};g&&w||(g=function(t){v(arguments.length,1);var e=l(t)?t:_(t),r=d(arguments,1);return P[++k]=function(){u(e,void 0,r)},i(k),k},w=function(t){delete P[t]},b?i=function(t){S.nextTick(R(t))}:x&&x.now?i=function(t){x.now(R(t))}:E&&!m?(a=(o=new E).port2,o.port1.onmessage=j,i=c(a.postMessage,a)):s.addEventListener&&l(s.postMessage)&&!s.importScripts&&n&&"file:"!==n.protocol&&!h(I)?(i=I,s.addEventListener("message",j,!1)):i=O in y("script")?function(t){p.appendChild(y("script"))[O]=function(){p.removeChild(this),A(t)}}:function(t){setTimeout(R(t),0)}),t.exports={set:g,clear:w}},68348936:(t,e,r)=>{"use strict";var n=r(92746832);t.exports=n(1..valueOf)},34897786:(t,e,r)=>{"use strict";var n=r(73390427),i=Math.max,o=Math.min;t.exports=function(t,e){var r=n(t);return r<0?i(r+e,0):o(r,e)}},60795630:(t,e,r)=>{"use strict";var n=r(53401929),i=TypeError;t.exports=function(t){var e=n(t,"number");if("number"==typeof e)throw new i("Can't convert number to bigint");return BigInt(e)}},88678560:(t,e,r)=>{"use strict";var n=r(73390427),i=r(92625342),o=RangeError;t.exports=function(t){if(void 0===t)return 0;var e=n(t),r=i(e);if(e!==r)throw new o("Wrong length or index");return r}},86022357:(t,e,r)=>{"use strict";var n=r(85687055),i=r(15389094);t.exports=function(t){return n(i(t))}},73390427:(t,e,r)=>{"use strict";var n=r(37372773);t.exports=function(t){var e=+t;return e!=e||0===e?0:n(e)}},92625342:(t,e,r)=>{"use strict";var n=r(73390427),i=Math.min;t.exports=function(t){var e=n(t);return e>0?i(e,9007199254740991):0}},39045557:(t,e,r)=>{"use strict";var n=r(15389094),i=Object;t.exports=function(t){return i(n(t))}},81238229:(t,e,r)=>{"use strict";var n=r(12662438),i=RangeError;t.exports=function(t,e){var r=n(t);if(r%e)throw new i("Wrong offset");return r}},12662438:(t,e,r)=>{"use strict";var n=r(73390427),i=RangeError;t.exports=function(t){var e=n(t);if(e<0)throw new i("The argument can't be less than 0");return e}},53401929:(t,e,r)=>{"use strict";var n=r(82185277),i=r(75849826),o=r(93988325),a=r(71242462),s=r(40008558),u=r(62248275),c=TypeError,l=u("toPrimitive");t.exports=function(t,e){if(!i(t)||o(t))return t;var r,u=a(t,l);if(u){if(void 0===e&&(e="default"),r=n(u,t,e),!i(r)||o(r))return r;throw new c("Can't convert object to primitive value")}return void 0===e&&(e="number"),s(t,e)}},88720361:(t,e,r)=>{"use strict";var n=r(53401929),i=r(93988325);t.exports=function(t){var e=n(t,"string");return i(e)?e:e+""}},10578092:(t,e,r)=>{"use strict";var n={};n[r(62248275)("toStringTag")]="z",t.exports="[object z]"===String(n)},31678159:(t,e,r)=>{"use strict";var n=r(15357275),i=String;t.exports=function(t){if("Symbol"===n(t))throw new TypeError("Cannot convert a Symbol value to a string");return i(t)}},15358895:t=>{"use strict";var e=Math.round;t.exports=function(t){var r=e(t);return r<0?0:r>255?255:255&r}},71858391:t=>{"use strict";var e=String;t.exports=function(t){try{return e(t)}catch(r){return"Object"}}},71511855:(t,e,r)=>{"use strict";var n=r(33084182),i=r(95619008),o=r(82185277),a=r(97881036),s=r(98477381),u=r(22204436),c=r(33792842),l=r(60144823),f=r(71873636),h=r(24415083),p=r(28447303),d=r(92625342),y=r(88678560),v=r(81238229),m=r(15358895),b=r(88720361),g=r(26847425),w=r(15357275),S=r(75849826),x=r(93988325),_=r(4546008),E=r(43396857),T=r(15245319),k=r(61698288).f,P=r(58359955),O=r(39485517).forEach,A=r(21172241),R=r(83560634),j=r(64767377),I=r(37441603),C=r(3548874),M=r(71814253),D=r(14531263),N=M.get,B=M.set,F=M.enforce,L=j.f,U=I.f,V=i.RangeError,X=c.ArrayBuffer,G=X.prototype,Y=c.DataView,q=u.NATIVE_ARRAY_BUFFER_VIEWS,W=u.TYPED_ARRAY_TAG,H=u.TypedArray,z=u.TypedArrayPrototype,Q=u.isTypedArray,Z="BYTES_PER_ELEMENT",K="Wrong length",$=function(t,e){R(t,e,{configurable:!0,get:function(){return N(this)[e]}})},J=function(t){var e;return E(G,t)||"ArrayBuffer"===(e=w(t))||"SharedArrayBuffer"===e},tt=function(t,e){return Q(t)&&!x(e)&&e in t&&p(+e)&&e>=0},et=function(t,e){return e=b(e),tt(t,e)?f(2,t[e]):U(t,e)},rt=function(t,e,r){return e=b(e),!(tt(t,e)&&S(r)&&g(r,"value"))||g(r,"get")||g(r,"set")||r.configurable||g(r,"writable")&&!r.writable||g(r,"enumerable")&&!r.enumerable?L(t,e,r):(t[e]=r.value,t)};a?(q||(I.f=et,j.f=rt,$(z,"buffer"),$(z,"byteOffset"),$(z,"byteLength"),$(z,"length")),n({target:"Object",stat:!0,forced:!q},{getOwnPropertyDescriptor:et,defineProperty:rt}),t.exports=function(t,e,r){var a=t.match(/\d+/)[0]/8,u=t+(r?"Clamped":"")+"Array",c="get"+t,f="set"+t,p=i[u],b=p,g=b&&b.prototype,w={},x=function(t,e){L(t,e,{get:function(){return function(t,e){var r=N(t);return r.view[c](e*a+r.byteOffset,!0)}(this,e)},set:function(t){return function(t,e,n){var i=N(t);i.view[f](e*a+i.byteOffset,r?m(n):n,!0)}(this,e,t)},enumerable:!0})};q?s&&(b=e(function(t,e,r,n){return l(t,g),D(S(e)?J(e)?void 0!==n?new p(e,v(r,a),n):void 0!==r?new p(e,v(r,a)):new p(e):Q(e)?C(b,e):o(P,b,e):new p(y(e)),t,b)}),T&&T(b,H),O(k(p),function(t){t in b||h(b,t,p[t])}),b.prototype=g):(b=e(function(t,e,r,n){l(t,g);var i,s,u,c=0,f=0;if(S(e)){if(!J(e))return Q(e)?C(b,e):o(P,b,e);i=e,f=v(r,a);var h=e.byteLength;if(void 0===n){if(h%a)throw new V(K);if((s=h-f)<0)throw new V(K)}else if((s=d(n)*a)+f>h)throw new V(K);u=s/a}else u=y(e),i=new X(s=u*a);for(B(t,{buffer:i,byteOffset:f,byteLength:s,length:u,view:new Y(i)});c<u;)x(t,c++)}),T&&T(b,H),g=b.prototype=_(z)),g.constructor!==b&&h(g,"constructor",b),F(g).TypedArrayConstructor=b,W&&h(g,W,u);var E=b!==p;w[u]=b,n({global:!0,constructor:!0,forced:E,sham:!q},w),Z in b||h(b,Z,a),Z in g||h(g,Z,a),A(u)}):t.exports=function(){}},98477381:(t,e,r)=>{"use strict";var n=r(95619008),i=r(17964319),o=r(90871788),a=r(22204436).NATIVE_ARRAY_BUFFER_VIEWS,s=n.ArrayBuffer,u=n.Int8Array;t.exports=!a||!i(function(){u(1)})||!i(function(){new u(-1)})||!o(function(t){new u,new u(null),new u(1.5),new u(t)},!0)||i(function(){return 1!==new u(new s(2),1,void 0).length})},63368693:(t,e,r)=>{"use strict";var n=r(3548874),i=r(97877412);t.exports=function(t,e){return n(i(t),e)}},58359955:(t,e,r)=>{"use strict";var n=r(22662608),i=r(82185277),o=r(11291772),a=r(39045557),s=r(7793558),u=r(3140833),c=r(29931715),l=r(8703953),f=r(26719143),h=r(22204436).aTypedArrayConstructor,p=r(60795630);t.exports=function(t){var e,r,d,y,v,m,b,g,w=o(this),S=a(t),x=arguments.length,_=x>1?arguments[1]:void 0,E=void 0!==_,T=c(S);if(T&&!l(T))for(g=(b=u(S,T)).next,S=[];!(m=i(g,b)).done;)S.push(m.value);for(E&&x>2&&(_=n(_,arguments[2])),r=s(S),d=new(h(w))(r),y=f(d),e=0;r>e;e++)v=E?_(S[e],e):S[e],d[e]=y?p(v):+v;return d}},97877412:(t,e,r)=>{"use strict";var n=r(22204436),i=r(84870901),o=n.aTypedArrayConstructor,a=n.getTypedArrayConstructor;t.exports=function(t){return o(i(t,a(t)))}},7593520:(t,e,r)=>{"use strict";var n=r(92746832),i=0,o=Math.random(),a=n(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+a(++i+o,36)}},59897048:(t,e,r)=>{"use strict";var n=r(17964319),i=r(62248275),o=r(97881036),a=r(13599787),s=i("iterator");t.exports=!n(function(){var t=new URL("b?a=1&b=2&c=3","https://a"),e=t.searchParams,r=new URLSearchParams("a=1&a=2&b=3"),n="";return t.pathname="c%20d",e.forEach(function(t,r){e.delete("b"),n+=r+t}),r.delete("a",2),r.delete("b",void 0),a&&(!t.toJSON||!r.has("a",1)||r.has("a",2)||!r.has("a",void 0)||r.has("b"))||!e.size&&(a||!o)||!e.sort||"https://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[s]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("https://").host||"#%D0%B1"!==new URL("https://a#").hash||"a1c3"!==n||"x"!==new URL("https://x",void 0).host})},50520448:(t,e,r)=>{"use strict";var n=r(8401231);t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},51398382:(t,e,r)=>{"use strict";var n=r(97881036),i=r(17964319);t.exports=n&&i(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype})},69053340:t=>{"use strict";var e=TypeError;t.exports=function(t,r){if(t<r)throw new e("Not enough arguments");return t}},34850366:(t,e,r)=>{"use strict";var n=r(95619008),i=r(6295189),o=n.WeakMap;t.exports=i(o)&&/native code/.test(String(o))},76322287:(t,e,r)=>{"use strict";var n=r(63206591),i=r(26847425),o=r(985631),a=r(64767377).f;t.exports=function(t){var e=n.Symbol||(n.Symbol={});i(e,t)||a(e,t,{value:o.f(t)})}},985631:(t,e,r)=>{"use strict";var n=r(62248275);e.f=n},62248275:(t,e,r)=>{"use strict";var n=r(95619008),i=r(96365585),o=r(26847425),a=r(7593520),s=r(8401231),u=r(50520448),c=n.Symbol,l=i("wks"),f=u?c.for||c:c&&c.withoutSetter||a;t.exports=function(t){return o(l,t)||(l[t]=s&&o(c,t)?c[t]:f("Symbol."+t)),l[t]}},40762716:t=>{"use strict";t.exports="\t\n\v\f\r \u2028\u2029\ufeff"},21496041:(t,e,r)=>{"use strict";var n=r(60033783),i=r(26847425),o=r(24415083),a=r(43396857),s=r(15245319),u=r(87344268),c=r(39129584),l=r(14531263),f=r(53102555),h=r(88736976),p=r(72786283),d=r(97881036),y=r(13599787);t.exports=function(t,e,r,v){var m="stackTraceLimit",b=v?2:1,g=t.split("."),w=g[g.length-1],S=n.apply(null,g);if(S){var x=S.prototype;if(!y&&i(x,"cause")&&delete x.cause,!r)return S;var _=n("Error"),E=e(function(t,e){var r=f(v?e:t,void 0),n=v?new S(t):new S;return void 0!==r&&o(n,"message",r),p(n,E,n.stack,2),this&&a(x,this)&&l(n,this,E),arguments.length>b&&h(n,arguments[b]),n});if(E.prototype=x,"Error"!==w?s?s(E,_):u(E,_,{name:!0}):d&&m in S&&(c(E,S,m),c(E,S,"prepareStackTrace")),u(E,S),!y)try{x.name!==w&&o(x,"name",w),x.constructor=E}catch(T){}return E}}},41904727:(t,e,r)=>{"use strict";var n=r(33084182),i=r(95619008),o=r(33792842),a=r(21172241),s="ArrayBuffer",u=o[s];n({global:!0,constructor:!0,forced:i[s]!==u},{ArrayBuffer:u}),a(s)},34408733:(t,e,r)=>{"use strict";var n=r(97881036),i=r(83560634),o=r(42713030),a=ArrayBuffer.prototype;n&&!("detached"in a)&&i(a,"detached",{configurable:!0,get:function(){return o(this)}})},33688577:(t,e,r)=>{"use strict";var n=r(33084182),i=r(54892980),o=r(17964319),a=r(33792842),s=r(32189351),u=r(34897786),c=r(92625342),l=r(84870901),f=a.ArrayBuffer,h=a.DataView,p=h.prototype,d=i(f.prototype.slice),y=i(p.getUint8),v=i(p.setUint8);n({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:o(function(){return!new f(2).slice(1,void 0).byteLength})},{slice:function(t,e){if(d&&void 0===e)return d(s(this),t);for(var r=s(this).byteLength,n=u(t,r),i=u(void 0===e?r:e,r),o=new(l(this,f))(c(i-n)),a=new h(this),p=new h(o),m=0;n<i;)v(p,m++,y(a,n++));return o}})},66513456:(t,e,r)=>{"use strict";var n=r(33084182),i=r(31814452);i&&n({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function(){return i(this,arguments.length?arguments[0]:void 0,!1)}})},78151284:(t,e,r)=>{"use strict";var n=r(33084182),i=r(31814452);i&&n({target:"ArrayBuffer",proto:!0},{transfer:function(){return i(this,arguments.length?arguments[0]:void 0,!0)}})},95723650:(t,e,r)=>{"use strict";var n=r(33084182),i=r(17964319),o=r(99195304),a=r(75849826),s=r(39045557),u=r(7793558),c=r(68509637),l=r(74893328),f=r(86282333),h=r(46921189),p=r(62248275),d=r(19678175),y=p("isConcatSpreadable"),v=d>=51||!i(function(){var t=[];return t[y]=!1,t.concat()[0]!==t}),m=function(t){if(!a(t))return!1;var e=t[y];return void 0!==e?!!e:o(t)};n({target:"Array",proto:!0,arity:1,forced:!v||!h("concat")},{concat:function(t){var e,r,n,i,o,a=s(this),h=f(a,0),p=0;for(e=-1,n=arguments.length;e<n;e++)if(m(o=-1===e?a:arguments[e]))for(i=u(o),c(p+i),r=0;r<i;r++,p++)r in o&&l(h,p,o[r]);else c(p+1),l(h,p++,o);return h.length=p,h}})},32205331:(t,e,r)=>{"use strict";var n=r(33084182),i=r(71138149),o=r(25798213);n({target:"Array",proto:!0},{copyWithin:i}),o("copyWithin")},36907531:(t,e,r)=>{"use strict";var n=r(33084182),i=r(34213557),o=r(25798213);n({target:"Array",proto:!0},{fill:i}),o("fill")},54660056:(t,e,r)=>{"use strict";var n=r(33084182),i=r(39485517).filter;n({target:"Array",proto:!0,forced:!r(46921189)("filter")},{filter:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},4835009:(t,e,r)=>{"use strict";var n=r(33084182),i=r(39485517).find,o=r(25798213),a="find",s=!0;a in[]&&Array(1)[a](function(){s=!1}),n({target:"Array",proto:!0,forced:s},{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o(a)},68090010:(t,e,r)=>{"use strict";var n=r(33084182),i=r(36473372);n({target:"Array",stat:!0,forced:!r(90871788)(function(t){Array.from(t)})},{from:i})},5320247:(t,e,r)=>{"use strict";var n=r(33084182),i=r(3239681).includes,o=r(17964319),a=r(25798213);n({target:"Array",proto:!0,forced:o(function(){return!Array(1).includes()})},{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),a("includes")},55705852:(t,e,r)=>{"use strict";var n=r(33084182),i=r(54892980),o=r(3239681).indexOf,a=r(5841222),s=i([].indexOf),u=!!s&&1/s([1],1,-0)<0;n({target:"Array",proto:!0,forced:u||!a("indexOf")},{indexOf:function(t){var e=arguments.length>1?arguments[1]:void 0;return u?s(this,t,e)||0:o(this,t,e)}})},62951728:(t,e,r)=>{"use strict";var n=r(86022357),i=r(25798213),o=r(84511133),a=r(71814253),s=r(64767377).f,u=r(41197328),c=r(71577793),l=r(13599787),f=r(97881036),h="Array Iterator",p=a.set,d=a.getterFor(h);t.exports=u(Array,"Array",function(t,e){p(this,{type:h,target:n(t),index:0,kind:e})},function(){var t=d(this),e=t.target,r=t.index++;if(!e||r>=e.length)return t.target=null,c(void 0,!0);switch(t.kind){case"keys":return c(r,!1);case"values":return c(e[r],!1)}return c([r,e[r]],!1)},"values");var y=o.Arguments=o.Array;if(i("keys"),i("values"),i("entries"),!l&&f&&"values"!==y.name)try{s(y,"name",{value:"values"})}catch(v){}},74534969:(t,e,r)=>{"use strict";var n=r(33084182),i=r(18967483);n({target:"Array",proto:!0,forced:i!==[].lastIndexOf},{lastIndexOf:i})},48158254:(t,e,r)=>{"use strict";var n=r(33084182),i=r(39485517).map;n({target:"Array",proto:!0,forced:!r(46921189)("map")},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},97200626:(t,e,r)=>{"use strict";var n=r(33084182),i=r(39045557),o=r(7793558),a=r(24509983),s=r(68509637);n({target:"Array",proto:!0,arity:1,forced:r(17964319)(function(){return 4294967297!==[].push.call({length:4294967296},1)})||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}}()},{push:function(t){var e=i(this),r=o(e),n=arguments.length;s(r+n);for(var u=0;u<n;u++)e[r]=arguments[u],r++;return a(e,r),r}})},6137992:(t,e,r)=>{"use strict";var n=r(33084182),i=r(47667518).left,o=r(5841222),a=r(19678175);n({target:"Array",proto:!0,forced:!r(61095617)&&a>79&&a<83||!o("reduce")},{reduce:function(t){var e=arguments.length;return i(this,t,e,e>1?arguments[1]:void 0)}})},91931354:(t,e,r)=>{"use strict";var n=r(33084182),i=r(92746832),o=r(99195304),a=i([].reverse),s=[1,2];n({target:"Array",proto:!0,forced:String(s)===String(s.reverse())},{reverse:function(){return o(this)&&(this.length=this.length),a(this)}})},50473502:(t,e,r)=>{"use strict";var n=r(33084182),i=r(99195304),o=r(87487757),a=r(75849826),s=r(34897786),u=r(7793558),c=r(86022357),l=r(74893328),f=r(62248275),h=r(46921189),p=r(28654784),d=h("slice"),y=f("species"),v=Array,m=Math.max;n({target:"Array",proto:!0,forced:!d},{slice:function(t,e){var r,n,f,h=c(this),d=u(h),b=s(t,d),g=s(void 0===e?d:e,d);if(i(h)&&(r=h.constructor,(o(r)&&(r===v||i(r.prototype))||a(r)&&null===(r=r[y]))&&(r=void 0),r===v||void 0===r))return p(h,b,g);for(n=new(void 0===r?v:r)(m(g-b,0)),f=0;b<g;b++,f++)b in h&&l(n,f,h[b]);return n.length=f,n}})},97163518:(t,e,r)=>{"use strict";var n=r(33084182),i=r(92746832),o=r(45031050),a=r(39045557),s=r(7793558),u=r(51345246),c=r(31678159),l=r(17964319),f=r(88769624),h=r(5841222),p=r(61687661),d=r(92792579),y=r(19678175),v=r(78614711),m=[],b=i(m.sort),g=i(m.push),w=l(function(){m.sort(void 0)}),S=l(function(){m.sort(null)}),x=h("sort"),_=!l(function(){if(y)return y<70;if(!(p&&p>3)){if(d)return!0;if(v)return v<603;var t,e,r,n,i="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(n=0;n<47;n++)m.push({k:e+n,v:r})}for(m.sort(function(t,e){return e.v-t.v}),n=0;n<m.length;n++)e=m[n].k.charAt(0),i.charAt(i.length-1)!==e&&(i+=e);return"DGBEFHACIJK"!==i}});n({target:"Array",proto:!0,forced:w||!S||!x||!_},{sort:function(t){void 0!==t&&o(t);var e=a(this);if(_)return void 0===t?b(e):b(e,t);var r,n,i=[],l=s(e);for(n=0;n<l;n++)n in e&&g(i,e[n]);for(f(i,function(t){return function(e,r){return void 0===r?-1:void 0===e?1:void 0!==t?+t(e,r)||0:c(e)>c(r)?1:-1}}(t)),r=s(i),n=0;n<r;)e[n]=i[n++];for(;n<l;)u(e,n++);return e}})},57180314:(t,e,r)=>{"use strict";var n=r(33084182),i=r(39045557),o=r(34897786),a=r(73390427),s=r(7793558),u=r(24509983),c=r(68509637),l=r(86282333),f=r(74893328),h=r(51345246),p=r(46921189)("splice"),d=Math.max,y=Math.min;n({target:"Array",proto:!0,forced:!p},{splice:function(t,e){var r,n,p,v,m,b,g=i(this),w=s(g),S=o(t,w),x=arguments.length;for(0===x?r=n=0:1===x?(r=0,n=w-S):(r=x-2,n=y(d(a(e),0),w-S)),c(w+r-n),p=l(g,n),v=0;v<n;v++)(m=S+v)in g&&f(p,v,g[m]);if(p.length=n,r<n){for(v=S;v<w-n;v++)b=v+r,(m=v+n)in g?g[b]=g[m]:h(g,b);for(v=w;v>w-n+r;v--)h(g,v-1)}else if(r>n)for(v=w-n;v>S;v--)b=v+r-1,(m=v+n-1)in g?g[b]=g[m]:h(g,b);for(v=0;v<r;v++)g[v+S]=arguments[v+2];return u(g,w-n+r),p}})},47274729:(t,e,r)=>{"use strict";var n=r(33084182),i=r(39045557),o=r(7793558),a=r(24509983),s=r(51345246),u=r(68509637);n({target:"Array",proto:!0,arity:1,forced:1!==[].unshift(0)||!function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(t){return t instanceof TypeError}}()},{unshift:function(t){var e=i(this),r=o(e),n=arguments.length;if(n){u(r+n);for(var c=r;c--;){var l=c+n;c in e?e[l]=e[c]:s(e,l)}for(var f=0;f<n;f++)e[f]=arguments[f]}return a(e,r+n)}})},17522308:(t,e,r)=>{"use strict";var n=r(26847425),i=r(17917960),o=r(31265256),a=r(62248275)("toPrimitive"),s=Date.prototype;n(s,a)||i(s,a,o)},44381336:(t,e,r)=>{"use strict";var n=r(33084182),i=r(95619008),o=r(12020825),a=r(21496041),s="WebAssembly",u=i[s],c=7!==new Error("e",{cause:7}).cause,l=function(t,e){var r={};r[t]=a(t,e,c),n({global:!0,constructor:!0,arity:1,forced:c},r)},f=function(t,e){if(u&&u[t]){var r={};r[t]=a(s+"."+t,e,c),n({target:s,stat:!0,constructor:!0,arity:1,forced:c},r)}};l("Error",function(t){return function(e){return o(t,this,arguments)}}),l("EvalError",function(t){return function(e){return o(t,this,arguments)}}),l("RangeError",function(t){return function(e){return o(t,this,arguments)}}),l("ReferenceError",function(t){return function(e){return o(t,this,arguments)}}),l("SyntaxError",function(t){return function(e){return o(t,this,arguments)}}),l("TypeError",function(t){return function(e){return o(t,this,arguments)}}),l("URIError",function(t){return function(e){return o(t,this,arguments)}}),f("CompileError",function(t){return function(e){return o(t,this,arguments)}}),f("LinkError",function(t){return function(e){return o(t,this,arguments)}}),f("RuntimeError",function(t){return function(e){return o(t,this,arguments)}})},76824265:(t,e,r)=>{"use strict";var n=r(33084182),i=r(95619008);n({global:!0,forced:i.globalThis!==i},{globalThis:i})},77276790:(t,e,r)=>{"use strict";var n=r(33084182),i=r(60033783),o=r(12020825),a=r(82185277),s=r(92746832),u=r(17964319),c=r(6295189),l=r(93988325),f=r(28654784),h=r(65216565),p=r(8401231),d=String,y=i("JSON","stringify"),v=s(/./.exec),m=s("".charAt),b=s("".charCodeAt),g=s("".replace),w=s(1..toString),S=/[\uD800-\uDFFF]/g,x=/^[\uD800-\uDBFF]$/,_=/^[\uDC00-\uDFFF]$/,E=!p||u(function(){var t=i("Symbol")("stringify detection");return"[null]"!==y([t])||"{}"!==y({a:t})||"{}"!==y(Object(t))}),T=u(function(){return'"\\udf06\\ud834"'!==y("\udf06\ud834")||'"\\udead"'!==y("\udead")}),k=function(t,e){var r=f(arguments),n=h(e);if(c(n)||void 0!==t&&!l(t))return r[1]=function(t,e){if(c(n)&&(e=a(n,this,d(t),e)),!l(e))return e},o(y,null,r)},P=function(t,e,r){var n=m(r,e-1),i=m(r,e+1);return v(x,t)&&!v(_,i)||v(_,t)&&!v(x,n)?"\\u"+w(b(t,0),16):t};y&&n({target:"JSON",stat:!0,arity:3,forced:E||T},{stringify:function(t,e,r){var n=f(arguments),i=o(E?k:y,null,n);return T&&"string"==typeof i?g(i,S,P):i}})},96050667:(t,e,r)=>{"use strict";r(46948980)("Map",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},r(25529914))},71459841:(t,e,r)=>{"use strict";r(96050667)},81111613:(t,e,r)=>{"use strict";r(33084182)({target:"Math",stat:!0},{fround:r(86256481)})},71434170:(t,e,r)=>{"use strict";r(33084182)({target:"Math",stat:!0},{sign:r(98684502)})},4421388:(t,e,r)=>{"use strict";var n=r(33084182),i=r(13599787),o=r(97881036),a=r(95619008),s=r(63206591),u=r(92746832),c=r(59117244),l=r(26847425),f=r(14531263),h=r(43396857),p=r(93988325),d=r(53401929),y=r(17964319),v=r(61698288).f,m=r(37441603).f,b=r(64767377).f,g=r(68348936),w=r(13678330).trim,S="Number",x=a[S],_=s[S],E=x.prototype,T=a.TypeError,k=u("".slice),P=u("".charCodeAt),O=function(t){var e,r,n,i,o,a,s,u,c=d(t,"number");if(p(c))throw new T("Cannot convert a Symbol value to a number");if("string"==typeof c&&c.length>2)if(c=w(c),43===(e=P(c,0))||45===e){if(88===(r=P(c,2))||120===r)return NaN}else if(48===e){switch(P(c,1)){case 66:case 98:n=2,i=49;break;case 79:case 111:n=8,i=55;break;default:return+c}for(a=(o=k(c,2)).length,s=0;s<a;s++)if((u=P(o,s))<48||u>i)return NaN;return parseInt(o,n)}return+c},A=c(S,!x(" 0o1")||!x("0b1")||x("+0x1")),R=function(t){var e,r=arguments.length<1?0:x(function(t){var e=d(t,"number");return"bigint"==typeof e?e:O(e)}(t));return h(E,e=this)&&y(function(){g(e)})?f(Object(r),this,R):r};R.prototype=E,A&&!i&&(E.constructor=R),n({global:!0,constructor:!0,wrap:!0,forced:A},{Number:R});var j=function(t,e){for(var r,n=o?v(e):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),i=0;n.length>i;i++)l(e,r=n[i])&&!l(t,r)&&b(t,r,m(e,r))};i&&_&&j(s[S],_),(A||i)&&j(s[S],x)},32767805:(t,e,r)=>{"use strict";var n=r(33084182),i=r(96213429);n({target:"Object",stat:!0,arity:2,forced:Object.assign!==i},{assign:i})},29896034:(t,e,r)=>{"use strict";var n=r(33084182),i=r(30537861).entries;n({target:"Object",stat:!0},{entries:function(t){return i(t)}})},95440747:(t,e,r)=>{"use strict";var n=r(33084182),i=r(17964319),o=r(86022357),a=r(37441603).f,s=r(97881036);n({target:"Object",stat:!0,forced:!s||i(function(){a(1)}),sham:!s},{getOwnPropertyDescriptor:function(t,e){return a(o(t),e)}})},20037566:(t,e,r)=>{"use strict";var n=r(33084182),i=r(97881036),o=r(59264791),a=r(86022357),s=r(37441603),u=r(74893328);n({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(t){for(var e,r,n=a(t),i=s.f,c=o(n),l={},f=0;c.length>f;)void 0!==(r=i(n,e=c[f++]))&&u(l,e,r);return l}})},38235693:(t,e,r)=>{"use strict";var n=r(33084182),i=r(8401231),o=r(17964319),a=r(38659413),s=r(39045557);n({target:"Object",stat:!0,forced:!i||o(function(){a.f(1)})},{getOwnPropertySymbols:function(t){var e=a.f;return e?e(s(t)):[]}})},69994507:(t,e,r)=>{"use strict";var n=r(33084182),i=r(17964319),o=r(39045557),a=r(2003331),s=r(92989875);n({target:"Object",stat:!0,forced:i(function(){a(1)}),sham:!s},{getPrototypeOf:function(t){return a(o(t))}})},53083784:(t,e,r)=>{"use strict";var n=r(33084182),i=r(39045557),o=r(45857120);n({target:"Object",stat:!0,forced:r(17964319)(function(){o(1)})},{keys:function(t){return o(i(t))}})},1906035:(t,e,r)=>{"use strict";var n=r(10578092),i=r(17917960),o=r(45910715);n||i(Object.prototype,"toString",o,{unsafe:!0})},96949634:(t,e,r)=>{"use strict";var n=r(33084182),i=r(30537861).values;n({target:"Object",stat:!0},{values:function(t){return i(t)}})},73811923:(t,e,r)=>{"use strict";var n=r(33084182),i=r(82185277),o=r(45031050),a=r(77483563),s=r(58747087),u=r(66670348);n({target:"Promise",stat:!0,forced:r(17211977)},{all:function(t){var e=this,r=a.f(e),n=r.resolve,c=r.reject,l=s(function(){var r=o(e.resolve),a=[],s=0,l=1;u(t,function(t){var o=s++,u=!1;l++,i(r,e,t).then(function(t){u||(u=!0,a[o]=t,--l||n(a))},c)}),--l||n(a)});return l.error&&c(l.value),r.promise}})},66833747:(t,e,r)=>{"use strict";var n=r(33084182),i=r(13599787),o=r(95074756).CONSTRUCTOR,a=r(34330246),s=r(60033783),u=r(6295189),c=r(17917960),l=a&&a.prototype;if(n({target:"Promise",proto:!0,forced:o,real:!0},{catch:function(t){return this.then(void 0,t)}}),!i&&u(a)){var f=s("Promise").prototype.catch;l.catch!==f&&c(l,"catch",f,{unsafe:!0})}},23487716:(t,e,r)=>{"use strict";var n,i,o,a=r(33084182),s=r(13599787),u=r(61095617),c=r(95619008),l=r(82185277),f=r(17917960),h=r(15245319),p=r(73627903),d=r(21172241),y=r(45031050),v=r(6295189),m=r(75849826),b=r(60144823),g=r(84870901),w=r(54442329).set,S=r(87823891),x=r(39187301),_=r(58747087),E=r(12565977),T=r(71814253),k=r(34330246),P=r(95074756),O=r(77483563),A="Promise",R=P.CONSTRUCTOR,j=P.REJECTION_EVENT,I=P.SUBCLASSING,C=T.getterFor(A),M=T.set,D=k&&k.prototype,N=k,B=D,F=c.TypeError,L=c.document,U=c.process,V=O.f,X=V,G=!!(L&&L.createEvent&&c.dispatchEvent),Y="unhandledrejection",q=function(t){var e;return!(!m(t)||!v(e=t.then))&&e},W=function(t,e){var r,n,i,o=e.value,a=1===e.state,s=a?t.ok:t.fail,u=t.resolve,c=t.reject,f=t.domain;try{s?(a||(2===e.rejection&&K(e),e.rejection=1),!0===s?r=o:(f&&f.enter(),r=s(o),f&&(f.exit(),i=!0)),r===t.promise?c(new F("Promise-chain cycle")):(n=q(r))?l(n,r,u,c):u(r)):c(o)}catch(h){f&&!i&&f.exit(),c(h)}},H=function(t,e){t.notified||(t.notified=!0,S(function(){for(var r,n=t.reactions;r=n.get();)W(r,t);t.notified=!1,e&&!t.rejection&&Q(t)}))},z=function(t,e,r){var n,i;G?((n=L.createEvent("Event")).promise=e,n.reason=r,n.initEvent(t,!1,!0),c.dispatchEvent(n)):n={promise:e,reason:r},!j&&(i=c["on"+t])?i(n):t===Y&&x("Unhandled promise rejection",r)},Q=function(t){l(w,c,function(){var e,r=t.facade,n=t.value;if(Z(t)&&(e=_(function(){u?U.emit("unhandledRejection",n,r):z(Y,r,n)}),t.rejection=u||Z(t)?2:1,e.error))throw e.value})},Z=function(t){return 1!==t.rejection&&!t.parent},K=function(t){l(w,c,function(){var e=t.facade;u?U.emit("rejectionHandled",e):z("rejectionhandled",e,t.value)})},$=function(t,e,r){return function(n){t(e,n,r)}},J=function(t,e,r){t.done||(t.done=!0,r&&(t=r),t.value=e,t.state=2,H(t,!0))},tt=function(t,e,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===e)throw new F("Promise can't be resolved itself");var n=q(e);n?S(function(){var r={done:!1};try{l(n,e,$(tt,r,t),$(J,r,t))}catch(i){J(r,i,t)}}):(t.value=e,t.state=1,H(t,!1))}catch(i){J({done:!1},i,t)}}};if(R&&(B=(N=function(t){b(this,B),y(t),l(n,this);var e=C(this);try{t($(tt,e),$(J,e))}catch(r){J(e,r)}}).prototype,(n=function(t){M(this,{type:A,done:!1,notified:!1,parent:!1,reactions:new E,rejection:!1,state:0,value:null})}).prototype=f(B,"then",function(t,e){var r=C(this),n=V(g(this,N));return r.parent=!0,n.ok=!v(t)||t,n.fail=v(e)&&e,n.domain=u?U.domain:void 0,0===r.state?r.reactions.add(n):S(function(){W(n,r)}),n.promise}),i=function(){var t=new n,e=C(t);this.promise=t,this.resolve=$(tt,e),this.reject=$(J,e)},O.f=V=function(t){return t===N||undefined===t?new i(t):X(t)},!s&&v(k)&&D!==Object.prototype)){o=D.then,I||f(D,"then",function(t,e){var r=this;return new N(function(t,e){l(o,r,t,e)}).then(t,e)},{unsafe:!0});try{delete D.constructor}catch(et){}h&&h(D,B)}a({global:!0,constructor:!0,wrap:!0,forced:R},{Promise:N}),p(N,A,!1,!0),d(A)},18515682:(t,e,r)=>{"use strict";r(23487716),r(73811923),r(66833747),r(51104255),r(56600217),r(82575800)},51104255:(t,e,r)=>{"use strict";var n=r(33084182),i=r(82185277),o=r(45031050),a=r(77483563),s=r(58747087),u=r(66670348);n({target:"Promise",stat:!0,forced:r(17211977)},{race:function(t){var e=this,r=a.f(e),n=r.reject,c=s(function(){var a=o(e.resolve);u(t,function(t){i(a,e,t).then(r.resolve,n)})});return c.error&&n(c.value),r.promise}})},56600217:(t,e,r)=>{"use strict";var n=r(33084182),i=r(77483563);n({target:"Promise",stat:!0,forced:r(95074756).CONSTRUCTOR},{reject:function(t){var e=i.f(this);return(0,e.reject)(t),e.promise}})},82575800:(t,e,r)=>{"use strict";var n=r(33084182),i=r(60033783),o=r(13599787),a=r(34330246),s=r(95074756).CONSTRUCTOR,u=r(70279166),c=i("Promise"),l=o&&!s;n({target:"Promise",stat:!0,forced:o||s},{resolve:function(t){return u(l&&this===c?a:this,t)}})},41624185:(t,e,r)=>{"use strict";var n=r(33084182),i=r(60033783),o=r(12020825),a=r(49023782),s=r(11291772),u=r(32189351),c=r(75849826),l=r(4546008),f=r(17964319),h=i("Reflect","construct"),p=Object.prototype,d=[].push,y=f(function(){function t(){}return!(h(function(){},[],t)instanceof t)}),v=!f(function(){h(function(){})}),m=y||v;n({target:"Reflect",stat:!0,forced:m,sham:m},{construct:function(t,e){s(t),u(e);var r=arguments.length<3?t:s(arguments[2]);if(v&&!y)return h(t,e,r);if(t===r){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var n=[null];return o(d,n,e),new(o(a,t,n))}var i=r.prototype,f=l(c(i)?i:p),m=o(t,f,e);return c(m)?m:f}})},86965080:(t,e,r)=>{"use strict";var n=r(33084182),i=r(82185277),o=r(75849826),a=r(32189351),s=r(92623039),u=r(37441603),c=r(2003331);n({target:"Reflect",stat:!0},{get:function t(e,r){var n,l,f=arguments.length<3?e:arguments[2];return a(e)===f?e[r]:(n=u.f(e,r))?s(n)?n.value:void 0===n.get?void 0:i(n.get,f):o(l=c(e))?t(l,r,f):void 0}})},63703964:(t,e,r)=>{"use strict";var n=r(33084182),i=r(82185277),o=r(32189351),a=r(75849826),s=r(92623039),u=r(17964319),c=r(64767377),l=r(37441603),f=r(2003331),h=r(71873636);n({target:"Reflect",stat:!0,forced:u(function(){var t=function(){},e=c.f(new t,"a",{configurable:!0});return!1!==Reflect.set(t.prototype,"a",1,e)})},{set:function t(e,r,n){var u,p,d,y=arguments.length<4?e:arguments[3],v=l.f(o(e),r);if(!v){if(a(p=f(e)))return t(p,r,n,y);v=h(0)}if(s(v)){if(!1===v.writable||!a(y))return!1;if(u=l.f(y,r)){if(u.get||u.set||!1===u.writable)return!1;u.value=n,c.f(y,r,u)}else c.f(y,r,h(0,n))}else{if(void 0===(d=v.set))return!1;i(d,y,n)}return!0}})},54497072:(t,e,r)=>{"use strict";var n=r(33084182),i=r(95619008),o=r(73627903);n({global:!0},{Reflect:{}}),o(i.Reflect,"Reflect",!0)},83099328:(t,e,r)=>{"use strict";var n=r(97881036),i=r(95619008),o=r(92746832),a=r(59117244),s=r(14531263),u=r(24415083),c=r(4546008),l=r(61698288).f,f=r(43396857),h=r(22576084),p=r(31678159),d=r(34818794),y=r(45855709),v=r(39129584),m=r(17917960),b=r(17964319),g=r(26847425),w=r(71814253).enforce,S=r(21172241),x=r(62248275),_=r(7634099),E=r(78943102),T=x("match"),k=i.RegExp,P=k.prototype,O=i.SyntaxError,A=o(P.exec),R=o("".charAt),j=o("".replace),I=o("".indexOf),C=o("".slice),M=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,D=/a/g,N=/a/g,B=new k(D)!==D,F=y.MISSED_STICKY,L=y.UNSUPPORTED_Y,U=n&&(!B||F||_||E||b(function(){return N[T]=!1,k(D)!==D||k(N)===N||"/a/i"!==String(k(D,"i"))}));if(a("RegExp",U)){for(var V=function(t,e){var r,n,i,o,a,l,y=f(P,this),v=h(t),m=void 0===e,b=[],S=t;if(!y&&v&&m&&t.constructor===V)return t;if((v||f(P,t))&&(t=t.source,m&&(e=d(S))),t=void 0===t?"":p(t),e=void 0===e?"":p(e),S=t,_&&"dotAll"in D&&(n=!!e&&I(e,"s")>-1)&&(e=j(e,/s/g,"")),r=e,F&&"sticky"in D&&(i=!!e&&I(e,"y")>-1)&&L&&(e=j(e,/y/g,"")),E&&(o=function(t){for(var e,r=t.length,n=0,i="",o=[],a=c(null),s=!1,u=!1,l=0,f="";n<=r;n++){if("\\"===(e=R(t,n)))e+=R(t,++n);else if("]"===e)s=!1;else if(!s)switch(!0){case"["===e:s=!0;break;case"("===e:if(i+=e,"?:"===C(t,n+1,n+3))continue;A(M,C(t,n+1))&&(n+=2,u=!0),l++;continue;case">"===e&&u:if(""===f||g(a,f))throw new O("Invalid capture group name");a[f]=!0,o[o.length]=[f,l],u=!1,f="";continue}u?f+=e:i+=e}return[i,o]}(t),t=o[0],b=o[1]),a=s(k(t,e),y?this:P,V),(n||i||b.length)&&(l=w(a),n&&(l.dotAll=!0,l.raw=V(function(t){for(var e,r=t.length,n=0,i="",o=!1;n<=r;n++)"\\"!==(e=R(t,n))?o||"."!==e?("["===e?o=!0:"]"===e&&(o=!1),i+=e):i+="[\\s\\S]":i+=e+R(t,++n);return i}(t),r)),i&&(l.sticky=!0),b.length&&(l.groups=b)),t!==S)try{u(a,"source",""===S?"(?:)":S)}catch(x){}return a},X=l(k),G=0;X.length>G;)v(V,k,X[G++]);P.constructor=V,V.prototype=P,m(i,"RegExp",V,{constructor:!0})}S("RegExp")},91868985:(t,e,r)=>{"use strict";var n=r(97881036),i=r(7634099),o=r(91206336),a=r(83560634),s=r(71814253).get,u=RegExp.prototype,c=TypeError;n&&i&&a(u,"dotAll",{configurable:!0,get:function(){if(this!==u){if("RegExp"===o(this))return!!s(this).dotAll;throw new c("Incompatible receiver, RegExp required")}}})},47138695:(t,e,r)=>{"use strict";var n=r(33084182),i=r(35761195);n({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},56125409:(t,e,r)=>{"use strict";var n=r(97881036),i=r(45855709).MISSED_STICKY,o=r(91206336),a=r(83560634),s=r(71814253).get,u=RegExp.prototype,c=TypeError;n&&i&&a(u,"sticky",{configurable:!0,get:function(){if(this!==u){if("RegExp"===o(this))return!!s(this).sticky;throw new c("Incompatible receiver, RegExp required")}}})},92631386:(t,e,r)=>{"use strict";r(47138695);var n,i,o=r(33084182),a=r(82185277),s=r(6295189),u=r(32189351),c=r(31678159),l=(n=!1,(i=/[ac]/).exec=function(){return n=!0,/./.exec.apply(this,arguments)},!0===i.test("abc")&&n),f=/./.test;o({target:"RegExp",proto:!0,forced:!l},{test:function(t){var e=u(this),r=c(t),n=e.exec;if(!s(n))return a(f,e,r);var i=a(n,e,r);return null!==i&&(u(i),!0)}})},57886333:(t,e,r)=>{"use strict";var n=r(63398638).PROPER,i=r(17917960),o=r(32189351),a=r(31678159),s=r(17964319),u=r(34818794),c="toString",l=RegExp.prototype,f=l[c],h=s(function(){return"/a/b"!==f.call({source:"a",flags:"b"})}),p=n&&f.name!==c;(h||p)&&i(l,c,function(){var t=o(this);return"/"+a(t.source)+"/"+a(u(t))},{unsafe:!0})},59478580:(t,e,r)=>{"use strict";var n=r(33084182),i=r(34745591).codeAt;n({target:"String",proto:!0},{codePointAt:function(t){return i(this,t)}})},4145753:(t,e,r)=>{"use strict";var n,i=r(33084182),o=r(54892980),a=r(37441603).f,s=r(92625342),u=r(31678159),c=r(64403775),l=r(15389094),f=r(1691452),h=r(13599787),p=o("".slice),d=Math.min,y=f("endsWith");i({target:"String",proto:!0,forced:!!(h||y||(n=a(String.prototype,"endsWith"),!n||n.writable))&&!y},{endsWith:function(t){var e=u(l(this));c(t);var r=arguments.length>1?arguments[1]:void 0,n=e.length,i=void 0===r?n:d(s(r),n),o=u(t);return p(e,i-o.length,i)===o}})},47103817:(t,e,r)=>{"use strict";var n=r(33084182),i=r(92746832),o=r(34897786),a=RangeError,s=String.fromCharCode,u=String.fromCodePoint,c=i([].join);n({target:"String",stat:!0,arity:1,forced:!!u&&1!==u.length},{fromCodePoint:function(t){for(var e,r=[],n=arguments.length,i=0;n>i;){if(e=+arguments[i++],o(e,1114111)!==e)throw new a(e+" is not a valid code point");r[i]=e<65536?s(e):s(55296+((e-=65536)>>10),e%1024+56320)}return c(r,"")}})},51524099:(t,e,r)=>{"use strict";var n=r(33084182),i=r(92746832),o=r(64403775),a=r(15389094),s=r(31678159),u=r(1691452),c=i("".indexOf);n({target:"String",proto:!0,forced:!u("includes")},{includes:function(t){return!!~c(s(a(this)),s(o(t)),arguments.length>1?arguments[1]:void 0)}})},32570708:(t,e,r)=>{"use strict";var n=r(34745591).charAt,i=r(31678159),o=r(71814253),a=r(41197328),s=r(71577793),u="String Iterator",c=o.set,l=o.getterFor(u);a(String,"String",function(t){c(this,{type:u,string:i(t),index:0})},function(){var t,e=l(this),r=e.string,i=e.index;return i>=r.length?s(void 0,!0):(t=n(r,i),e.index+=t.length,s(t,!1))})},14112305:(t,e,r)=>{"use strict";var n=r(82185277),i=r(96355468),o=r(32189351),a=r(63139477),s=r(92625342),u=r(31678159),c=r(15389094),l=r(71242462),f=r(89301573),h=r(33707306);i("match",function(t,e,r){return[function(e){var r=c(this),i=a(e)?void 0:l(e,t);return i?n(i,e,r):new RegExp(e)[t](u(r))},function(t){var n=o(this),i=u(t),a=r(e,n,i);if(a.done)return a.value;if(!n.global)return h(n,i);var c=n.unicode;n.lastIndex=0;for(var l,p=[],d=0;null!==(l=h(n,i));){var y=u(l[0]);p[d]=y,""===y&&(n.lastIndex=f(i,s(n.lastIndex),c)),d++}return 0===d?null:p}]})},5112476:(t,e,r)=>{"use strict";var n=r(33084182),i=r(79671381).start;n({target:"String",proto:!0,forced:r(74623063)},{padStart:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},27015936:(t,e,r)=>{"use strict";var n=r(12020825),i=r(82185277),o=r(92746832),a=r(96355468),s=r(17964319),u=r(32189351),c=r(6295189),l=r(63139477),f=r(73390427),h=r(92625342),p=r(31678159),d=r(15389094),y=r(89301573),v=r(71242462),m=r(18610286),b=r(33707306),g=r(62248275)("replace"),w=Math.max,S=Math.min,x=o([].concat),_=o([].push),E=o("".indexOf),T=o("".slice),k=function(t){return void 0===t?t:String(t)},P="$0"==="a".replace(/./,"$0"),O=!!/./[g]&&""===/./[g]("a","$0");a("replace",function(t,e,r){var o=O?"$":"$0";return[function(t,r){var n=d(this),o=l(t)?void 0:v(t,g);return o?i(o,t,n,r):i(e,p(n),t,r)},function(t,i){var a=u(this),s=p(t);if("string"==typeof i&&-1===E(i,o)&&-1===E(i,"$<")){var l=r(e,a,s,i);if(l.done)return l.value}var d=c(i);d||(i=p(i));var v,g=a.global;g&&(v=a.unicode,a.lastIndex=0);for(var P,O=[];null!==(P=b(a,s))&&(_(O,P),g);){""===p(P[0])&&(a.lastIndex=y(s,h(a.lastIndex),v))}for(var A="",R=0,j=0;j<O.length;j++){for(var I,C=p((P=O[j])[0]),M=w(S(f(P.index),s.length),0),D=[],N=1;N<P.length;N++)_(D,k(P[N]));var B=P.groups;if(d){var F=x([C],D,M,s);void 0!==B&&_(F,B),I=p(n(i,void 0,F))}else I=m(C,s,M,D,B,i);M>=R&&(A+=T(s,R,M)+I,R=M+C.length)}return A+T(s,R)}]},!!s(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})||!P||O)},1657330:(t,e,r)=>{"use strict";var n=r(82185277),i=r(96355468),o=r(32189351),a=r(63139477),s=r(15389094),u=r(43087470),c=r(31678159),l=r(71242462),f=r(33707306);i("search",function(t,e,r){return[function(e){var r=s(this),i=a(e)?void 0:l(e,t);return i?n(i,e,r):new RegExp(e)[t](c(r))},function(t){var n=o(this),i=c(t),a=r(e,n,i);if(a.done)return a.value;var s=n.lastIndex;u(s,0)||(n.lastIndex=0);var l=f(n,i);return u(n.lastIndex,s)||(n.lastIndex=s),null===l?-1:l.index}]})},78635704:(t,e,r)=>{"use strict";var n=r(82185277),i=r(92746832),o=r(96355468),a=r(32189351),s=r(63139477),u=r(15389094),c=r(84870901),l=r(89301573),f=r(92625342),h=r(31678159),p=r(71242462),d=r(33707306),y=r(45855709),v=r(17964319),m=y.UNSUPPORTED_Y,b=Math.min,g=i([].push),w=i("".slice),S=!v(function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return 2!==r.length||"a"!==r[0]||"b"!==r[1]}),x="c"==="abbc".split(/(b)*/)[1]||4!=="test".split(/(?:)/,-1).length||2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length;o("split",function(t,e,r){var i="0".split(void 0,0).length?function(t,r){return void 0===t&&0===r?[]:n(e,this,t,r)}:e;return[function(e,r){var o=u(this),a=s(e)?void 0:p(e,t);return a?n(a,e,o,r):n(i,h(o),e,r)},function(t,n){var o=a(this),s=h(t);if(!x){var u=r(i,o,s,n,i!==e);if(u.done)return u.value}var p=c(o,RegExp),y=o.unicode,v=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(m?"g":"y"),S=new p(m?"^(?:"+o.source+")":o,v),_=void 0===n?4294967295:n>>>0;if(0===_)return[];if(0===s.length)return null===d(S,s)?[s]:[];for(var E=0,T=0,k=[];T<s.length;){S.lastIndex=m?0:T;var P,O=d(S,m?w(s,T):s);if(null===O||(P=b(f(S.lastIndex+(m?T:0)),s.length))===E)T=l(s,T,y);else{if(g(k,w(s,E,T)),k.length===_)return k;for(var A=1;A<=O.length-1;A++)if(g(k,O[A]),k.length===_)return k;T=E=P}}return g(k,w(s,E)),k}]},x||!S,m)},40921472:(t,e,r)=>{"use strict";var n,i=r(33084182),o=r(54892980),a=r(37441603).f,s=r(92625342),u=r(31678159),c=r(64403775),l=r(15389094),f=r(1691452),h=r(13599787),p=o("".slice),d=Math.min,y=f("startsWith");i({target:"String",proto:!0,forced:!!(h||y||(n=a(String.prototype,"startsWith"),!n||n.writable))&&!y},{startsWith:function(t){var e=u(l(this));c(t);var r=s(d(arguments.length>1?arguments[1]:void 0,e.length)),n=u(t);return p(e,r,r+n.length)===n}})},83679554:(t,e,r)=>{"use strict";r(41117985);var n=r(33084182),i=r(17467698);n({target:"String",proto:!0,name:"trimEnd",forced:"".trimEnd!==i},{trimEnd:i})},41117985:(t,e,r)=>{"use strict";var n=r(33084182),i=r(17467698);n({target:"String",proto:!0,name:"trimEnd",forced:"".trimRight!==i},{trimRight:i})},94366282:(t,e,r)=>{"use strict";var n=r(33084182),i=r(13678330).trim;n({target:"String",proto:!0,forced:r(20989698)("trim")},{trim:function(){return i(this)}})},66441449:(t,e,r)=>{"use strict";var n=r(33084182),i=r(95619008),o=r(82185277),a=r(92746832),s=r(13599787),u=r(97881036),c=r(8401231),l=r(17964319),f=r(26847425),h=r(43396857),p=r(32189351),d=r(86022357),y=r(88720361),v=r(31678159),m=r(71873636),b=r(4546008),g=r(45857120),w=r(61698288),S=r(48290746),x=r(38659413),_=r(37441603),E=r(64767377),T=r(99338369),k=r(7545477),P=r(17917960),O=r(83560634),A=r(96365585),R=r(64510599),j=r(13101749),I=r(7593520),C=r(62248275),M=r(985631),D=r(76322287),N=r(253922),B=r(73627903),F=r(71814253),L=r(39485517).forEach,U=R("hidden"),V="Symbol",X="prototype",G=F.set,Y=F.getterFor(V),q=Object[X],W=i.Symbol,H=W&&W[X],z=i.RangeError,Q=i.TypeError,Z=i.QObject,K=_.f,$=E.f,J=S.f,tt=k.f,et=a([].push),rt=A("symbols"),nt=A("op-symbols"),it=A("wks"),ot=!Z||!Z[X]||!Z[X].findChild,at=function(t,e,r){var n=K(q,e);n&&delete q[e],$(t,e,r),n&&t!==q&&$(q,e,n)},st=u&&l(function(){return 7!==b($({},"a",{get:function(){return $(this,"a",{value:7}).a}})).a})?at:$,ut=function(t,e){var r=rt[t]=b(H);return G(r,{type:V,tag:t,description:e}),u||(r.description=e),r},ct=function(t,e,r){t===q&&ct(nt,e,r),p(t);var n=y(e);return p(r),f(rt,n)?(r.enumerable?(f(t,U)&&t[U][n]&&(t[U][n]=!1),r=b(r,{enumerable:m(0,!1)})):(f(t,U)||$(t,U,m(1,b(null))),t[U][n]=!0),st(t,n,r)):$(t,n,r)},lt=function(t,e){p(t);var r=d(e),n=g(r).concat(dt(r));return L(n,function(e){u&&!o(ft,r,e)||ct(t,e,r[e])}),t},ft=function(t){var e=y(t),r=o(tt,this,e);return!(this===q&&f(rt,e)&&!f(nt,e))&&(!(r||!f(this,e)||!f(rt,e)||f(this,U)&&this[U][e])||r)},ht=function(t,e){var r=d(t),n=y(e);if(r!==q||!f(rt,n)||f(nt,n)){var i=K(r,n);return!i||!f(rt,n)||f(r,U)&&r[U][n]||(i.enumerable=!0),i}},pt=function(t){var e=J(d(t)),r=[];return L(e,function(t){f(rt,t)||f(j,t)||et(r,t)}),r},dt=function(t){var e=t===q,r=J(e?nt:d(t)),n=[];return L(r,function(t){!f(rt,t)||e&&!f(q,t)||et(n,rt[t])}),n};c||(P(H=(W=function(){if(h(H,this))throw new Q("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?v(arguments[0]):void 0,e=I(t),r=function(t){var n=void 0===this?i:this;n===q&&o(r,nt,t),f(n,U)&&f(n[U],e)&&(n[U][e]=!1);var a=m(1,t);try{st(n,e,a)}catch(s){if(!(s instanceof z))throw s;at(n,e,a)}};return u&&ot&&st(q,e,{configurable:!0,set:r}),ut(e,t)})[X],"toString",function(){return Y(this).tag}),P(W,"withoutSetter",function(t){return ut(I(t),t)}),k.f=ft,E.f=ct,T.f=lt,_.f=ht,w.f=S.f=pt,x.f=dt,M.f=function(t){return ut(C(t),t)},u&&(O(H,"description",{configurable:!0,get:function(){return Y(this).description}}),s||P(q,"propertyIsEnumerable",ft,{unsafe:!0}))),n({global:!0,constructor:!0,wrap:!0,forced:!c,sham:!c},{Symbol:W}),L(g(it),function(t){D(t)}),n({target:V,stat:!0,forced:!c},{useSetter:function(){ot=!0},useSimple:function(){ot=!1}}),n({target:"Object",stat:!0,forced:!c,sham:!u},{create:function(t,e){return void 0===e?b(t):lt(b(t),e)},defineProperty:ct,defineProperties:lt,getOwnPropertyDescriptor:ht}),n({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:pt}),N(),B(W,V),j[U]=!0},53375191:(t,e,r)=>{"use strict";var n=r(33084182),i=r(97881036),o=r(95619008),a=r(92746832),s=r(26847425),u=r(6295189),c=r(43396857),l=r(31678159),f=r(83560634),h=r(87344268),p=o.Symbol,d=p&&p.prototype;if(i&&u(p)&&(!("description"in d)||void 0!==p().description)){var y={},v=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:l(arguments[0]),e=c(d,this)?new p(t):void 0===t?p():p(t);return""===t&&(y[e]=!0),e};h(v,p),v.prototype=d,d.constructor=v;var m="Symbol(description detection)"===String(p("description detection")),b=a(d.valueOf),g=a(d.toString),w=/^Symbol\((.*)\)[^)]+$/,S=a("".replace),x=a("".slice);f(d,"description",{configurable:!0,get:function(){var t=b(this);if(s(y,t))return"";var e=g(t),r=m?x(e,7,-1):S(e,w,"$1");return""===r?void 0:r}}),n({global:!0,constructor:!0,forced:!0},{Symbol:v})}},95142:(t,e,r)=>{"use strict";var n=r(33084182),i=r(60033783),o=r(26847425),a=r(31678159),s=r(96365585),u=r(47427840),c=s("string-to-symbol-registry"),l=s("symbol-to-string-registry");n({target:"Symbol",stat:!0,forced:!u},{for:function(t){var e=a(t);if(o(c,e))return c[e];var r=i("Symbol")(e);return c[e]=r,l[r]=e,r}})},73503923:(t,e,r)=>{"use strict";r(76322287)("iterator")},29204099:(t,e,r)=>{"use strict";r(66441449),r(95142),r(26691348),r(77276790),r(38235693)},26691348:(t,e,r)=>{"use strict";var n=r(33084182),i=r(26847425),o=r(93988325),a=r(71858391),s=r(96365585),u=r(47427840),c=s("symbol-to-string-registry");n({target:"Symbol",stat:!0,forced:!u},{keyFor:function(t){if(!o(t))throw new TypeError(a(t)+" is not a symbol");if(i(c,t))return c[t]}})},35669252:(t,e,r)=>{"use strict";var n=r(76322287),i=r(253922);n("toPrimitive"),i()},20211116:(t,e,r)=>{"use strict";var n=r(22204436),i=r(7793558),o=r(73390427),a=n.aTypedArray;(0,n.exportTypedArrayMethod)("at",function(t){var e=a(this),r=i(e),n=o(t),s=n>=0?n:r+n;return s<0||s>=r?void 0:e[s]})},6224830:(t,e,r)=>{"use strict";var n=r(92746832),i=r(22204436),o=n(r(71138149)),a=i.aTypedArray;(0,i.exportTypedArrayMethod)("copyWithin",function(t,e){return o(a(this),t,e,arguments.length>2?arguments[2]:void 0)})},18501354:(t,e,r)=>{"use strict";var n=r(22204436),i=r(39485517).every,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("every",function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)})},49912228:(t,e,r)=>{"use strict";var n=r(22204436),i=r(34213557),o=r(60795630),a=r(15357275),s=r(82185277),u=r(92746832),c=r(17964319),l=n.aTypedArray,f=n.exportTypedArrayMethod,h=u("".slice);f("fill",function(t){var e=arguments.length;l(this);var r="Big"===h(a(this),0,3)?o(t):+t;return s(i,this,r,e>1?arguments[1]:void 0,e>2?arguments[2]:void 0)},c(function(){var t=0;return new Int8Array(2).fill({valueOf:function(){return t++}}),1!==t}))},29762787:(t,e,r)=>{"use strict";var n=r(22204436),i=r(39485517).filter,o=r(63368693),a=n.aTypedArray;(0,n.exportTypedArrayMethod)("filter",function(t){var e=i(a(this),t,arguments.length>1?arguments[1]:void 0);return o(this,e)})},31353187:(t,e,r)=>{"use strict";var n=r(22204436),i=r(39485517).findIndex,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("findIndex",function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)})},7405150:(t,e,r)=>{"use strict";var n=r(22204436),i=r(15318911).findLastIndex,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("findLastIndex",function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)})},49433423:(t,e,r)=>{"use strict";var n=r(22204436),i=r(15318911).findLast,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("findLast",function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)})},87324110:(t,e,r)=>{"use strict";var n=r(22204436),i=r(39485517).find,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("find",function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)})},89766562:(t,e,r)=>{"use strict";r(71511855)("Float32",function(t){return function(e,r,n){return t(this,e,r,n)}})},76679030:(t,e,r)=>{"use strict";var n=r(22204436),i=r(39485517).forEach,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("forEach",function(t){i(o(this),t,arguments.length>1?arguments[1]:void 0)})},19352784:(t,e,r)=>{"use strict";var n=r(22204436),i=r(3239681).includes,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("includes",function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)})},283227:(t,e,r)=>{"use strict";var n=r(22204436),i=r(3239681).indexOf,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("indexOf",function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)})},70558731:(t,e,r)=>{"use strict";r(71511855)("Int16",function(t){return function(e,r,n){return t(this,e,r,n)}})},29071061:(t,e,r)=>{"use strict";r(71511855)("Int32",function(t){return function(e,r,n){return t(this,e,r,n)}})},34522210:(t,e,r)=>{"use strict";r(71511855)("Int8",function(t){return function(e,r,n){return t(this,e,r,n)}})},39512023:(t,e,r)=>{"use strict";var n=r(95619008),i=r(17964319),o=r(92746832),a=r(22204436),s=r(62951728),u=r(62248275)("iterator"),c=n.Uint8Array,l=o(s.values),f=o(s.keys),h=o(s.entries),p=a.aTypedArray,d=a.exportTypedArrayMethod,y=c&&c.prototype,v=!i(function(){y[u].call([1])}),m=!!y&&y.values&&y[u]===y.values&&"values"===y.values.name,b=function(){return l(p(this))};d("entries",function(){return h(p(this))},v),d("keys",function(){return f(p(this))},v),d("values",b,v||!m,{name:"values"}),d(u,b,v||!m,{name:"values"})},11753769:(t,e,r)=>{"use strict";var n=r(22204436),i=r(92746832),o=n.aTypedArray,a=n.exportTypedArrayMethod,s=i([].join);a("join",function(t){return s(o(this),t)})},9404124:(t,e,r)=>{"use strict";var n=r(22204436),i=r(12020825),o=r(18967483),a=n.aTypedArray;(0,n.exportTypedArrayMethod)("lastIndexOf",function(t){var e=arguments.length;return i(o,a(this),e>1?[t,arguments[1]]:[t])})},89875075:(t,e,r)=>{"use strict";var n=r(22204436),i=r(39485517).map,o=r(97877412),a=n.aTypedArray;(0,n.exportTypedArrayMethod)("map",function(t){return i(a(this),t,arguments.length>1?arguments[1]:void 0,function(t,e){return new(o(t))(e)})})},18381800:(t,e,r)=>{"use strict";var n=r(22204436),i=r(47667518).right,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("reduceRight",function(t){var e=arguments.length;return i(o(this),t,e,e>1?arguments[1]:void 0)})},40993271:(t,e,r)=>{"use strict";var n=r(22204436),i=r(47667518).left,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("reduce",function(t){var e=arguments.length;return i(o(this),t,e,e>1?arguments[1]:void 0)})},69967115:(t,e,r)=>{"use strict";var n=r(22204436),i=n.aTypedArray,o=n.exportTypedArrayMethod,a=Math.floor;o("reverse",function(){for(var t,e=this,r=i(e).length,n=a(r/2),o=0;o<n;)t=e[o],e[o++]=e[--r],e[r]=t;return e})},23549037:(t,e,r)=>{"use strict";var n=r(95619008),i=r(82185277),o=r(22204436),a=r(7793558),s=r(81238229),u=r(39045557),c=r(17964319),l=n.RangeError,f=n.Int8Array,h=f&&f.prototype,p=h&&h.set,d=o.aTypedArray,y=o.exportTypedArrayMethod,v=!c(function(){var t=new Uint8ClampedArray(2);return i(p,t,{length:1,0:3},1),3!==t[1]}),m=v&&o.NATIVE_ARRAY_BUFFER_VIEWS&&c(function(){var t=new f(2);return t.set(1),t.set("2",1),0!==t[0]||2!==t[1]});y("set",function(t){d(this);var e=s(arguments.length>1?arguments[1]:void 0,1),r=u(t);if(v)return i(p,this,r,e);var n=this.length,o=a(r),c=0;if(o+e>n)throw new l("Wrong length");for(;c<o;)this[e+c]=r[c++]},!v||m)},49032015:(t,e,r)=>{"use strict";var n=r(22204436),i=r(97877412),o=r(17964319),a=r(28654784),s=n.aTypedArray;(0,n.exportTypedArrayMethod)("slice",function(t,e){for(var r=a(s(this),t,e),n=i(this),o=0,u=r.length,c=new n(u);u>o;)c[o]=r[o++];return c},o(function(){new Int8Array(1).slice()}))},17179093:(t,e,r)=>{"use strict";var n=r(22204436),i=r(39485517).some,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("some",function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)})},28253461:(t,e,r)=>{"use strict";var n=r(95619008),i=r(54892980),o=r(17964319),a=r(45031050),s=r(88769624),u=r(22204436),c=r(61687661),l=r(92792579),f=r(19678175),h=r(78614711),p=u.aTypedArray,d=u.exportTypedArrayMethod,y=n.Uint16Array,v=y&&i(y.prototype.sort),m=!(!v||o(function(){v(new y(2),null)})&&o(function(){v(new y(2),{})})),b=!!v&&!o(function(){if(f)return f<74;if(c)return c<67;if(l)return!0;if(h)return h<602;var t,e,r=new y(516),n=Array(516);for(t=0;t<516;t++)e=t%4,r[t]=515-t,n[t]=t-2*e+3;for(v(r,function(t,e){return(t/4|0)-(e/4|0)}),t=0;t<516;t++)if(r[t]!==n[t])return!0});d("sort",function(t){return void 0!==t&&a(t),b?v(this,t):s(p(this),function(t){return function(e,r){return void 0!==t?+t(e,r)||0:r!=r?-1:e!=e?1:0===e&&0===r?1/e>0&&1/r<0?1:-1:e>r}}(t))},!b||m)},55692573:(t,e,r)=>{"use strict";var n=r(95619008),i=r(12020825),o=r(22204436),a=r(17964319),s=r(28654784),u=n.Int8Array,c=o.aTypedArray,l=o.exportTypedArrayMethod,f=[].toLocaleString,h=!!u&&a(function(){f.call(new u(1))});l("toLocaleString",function(){return i(f,h?s(c(this)):c(this),s(arguments))},a(function(){return[1,2].toLocaleString()!==new u([1,2]).toLocaleString()})||!a(function(){u.prototype.toLocaleString.call([1,2])}))},52899355:(t,e,r)=>{"use strict";var n=r(50880572),i=r(22204436),o=i.aTypedArray,a=i.exportTypedArrayMethod,s=i.getTypedArrayConstructor;a("toReversed",function(){return n(o(this),s(this))})},89433276:(t,e,r)=>{"use strict";var n=r(22204436),i=r(92746832),o=r(45031050),a=r(3548874),s=n.aTypedArray,u=n.getTypedArrayConstructor,c=n.exportTypedArrayMethod,l=i(n.TypedArrayPrototype.sort);c("toSorted",function(t){void 0!==t&&o(t);var e=s(this),r=a(u(e),e);return l(r,t)})},7478740:(t,e,r)=>{"use strict";var n=r(22204436).exportTypedArrayMethod,i=r(17964319),o=r(95619008),a=r(92746832),s=o.Uint8Array,u=s&&s.prototype||{},c=[].toString,l=a([].join);i(function(){c.call({})})&&(c=function(){return l(this)});var f=u.toString!==c;n("toString",c,f)},85890026:(t,e,r)=>{"use strict";r(71511855)("Uint16",function(t){return function(e,r,n){return t(this,e,r,n)}})},39780940:(t,e,r)=>{"use strict";r(71511855)("Uint32",function(t){return function(e,r,n){return t(this,e,r,n)}})},68168753:(t,e,r)=>{"use strict";r(71511855)("Uint8",function(t){return function(e,r,n){return t(this,e,r,n)}})},59364278:(t,e,r)=>{"use strict";r(71511855)("Uint8",function(t){return function(e,r,n){return t(this,e,r,n)}},!0)},40707609:(t,e,r)=>{"use strict";var n=r(61033912),i=r(22204436),o=r(26719143),a=r(73390427),s=r(60795630),u=i.aTypedArray,c=i.getTypedArrayConstructor,l=i.exportTypedArrayMethod,f=!!function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(t){return 8===t}}();l("with",{with:function(t,e){var r=u(this),i=a(t),l=o(r)?s(e):+e;return n(r,c(r),i,l)}}.with,!f)},78027336:(t,e,r)=>{"use strict";r(34408733)},47326777:(t,e,r)=>{"use strict";r(66513456)},26098537:(t,e,r)=>{"use strict";r(78151284)},10827376:(t,e,r)=>{"use strict";var n=r(33084182),i=r(95619008),o=r(60144823),a=r(32189351),s=r(6295189),u=r(2003331),c=r(83560634),l=r(74893328),f=r(17964319),h=r(26847425),p=r(62248275),d=r(20837561).IteratorPrototype,y=r(97881036),v=r(13599787),m="constructor",b="Iterator",g=p("toStringTag"),w=TypeError,S=i[b],x=v||!s(S)||S.prototype!==d||!f(function(){S({})}),_=function(){if(o(this,d),u(this)===d)throw new w("Abstract class Iterator not directly constructable")},E=function(t,e){y?c(d,t,{configurable:!0,get:function(){return e},set:function(e){if(a(this),this===d)throw new w("You can't redefine this property");h(this,t)?this[t]=e:l(this,t,e)}}):d[t]=e};h(d,g)||E(g,b),!x&&h(d,m)&&d[m]!==Object||E(m,_),_.prototype=d,n({global:!0,constructor:!0,forced:x},{Iterator:_})},98920207:(t,e,r)=>{"use strict";var n=r(33084182),i=r(66670348),o=r(45031050),a=r(32189351),s=r(43259527);n({target:"Iterator",proto:!0,real:!0},{every:function(t){a(this),o(t);var e=s(this),r=0;return!i(e,function(e,n){if(!t(e,r++))return n()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},83722648:(t,e,r)=>{"use strict";var n=r(33084182),i=r(82185277),o=r(45031050),a=r(32189351),s=r(43259527),u=r(2098918),c=r(32010847),l=r(13599787),f=u(function(){for(var t,e,r=this.iterator,n=this.predicate,o=this.next;;){if(t=a(i(o,r)),this.done=!!t.done)return;if(e=t.value,c(r,n,[e,this.counter++],!0))return e}});n({target:"Iterator",proto:!0,real:!0,forced:l},{filter:function(t){return a(this),o(t),new f(s(this),{predicate:t})}})},69616513:(t,e,r)=>{"use strict";var n=r(33084182),i=r(66670348),o=r(45031050),a=r(32189351),s=r(43259527);n({target:"Iterator",proto:!0,real:!0},{find:function(t){a(this),o(t);var e=s(this),r=0;return i(e,function(e,n){if(t(e,r++))return n(e)},{IS_RECORD:!0,INTERRUPTED:!0}).result}})},21313645:(t,e,r)=>{"use strict";var n=r(33084182),i=r(66670348),o=r(45031050),a=r(32189351),s=r(43259527);n({target:"Iterator",proto:!0,real:!0},{forEach:function(t){a(this),o(t);var e=s(this),r=0;i(e,function(e){t(e,r++)},{IS_RECORD:!0})}})},13223918:(t,e,r)=>{"use strict";var n=r(33084182),i=r(49133897);n({target:"Iterator",proto:!0,real:!0,forced:r(13599787)},{map:i})},34318408:(t,e,r)=>{"use strict";var n=r(33084182),i=r(66670348),o=r(45031050),a=r(32189351),s=r(43259527),u=TypeError;n({target:"Iterator",proto:!0,real:!0},{reduce:function(t){a(this),o(t);var e=s(this),r=arguments.length<2,n=r?void 0:arguments[1],c=0;if(i(e,function(e){r?(r=!1,n=e):n=t(n,e,c),c++},{IS_RECORD:!0}),r)throw new u("Reduce of empty iterator with no initial value");return n}})},58074670:(t,e,r)=>{"use strict";var n=r(33084182),i=r(66670348),o=r(45031050),a=r(32189351),s=r(43259527);n({target:"Iterator",proto:!0,real:!0},{some:function(t){a(this),o(t);var e=s(this),r=0;return i(e,function(e,n){if(t(e,r++))return n()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},1764963:(t,e,r)=>{"use strict";var n=r(33084182),i=r(32189351),o=r(66670348),a=r(43259527),s=[].push;n({target:"Iterator",proto:!0,real:!0},{toArray:function(){var t=[];return o(a(i(this)),s,{that:t,IS_RECORD:!0}),t}})},49684748:(t,e,r)=>{"use strict";var n=r(95619008),i=r(94191720),o=r(44313248),a=r(89176283),s=r(24415083),u=function(t){if(t&&t.forEach!==a)try{s(t,"forEach",a)}catch(e){t.forEach=a}};for(var c in i)i[c]&&u(n[c]&&n[c].prototype);u(o)},74018857:(t,e,r)=>{"use strict";var n=r(95619008),i=r(94191720),o=r(44313248),a=r(62951728),s=r(24415083),u=r(73627903),c=r(62248275)("iterator"),l=a.values,f=function(t,e){if(t){if(t[c]!==l)try{s(t,c,l)}catch(n){t[c]=l}if(u(t,e,!0),i[e])for(var r in a)if(t[r]!==a[r])try{s(t,r,a[r])}catch(n){t[r]=a[r]}}};for(var h in i)f(n[h]&&n[h].prototype,h);f(o,"DOMTokenList")},15063431:(t,e,r)=>{"use strict";var n=r(33084182),i=r(60033783),o=r(43802901),a=r(17964319),s=r(4546008),u=r(71873636),c=r(64767377).f,l=r(17917960),f=r(83560634),h=r(26847425),p=r(60144823),d=r(32189351),y=r(99968544),v=r(53102555),m=r(46604666),b=r(88844257),g=r(71814253),w=r(97881036),S=r(13599787),x="DOMException",_="DATA_CLONE_ERR",E=i("Error"),T=i(x)||function(){try{(new(i("MessageChannel")||o("worker_threads").MessageChannel)).port1.postMessage(new WeakMap)}catch(t){if(t.name===_&&25===t.code)return t.constructor}}(),k=T&&T.prototype,P=E.prototype,O=g.set,A=g.getterFor(x),R="stack"in new E(x),j=function(t){return h(m,t)&&m[t].m?m[t].c:0},I=function(){p(this,C);var t=arguments.length,e=v(t<1?void 0:arguments[0]),r=v(t<2?void 0:arguments[1],"Error"),n=j(r);if(O(this,{type:x,name:r,message:e,code:n}),w||(this.name=r,this.message=e,this.code=n),R){var i=new E(e);i.name=x,c(this,"stack",u(1,b(i.stack,1)))}},C=I.prototype=s(P),M=function(t){return{enumerable:!0,configurable:!0,get:t}},D=function(t){return M(function(){return A(this)[t]})};w&&(f(C,"code",D("code")),f(C,"message",D("message")),f(C,"name",D("name"))),c(C,"constructor",u(1,I));var N=a(function(){return!(new T instanceof E)}),B=N||a(function(){return P.toString!==y||"2: 1"!==String(new T(1,2))}),F=N||a(function(){return 25!==new T(1,"DataCloneError").code}),L=N||25!==T[_]||25!==k[_],U=S?B||F||L:N;n({global:!0,constructor:!0,forced:U},{DOMException:U?I:T});var V=i(x),X=V.prototype;for(var G in B&&(S||T===V)&&l(X,"toString",y),F&&w&&T===V&&f(X,"code",M(function(){return j(d(this).name)})),m)if(h(m,G)){var Y=m[G],q=Y.s,W=u(6,Y.c);h(V,q)||c(V,q,W),h(X,q)||c(X,q,W)}},54874387:(t,e,r)=>{"use strict";var n=r(33084182),i=r(95619008),o=r(60033783),a=r(71873636),s=r(64767377).f,u=r(26847425),c=r(60144823),l=r(14531263),f=r(53102555),h=r(46604666),p=r(88844257),d=r(97881036),y=r(13599787),v="DOMException",m=o("Error"),b=o(v),g=function(){c(this,w);var t=arguments.length,e=f(t<1?void 0:arguments[0]),r=f(t<2?void 0:arguments[1],"Error"),n=new b(e,r),i=new m(e);return i.name=v,s(n,"stack",a(1,p(i.stack,1))),l(n,this,g),n},w=g.prototype=b.prototype,S="stack"in new m(v),x="stack"in new b(1,2),_=b&&d&&Object.getOwnPropertyDescriptor(i,v),E=!(!_||_.writable&&_.configurable),T=S&&!E&&!x;n({global:!0,constructor:!0,forced:y||T},{DOMException:T?g:b});var k=o(v),P=k.prototype;if(P.constructor!==k)for(var O in y||s(P,"constructor",a(1,k)),h)if(u(h,O)){var A=h[O],R=A.s;u(k,R)||s(k,R,a(6,A.c))}},93949979:(t,e,r)=>{"use strict";var n=r(60033783),i="DOMException";r(73627903)(n(i),i)},85784678:(t,e,r)=>{"use strict";r(62951728),r(47103817);var n=r(33084182),i=r(95619008),o=r(7937517),a=r(60033783),s=r(82185277),u=r(92746832),c=r(97881036),l=r(59897048),f=r(17917960),h=r(83560634),p=r(34507415),d=r(73627903),y=r(10648170),v=r(71814253),m=r(60144823),b=r(6295189),g=r(26847425),w=r(22662608),S=r(15357275),x=r(32189351),_=r(75849826),E=r(31678159),T=r(4546008),k=r(71873636),P=r(3140833),O=r(29931715),A=r(71577793),R=r(69053340),j=r(62248275),I=r(88769624),C=j("iterator"),M="URLSearchParams",D=M+"Iterator",N=v.set,B=v.getterFor(M),F=v.getterFor(D),L=o("fetch"),U=o("Request"),V=o("Headers"),X=U&&U.prototype,G=V&&V.prototype,Y=i.TypeError,q=i.encodeURIComponent,W=String.fromCharCode,H=a("String","fromCodePoint"),z=parseInt,Q=u("".charAt),Z=u([].join),K=u([].push),$=u("".replace),J=u([].shift),tt=u([].splice),et=u("".split),rt=u("".slice),nt=u(/./.exec),it=/\+/g,ot=/^[0-9a-f]+$/i,at=function(t,e){var r=rt(t,e,e+2);return nt(ot,r)?z(r,16):NaN},st=function(t){for(var e=0,r=128;r>0&&0!==(t&r);r>>=1)e++;return e},ut=function(t){var e=null;switch(t.length){case 1:e=t[0];break;case 2:e=(31&t[0])<<6|63&t[1];break;case 3:e=(15&t[0])<<12|(63&t[1])<<6|63&t[2];break;case 4:e=(7&t[0])<<18|(63&t[1])<<12|(63&t[2])<<6|63&t[3]}return e>1114111?null:e},ct=function(t){for(var e=(t=$(t,it," ")).length,r="",n=0;n<e;){var i=Q(t,n);if("%"===i){if("%"===Q(t,n+1)||n+3>e){r+="%",n++;continue}var o=at(t,n+1);if(o!=o){r+=i,n++;continue}n+=2;var a=st(o);if(0===a)i=W(o);else{if(1===a||a>4){r+="",n++;continue}for(var s=[o],u=1;u<a&&!(++n+3>e||"%"!==Q(t,n));){var c=at(t,n+1);if(c!=c){n+=3;break}if(c>191||c<128)break;K(s,c),n+=2,u++}if(s.length!==a){r+="";continue}var l=ut(s);null===l?r+="":i=H(l)}}r+=i,n++}return r},lt=/[!'()~]|%20/g,ft={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},ht=function(t){return ft[t]},pt=function(t){return $(q(t),lt,ht)},dt=y(function(t,e){N(this,{type:D,target:B(t).entries,index:0,kind:e})},M,function(){var t=F(this),e=t.target,r=t.index++;if(!e||r>=e.length)return t.target=null,A(void 0,!0);var n=e[r];switch(t.kind){case"keys":return A(n.key,!1);case"values":return A(n.value,!1)}return A([n.key,n.value],!1)},!0),yt=function(t){this.entries=[],this.url=null,void 0!==t&&(_(t)?this.parseObject(t):this.parseQuery("string"==typeof t?"?"===Q(t,0)?rt(t,1):t:E(t)))};yt.prototype={type:M,bindURL:function(t){this.url=t,this.update()},parseObject:function(t){var e,r,n,i,o,a,u,c=this.entries,l=O(t);if(l)for(r=(e=P(t,l)).next;!(n=s(r,e)).done;){if(o=(i=P(x(n.value))).next,(a=s(o,i)).done||(u=s(o,i)).done||!s(o,i).done)throw new Y("Expected sequence with length 2");K(c,{key:E(a.value),value:E(u.value)})}else for(var f in t)g(t,f)&&K(c,{key:f,value:E(t[f])})},parseQuery:function(t){if(t)for(var e,r,n=this.entries,i=et(t,"&"),o=0;o<i.length;)(e=i[o++]).length&&(r=et(e,"="),K(n,{key:ct(J(r)),value:ct(Z(r,"="))}))},serialize:function(){for(var t,e=this.entries,r=[],n=0;n<e.length;)t=e[n++],K(r,pt(t.key)+"="+pt(t.value));return Z(r,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var vt=function(){m(this,mt);var t=N(this,new yt(arguments.length>0?arguments[0]:void 0));c||(this.size=t.entries.length)},mt=vt.prototype;if(p(mt,{append:function(t,e){var r=B(this);R(arguments.length,2),K(r.entries,{key:E(t),value:E(e)}),c||this.length++,r.updateURL()},delete:function(t){for(var e=B(this),r=R(arguments.length,1),n=e.entries,i=E(t),o=r<2?void 0:arguments[1],a=void 0===o?o:E(o),s=0;s<n.length;){var u=n[s];if(u.key!==i||void 0!==a&&u.value!==a)s++;else if(tt(n,s,1),void 0!==a)break}c||(this.size=n.length),e.updateURL()},get:function(t){var e=B(this).entries;R(arguments.length,1);for(var r=E(t),n=0;n<e.length;n++)if(e[n].key===r)return e[n].value;return null},getAll:function(t){var e=B(this).entries;R(arguments.length,1);for(var r=E(t),n=[],i=0;i<e.length;i++)e[i].key===r&&K(n,e[i].value);return n},has:function(t){for(var e=B(this).entries,r=R(arguments.length,1),n=E(t),i=r<2?void 0:arguments[1],o=void 0===i?i:E(i),a=0;a<e.length;){var s=e[a++];if(s.key===n&&(void 0===o||s.value===o))return!0}return!1},set:function(t,e){var r=B(this);R(arguments.length,1);for(var n,i=r.entries,o=!1,a=E(t),s=E(e),u=0;u<i.length;u++)(n=i[u]).key===a&&(o?tt(i,u--,1):(o=!0,n.value=s));o||K(i,{key:a,value:s}),c||(this.size=i.length),r.updateURL()},sort:function(){var t=B(this);I(t.entries,function(t,e){return t.key>e.key?1:-1}),t.updateURL()},forEach:function(t){for(var e,r=B(this).entries,n=w(t,arguments.length>1?arguments[1]:void 0),i=0;i<r.length;)n((e=r[i++]).value,e.key,this)},keys:function(){return new dt(this,"keys")},values:function(){return new dt(this,"values")},entries:function(){return new dt(this,"entries")}},{enumerable:!0}),f(mt,C,mt.entries,{name:"entries"}),f(mt,"toString",function(){return B(this).serialize()},{enumerable:!0}),c&&h(mt,"size",{get:function(){return B(this).entries.length},configurable:!0,enumerable:!0}),d(vt,M),n({global:!0,constructor:!0,forced:!l},{URLSearchParams:vt}),!l&&b(V)){var bt=u(G.has),gt=u(G.set),wt=function(t){if(_(t)){var e,r=t.body;if(S(r)===M)return e=t.headers?new V(t.headers):new V,bt(e,"content-type")||gt(e,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),T(t,{body:k(0,E(r)),headers:k(0,e)})}return t};if(b(L)&&n({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(t){return L(t,arguments.length>1?wt(arguments[1]):{})}}),b(U)){var St=function(t){return m(this,X),new U(t,arguments.length>1?wt(arguments[1]):{})};X.constructor=St,St.prototype=X,n({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:St})}}t.exports={URLSearchParams:vt,getState:B}},76138123:(t,e,r)=>{"use strict";var n=r(17917960),i=r(92746832),o=r(31678159),a=r(69053340),s=URLSearchParams,u=s.prototype,c=i(u.append),l=i(u.delete),f=i(u.forEach),h=i([].push),p=new s("a=1&a=2&b=3");p.delete("a",1),p.delete("b",void 0),p+""!="a=2"&&n(u,"delete",function(t){var e=arguments.length,r=e<2?void 0:arguments[1];if(e&&void 0===r)return l(this,t);var n=[];f(this,function(t,e){h(n,{key:e,value:t})}),a(e,1);for(var i,s=o(t),u=o(r),p=0,d=0,y=!1,v=n.length;p<v;)i=n[p++],y||i.key===s?(y=!0,l(this,i.key)):d++;for(;d<v;)(i=n[d++]).key===s&&i.value===u||c(this,i.key,i.value)},{enumerable:!0,unsafe:!0})},41181582:(t,e,r)=>{"use strict";var n=r(17917960),i=r(92746832),o=r(31678159),a=r(69053340),s=URLSearchParams,u=s.prototype,c=i(u.getAll),l=i(u.has),f=new s("a=1");!f.has("a",2)&&f.has("a",void 0)||n(u,"has",function(t){var e=arguments.length,r=e<2?void 0:arguments[1];if(e&&void 0===r)return l(this,t);var n=c(this,t);a(e,1);for(var i=o(r),s=0;s<n.length;)if(n[s++]===i)return!0;return!1},{enumerable:!0,unsafe:!0})},27045624:(t,e,r)=>{"use strict";r(85784678)},60645153:(t,e,r)=>{"use strict";var n=r(97881036),i=r(92746832),o=r(83560634),a=URLSearchParams.prototype,s=i(a.forEach);n&&!("size"in a)&&o(a,"size",{get:function(){var t=0;return s(this,function(){t++}),t},configurable:!0,enumerable:!0})},37229646:(t,e,r)=>{"use strict";r(32570708);var n,i=r(33084182),o=r(97881036),a=r(59897048),s=r(95619008),u=r(22662608),c=r(92746832),l=r(17917960),f=r(83560634),h=r(60144823),p=r(26847425),d=r(96213429),y=r(36473372),v=r(28654784),m=r(34745591).codeAt,b=r(18781221),g=r(31678159),w=r(73627903),S=r(69053340),x=r(85784678),_=r(71814253),E=_.set,T=_.getterFor("URL"),k=x.URLSearchParams,P=x.getState,O=s.URL,A=s.TypeError,R=s.parseInt,j=Math.floor,I=Math.pow,C=c("".charAt),M=c(/./.exec),D=c([].join),N=c(1..toString),B=c([].pop),F=c([].push),L=c("".replace),U=c([].shift),V=c("".split),X=c("".slice),G=c("".toLowerCase),Y=c([].unshift),q="Invalid scheme",W="Invalid host",H="Invalid port",z=/[a-z]/i,Q=/[\d+-.a-z]/i,Z=/\d/,K=/^0x/i,$=/^[0-7]+$/,J=/^\d+$/,tt=/^[\da-f]+$/i,et=/[\0\t\n\r #%/:<>?@[\\\]^|]/,rt=/[\0\t\n\r #/:<>?@[\\\]^|]/,nt=/^[\u0000-\u0020]+/,it=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,ot=/[\t\n\r]/g,at=function(t){var e,r,n,i;if("number"==typeof t){for(e=[],r=0;r<4;r++)Y(e,t%256),t=j(t/256);return D(e,".")}if("object"==typeof t){for(e="",n=function(t){for(var e=null,r=1,n=null,i=0,o=0;o<8;o++)0!==t[o]?(i>r&&(e=n,r=i),n=null,i=0):(null===n&&(n=o),++i);return i>r?n:e}(t),r=0;r<8;r++)i&&0===t[r]||(i&&(i=!1),n===r?(e+=r?":":"::",i=!0):(e+=N(t[r],16),r<7&&(e+=":")));return"["+e+"]"}return t},st={},ut=d({},st,{" ":1,'"':1,"<":1,">":1,"`":1}),ct=d({},ut,{"#":1,"?":1,"{":1,"}":1}),lt=d({},ct,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),ft=function(t,e){var r=m(t,0);return r>32&&r<127&&!p(e,t)?t:encodeURIComponent(t)},ht={ftp:21,file:null,http:80,https:443,ws:80,wss:443},pt=function(t,e){var r;return 2===t.length&&M(z,C(t,0))&&(":"===(r=C(t,1))||!e&&"|"===r)},dt=function(t){var e;return t.length>1&&pt(X(t,0,2))&&(2===t.length||"/"===(e=C(t,2))||"\\"===e||"?"===e||"#"===e)},yt=function(t){return"."===t||"%2e"===G(t)},vt=function(t){return".."===(t=G(t))||"%2e."===t||".%2e"===t||"%2e%2e"===t},mt={},bt={},gt={},wt={},St={},xt={},_t={},Et={},Tt={},kt={},Pt={},Ot={},At={},Rt={},jt={},It={},Ct={},Mt={},Dt={},Nt={},Bt={},Ft=function(t,e,r){var n,i,o,a=g(t);if(e){if(i=this.parse(a))throw new A(i);this.searchParams=null}else{if(void 0!==r&&(n=new Ft(r,!0)),i=this.parse(a,null,n))throw new A(i);(o=P(new k)).bindURL(this),this.searchParams=o}};Ft.prototype={type:"URL",parse:function(t,e,r){var i,o,a,s,u=this,c=e||mt,l=0,f="",h=!1,d=!1,m=!1;for(t=g(t),e||(u.scheme="",u.username="",u.password="",u.host=null,u.port=null,u.path=[],u.query=null,u.fragment=null,u.cannotBeABaseURL=!1,t=L(t,nt,""),t=L(t,it,"$1")),t=L(t,ot,""),i=y(t);l<=i.length;){switch(o=i[l],c){case mt:if(!o||!M(z,o)){if(e)return q;c=gt;continue}f+=G(o),c=bt;break;case bt:if(o&&(M(Q,o)||"+"===o||"-"===o||"."===o))f+=G(o);else{if(":"!==o){if(e)return q;f="",c=gt,l=0;continue}if(e&&(u.isSpecial()!==p(ht,f)||"file"===f&&(u.includesCredentials()||null!==u.port)||"file"===u.scheme&&!u.host))return;if(u.scheme=f,e)return void(u.isSpecial()&&ht[u.scheme]===u.port&&(u.port=null));f="","file"===u.scheme?c=Rt:u.isSpecial()&&r&&r.scheme===u.scheme?c=wt:u.isSpecial()?c=Et:"/"===i[l+1]?(c=St,l++):(u.cannotBeABaseURL=!0,F(u.path,""),c=Dt)}break;case gt:if(!r||r.cannotBeABaseURL&&"#"!==o)return q;if(r.cannotBeABaseURL&&"#"===o){u.scheme=r.scheme,u.path=v(r.path),u.query=r.query,u.fragment="",u.cannotBeABaseURL=!0,c=Bt;break}c="file"===r.scheme?Rt:xt;continue;case wt:if("/"!==o||"/"!==i[l+1]){c=xt;continue}c=Tt,l++;break;case St:if("/"===o){c=kt;break}c=Mt;continue;case xt:if(u.scheme=r.scheme,o===n)u.username=r.username,u.password=r.password,u.host=r.host,u.port=r.port,u.path=v(r.path),u.query=r.query;else if("/"===o||"\\"===o&&u.isSpecial())c=_t;else if("?"===o)u.username=r.username,u.password=r.password,u.host=r.host,u.port=r.port,u.path=v(r.path),u.query="",c=Nt;else{if("#"!==o){u.username=r.username,u.password=r.password,u.host=r.host,u.port=r.port,u.path=v(r.path),u.path.length--,c=Mt;continue}u.username=r.username,u.password=r.password,u.host=r.host,u.port=r.port,u.path=v(r.path),u.query=r.query,u.fragment="",c=Bt}break;case _t:if(!u.isSpecial()||"/"!==o&&"\\"!==o){if("/"!==o){u.username=r.username,u.password=r.password,u.host=r.host,u.port=r.port,c=Mt;continue}c=kt}else c=Tt;break;case Et:if(c=Tt,"/"!==o||"/"!==C(f,l+1))continue;l++;break;case Tt:if("/"!==o&&"\\"!==o){c=kt;continue}break;case kt:if("@"===o){h&&(f="%40"+f),h=!0,a=y(f);for(var b=0;b<a.length;b++){var w=a[b];if(":"!==w||m){var S=ft(w,lt);m?u.password+=S:u.username+=S}else m=!0}f=""}else if(o===n||"/"===o||"?"===o||"#"===o||"\\"===o&&u.isSpecial()){if(h&&""===f)return"Invalid authority";l-=y(f).length+1,f="",c=Pt}else f+=o;break;case Pt:case Ot:if(e&&"file"===u.scheme){c=It;continue}if(":"!==o||d){if(o===n||"/"===o||"?"===o||"#"===o||"\\"===o&&u.isSpecial()){if(u.isSpecial()&&""===f)return W;if(e&&""===f&&(u.includesCredentials()||null!==u.port))return;if(s=u.parseHost(f))return s;if(f="",c=Ct,e)return;continue}"["===o?d=!0:"]"===o&&(d=!1),f+=o}else{if(""===f)return W;if(s=u.parseHost(f))return s;if(f="",c=At,e===Ot)return}break;case At:if(!M(Z,o)){if(o===n||"/"===o||"?"===o||"#"===o||"\\"===o&&u.isSpecial()||e){if(""!==f){var x=R(f,10);if(x>65535)return H;u.port=u.isSpecial()&&x===ht[u.scheme]?null:x,f=""}if(e)return;c=Ct;continue}return H}f+=o;break;case Rt:if(u.scheme="file","/"===o||"\\"===o)c=jt;else{if(!r||"file"!==r.scheme){c=Mt;continue}switch(o){case n:u.host=r.host,u.path=v(r.path),u.query=r.query;break;case"?":u.host=r.host,u.path=v(r.path),u.query="",c=Nt;break;case"#":u.host=r.host,u.path=v(r.path),u.query=r.query,u.fragment="",c=Bt;break;default:dt(D(v(i,l),""))||(u.host=r.host,u.path=v(r.path),u.shortenPath()),c=Mt;continue}}break;case jt:if("/"===o||"\\"===o){c=It;break}r&&"file"===r.scheme&&!dt(D(v(i,l),""))&&(pt(r.path[0],!0)?F(u.path,r.path[0]):u.host=r.host),c=Mt;continue;case It:if(o===n||"/"===o||"\\"===o||"?"===o||"#"===o){if(!e&&pt(f))c=Mt;else if(""===f){if(u.host="",e)return;c=Ct}else{if(s=u.parseHost(f))return s;if("localhost"===u.host&&(u.host=""),e)return;f="",c=Ct}continue}f+=o;break;case Ct:if(u.isSpecial()){if(c=Mt,"/"!==o&&"\\"!==o)continue}else if(e||"?"!==o)if(e||"#"!==o){if(o!==n&&(c=Mt,"/"!==o))continue}else u.fragment="",c=Bt;else u.query="",c=Nt;break;case Mt:if(o===n||"/"===o||"\\"===o&&u.isSpecial()||!e&&("?"===o||"#"===o)){if(vt(f)?(u.shortenPath(),"/"===o||"\\"===o&&u.isSpecial()||F(u.path,"")):yt(f)?"/"===o||"\\"===o&&u.isSpecial()||F(u.path,""):("file"===u.scheme&&!u.path.length&&pt(f)&&(u.host&&(u.host=""),f=C(f,0)+":"),F(u.path,f)),f="","file"===u.scheme&&(o===n||"?"===o||"#"===o))for(;u.path.length>1&&""===u.path[0];)U(u.path);"?"===o?(u.query="",c=Nt):"#"===o&&(u.fragment="",c=Bt)}else f+=ft(o,ct);break;case Dt:"?"===o?(u.query="",c=Nt):"#"===o?(u.fragment="",c=Bt):o!==n&&(u.path[0]+=ft(o,st));break;case Nt:e||"#"!==o?o!==n&&("'"===o&&u.isSpecial()?u.query+="%27":u.query+="#"===o?"%23":ft(o,st)):(u.fragment="",c=Bt);break;case Bt:o!==n&&(u.fragment+=ft(o,ut))}l++}},parseHost:function(t){var e,r,n;if("["===C(t,0)){if("]"!==C(t,t.length-1))return W;if(e=function(t){var e,r,n,i,o,a,s,u=[0,0,0,0,0,0,0,0],c=0,l=null,f=0,h=function(){return C(t,f)};if(":"===h()){if(":"!==C(t,1))return;f+=2,l=++c}for(;h();){if(8===c)return;if(":"!==h()){for(e=r=0;r<4&&M(tt,h());)e=16*e+R(h(),16),f++,r++;if("."===h()){if(0===r)return;if(f-=r,c>6)return;for(n=0;h();){if(i=null,n>0){if(!("."===h()&&n<4))return;f++}if(!M(Z,h()))return;for(;M(Z,h());){if(o=R(h(),10),null===i)i=o;else{if(0===i)return;i=10*i+o}if(i>255)return;f++}u[c]=256*u[c]+i,2!==++n&&4!==n||c++}if(4!==n)return;break}if(":"===h()){if(f++,!h())return}else if(h())return;u[c++]=e}else{if(null!==l)return;f++,l=++c}}if(null!==l)for(a=c-l,c=7;0!==c&&a>0;)s=u[c],u[c--]=u[l+a-1],u[l+--a]=s;else if(8!==c)return;return u}(X(t,1,-1)),!e)return W;this.host=e}else if(this.isSpecial()){if(t=b(t),M(et,t))return W;if(e=function(t){var e,r,n,i,o,a,s,u=V(t,".");if(u.length&&""===u[u.length-1]&&u.length--,(e=u.length)>4)return t;for(r=[],n=0;n<e;n++){if(""===(i=u[n]))return t;if(o=10,i.length>1&&"0"===C(i,0)&&(o=M(K,i)?16:8,i=X(i,8===o?1:2)),""===i)a=0;else{if(!M(10===o?J:8===o?$:tt,i))return t;a=R(i,o)}F(r,a)}for(n=0;n<e;n++)if(a=r[n],n===e-1){if(a>=I(256,5-e))return null}else if(a>255)return null;for(s=B(r),n=0;n<r.length;n++)s+=r[n]*I(256,3-n);return s}(t),null===e)return W;this.host=e}else{if(M(rt,t))return W;for(e="",r=y(t),n=0;n<r.length;n++)e+=ft(r[n],st);this.host=e}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"===this.scheme},includesCredentials:function(){return""!==this.username||""!==this.password},isSpecial:function(){return p(ht,this.scheme)},shortenPath:function(){var t=this.path,e=t.length;!e||"file"===this.scheme&&1===e&&pt(t[0],!0)||t.length--},serialize:function(){var t=this,e=t.scheme,r=t.username,n=t.password,i=t.host,o=t.port,a=t.path,s=t.query,u=t.fragment,c=e+":";return null!==i?(c+="//",t.includesCredentials()&&(c+=r+(n?":"+n:"")+"@"),c+=at(i),null!==o&&(c+=":"+o)):"file"===e&&(c+="//"),c+=t.cannotBeABaseURL?a[0]:a.length?"/"+D(a,"/"):"",null!==s&&(c+="?"+s),null!==u&&(c+="#"+u),c},setHref:function(t){var e=this.parse(t);if(e)throw new A(e);this.searchParams.update()},getOrigin:function(){var t=this.scheme,e=this.port;if("blob"===t)try{return new Lt(t.path[0]).origin}catch(r){return"null"}return"file"!==t&&this.isSpecial()?t+"://"+at(this.host)+(null!==e?":"+e:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(t){this.parse(g(t)+":",mt)},getUsername:function(){return this.username},setUsername:function(t){var e=y(g(t));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var r=0;r<e.length;r++)this.username+=ft(e[r],lt)}},getPassword:function(){return this.password},setPassword:function(t){var e=y(g(t));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var r=0;r<e.length;r++)this.password+=ft(e[r],lt)}},getHost:function(){var t=this.host,e=this.port;return null===t?"":null===e?at(t):at(t)+":"+e},setHost:function(t){this.cannotBeABaseURL||this.parse(t,Pt)},getHostname:function(){var t=this.host;return null===t?"":at(t)},setHostname:function(t){this.cannotBeABaseURL||this.parse(t,Ot)},getPort:function(){var t=this.port;return null===t?"":g(t)},setPort:function(t){this.cannotHaveUsernamePasswordPort()||(""===(t=g(t))?this.port=null:this.parse(t,At))},getPathname:function(){var t=this.path;return this.cannotBeABaseURL?t[0]:t.length?"/"+D(t,"/"):""},setPathname:function(t){this.cannotBeABaseURL||(this.path=[],this.parse(t,Ct))},getSearch:function(){var t=this.query;return t?"?"+t:""},setSearch:function(t){""===(t=g(t))?this.query=null:("?"===C(t,0)&&(t=X(t,1)),this.query="",this.parse(t,Nt)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var t=this.fragment;return t?"#"+t:""},setHash:function(t){""!==(t=g(t))?("#"===C(t,0)&&(t=X(t,1)),this.fragment="",this.parse(t,Bt)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Lt=function(t){var e=h(this,Ut),r=S(arguments.length,1)>1?arguments[1]:void 0,n=E(e,new Ft(t,!1,r));o||(e.href=n.serialize(),e.origin=n.getOrigin(),e.protocol=n.getProtocol(),e.username=n.getUsername(),e.password=n.getPassword(),e.host=n.getHost(),e.hostname=n.getHostname(),e.port=n.getPort(),e.pathname=n.getPathname(),e.search=n.getSearch(),e.searchParams=n.getSearchParams(),e.hash=n.getHash())},Ut=Lt.prototype,Vt=function(t,e){return{get:function(){return T(this)[t]()},set:e&&function(t){return T(this)[e](t)},configurable:!0,enumerable:!0}};if(o&&(f(Ut,"href",Vt("serialize","setHref")),f(Ut,"origin",Vt("getOrigin")),f(Ut,"protocol",Vt("getProtocol","setProtocol")),f(Ut,"username",Vt("getUsername","setUsername")),f(Ut,"password",Vt("getPassword","setPassword")),f(Ut,"host",Vt("getHost","setHost")),f(Ut,"hostname",Vt("getHostname","setHostname")),f(Ut,"port",Vt("getPort","setPort")),f(Ut,"pathname",Vt("getPathname","setPathname")),f(Ut,"search",Vt("getSearch","setSearch")),f(Ut,"searchParams",Vt("getSearchParams")),f(Ut,"hash",Vt("getHash","setHash"))),l(Ut,"toJSON",function(){return T(this).serialize()},{enumerable:!0}),l(Ut,"toString",function(){return T(this).serialize()},{enumerable:!0}),O){var Xt=O.createObjectURL,Gt=O.revokeObjectURL;Xt&&l(Lt,"createObjectURL",u(Xt,O)),Gt&&l(Lt,"revokeObjectURL",u(Gt,O))}w(Lt,"URL"),i({global:!0,constructor:!0,forced:!a,sham:!o},{URL:Lt})},26246976:(t,e,r)=>{"use strict";r(37229646)},87910984:(t,e,r)=>{"use strict";var n=r(33084182),i=r(82185277);n({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return i(URL.prototype.toString,this)}})},53461495:(t,e,r)=>{"use strict";var n,i=r(45773503),o=r(13664728);try{n=[].__proto__===Array.prototype}catch(c){if(!c||"object"!=typeof c||!("code"in c)||"ERR_PROTO_ACCESS"!==c.code)throw c}var a=!!n&&o&&o(Object.prototype,"__proto__"),s=Object,u=s.getPrototypeOf;t.exports=a&&"function"==typeof a.get?i([a.get]):"function"==typeof u&&function(t){return u(null==t?t:s(t))}},34496087:t=>{"use strict";function e(t,e,n){n=n||2;var o,a,s,u,f,h,d,y=e&&e.length,v=y?e[0]*n:t.length,m=r(t,0,v,n,!0),b=[];if(!m||m.next===m.prev)return b;if(y&&(m=function(t,e,n,i){var o,a,s,u=[];for(o=0,a=e.length;o<a;o++)(s=r(t,e[o]*i,o<a-1?e[o+1]*i:t.length,i,!1))===s.next&&(s.steiner=!0),u.push(p(s));for(u.sort(c),o=0;o<u.length;o++)n=l(u[o],n);return n}(t,e,m,n)),t.length>80*n){o=s=t[0],a=u=t[1];for(var g=n;g<v;g+=n)(f=t[g])<o&&(o=f),(h=t[g+1])<a&&(a=h),f>s&&(s=f),h>u&&(u=h);d=0!==(d=Math.max(s-o,u-a))?32767/d:0}return i(m,b,n,o,a,d,0),b}function r(t,e,r,n,i){var o,a;if(i===k(t,e,r,n)>0)for(o=e;o<r;o+=n)a=_(o,t[o],t[o+1],a);else for(o=r-n;o>=e;o-=n)a=_(o,t[o],t[o+1],a);return a&&m(a,a.next)&&(E(a),a=a.next),a}function n(t,e){if(!t)return t;e||(e=t);var r,n=t;do{if(r=!1,n.steiner||!m(n,n.next)&&0!==v(n.prev,n,n.next))n=n.next;else{if(E(n),(n=e=n.prev)===n.next)break;r=!0}}while(r||n!==e);return e}function i(t,e,r,c,l,f,p){if(t){!p&&f&&function(t,e,r,n){var i=t;do{0===i.z&&(i.z=h(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,r,n,i,o,a,s,u,c=1;do{for(r=t,t=null,o=null,a=0;r;){for(a++,n=r,s=0,e=0;e<c&&(s++,n=n.nextZ);e++);for(u=c;s>0||u>0&&n;)0!==s&&(0===u||!n||r.z<=n.z)?(i=r,r=r.nextZ,s--):(i=n,n=n.nextZ,u--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;r=n}o.nextZ=null,c*=2}while(a>1)}(i)}(t,c,l,f);for(var d,y,v=t;t.prev!==t.next;)if(d=t.prev,y=t.next,f?a(t,c,l,f):o(t))e.push(d.i/r|0),e.push(t.i/r|0),e.push(y.i/r|0),E(t),t=y.next,v=y.next;else if((t=y)===v){p?1===p?i(t=s(n(t),e,r),e,r,c,l,f,2):2===p&&u(t,e,r,c,l,f):i(n(t),e,r,c,l,f,1);break}}}function o(t){var e=t.prev,r=t,n=t.next;if(v(e,r,n)>=0)return!1;for(var i=e.x,o=r.x,a=n.x,s=e.y,u=r.y,c=n.y,l=i<o?i<a?i:a:o<a?o:a,f=s<u?s<c?s:c:u<c?u:c,h=i>o?i>a?i:a:o>a?o:a,p=s>u?s>c?s:c:u>c?u:c,y=n.next;y!==e;){if(y.x>=l&&y.x<=h&&y.y>=f&&y.y<=p&&d(i,s,o,u,a,c,y.x,y.y)&&v(y.prev,y,y.next)>=0)return!1;y=y.next}return!0}function a(t,e,r,n){var i=t.prev,o=t,a=t.next;if(v(i,o,a)>=0)return!1;for(var s=i.x,u=o.x,c=a.x,l=i.y,f=o.y,p=a.y,y=s<u?s<c?s:c:u<c?u:c,m=l<f?l<p?l:p:f<p?f:p,b=s>u?s>c?s:c:u>c?u:c,g=l>f?l>p?l:p:f>p?f:p,w=h(y,m,e,r,n),S=h(b,g,e,r,n),x=t.prevZ,_=t.nextZ;x&&x.z>=w&&_&&_.z<=S;){if(x.x>=y&&x.x<=b&&x.y>=m&&x.y<=g&&x!==i&&x!==a&&d(s,l,u,f,c,p,x.x,x.y)&&v(x.prev,x,x.next)>=0)return!1;if(x=x.prevZ,_.x>=y&&_.x<=b&&_.y>=m&&_.y<=g&&_!==i&&_!==a&&d(s,l,u,f,c,p,_.x,_.y)&&v(_.prev,_,_.next)>=0)return!1;_=_.nextZ}for(;x&&x.z>=w;){if(x.x>=y&&x.x<=b&&x.y>=m&&x.y<=g&&x!==i&&x!==a&&d(s,l,u,f,c,p,x.x,x.y)&&v(x.prev,x,x.next)>=0)return!1;x=x.prevZ}for(;_&&_.z<=S;){if(_.x>=y&&_.x<=b&&_.y>=m&&_.y<=g&&_!==i&&_!==a&&d(s,l,u,f,c,p,_.x,_.y)&&v(_.prev,_,_.next)>=0)return!1;_=_.nextZ}return!0}function s(t,e,r){var i=t;do{var o=i.prev,a=i.next.next;!m(o,a)&&b(o,i,i.next,a)&&S(o,a)&&S(a,o)&&(e.push(o.i/r|0),e.push(i.i/r|0),e.push(a.i/r|0),E(i),E(i.next),i=t=a),i=i.next}while(i!==t);return n(i)}function u(t,e,r,o,a,s){var u=t;do{for(var c=u.next.next;c!==u.prev;){if(u.i!==c.i&&y(u,c)){var l=x(u,c);return u=n(u,u.next),l=n(l,l.next),i(u,e,r,o,a,s,0),void i(l,e,r,o,a,s,0)}c=c.next}u=u.next}while(u!==t)}function c(t,e){return t.x-e.x}function l(t,e){var r=function(t,e){var r,n=e,i=t.x,o=t.y,a=-1/0;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){var s=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(s<=i&&s>a&&(a=s,r=n.x<n.next.x?n:n.next,s===i))return r}n=n.next}while(n!==e);if(!r)return null;var u,c=r,l=r.x,h=r.y,p=1/0;n=r;do{i>=n.x&&n.x>=l&&i!==n.x&&d(o<h?i:a,o,l,h,o<h?a:i,o,n.x,n.y)&&(u=Math.abs(o-n.y)/(i-n.x),S(n,t)&&(u<p||u===p&&(n.x>r.x||n.x===r.x&&f(r,n)))&&(r=n,p=u)),n=n.next}while(n!==c);return r}(t,e);if(!r)return e;var i=x(r,t);return n(i,i.next),n(r,r.next)}function f(t,e){return v(t.prev,t,e.prev)<0&&v(e.next,t,t.next)<0}function h(t,e,r,n,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-r)*i|0)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*i|0)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function p(t){var e=t,r=t;do{(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next}while(e!==t);return r}function d(t,e,r,n,i,o,a,s){return(i-a)*(e-s)>=(t-a)*(o-s)&&(t-a)*(n-s)>=(r-a)*(e-s)&&(r-a)*(o-s)>=(i-a)*(n-s)}function y(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&b(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}(t,e)&&(S(t,e)&&S(e,t)&&function(t,e){var r=t,n=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{r.y>o!=r.next.y>o&&r.next.y!==r.y&&i<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next}while(r!==t);return n}(t,e)&&(v(t.prev,t,e.prev)||v(t,e.prev,e))||m(t,e)&&v(t.prev,t,t.next)>0&&v(e.prev,e,e.next)>0)}function v(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function m(t,e){return t.x===e.x&&t.y===e.y}function b(t,e,r,n){var i=w(v(t,e,r)),o=w(v(t,e,n)),a=w(v(r,n,t)),s=w(v(r,n,e));return i!==o&&a!==s||(!(0!==i||!g(t,r,e))||(!(0!==o||!g(t,n,e))||(!(0!==a||!g(r,t,n))||!(0!==s||!g(r,e,n)))))}function g(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function w(t){return t>0?1:t<0?-1:0}function S(t,e){return v(t.prev,t,t.next)<0?v(t,e,t.next)>=0&&v(t,t.prev,e)>=0:v(t,e,t.prev)<0||v(t,t.next,e)<0}function x(t,e){var r=new T(t.i,t.x,t.y),n=new T(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,o.next=n,n.prev=o,n}function _(t,e,r,n){var i=new T(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function E(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function T(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function k(t,e,r,n){for(var i=0,o=e,a=r-n;o<r;o+=n)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}t.exports=e,t.exports.default=e,e.deviation=function(t,e,r,n){var i=e&&e.length,o=i?e[0]*r:t.length,a=Math.abs(k(t,0,o,r));if(i)for(var s=0,u=e.length;s<u;s++){var c=e[s]*r,l=s<u-1?e[s+1]*r:t.length;a-=Math.abs(k(t,c,l,r))}var f=0;for(s=0;s<n.length;s+=3){var h=n[s]*r,p=n[s+1]*r,d=n[s+2]*r;f+=Math.abs((t[h]-t[d])*(t[p+1]-t[h+1])-(t[h]-t[p])*(t[d+1]-t[h+1]))}return 0===a&&0===f?0:Math.abs((f-a)/a)},e.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var a=0;a<e;a++)r.vertices.push(t[i][o][a]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r}},43117932:t=>{"use strict";var e=Object.defineProperty||!1;if(e)try{e({},"a",{value:1})}catch(r){e=!1}t.exports=e},57927190:t=>{"use strict";t.exports=EvalError},71582254:t=>{"use strict";t.exports=Error},11565123:t=>{"use strict";t.exports=RangeError},5450079:t=>{"use strict";t.exports=ReferenceError},72840579:t=>{"use strict";t.exports=SyntaxError},70638380:t=>{"use strict";t.exports=TypeError},98146956:t=>{"use strict";t.exports=URIError},88121501:t=>{"use strict";t.exports=Object},93745338:t=>{"use strict";var e=Object.prototype.toString,r=Math.max,n=function(t,e){for(var r=[],n=0;n<t.length;n+=1)r[n]=t[n];for(var i=0;i<e.length;i+=1)r[i+t.length]=e[i];return r};t.exports=function(t){var i=this;if("function"!=typeof i||"[object Function]"!==e.apply(i))throw new TypeError("Function.prototype.bind called on incompatible "+i);for(var o,a=function(t,e){for(var r=[],n=e||0,i=0;n<t.length;n+=1,i+=1)r[i]=t[n];return r}(arguments,1),s=r(0,i.length-a.length),u=[],c=0;c<s;c++)u[c]="$"+c;if(o=Function("binder","return function ("+function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r}(u,",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof o){var e=i.apply(this,n(a,arguments));return Object(e)===e?e:this}return i.apply(t,n(a,arguments))}),i.prototype){var l=function(){};l.prototype=i.prototype,o.prototype=new l,l.prototype=null}return o}},21907650:(t,e,r)=>{"use strict";var n=r(93745338);t.exports=Function.prototype.bind||n},71811760:(t,e,r)=>{"use strict";var n,i=r(88121501),o=r(71582254),a=r(57927190),s=r(11565123),u=r(5450079),c=r(72840579),l=r(70638380),f=r(98146956),h=r(4258447),p=r(60064337),d=r(94875329),y=r(69960019),v=r(41187817),m=r(21388103),b=r(29558898),g=Function,w=function(t){try{return g('"use strict"; return ('+t+").constructor;")()}catch(e){}},S=r(13664728),x=r(43117932),_=function(){throw new l},E=S?function(){try{return _}catch(t){try{return S(arguments,"callee").get}catch(e){return _}}}():_,T=r(95181078)(),k=r(16714273),P=r(86803745),O=r(30536355),A=r(69885103),R=r(51820883),j={},I="undefined"!=typeof Uint8Array&&k?k(Uint8Array):n,C={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":T&&k?k([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":j,"%AsyncGenerator%":j,"%AsyncGeneratorFunction%":j,"%AsyncIteratorPrototype%":j,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?n:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?n:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":o,"%eval%":eval,"%EvalError%":a,"%Float16Array%":"undefined"==typeof Float16Array?n:Float16Array,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":g,"%GeneratorFunction%":j,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":T&&k?k(k([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&T&&k?k((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":i,"%Object.getOwnPropertyDescriptor%":S,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":s,"%ReferenceError%":u,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&T&&k?k((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":T&&k?k(""[Symbol.iterator]()):n,"%Symbol%":T?Symbol:n,"%SyntaxError%":c,"%ThrowTypeError%":E,"%TypedArray%":I,"%TypeError%":l,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":f,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet,"%Function.prototype.call%":R,"%Function.prototype.apply%":A,"%Object.defineProperty%":x,"%Object.getPrototypeOf%":P,"%Math.abs%":h,"%Math.floor%":p,"%Math.max%":d,"%Math.min%":y,"%Math.pow%":v,"%Math.round%":m,"%Math.sign%":b,"%Reflect.getPrototypeOf%":O};if(k)try{null.error}catch(H){var M=k(k(H));C["%Error.prototype%"]=M}var D=function t(e){var r;if("%AsyncFunction%"===e)r=w("async function () {}");else if("%GeneratorFunction%"===e)r=w("function* () {}");else if("%AsyncGeneratorFunction%"===e)r=w("async function* () {}");else if("%AsyncGenerator%"===e){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===e){var i=t("%AsyncGenerator%");i&&k&&(r=k(i.prototype))}return C[e]=r,r},N={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},B=r(21907650),F=r(62038010),L=B.call(R,Array.prototype.concat),U=B.call(A,Array.prototype.splice),V=B.call(R,String.prototype.replace),X=B.call(R,String.prototype.slice),G=B.call(R,RegExp.prototype.exec),Y=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,q=/\\(\\)?/g,W=function(t,e){var r,n=t;if(F(N,n)&&(n="%"+(r=N[n])[0]+"%"),F(C,n)){var i=C[n];if(i===j&&(i=D(n)),void 0===i&&!e)throw new l("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:i}}throw new c("intrinsic "+t+" does not exist!")};t.exports=function(t,e){if("string"!=typeof t||0===t.length)throw new l("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new l('"allowMissing" argument must be a boolean');if(null===G(/^%?[^%]*%?$/,t))throw new c("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=function(t){var e=X(t,0,1),r=X(t,-1);if("%"===e&&"%"!==r)throw new c("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==e)throw new c("invalid intrinsic syntax, expected opening `%`");var n=[];return V(t,Y,function(t,e,r,i){n[n.length]=r?V(i,q,"$1"):e||t}),n}(t),n=r.length>0?r[0]:"",i=W("%"+n+"%",e),o=i.name,a=i.value,s=!1,u=i.alias;u&&(n=u[0],U(r,L([0,1],u)));for(var f=1,h=!0;f<r.length;f+=1){var p=r[f],d=X(p,0,1),y=X(p,-1);if(('"'===d||"'"===d||"`"===d||'"'===y||"'"===y||"`"===y)&&d!==y)throw new c("property names with quotes must have matching quotes");if("constructor"!==p&&h||(s=!0),F(C,o="%"+(n+="."+p)+"%"))a=C[o];else if(null!=a){if(!(p in a)){if(!e)throw new l("base intrinsic for "+t+" exists, but the property is not available.");return}if(S&&f+1>=r.length){var v=S(a,p);a=(h=!!v)&&"get"in v&&!("originalValue"in v.get)?v.get:a[p]}else h=F(a,p),a=a[p];h&&!s&&(C[o]=a)}}return a}},86803745:(t,e,r)=>{"use strict";var n=r(88121501);t.exports=n.getPrototypeOf||null},30536355:t=>{"use strict";t.exports="undefined"!=typeof Reflect&&Reflect.getPrototypeOf||null},16714273:(t,e,r)=>{"use strict";var n=r(30536355),i=r(86803745),o=r(53461495);t.exports=n?function(t){return n(t)}:i?function(t){if(!t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("getProto: not an object");return i(t)}:o?function(t){return o(t)}:null},74037580:t=>{"use strict";t.exports=Object.getOwnPropertyDescriptor},13664728:(t,e,r)=>{"use strict";var n=r(74037580);if(n)try{n([],"length")}catch(i){n=null}t.exports=n},95181078:(t,e,r)=>{"use strict";var n="undefined"!=typeof Symbol&&Symbol,i=r(92529084);t.exports=function(){return"function"==typeof n&&("function"==typeof Symbol&&("symbol"==typeof n("foo")&&("symbol"==typeof Symbol("bar")&&i())))}},92529084:t=>{"use strict";t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),r=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(var n in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var i=Object.getOwnPropertySymbols(t);if(1!==i.length||i[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(t,e);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},62038010:(t,e,r)=>{"use strict";var n=Function.prototype.call,i=Object.prototype.hasOwnProperty,o=r(21907650);t.exports=o.call(n,i)},4258447:t=>{"use strict";t.exports=Math.abs},60064337:t=>{"use strict";t.exports=Math.floor},43131478:t=>{"use strict";t.exports=Number.isNaN||function(t){return t!=t}},94875329:t=>{"use strict";t.exports=Math.max},69960019:t=>{"use strict";t.exports=Math.min},41187817:t=>{"use strict";t.exports=Math.pow},21388103:t=>{"use strict";t.exports=Math.round},29558898:(t,e,r)=>{"use strict";var n=r(43131478);t.exports=function(t){return n(t)||0===t?t:t<0?-1:1}},23222836:(t,e,r)=>{var n="function"==typeof Map&&Map.prototype,i=Object.getOwnPropertyDescriptor&&n?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,o=n&&i&&"function"==typeof i.get?i.get:null,a=n&&Map.prototype.forEach,s="function"==typeof Set&&Set.prototype,u=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,c=s&&u&&"function"==typeof u.get?u.get:null,l=s&&Set.prototype.forEach,f="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,h="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,p="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,d=Boolean.prototype.valueOf,y=Object.prototype.toString,v=Function.prototype.toString,m=String.prototype.match,b=String.prototype.slice,g=String.prototype.replace,w=String.prototype.toUpperCase,S=String.prototype.toLowerCase,x=RegExp.prototype.test,_=Array.prototype.concat,E=Array.prototype.join,T=Array.prototype.slice,k=Math.floor,P="function"==typeof BigInt?BigInt.prototype.valueOf:null,O=Object.getOwnPropertySymbols,A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,R="function"==typeof Symbol&&"object"==typeof Symbol.iterator,j="function"==typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===R||"symbol")?Symbol.toStringTag:null,I=Object.prototype.propertyIsEnumerable,C=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function M(t,e){if(t===1/0||t===-1/0||t!=t||t&&t>-1e3&&t<1e3||x.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof t){var n=t<0?-k(-t):k(t);if(n!==t){var i=String(n),o=b.call(e,i.length+1);return g.call(i,r,"$&_")+"."+g.call(g.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return g.call(e,r,"$&_")}var D=r(74839357),N=D.custom,B=q(N)?N:null,F={__proto__:null,double:'"',single:"'"},L={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};function U(t,e,r){var n=r.quoteStyle||e,i=F[n];return i+t+i}function V(t){return g.call(String(t),/"/g,"&quot;")}function X(t){return!j||!("object"==typeof t&&(j in t||void 0!==t[j]))}function G(t){return"[object Array]"===z(t)&&X(t)}function Y(t){return"[object RegExp]"===z(t)&&X(t)}function q(t){if(R)return t&&"object"==typeof t&&t instanceof Symbol;if("symbol"==typeof t)return!0;if(!t||"object"!=typeof t||!A)return!1;try{return A.call(t),!0}catch(e){}return!1}t.exports=function t(e,n,i,s){var u=n||{};if(H(u,"quoteStyle")&&!H(F,u.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(H(u,"maxStringLength")&&("number"==typeof u.maxStringLength?u.maxStringLength<0&&u.maxStringLength!==1/0:null!==u.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var y=!H(u,"customInspect")||u.customInspect;if("boolean"!=typeof y&&"symbol"!==y)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(H(u,"indent")&&null!==u.indent&&"\t"!==u.indent&&!(parseInt(u.indent,10)===u.indent&&u.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(H(u,"numericSeparator")&&"boolean"!=typeof u.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var w=u.numericSeparator;if(void 0===e)return"undefined";if(null===e)return"null";if("boolean"==typeof e)return e?"true":"false";if("string"==typeof e)return Z(e,u);if("number"==typeof e){if(0===e)return 1/0/e>0?"0":"-0";var x=String(e);return w?M(e,x):x}if("bigint"==typeof e){var k=String(e)+"n";return w?M(e,k):k}var O=void 0===u.depth?5:u.depth;if(void 0===i&&(i=0),i>=O&&O>0&&"object"==typeof e)return G(e)?"[Array]":"[Object]";var N=function(t,e){var r;if("\t"===t.indent)r="\t";else{if(!("number"==typeof t.indent&&t.indent>0))return null;r=E.call(Array(t.indent+1)," ")}return{base:r,prev:E.call(Array(e+1),r)}}(u,i);if(void 0===s)s=[];else if(Q(s,e)>=0)return"[Circular]";function L(e,r,n){if(r&&(s=T.call(s)).push(r),n){var o={depth:u.depth};return H(u,"quoteStyle")&&(o.quoteStyle=u.quoteStyle),t(e,o,i+1,s)}return t(e,u,i+1,s)}if("function"==typeof e&&!Y(e)){var W=function(t){if(t.name)return t.name;var e=m.call(v.call(t),/^function\s*([\w$]+)/);if(e)return e[1];return null}(e),K=rt(e,L);return"[Function"+(W?": "+W:" (anonymous)")+"]"+(K.length>0?" { "+E.call(K,", ")+" }":"")}if(q(e)){var nt=R?g.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):A.call(e);return"object"!=typeof e||R?nt:$(nt)}if(function(t){if(!t||"object"!=typeof t)return!1;if("undefined"!=typeof HTMLElement&&t instanceof HTMLElement)return!0;return"string"==typeof t.nodeName&&"function"==typeof t.getAttribute}(e)){for(var it="<"+S.call(String(e.nodeName)),ot=e.attributes||[],at=0;at<ot.length;at++)it+=" "+ot[at].name+"="+U(V(ot[at].value),"double",u);return it+=">",e.childNodes&&e.childNodes.length&&(it+="..."),it+="</"+S.call(String(e.nodeName))+">"}if(G(e)){if(0===e.length)return"[]";var st=rt(e,L);return N&&!function(t){for(var e=0;e<t.length;e++)if(Q(t[e],"\n")>=0)return!1;return!0}(st)?"["+et(st,N)+"]":"[ "+E.call(st,", ")+" ]"}if(function(t){return"[object Error]"===z(t)&&X(t)}(e)){var ut=rt(e,L);return"cause"in Error.prototype||!("cause"in e)||I.call(e,"cause")?0===ut.length?"["+String(e)+"]":"{ ["+String(e)+"] "+E.call(ut,", ")+" }":"{ ["+String(e)+"] "+E.call(_.call("[cause]: "+L(e.cause),ut),", ")+" }"}if("object"==typeof e&&y){if(B&&"function"==typeof e[B]&&D)return D(e,{depth:O-i});if("symbol"!==y&&"function"==typeof e.inspect)return e.inspect()}if(function(t){if(!o||!t||"object"!=typeof t)return!1;try{o.call(t);try{c.call(t)}catch(it){return!0}return t instanceof Map}catch(e){}return!1}(e)){var ct=[];return a&&a.call(e,function(t,r){ct.push(L(r,e,!0)+" => "+L(t,e))}),tt("Map",o.call(e),ct,N)}if(function(t){if(!c||!t||"object"!=typeof t)return!1;try{c.call(t);try{o.call(t)}catch(e){return!0}return t instanceof Set}catch(r){}return!1}(e)){var lt=[];return l&&l.call(e,function(t){lt.push(L(t,e))}),tt("Set",c.call(e),lt,N)}if(function(t){if(!f||!t||"object"!=typeof t)return!1;try{f.call(t,f);try{h.call(t,h)}catch(it){return!0}return t instanceof WeakMap}catch(e){}return!1}(e))return J("WeakMap");if(function(t){if(!h||!t||"object"!=typeof t)return!1;try{h.call(t,h);try{f.call(t,f)}catch(it){return!0}return t instanceof WeakSet}catch(e){}return!1}(e))return J("WeakSet");if(function(t){if(!p||!t||"object"!=typeof t)return!1;try{return p.call(t),!0}catch(e){}return!1}(e))return J("WeakRef");if(function(t){return"[object Number]"===z(t)&&X(t)}(e))return $(L(Number(e)));if(function(t){if(!t||"object"!=typeof t||!P)return!1;try{return P.call(t),!0}catch(e){}return!1}(e))return $(L(P.call(e)));if(function(t){return"[object Boolean]"===z(t)&&X(t)}(e))return $(d.call(e));if(function(t){return"[object String]"===z(t)&&X(t)}(e))return $(L(String(e)));if("undefined"!=typeof window&&e===window)return"{ [object Window] }";if("undefined"!=typeof globalThis&&e===globalThis||void 0!==r.g&&e===r.g)return"{ [object globalThis] }";if(!function(t){return"[object Date]"===z(t)&&X(t)}(e)&&!Y(e)){var ft=rt(e,L),ht=C?C(e)===Object.prototype:e instanceof Object||e.constructor===Object,pt=e instanceof Object?"":"null prototype",dt=!ht&&j&&Object(e)===e&&j in e?b.call(z(e),8,-1):pt?"Object":"",yt=(ht||"function"!=typeof e.constructor?"":e.constructor.name?e.constructor.name+" ":"")+(dt||pt?"["+E.call(_.call([],dt||[],pt||[]),": ")+"] ":"");return 0===ft.length?yt+"{}":N?yt+"{"+et(ft,N)+"}":yt+"{ "+E.call(ft,", ")+" }"}return String(e)};var W=Object.prototype.hasOwnProperty||function(t){return t in this};function H(t,e){return W.call(t,e)}function z(t){return y.call(t)}function Q(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function Z(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return Z(b.call(t,0,e.maxStringLength),e)+n}var i=L[e.quoteStyle||"single"];return i.lastIndex=0,U(g.call(g.call(t,i,"\\$1"),/[\x00-\x1f]/g,K),"single",e)}function K(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+w.call(e.toString(16))}function $(t){return"Object("+t+")"}function J(t){return t+" { ? }"}function tt(t,e,r,n){return t+" ("+e+") {"+(n?et(r,n):E.call(r,", "))+"}"}function et(t,e){if(0===t.length)return"";var r="\n"+e.prev+e.base;return r+E.call(t,","+r)+"\n"+e.prev}function rt(t,e){var r=G(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=H(t,i)?e(t[i],t):""}var o,a="function"==typeof O?O(t):[];if(R){o={};for(var s=0;s<a.length;s++)o["$"+a[s]]=a[s]}for(var u in t)H(t,u)&&(r&&String(Number(u))===u&&u<t.length||R&&o["$"+u]instanceof Symbol||(x.call(/[^\w$]/,u)?n.push(e(u,t)+": "+e(t[u],t)):n.push(u+": "+e(t[u],t))));if("function"==typeof O)for(var c=0;c<a.length;c++)I.call(t,a[c])&&n.push("["+e(a[c])+"]: "+e(t[a[c]],t));return n}},19362706:(t,e,r)=>{"use strict";var n=r(23222836),i=r(70638380),o=function(t,e,r){for(var n,i=t;null!=(n=i.next);i=n)if(n.key===e)return i.next=n.next,r||(n.next=t.next,t.next=n),n};t.exports=function(){var t,e={assert:function(t){if(!e.has(t))throw new i("Side channel does not contain "+n(t))},delete:function(e){var r=t&&t.next,n=function(t,e){if(t)return o(t,e,!0)}(t,e);return n&&r&&r===n&&(t=void 0),!!n},get:function(e){return function(t,e){if(t){var r=o(t,e);return r&&r.value}}(t,e)},has:function(e){return function(t,e){return!!t&&!!o(t,e)}(t,e)},set:function(e,r){t||(t={next:void 0}),function(t,e,r){var n=o(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}}(t,e,r)}};return e}},96301948:(t,e,r)=>{"use strict";var n=r(71811760),i=r(95694287),o=r(23222836),a=r(70638380),s=n("%Map%",!0),u=i("Map.prototype.get",!0),c=i("Map.prototype.set",!0),l=i("Map.prototype.has",!0),f=i("Map.prototype.delete",!0),h=i("Map.prototype.size",!0);t.exports=!!s&&function(){var t,e={assert:function(t){if(!e.has(t))throw new a("Side channel does not contain "+o(t))},delete:function(e){if(t){var r=f(t,e);return 0===h(t)&&(t=void 0),r}return!1},get:function(e){if(t)return u(t,e)},has:function(e){return!!t&&l(t,e)},set:function(e,r){t||(t=new s),c(t,e,r)}};return e}},94993356:(t,e,r)=>{"use strict";var n=r(71811760),i=r(95694287),o=r(23222836),a=r(96301948),s=r(70638380),u=n("%WeakMap%",!0),c=i("WeakMap.prototype.get",!0),l=i("WeakMap.prototype.set",!0),f=i("WeakMap.prototype.has",!0),h=i("WeakMap.prototype.delete",!0);t.exports=u?function(){var t,e,r={assert:function(t){if(!r.has(t))throw new s("Side channel does not contain "+o(t))},delete:function(r){if(u&&r&&("object"==typeof r||"function"==typeof r)){if(t)return h(t,r)}else if(a&&e)return e.delete(r);return!1},get:function(r){return u&&r&&("object"==typeof r||"function"==typeof r)&&t?c(t,r):e&&e.get(r)},has:function(r){return u&&r&&("object"==typeof r||"function"==typeof r)&&t?f(t,r):!!e&&e.has(r)},set:function(r,n){u&&r&&("object"==typeof r||"function"==typeof r)?(t||(t=new u),l(t,r,n)):a&&(e||(e=a()),e.set(r,n))}};return r}:a},90282823:(t,e,r)=>{"use strict";var n=r(70638380),i=r(23222836),o=r(19362706),a=r(96301948),s=r(94993356)||a||o;t.exports=function(){var t,e={assert:function(t){if(!e.has(t))throw new n("Side channel does not contain "+i(t))},delete:function(e){return!!t&&t.delete(e)},get:function(e){return t&&t.get(e)},has:function(e){return!!t&&t.has(e)},set:function(e,r){t||(t=s()),t.set(e,r)}};return e}},83168834:(t,e,r)=>{"use strict";r.r(e),r.d(e,{AdaptiveContainer:()=>pr,AdaptiveController:()=>Pe,AdaptiveSpine:()=>Ve,AdaptiveSprite:()=>Er,ButtonState:()=>h,CustomTilingSprite:()=>De,HORIZONTAL_MODE:()=>hr,PixiAnimation:()=>ce,PixiBitmap:()=>ee,PixiButton:()=>p,PixiLabel:()=>Ht,PixiParticleEmitter:()=>Nt,RevoltFXManager:()=>Xr,RevoltParticle:()=>Cr,SpineControl:()=>xe,VERTICAL_MODE:()=>fr});r(29204099),r(53375191),r(73503923),r(35669252),r(44381336),r(62951728),r(17522308),r(4421388),r(69994507),r(1906035),r(41624185),r(32570708),r(74018857);var n=r(12131448);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function o(t,e,r){return(e=s(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,s(n.key),n)}}function s(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==i(e)?e:e+""}function u(t,e,r){return e=l(e),function(t,e){if(e&&("object"==i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,c()?Reflect.construct(e,r||[],l(t).constructor):e.apply(t,r))}function c(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(c=function(){return!!t})()}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function f(t,e){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},f(t,e)}var h=function(t){return t[t.NORMAL=0]="NORMAL",t[t.DISABLED=1]="DISABLED",t[t.PRESSED=2]="PRESSED",t[t.HOVER=3]="HOVER",t}({}),p=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=u(this,e,[t]))._isPressed=!1,r._isOver=!1,r._states=o(o(o(o({},h.NORMAL,{texture:t}),h.HOVER,{texture:t}),h.DISABLED,{texture:t}),h.PRESSED,{texture:t}),r._state=h.NORMAL,r.on("pointerdown",r.onClick),r.on("pointerover",r.onMouseOver),r.on("pointerout",r.onMouseOut),r.on("pointerup",r.onMouseUp),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e)}(e,t),r=e,(n=[{key:"resetTexture",value:function(t){return this._states[h.NORMAL].texture=t,this._states[h.HOVER].texture=t,this._states[h.PRESSED].texture=t,this._states[h.DISABLED].texture=t,this.texture=this._states[this.state].texture,this}},{key:"setNormalTexture",value:function(t){return this._states[h.NORMAL].texture=t,this.texture=this._states[this.state].texture,this}},{key:"setHoverTexture",value:function(t){return this._states[h.HOVER].texture=t,this.texture=this._states[this.state].texture,this}},{key:"setPressedTexture",value:function(t){return this._states[h.PRESSED].texture=t,this.texture=this._states[this.state].texture,this}},{key:"setDisabledTexture",value:function(t){return this._states[h.DISABLED].texture=t,this.texture=this._states[this.state].texture,this}},{key:"onClick",value:function(){this._isPressed=!0,this.state=h.PRESSED}},{key:"onMouseOver",value:function(){this._isOver=!0,this.state=h.HOVER}},{key:"onMouseUp",value:function(){this._isPressed&&(this._isPressed=!1,this.state=h.NORMAL)}},{key:"onMouseOut",value:function(){this._isOver&&(this._isOver=!1,this.state=h.NORMAL)}},{key:"enable",get:function(){return this.interactive},set:function(t){this.interactive=t,this.cursor=t?"pointer":"default",t?this.state=h.NORMAL:(this._isPressed=!1,this._isOver=!1,this.state=h.DISABLED)}},{key:"state",get:function(){return this._state},set:function(t){if(this._state!==t){var e=this._states[t];this._state=t,this.texture=e.texture}}}])&&a(r.prototype,n),i&&a(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i}(n.kxk),d=(r(95440747),r(18515682),r(86965080),r(54497072),r(95723650),r(54660056),r(4835009),r(55705852),r(48158254),r(97200626),r(50473502),r(97163518),r(83099328),r(91868985),r(47138695),r(56125409),r(57886333),r(14112305),r(27015936),r(10827376),r(83722648),r(69616513),r(13223918),r(55039106)),y=r(80021304),v=r(85133661),m=r(65701774),b=r(20027462);r(97972777);function g(t,e,r){return e=x(e),function(t,e){if(e&&("object"==T(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,w()?Reflect.construct(e,r||[],x(t).constructor):e.apply(t,r))}function w(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(w=function(){return!!t})()}function S(){return S="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=x(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},S.apply(null,arguments)}function x(t){return x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},x(t)}function _(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&E(t,e)}function E(t,e){return E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},E(t,e)}function T(t){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T(t)}function k(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,A(n.key),n)}}function O(t,e,r){return e&&P(t.prototype,e),r&&P(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function A(t){var e=function(t,e){if("object"!=T(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=T(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==T(e)?e:e+""}var R=function(){function t(e,r,n){k(this,t),this.value=e,this.time=r,this.next=null,this.isStepped=!1,this.ease=n?"function"==typeof n?n:L(n):null}return O(t,null,[{key:"createList",value:function(e){if("list"in e){var r,n=e.list,i=n[0],o=i.value,a=i.time,s=r=new t("string"==typeof o?F(o):o,a,e.ease);if(n.length>2||2===n.length&&n[1].value!==o)for(var u=1;u<n.length;++u){var c=n[u],l=c.value,f=c.time;r.next=new t("string"==typeof l?F(l):l,f),r=r.next}return s.isStepped=!!e.isStepped,s}var h=new t("string"==typeof e.start?F(e.start):e.start,0);return e.end!==e.start&&(h.next=new t("string"==typeof e.end?F(e.end):e.end,1)),h}}])}(),j=d.gP.from,I=Math.PI/180;function C(t,e){if(t){var r=Math.sin(t),n=Math.cos(t),i=e.x*n-e.y*r,o=e.x*r+e.y*n;e.x=i,e.y=o}}function M(t,e,r){return t<<16|e<<8|r}function D(t){return Math.sqrt(t.x*t.x+t.y*t.y)}function N(t){var e=1/D(t);t.x*=e,t.y*=e}function B(t,e){t.x*=e,t.y*=e}function F(t,e){var r;return e||(e={}),"#"===t.charAt(0)?t=t.substr(1):0===t.indexOf("0x")&&(t=t.substr(2)),8===t.length&&(r=t.substr(0,2),t=t.substr(2)),e.r=parseInt(t.substr(0,2),16),e.g=parseInt(t.substr(2,2),16),e.b=parseInt(t.substr(4,2),16),r&&(e.a=parseInt(r,16)),e}function L(t){var e=t.length,r=1/e;return function(n){var i=e*n|0,o=(n-i*r)*e,a=t[i]||t[e-1];return a.s+o*(2*(1-o)*(a.cp-a.s)+o*(a.e-a.s))}}function U(t){return t?(t=t.toUpperCase().replace(/ /g,"_"),y.B9[t]||y.B9.NORMAL):y.B9.NORMAL}var V,X=function(t){function e(t){var r;return k(this,e),(r=g(this,e)).prevChild=r.nextChild=null,r.emitter=t,r.config={},r.anchor.x=r.anchor.y=.5,r.maxLife=0,r.age=0,r.agePercent=0,r.oneOverLife=0,r.next=null,r.prev=null,r.init=r.init,r.kill=r.kill,r}return _(e,t),O(e,[{key:"init",value:function(t){this.maxLife=t,this.age=this.agePercent=0,this.rotation=0,this.position.x=this.position.y=0,this.scale.x=this.scale.y=1,this.tint=16777215,this.alpha=1,this.oneOverLife=1/this.maxLife,this.visible=!0}},{key:"kill",value:function(){this.emitter.recycle(this)}},{key:"destroy",value:function(){var t,r,n,i,o;this.parent&&this.parent.removeChild(this),this.emitter=this.next=this.prev=null,(t=e,r="destroy",n=this,o=S(x(1&(i=3)?t.prototype:t),r,n),2&i&&"function"==typeof o?function(t){return o.apply(n,t)}:o)([])}}])}(v.k);!function(t){t[t.Spawn=0]="Spawn",t[t.Normal=2]="Normal",t[t.Late=5]="Late"}(V||(V={}));var G=b.Rv.shared,Y=Symbol("Position particle per emitter position"),q=function(){function t(e,r){k(this,t),this.initBehaviors=[],this.updateBehaviors=[],this.recycleBehaviors=[],this.minLifetime=0,this.maxLifetime=0,this.customEase=null,this._frequency=1,this.spawnChance=1,this.maxParticles=1e3,this.emitterLifetime=-1,this.spawnPos=new m.bR,this.particlesPerWave=1,this.rotation=0,this.ownerPos=new m.bR,this._prevEmitterPos=new m.bR,this._prevPosIsValid=!1,this._posChanged=!1,this._parent=null,this.addAtBack=!1,this.particleCount=0,this._emit=!1,this._spawnTimer=0,this._emitterLife=-1,this._activeParticlesFirst=null,this._activeParticlesLast=null,this._poolFirst=null,this._origConfig=null,this._autoUpdate=!1,this._destroyWhenComplete=!1,this._completeCallback=null,this.parent=e,r&&this.init(r),this.recycle=this.recycle,this.update=this.update,this.rotate=this.rotate,this.updateSpawnPos=this.updateSpawnPos,this.updateOwnerPos=this.updateOwnerPos}return O(t,[{key:"frequency",get:function(){return this._frequency},set:function(t){this._frequency="number"==typeof t&&t>0?t:1}},{key:"parent",get:function(){return this._parent},set:function(t){this.cleanup(),this._parent=t}},{key:"init",value:function(e){if(e){this.cleanup(),this._origConfig=e,this.minLifetime=e.lifetime.min,this.maxLifetime=e.lifetime.max,e.ease?this.customEase="function"==typeof e.ease?e.ease:L(e.ease):this.customEase=null,this.particlesPerWave=1,e.particlesPerWave&&e.particlesPerWave>1&&(this.particlesPerWave=e.particlesPerWave),this.frequency=e.frequency,this.spawnChance="number"==typeof e.spawnChance&&e.spawnChance>0?e.spawnChance:1,this.emitterLifetime=e.emitterLifetime||-1,this.maxParticles=e.maxParticles>0?e.maxParticles:1e3,this.addAtBack=!!e.addAtBack,this.rotation=0,this.ownerPos.set(0),e.pos?this.spawnPos.copyFrom(e.pos):this.spawnPos.set(0),this._prevEmitterPos.copyFrom(this.spawnPos),this._prevPosIsValid=!1,this._spawnTimer=0,this.emit=void 0===e.emit||!!e.emit,this.autoUpdate=!!e.autoUpdate;var r=e.behaviors.map(function(e){var r=t.knownBehaviors[e.type];return r?new r(e.config):(console.error("Unknown behavior: ".concat(e.type)),null)}).filter(function(t){return!!t});r.push(Y),r.sort(function(t,e){return t===Y?e.order===V.Spawn?1:-1:e===Y?t.order===V.Spawn?-1:1:t.order-e.order}),this.initBehaviors=r.slice(),this.updateBehaviors=r.filter(function(t){return t!==Y&&t.updateParticle}),this.recycleBehaviors=r.filter(function(t){return t!==Y&&t.recycleParticle})}}},{key:"getBehavior",value:function(e){return t.knownBehaviors[e]&&this.initBehaviors.find(function(r){return r instanceof t.knownBehaviors[e]})||null}},{key:"fillPool",value:function(t){for(;t>0;--t){var e=new X(this);e.next=this._poolFirst,this._poolFirst=e}}},{key:"recycle",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=0;r<this.recycleBehaviors.length;++r)this.recycleBehaviors[r].recycleParticle(t,!e);t.next&&(t.next.prev=t.prev),t.prev&&(t.prev.next=t.next),t===this._activeParticlesLast&&(this._activeParticlesLast=t.prev),t===this._activeParticlesFirst&&(this._activeParticlesFirst=t.next),t.prev=null,t.next=this._poolFirst,this._poolFirst=t,t.parent&&t.parent.removeChild(t),--this.particleCount}},{key:"rotate",value:function(t){if(this.rotation!==t){var e=t-this.rotation;this.rotation=t,C(e,this.spawnPos),this._posChanged=!0}}},{key:"updateSpawnPos",value:function(t,e){this._posChanged=!0,this.spawnPos.x=t,this.spawnPos.y=e}},{key:"updateOwnerPos",value:function(t,e){this._posChanged=!0,this.ownerPos.x=t,this.ownerPos.y=e}},{key:"resetPositionTracking",value:function(){this._prevPosIsValid=!1}},{key:"emit",get:function(){return this._emit},set:function(t){this._emit=!!t,this._emitterLife=this.emitterLifetime}},{key:"autoUpdate",get:function(){return this._autoUpdate},set:function(t){this._autoUpdate&&!t?G.remove(this.update,this):!this._autoUpdate&&t&&G.add(this.update,this),this._autoUpdate=!!t}},{key:"playOnceAndDestroy",value:function(t){this.autoUpdate=!0,this.emit=!0,this._destroyWhenComplete=!0,this._completeCallback=t}},{key:"playOnce",value:function(t){this.emit=!0,this._completeCallback=t}},{key:"update",value:function(t){if(this._autoUpdate&&(t=.001*G.elapsedMS),this._parent){for(var e,r=this._activeParticlesFirst;r;r=e)if(e=r.next,r.age+=t,r.age>r.maxLife||r.age<0)this.recycle(r);else{var n=r.age*r.oneOverLife;this.customEase&&(n=4===this.customEase.length?this.customEase(n,0,1,1):this.customEase(n)),r.agePercent=n;for(var i=0;i<this.updateBehaviors.length;++i)if(this.updateBehaviors[i].updateParticle(r,t)){this.recycle(r);break}}var o,a;this._prevPosIsValid&&(o=this._prevEmitterPos.x,a=this._prevEmitterPos.y);var s=this.ownerPos.x+this.spawnPos.x,u=this.ownerPos.y+this.spawnPos.y;if(this._emit)for(this._spawnTimer-=t<0?0:t;this._spawnTimer<=0;){if(this._emitterLife>=0&&(this._emitterLife-=this._frequency,this._emitterLife<=0)){this._spawnTimer=0,this._emitterLife=0,this.emit=!1;break}if(this.particleCount>=this.maxParticles)this._spawnTimer+=this._frequency;else{var c=void 0,l=void 0;if(this._prevPosIsValid&&this._posChanged){var f=1+this._spawnTimer/t;c=(s-o)*f+o,l=(u-a)*f+a}else c=s,l=u;for(var h=null,p=null,d=Math.min(this.particlesPerWave,this.maxParticles-this.particleCount),y=0;y<d;++y)if(!(this.spawnChance<1&&Math.random()>=this.spawnChance)){var v=void 0;if(v=this.minLifetime===this.maxLifetime?this.minLifetime:Math.random()*(this.maxLifetime-this.minLifetime)+this.minLifetime,!(-this._spawnTimer>=v)){var m=void 0;this._poolFirst?(m=this._poolFirst,this._poolFirst=this._poolFirst.next,m.next=null):m=new X(this),m.init(v),this.addAtBack?this._parent.addChildAt(m,0):this._parent.addChild(m),h?(p.next=m,m.prev=p,p=m):p=h=m,++this.particleCount}}if(h){this._activeParticlesLast?(this._activeParticlesLast.next=h,h.prev=this._activeParticlesLast,this._activeParticlesLast=p):(this._activeParticlesFirst=h,this._activeParticlesLast=p);for(var b=0;b<this.initBehaviors.length;++b){var g=this.initBehaviors[b];if(g===Y)for(var w,S=h;S;S=w){w=S.next,0!==this.rotation&&(C(this.rotation,S.position),S.rotation+=this.rotation),S.position.x+=c,S.position.y+=l,S.age+=-this._spawnTimer;var x=S.age*S.oneOverLife;this.customEase&&(x=4===this.customEase.length?this.customEase(x,0,1,1):this.customEase(x)),S.agePercent=x}else g.initParticles(h)}for(var _,E=h;E;E=_){_=E.next;for(var T=0;T<this.updateBehaviors.length;++T)if(this.updateBehaviors[T].updateParticle(E,-this._spawnTimer)){this.recycle(E);break}}}this._spawnTimer+=this._frequency}}if(this._posChanged&&(this._prevEmitterPos.x=s,this._prevEmitterPos.y=u,this._prevPosIsValid=!0,this._posChanged=!1),!this._emit&&!this._activeParticlesFirst){if(this._completeCallback){var k=this._completeCallback;this._completeCallback=null,k()}this._destroyWhenComplete&&this.destroy()}}}},{key:"emitNow",value:function(){for(var t=this.ownerPos.x+this.spawnPos.x,e=this.ownerPos.y+this.spawnPos.y,r=null,n=null,i=Math.min(this.particlesPerWave,this.maxParticles-this.particleCount),o=0;o<i;++o)if(!(this.spawnChance<1&&Math.random()>=this.spawnChance)){var a=void 0;this._poolFirst?(a=this._poolFirst,this._poolFirst=this._poolFirst.next,a.next=null):a=new X(this);var s=void 0;s=this.minLifetime===this.maxLifetime?this.minLifetime:Math.random()*(this.maxLifetime-this.minLifetime)+this.minLifetime,a.init(s),this.addAtBack?this._parent.addChildAt(a,0):this._parent.addChild(a),r?(n.next=a,a.prev=n,n=a):n=r=a,++this.particleCount}if(r){this._activeParticlesLast?(this._activeParticlesLast.next=r,r.prev=this._activeParticlesLast,this._activeParticlesLast=n):(this._activeParticlesFirst=r,this._activeParticlesLast=n);for(var u=0;u<this.initBehaviors.length;++u){var c=this.initBehaviors[u];if(c===Y)for(var l,f=r;f;f=l)l=f.next,0!==this.rotation&&(C(this.rotation,f.position),f.rotation+=this.rotation),f.position.x+=t,f.position.y+=e;else c.initParticles(r)}}}},{key:"cleanup",value:function(){var t,e;for(t=this._activeParticlesFirst;t;t=e)e=t.next,this.recycle(t,!0);this._activeParticlesFirst=this._activeParticlesLast=null,this.particleCount=0}},{key:"destroyed",get:function(){return!(this._parent&&this.initBehaviors.length)}},{key:"destroy",value:function(){var t;this.autoUpdate=!1,this.cleanup();for(var e=this._poolFirst;e;e=t)t=e.next,e.destroy();this._poolFirst=this._parent=this.spawnPos=this.ownerPos=this.customEase=this._completeCallback=null,this.initBehaviors.length=this.updateBehaviors.length=this.recycleBehaviors.length=0}}],[{key:"registerBehavior",value:function(e){t.knownBehaviors[e.type]=e}}])}();q.knownBehaviors={};var W=function(){return O(function t(e){k(this,t),this.x=e.x,this.y=e.y,this.w=e.w,this.h=e.h},[{key:"getRandPos",value:function(t){t.x=Math.random()*this.w+this.x,t.y=Math.random()*this.h+this.y}}])}();W.type="rect",W.editorConfig=null;var H=function(){return O(function t(e){k(this,t),this.x=e.x||0,this.y=e.y||0,this.radius=e.radius,this.innerRadius=e.innerRadius||0,this.rotation=!!e.affectRotation},[{key:"getRandPos",value:function(t){this.innerRadius!==this.radius?t.x=Math.random()*(this.radius-this.innerRadius)+this.innerRadius:t.x=this.radius,t.y=0;var e=Math.random()*Math.PI*2;this.rotation&&(t.rotation+=e),C(e,t.position),t.position.x+=this.x,t.position.y+=this.y}}])}();H.type="torus",H.editorConfig=null;var z=function(){return O(function t(e){k(this,t),this.segments=[],this.countingLengths=[],this.totalLength=0,this.init(e)},[{key:"init",value:function(t){if(t&&t.length)if(Array.isArray(t[0]))for(var e=0;e<t.length;++e)for(var r=t[e],n=r[0],i=1;i<r.length;++i){var o=r[i];this.segments.push({p1:n,p2:o,l:0}),n=o}else for(var a=t[0],s=1;s<t.length;++s){var u=t[s];this.segments.push({p1:a,p2:u,l:0}),a=u}else this.segments.push({p1:{x:0,y:0},p2:{x:0,y:0},l:0});for(var c=0;c<this.segments.length;++c){var l=this.segments[c],f=l.p1,h=l.p2,p=Math.sqrt((h.x-f.x)*(h.x-f.x)+(h.y-f.y)*(h.y-f.y));this.segments[c].l=p,this.totalLength+=p,this.countingLengths.push(this.totalLength)}}},{key:"getRandPos",value:function(t){var e,r,n=Math.random()*this.totalLength;if(1===this.segments.length)e=this.segments[0],r=n;else for(var i=0;i<this.countingLengths.length;++i)if(n<this.countingLengths[i]){e=this.segments[i],r=0===i?n:n-this.countingLengths[i-1];break}r/=e.l||1;var o=e,a=o.p1,s=o.p2;t.x=a.x+r*(s.x-a.x),t.y=a.y+r*(s.y-a.y)}}])}();z.type="polygonalChain",z.editorConfig=null;var Q=function(){return O(function t(e){var r;k(this,t),this.order=V.Late,this.minStart=e.minStart,this.maxStart=e.maxStart,this.accel=e.accel,this.rotate=!!e.rotate,this.maxSpeed=null!==(r=e.maxSpeed)&&void 0!==r?r:0},[{key:"initParticles",value:function(t){for(var e=t;e;){var r=Math.random()*(this.maxStart-this.minStart)+this.minStart;e.config.velocity?e.config.velocity.set(r,0):e.config.velocity=new m.bR(r,0),C(e.rotation,e.config.velocity),e=e.next}}},{key:"updateParticle",value:function(t,e){var r=t.config.velocity,n=r.x,i=r.y;if(r.x+=this.accel.x*e,r.y+=this.accel.y*e,this.maxSpeed){var o=D(r);o>this.maxSpeed&&B(r,this.maxSpeed/o)}t.x+=(n+r.x)/2*e,t.y+=(i+r.y)/2*e,this.rotate&&(t.rotation=Math.atan2(r.y,r.x))}}])}();function Z(t){return this.ease&&(t=this.ease(t)),(this.first.next.value-this.first.value)*t+this.first.value}function K(t){this.ease&&(t=this.ease(t));var e=this.first.value,r=this.first.next.value;return M((r.r-e.r)*t+e.r,(r.g-e.g)*t+e.g,(r.b-e.b)*t+e.b)}function $(t){this.ease&&(t=this.ease(t));for(var e=this.first,r=e.next;t>r.time;)e=r,r=r.next;return t=(t-e.time)/(r.time-e.time),(r.value-e.value)*t+e.value}function J(t){this.ease&&(t=this.ease(t));for(var e=this.first,r=e.next;t>r.time;)e=r,r=r.next;t=(t-e.time)/(r.time-e.time);var n=e.value,i=r.value;return M((i.r-n.r)*t+n.r,(i.g-n.g)*t+n.g,(i.b-n.b)*t+n.b)}function tt(t){this.ease&&(t=this.ease(t));for(var e=this.first;e.next&&t>e.next.time;)e=e.next;return e.value}function et(t){this.ease&&(t=this.ease(t));for(var e=this.first;e.next&&t>e.next.time;)e=e.next;var r=e.value;return M(r.r,r.g,r.b)}Q.type="moveAcceleration",Q.editorConfig=null;var rt=function(){return O(function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];k(this,t),this.first=null,this.isColor=!!e,this.interpolate=null,this.ease=null},[{key:"reset",value:function(t){this.first=t,t.next&&t.next.time>=1?this.interpolate=this.isColor?K:Z:t.isStepped?this.interpolate=this.isColor?et:tt:this.interpolate=this.isColor?J:$,this.ease=this.first.ease}}])}(),nt=function(){return O(function t(e){k(this,t),this.order=V.Normal,this.list=new rt(!1),this.list.reset(R.createList(e.alpha))},[{key:"initParticles",value:function(t){for(var e=t;e;)e.alpha=this.list.first.value,e=e.next}},{key:"updateParticle",value:function(t){t.alpha=this.list.interpolate(t.agePercent)}}])}();nt.type="alpha",nt.editorConfig=null;var it=function(){return O(function t(e){k(this,t),this.order=V.Normal,this.value=e.alpha},[{key:"initParticles",value:function(t){for(var e=t;e;)e.alpha=this.value,e=e.next}}])}();function ot(t){for(var e=[],r=0;r<t.length;++r){var n=t[r];if("string"==typeof n)e.push(j(n));else if(n instanceof d.gP)e.push(n);else{var i=n.count||1;for(n="string"==typeof n.texture?j(n.texture):n.texture;i>0;--i)e.push(n)}}return e}it.type="alphaStatic",it.editorConfig=null;var at=function(){return O(function t(e){k(this,t),this.order=V.Normal,this.anims=[];for(var r=0;r<e.anims.length;++r){var n=e.anims[r],i=ot(n.textures),o=n.framerate<0?-1:n.framerate>0?n.framerate:60,a={textures:i,duration:o>0?i.length/o:0,framerate:o,loop:o>0&&!!n.loop};this.anims.push(a)}},[{key:"initParticles",value:function(t){for(var e=t;e;){var r=Math.floor(Math.random()*this.anims.length),n=e.config.anim=this.anims[r];e.texture=n.textures[0],e.config.animElapsed=0,-1===n.framerate?(e.config.animDuration=e.maxLife,e.config.animFramerate=n.textures.length/e.maxLife):(e.config.animDuration=n.duration,e.config.animFramerate=n.framerate),e=e.next}}},{key:"updateParticle",value:function(t,e){var r=t.config,n=r.anim;r.animElapsed+=e,r.animElapsed>=r.animDuration&&(r.anim.loop?r.animElapsed=r.animElapsed%r.animDuration:r.animElapsed=r.animDuration-1e-6);var i=r.animElapsed*r.animFramerate+1e-7|0;t.texture=n.textures[i]||n.textures[n.textures.length-1]||d.gP.EMPTY}}])}();at.type="animatedRandom",at.editorConfig=null;var st=function(){return O(function t(e){k(this,t),this.order=V.Normal;var r=e.anim,n=ot(r.textures),i=r.framerate<0?-1:r.framerate>0?r.framerate:60;this.anim={textures:n,duration:i>0?n.length/i:0,framerate:i,loop:i>0&&!!r.loop}},[{key:"initParticles",value:function(t){for(var e=t,r=this.anim;e;)e.texture=r.textures[0],e.config.animElapsed=0,-1===r.framerate?(e.config.animDuration=e.maxLife,e.config.animFramerate=r.textures.length/e.maxLife):(e.config.animDuration=r.duration,e.config.animFramerate=r.framerate),e=e.next}},{key:"updateParticle",value:function(t,e){var r=this.anim,n=t.config;n.animElapsed+=e,n.animElapsed>=n.animDuration&&(r.loop?n.animElapsed=n.animElapsed%n.animDuration:n.animElapsed=n.animDuration-1e-6);var i=n.animElapsed*n.animFramerate+1e-7|0;t.texture=r.textures[i]||r.textures[r.textures.length-1]||d.gP.EMPTY}}])}();st.type="animatedSingle",st.editorConfig=null;var ut=function(){return O(function t(e){k(this,t),this.order=V.Normal,this.value=e.blendMode},[{key:"initParticles",value:function(t){for(var e=t;e;)e.blendMode=U(this.value),e=e.next}}])}();ut.type="blendMode",ut.editorConfig=null;var ct=function(){return O(function t(e){k(this,t),this.order=V.Spawn,this.spacing=e.spacing*I,this.start=e.start*I,this.distance=e.distance},[{key:"initParticles",value:function(t){for(var e=0,r=t;r;){var n=void 0;n=this.spacing?this.start+this.spacing*e:Math.random()*Math.PI*2,r.rotation=n,this.distance&&(r.position.x=this.distance,C(n,r.position)),r=r.next,++e}}}])}();ct.type="spawnBurst",ct.editorConfig=null;var lt=function(){return O(function t(e){k(this,t),this.order=V.Normal,this.list=new rt(!0),this.list.reset(R.createList(e.color))},[{key:"initParticles",value:function(t){for(var e=t,r=this.list.first.value,n=M(r.r,r.g,r.b);e;)e.tint=n,e=e.next}},{key:"updateParticle",value:function(t){t.tint=this.list.interpolate(t.agePercent)}}])}();lt.type="color",lt.editorConfig=null;var ft=function(){return O(function t(e){k(this,t),this.order=V.Normal;var r=e.color;"#"===r.charAt(0)?r=r.substr(1):0===r.indexOf("0x")&&(r=r.substr(2)),this.value=parseInt(r,16)},[{key:"initParticles",value:function(t){for(var e=t;e;)e.tint=this.value,e=e.next}}])}();ft.type="colorStatic",ft.editorConfig=null;var ht=function(){return O(function t(e){k(this,t),this.order=V.Normal,this.index=0,this.textures=e.textures.map(function(t){return"string"==typeof t?j(t):t})},[{key:"initParticles",value:function(t){for(var e=t;e;)e.texture=this.textures[this.index],++this.index>=this.textures.length&&(this.index=0),e=e.next}}])}();ht.type="textureOrdered",ht.editorConfig=null;var pt=new m.bR,dt=["E","LN2","LN10","LOG2E","LOG10E","PI","SQRT1_2","SQRT2","abs","acos","acosh","asin","asinh","atan","atanh","atan2","cbrt","ceil","cos","cosh","exp","expm1","floor","fround","hypot","log","log1p","log10","log2","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh"],yt=new RegExp(["[01234567890\\.\\*\\-\\+\\/\\(\\)x ,]"].concat(dt).join("|"),"g");var vt=function(){return O(function t(e){var r;if(k(this,t),this.order=V.Late,e.path)if("function"==typeof e.path)this.path=e.path;else try{this.path=function(t){for(var e=t.match(yt),r=e.length-1;r>=0;--r)dt.indexOf(e[r])>=0&&(e[r]="Math.".concat(e[r]));return t=e.join(""),new Function("x","return ".concat(t,";"))}(e.path)}catch(n){this.path=null}else this.path=function(t){return t};this.list=new rt(!1),this.list.reset(R.createList(e.speed)),this.minMult=null!==(r=e.minMult)&&void 0!==r?r:1},[{key:"initParticles",value:function(t){for(var e=t;e;){e.config.initRotation=e.rotation,e.config.initPosition?e.config.initPosition.copyFrom(e.position):e.config.initPosition=new m.bR(e.x,e.y),e.config.movement=0;var r=Math.random()*(1-this.minMult)+this.minMult;e.config.speedMult=r,e=e.next}}},{key:"updateParticle",value:function(t,e){var r=this.list.interpolate(t.agePercent)*t.config.speedMult;t.config.movement+=r*e,pt.x=t.config.movement,pt.y=this.path(pt.x),C(t.config.initRotation,pt),t.position.x=t.config.initPosition.x+pt.x,t.position.y=t.config.initPosition.y+pt.y}}])}();vt.type="movePath",vt.editorConfig=null;var mt=function(){return O(function t(){k(this,t),this.order=V.Spawn},[{key:"initParticles",value:function(t){}}])}();mt.type="spawnPoint",mt.editorConfig=null;var bt=function(){return O(function t(e){k(this,t),this.order=V.Normal,this.textures=e.textures.map(function(t){return"string"==typeof t?j(t):t})},[{key:"initParticles",value:function(t){for(var e=t;e;){var r=Math.floor(Math.random()*this.textures.length);e.texture=this.textures[r],e=e.next}}}])}();bt.type="textureRandom",bt.editorConfig=null;var gt=function(){return O(function t(e){k(this,t),this.order=V.Normal,this.minStart=e.minStart*I,this.maxStart=e.maxStart*I,this.minSpeed=e.minSpeed*I,this.maxSpeed=e.maxSpeed*I,this.accel=e.accel*I},[{key:"initParticles",value:function(t){for(var e=t;e;)this.minStart===this.maxStart?e.rotation+=this.maxStart:e.rotation+=Math.random()*(this.maxStart-this.minStart)+this.minStart,e.config.rotSpeed=Math.random()*(this.maxSpeed-this.minSpeed)+this.minSpeed,e=e.next}},{key:"updateParticle",value:function(t,e){if(this.accel){var r=t.config.rotSpeed;t.config.rotSpeed+=this.accel*e,t.rotation+=(t.config.rotSpeed+r)/2*e}else t.rotation+=t.config.rotSpeed*e}}])}();gt.type="rotation",gt.editorConfig=null;var wt=function(){return O(function t(e){k(this,t),this.order=V.Normal,this.min=e.min*I,this.max=e.max*I},[{key:"initParticles",value:function(t){for(var e=t;e;)this.min===this.max?e.rotation+=this.max:e.rotation+=Math.random()*(this.max-this.min)+this.min,e=e.next}}])}();wt.type="rotationStatic",wt.editorConfig=null;var St=function(){return O(function t(e){k(this,t),this.order=V.Late+1,this.rotation=(e.rotation||0)*I},[{key:"initParticles",value:function(t){for(var e=t;e;)e.rotation=this.rotation,e=e.next}}])}();St.type="noRotation",St.editorConfig=null;var xt=function(){return O(function t(e){var r;k(this,t),this.order=V.Normal,this.list=new rt(!1),this.list.reset(R.createList(e.scale)),this.minMult=null!==(r=e.minMult)&&void 0!==r?r:1},[{key:"initParticles",value:function(t){for(var e=t;e;){var r=Math.random()*(1-this.minMult)+this.minMult;e.config.scaleMult=r,e.scale.x=e.scale.y=this.list.first.value*r,e=e.next}}},{key:"updateParticle",value:function(t){t.scale.x=t.scale.y=this.list.interpolate(t.agePercent)*t.config.scaleMult}}])}();xt.type="scale",xt.editorConfig=null;var _t=function(){return O(function t(e){k(this,t),this.order=V.Normal,this.min=e.min,this.max=e.max},[{key:"initParticles",value:function(t){for(var e=t;e;){var r=Math.random()*(this.max-this.min)+this.min;e.scale.x=e.scale.y=r,e=e.next}}}])}();_t.type="scaleStatic",_t.editorConfig=null;var Et=function(){function t(e){k(this,t),this.order=V.Spawn;var r=t.shapes[e.type];if(!r)throw new Error("No shape found with type '".concat(e.type,"'"));this.shape=new r(e.data)}return O(t,[{key:"initParticles",value:function(t){for(var e=t;e;)this.shape.getRandPos(e),e=e.next}}],[{key:"registerShape",value:function(e,r){t.shapes[r||e.type]=e}}])}();Et.type="spawnShape",Et.editorConfig=null,Et.shapes={},Et.registerShape(z),Et.registerShape(W),Et.registerShape(H),Et.registerShape(H,"circle");var Tt=function(){return O(function t(e){k(this,t),this.order=V.Normal,this.texture="string"==typeof e.texture?j(e.texture):e.texture},[{key:"initParticles",value:function(t){for(var e=t;e;)e.texture=this.texture,e=e.next}}])}();Tt.type="textureSingle",Tt.editorConfig=null;var kt=function(){return O(function t(e){var r;k(this,t),this.order=V.Late,this.list=new rt(!1),this.list.reset(R.createList(e.speed)),this.minMult=null!==(r=e.minMult)&&void 0!==r?r:1},[{key:"initParticles",value:function(t){for(var e=t;e;){var r=Math.random()*(1-this.minMult)+this.minMult;e.config.speedMult=r,e.config.velocity?e.config.velocity.set(this.list.first.value*r,0):e.config.velocity=new m.bR(this.list.first.value*r,0),C(e.rotation,e.config.velocity),e=e.next}}},{key:"updateParticle",value:function(t,e){var r=this.list.interpolate(t.agePercent)*t.config.speedMult,n=t.config.velocity;N(n),B(n,r),t.x+=n.x*e,t.y+=n.y*e}}])}();kt.type="moveSpeed",kt.editorConfig=null;var Pt=function(){return O(function t(e){k(this,t),this.order=V.Late,this.min=e.min,this.max=e.max},[{key:"initParticles",value:function(t){for(var e=t;e;){var r=Math.random()*(this.max-this.min)+this.min;e.config.velocity?e.config.velocity.set(r,0):e.config.velocity=new m.bR(r,0),C(e.rotation,e.config.velocity),e=e.next}}},{key:"updateParticle",value:function(t,e){var r=t.config.velocity;t.x+=r.x*e,t.y+=r.y*e}}])}();Pt.type="moveSpeedStatic",Pt.editorConfig=null;function Ot(t){return Ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ot(t)}function At(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Rt(n.key),n)}}function Rt(t){var e=function(t,e){if("object"!=Ot(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Ot(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ot(e)?e:e+""}function jt(t,e,r){return e=Mt(e),function(t,e){if(e&&("object"==Ot(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,It()?Reflect.construct(e,r||[],Mt(t).constructor):e.apply(t,r))}function It(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(It=function(){return!!t})()}function Ct(){return Ct="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=Mt(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},Ct.apply(null,arguments)}function Mt(t){return Mt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Mt(t)}function Dt(t,e){return Dt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Dt(t,e)}q.registerBehavior(Q),q.registerBehavior(nt),q.registerBehavior(it),q.registerBehavior(at),q.registerBehavior(st),q.registerBehavior(ut),q.registerBehavior(ct),q.registerBehavior(lt),q.registerBehavior(ft),q.registerBehavior(ht),q.registerBehavior(vt),q.registerBehavior(mt),q.registerBehavior(bt),q.registerBehavior(gt),q.registerBehavior(wt),q.registerBehavior(St),q.registerBehavior(xt),q.registerBehavior(_t),q.registerBehavior(Et),q.registerBehavior(Tt),q.registerBehavior(kt),q.registerBehavior(Pt);var Nt=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=jt(this,e))._isDestroyed=!1,r._emitter=new q(r,t),r._emitter.autoUpdate=!1,r._emitter.emit=!1,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Dt(t,e)}(e,t),r=e,n=[{key:"start",value:function(){this._emitter.emit=!0}},{key:"emitter",get:function(){return this._emitter}},{key:"startOnce",value:function(t){this._emitter.playOnce(t)}},{key:"startOncePromise",value:function(){var t=this;return new Promise(function(e){t._emitter.playOnce(e)})}},{key:"emitNow",value:function(){this._emitter.emitNow()}},{key:"cleanup",value:function(){this._emitter.cleanup()}},{key:"stop",value:function(){this._emitter&&(this._emitter.emit=!1)}},{key:"updateSpawnPos",value:function(t,e){this._emitter.updateSpawnPos(t,e)}},{key:"isDestroyed",get:function(){return this._isDestroyed}},{key:"getParticleCount",value:function(){return this._emitter.particleCount}},{key:"destroy",value:function(t){var r,n,i,o,a;this.isDestroyed||((r=e,n="destroy",i=this,a=Ct(Mt(1&(o=3)?r.prototype:r),n,i),2&o&&"function"==typeof a?function(t){return a.apply(i,t)}:a)([t]),void 0!==this._emitter&&this._emitter.destroy(),this._isDestroyed=!0,this.destroy())}},{key:"update",value:function(t){this._isDestroyed||this._emitter.update(t/1e3)}}],n&&At(r.prototype,n),i&&At(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i}(n.mcf);r(63703964);function Bt(t){return Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bt(t)}function Ft(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Wt(n.key),n)}}function Lt(t,e,r){return e=Gt(e),function(t,e){if(e&&("object"==Bt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Ut()?Reflect.construct(e,r||[],Gt(t).constructor):e.apply(t,r))}function Ut(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Ut=function(){return!!t})()}function Vt(t,e,r,n,i,o){return function(t,e,r,n,i){if(!Xt(t,e,r,n||t)&&i)throw new TypeError("failed to set property");return r}(Gt(o?t.prototype:t),e,r,n,i)}function Xt(t,e,r,n){return Xt="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(t,e,r,n){var i,o=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=Gt(t)););return t}(t,e);if(o){if((i=Object.getOwnPropertyDescriptor(o,e)).set)return i.set.call(n,r),!0;if(!i.writable)return!1}if(i=Object.getOwnPropertyDescriptor(n,e)){if(!i.writable)return!1;i.value=r,Object.defineProperty(n,e,i)}else qt(n,e,r);return!0},Xt(t,e,r,n)}function Gt(t){return Gt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Gt(t)}function Yt(t,e){return Yt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Yt(t,e)}function qt(t,e,r){return(e=Wt(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Wt(t){var e=function(t,e){if("object"!=Bt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Bt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Bt(e)?e:e+""}var Ht=function(t){function e(t,r,n){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),qt(i=Lt(this,e,[t,r,n]),"_rtlDirection",!1),qt(i,"_originalText",""),i.ox=0,i.oy=0,i.oScale=i.scale.clone(),i._originalText=t,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yt(t,e)}(e,t),r=e,n=[{key:"direction",get:function(){return this._rtlDirection},set:function(t){this._rtlDirection!==t&&(this._rtlDirection=t,this.text=this._originalText)}},{key:"text",get:function(){return this._originalText},set:function(t){this._originalText=String(t),this._rtlDirection?Vt(e,"text","".concat(t,""),this,1,1):Vt(e,"text",String(t).replace(/[\u202b\u202c]/g,""),this,1,1)}},{key:"setAutosizeText",value:function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:100;for(this.text=t,this.style.fontSize=i;this.style.fontSize>=n&&!(this.width<=e&&this.height<=r);)this.style.fontSize-=1}},{key:"setAutoScaleText",value:function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.01,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1/0;this.text=t,this.width=e,this.height=r,this.scale.set(Math.max(Math.min(this.scale.x,this.scale.y,i),n)),this._width=0,this._height=0}}],n&&Ft(r.prototype,n),i&&Ft(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i}(n.EYj);function zt(t){return zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zt(t)}function Qt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Zt(n.key),n)}}function Zt(t){var e=function(t,e){if("object"!=zt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=zt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==zt(e)?e:e+""}function Kt(t,e,r){return e=Jt(e),function(t,e){if(e&&("object"==zt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,$t()?Reflect.construct(e,r||[],Jt(t).constructor):e.apply(t,r))}function $t(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return($t=function(){return!!t})()}function Jt(t){return Jt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Jt(t)}function te(t,e){return te=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},te(t,e)}var ee=function(t){function e(t,r){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=Kt(this,e,[t,r])).ox=0,n.oy=0,n.oScale=n.scale.clone(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&te(t,e)}(e,t),r=e,n=[{key:"setAutosizeText",value:function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:100;for(this.text=t,this.fontSize=i;this.fontSize>=n&&!(this.width<=e&&this.height<=r);)this.fontSize-=1}},{key:"setAutoScaleText",value:function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.01,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1/0;this.text=t,this.width=e,this.height=r,this.scale.set(Math.max(Math.min(this.scale.x,this.scale.y,i),n))}}],n&&Qt(r.prototype,n),i&&Qt(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i}(n.T7$);function re(t){return re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},re(t)}function ne(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ie(n.key),n)}}function ie(t){var e=function(t,e){if("object"!=re(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=re(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==re(e)?e:e+""}function oe(t,e,r){return e=se(e),function(t,e){if(e&&("object"==re(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,ae()?Reflect.construct(e,r||[],se(t).constructor):e.apply(t,r))}function ae(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(ae=function(){return!!t})()}function se(t){return se=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},se(t)}function ue(t,e){return ue=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ue(t,e)}var ce=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),oe(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ue(t,e)}(e,t),r=e,n=[{key:"startPromise",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise(function(r){t.gotoAndPlay(e),t.onComplete=function(){return r(t)}})}},{key:"clone",value:function(t){var r=new e(this.textures);return r.position.set(this.x,this.y),r.animationSpeed=this.animationSpeed,r.scale.set(this.scale.x,this.scale.y),r.anchor.set(this.anchor.x,this.anchor.y),r.name=t||this.name+"_clone",r.setParent(this.parent),r.loop=this.loop,r.autoUpdate=this.autoUpdate,r}}],n&&ne(r.prototype,n),i&&ne(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i}(n.Dl5),le=(r(20037566),r(53083784),r(21313645),r(49684748),r(65196392));r(26664026),r(44665264);function fe(t){return fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fe(t)}function he(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function pe(t,e,r){return(e=ye(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function de(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ye(n.key),n)}}function ye(t){var e=function(t,e){if("object"!=fe(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=fe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==fe(e)?e:e+""}function ve(t,e,r){return e=we(e),function(t,e){if(e&&("object"==fe(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,me()?Reflect.construct(e,r||[],we(t).constructor):e.apply(t,r))}function me(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(me=function(){return!!t})()}function be(t,e,r,n){var i=ge(we(1&n?t.prototype:t),e,r);return 2&n&&"function"==typeof i?function(t){return i.apply(r,t)}:i}function ge(){return ge="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=we(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},ge.apply(null,arguments)}function we(t){return we=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},we(t)}function Se(t,e){return Se=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Se(t,e)}var xe=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=ve(this,e,[t])).fps=60,r.timeUpdate=0,r.handleFrameUpdate=!1,r.oScale=r.scale.clone(),r.ox=0,r.oy=0,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Se(t,e)}(e,t),r=e,n=[{key:"add",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{track:0,name:"idle",loop:!0,delay:0},r=null!==(t=e.mixing)&&void 0!==t?t:.25,n=e.track,i=void 0===n?0:n,o=e.name,a=void 0===o?"idle":o,s=e.loop,u=void 0===s||s,c=e.delay,l=void 0===c?0:c,f=this.state.addAnimation(i,a,u,l);return f.mixDuration=r,f}},{key:"start",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{track:0,name:"idle",loop:!0,timeScale:1},r=null!==(t=e.mixing)&&void 0!==t?t:.25,n=e.track,i=void 0===n?0:n,o=e.name,a=void 0===o?"idle":o,s=e.loop,u=void 0===s||s,c=e.timeScale,l=void 0===c?1:c,f=this.state.setAnimation(i,a,u);return f.mixDuration=r,f.timeScale=l,f}},{key:"startPromise",value:function(){var t,e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{track:0,name:"win"},n=null!==(t=r.mixing)&&void 0!==t?t:.25,i=r.track,o=void 0===i?0:i,a=r.name,s=void 0===a?"win":a,u=function(){};return new Promise(function(t){var i,a={complete:function(r){r===i&&(e.state.removeListener(a),u(),t(r))}};u=function(){e.state.removeListener(a),e.removeListener("onDestroy",u),t(i)},e.state.addListener(a),e.addListener("onDestroy",u),i=e.start({track:o,name:s,loop:!1,mixing:n,timeScale:null==r?void 0:r.timeScale})})}},{key:"stop",value:function(){var t=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?he(Object(r),!0).forEach(function(e){pe(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):he(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({track:0,mixing:.25},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),e=t.track,r=t.mixing;this.state.setEmptyAnimation(e,r),this.state.clearListeners()}},{key:"stopAll",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.25;this.state.clearListeners(),this.state.setEmptyAnimations(t)}},{key:"update",value:function(t){this.handleFrameUpdate&&0!==t?(this.timeUpdate+=t,this.timeUpdate>this.fps&&(be(e,"update",this,3)([this.timeUpdate]),this.timeUpdate=0)):be(e,"update",this,3)([t])}},{key:"setupObjectToSlot",value:function(t,e,r){var n=this.spineData.findSlotIndex(t),i=this.slotContainers[n];if(!i)throw new Error('Slot with name "'.concat(t,'" not found.'));var o=this.skeleton.findBone(null!=r?r:t);if(!o&&r)throw new Error('Bone with name "'.concat(null!=r?r:t,'" not found.'));i.addChild(e),e.position.set(0),o&&e.scale.set(o.matrix.a,o.matrix.d)}},{key:"clone",value:function(t){var r=new e(this.spineData);return r.position.set(this.x,this.y),r.scale.set(this.scale.x,this.scale.y),r.oScale.set(this.oScale.x,this.oScale.y),r.zIndex=this.zIndex,r.name=t||this.name+"_clone",r.visible=this.visible,r.setParent(this.parent),r.autoUpdate=!1,r}}],n&&de(r.prototype,n),i&&de(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i}(le.yE);function _e(t){return _e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_e(t)}function Ee(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ke(n.key),n)}}function Te(t,e,r){return(e=ke(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ke(t){var e=function(t,e){if("object"!=_e(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=_e(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==_e(e)?e:e+""}var Pe=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},r=[{key:"install",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.application=t,e&&(window.addEventListener("resize",this.onResize.bind(this)),this.onResize())}},{key:"uninstall",value:function(){window.removeEventListener("resize",this.onResize.bind(this))}},{key:"onResize",value:function(){var t,e,r;this.width=null===(t=this.application.renderer)||void 0===t?void 0:t.screen.width,this.height=null===(e=this.application.renderer)||void 0===e?void 0:e.screen.height,null===(r=this.application.stage)||void 0===r||r.children.forEach(function(t){t.emit("onResize")})}}],(e=null)&&Ee(t.prototype,e),r&&Ee(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();function Oe(t){return Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oe(t)}function Ae(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Re(n.key),n)}}function Re(t){var e=function(t,e){if("object"!=Oe(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Oe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Oe(e)?e:e+""}function je(t,e,r){return e=Ce(e),function(t,e){if(e&&("object"==Oe(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Ie()?Reflect.construct(e,r||[],Ce(t).constructor):e.apply(t,r))}function Ie(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Ie=function(){return!!t})()}function Ce(t){return Ce=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ce(t)}function Me(t,e){return Me=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Me(t,e)}Te(Pe,"width",0),Te(Pe,"height",0);var De=function(t){function e(t,r,n){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=je(this,e,[t,r,n])).responsiveWidth=0===r,i.responsiveHeight=0===n,i.on("onResize",i.onResize,i),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Me(t,e)}(e,t),r=e,(n=[{key:"onResize",value:function(){var t=this.parent;if(t){var e=Pe.width,r=Pe.height;this.width=this.responsiveWidth?e/t.scale.x:this.width,this.height=this.responsiveHeight?r/t.scale.y:this.height}}}])&&Ae(r.prototype,n),i&&Ae(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i}(n.t9Q);r(68090010),r(92631386);function Ne(t){return Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ne(t)}function Be(t){return function(t){if(Array.isArray(t))return Fe(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Fe(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Fe(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fe(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Le(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ue(n.key),n)}}function Ue(t){var e=function(t,e){if("object"!=Ne(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Ne(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ne(e)?e:e+""}var Ve=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.time=0,this.frameTime=0,this._isUpdated=!0,this.elements=Be(e.spines),this.activeElement=this.getActiveElement(),e.frameTime?(this.frameTime=e.frameTime,this.elements.forEach(function(t){t.autoUpdate=!1})):this._isUpdated=!1},e=[{key:"setAnimation",value:function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.updateActiveElement(),this.elements.forEach(function(i){var o=i.state.setAnimation(e,t,n);void 0!==r&&(o.mixDuration=r)})}},{key:"playPromiseAnimation",value:function(t,e){var r=this;return this.updateActiveElement(),new Promise(function(n){r.elements.forEach(function(i){i.state.clearListeners(),i.state.addListener({complete:function(){r.resizeSpine(),r.elements.forEach(function(t){t.state.clearListeners()}),n()}});var o=function(){r.elements.forEach(function(t){t.removeListener("onDestroy",o)}),n()};i.addListener("onDestroy",o);var a=i.state.setAnimation(0,t,!1);void 0!==e&&(a.mixDuration=e)})})}},{key:"resizeSpine",value:function(){var t=this;if(this.hasTracks(this.activeElement)){var e,r=this.activeElement.state.tracks.length>0?null===(e=this.activeElement.state.tracks[0])||void 0===e?void 0:e.trackTime:0;this.elements.forEach(function(e){t.hasTracks(e)&&(e.state.tracks[0].trackTime=0,e.update(r))})}this.updateActiveElement()}},{key:"update",value:function(t){this._isUpdated&&this.activeElement&&(this.time+=t,this.time>this.frameTime&&(this.activeElement.update(this.time),this.time=0))}},{key:"updateActiveElement",value:function(){this.activeElement=this.getActiveElement()}},{key:"setVisible",value:function(t){this.elements.forEach(function(e){e.visible=t})}},{key:"getActiveElement",value:function(){var t=this.elements.find(function(t){return t.worldVisible});if(t||!(this.elements.length>0))return t}},{key:"hasTracks",value:function(t){return t&&t.state&&t.state.tracks&&t.state.tracks.length>0}}],e&&Le(t.prototype,e),r&&Le(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();r(5320247),r(6137992),r(96949634),r(51524099),r(34318408);function Xe(t){return Xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xe(t)}function Ge(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Qe(n.key),n)}}function Ye(t,e,r){return e=We(e),function(t,e){if(e&&("object"==Xe(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,qe()?Reflect.construct(e,r||[],We(t).constructor):e.apply(t,r))}function qe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(qe=function(){return!!t})()}function We(t){return We=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},We(t)}function He(t,e){return He=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},He(t,e)}function ze(t,e,r){return(e=Qe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qe(t){var e=function(t,e){if("object"!=Xe(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Xe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Xe(e)?e:e+""}var Ze=0,Ke=1,$e=2,Je=3,tr=4,er=5,rr=6,nr=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return ze(t=Ye(this,e,[].concat(n)),"graphics",void 0),ze(t,"sourceArea",void 0),ze(t,"targetArea",void 0),ze(t,"horizontalStickModeId",tr),ze(t,"verticalStickModeId",Ke),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&He(t,e)}(e,t),r=e,i=[{key:"setSourceArea",value:function(t){var e=t.width,r=void 0===e?123:e,n=t.height,i=void 0===n?123:n;return this.sourceArea={width:r,height:i},this.adjustToTargetArea()}},{key:"setTargetArea",value:function(t){var e=t.x,r=void 0===e?0:e,n=t.y,i=void 0===n?0:n,o=t.width,a=void 0===o?1:o,s=t.height,u=void 0===s?1:s;return this.targetArea={x:r,y:i,width:a,height:u},this.adjustToTargetArea()}},{key:"highlight",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:255,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5;if(!this.sourceArea)return this;var i=this.sourceArea,o=i.width,a=i.height;return this.graphics=null!==(t=this.graphics)&&void 0!==t?t:this.addChild(new n.A1g),this.graphics.clear().beginFill(e,r).drawRect(0,0,o,a).endFill(),this.adjustToTargetArea()}},{key:"stickTop",value:function(){return this.verticalStickModeId=Ze,this.adjustToTargetArea()}},{key:"stickMiddle",value:function(){return this.verticalStickModeId=Ke,this.adjustToTargetArea()}},{key:"stickBottom",value:function(){return this.verticalStickModeId=$e,this.adjustToTargetArea()}},{key:"stickLeft",value:function(){return this.horizontalStickModeId=Je,this.adjustToTargetArea()}},{key:"stickCenter",value:function(){return this.horizontalStickModeId=tr,this.adjustToTargetArea()}},{key:"stickRight",value:function(){return this.horizontalStickModeId=er,this.adjustToTargetArea()}},{key:"stretchHorizontally",value:function(){return this.horizontalStickModeId=rr,this.adjustToTargetArea()}},{key:"stretchVertically",value:function(){return this.verticalStickModeId=rr,this.adjustToTargetArea()}},{key:"onResize",value:function(){var t=e.width,r=e.height;this.updateTargetArea(t/r),this.adjustToTargetArea(),this.onAdjustedToTargetArea(),this.children.forEach(function(t){var e,r;return null===(e=(r=t).onResize)||void 0===e?void 0:e.call(r)})}},{key:"updateTargetArea",value:function(t){}},{key:"adjustToTargetArea",value:function(){var t=this.horizontalStickModeId,r=this.verticalStickModeId,n=this.sourceArea,i=this.targetArea,o=this.scale,a=this.position;if(n&&i){var s=e.width,u=e.height,c=s*i.width,l=u*i.height,f=c/n.width,h=l/n.height,p=Math.min(f,h),d=Math.max(0,c-n.width*p),y=Math.max(0,l-n.height*p);switch(a.x=i.x*s,a.y=i.y*u,t){case Je:o.x=p;break;case tr:o.x=p,a.x+=.5*d;break;case er:o.x=p,a.x+=d;break;case rr:o.x=f}switch(r){case Ze:o.y=p;break;case Ke:o.y=p,a.y+=.5*y;break;case $e:o.y=p,a.y+=y;break;case rr:o.y=h}}return this.children.forEach(function(t){var e,r;return null===(e=(r=t).adjustToTargetArea)||void 0===e?void 0:e.call(r)}),this}},{key:"onAdjustedToTargetArea",value:function(){}}],o=[{key:"install",value:function(t,r){var n;e.pixiApplication=t,r&&null!==(n=t.view)&&void 0!==n&&n.style&&(t.view.style.width="100%",t.view.style.height="100%",window.addEventListener("resize",e.onResize)),e.onResize()}},{key:"uninstall",value:function(){window.removeEventListener("resize",e.onResize)}},{key:"onResize",value:function(){var t=e.pixiApplication,r=t.renderer,n=t.view,i=n.clientWidth,o=n.clientHeight,a=t.stage.children;e.width=i,e.height=o,r.resize(i,o),a.forEach(function(t){var e,r;return null===(e=(r=t).onResize)||void 0===e?void 0:e.call(r)})}}],i&&Ge(r.prototype,i),o&&Ge(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(n.mcf);r(57180314);function ir(t){return ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ir(t)}function or(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ar(n.key),n)}}function ar(t){var e=function(t,e){if("object"!=ir(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=ir(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ir(e)?e:e+""}function sr(t,e,r){return e=cr(e),function(t,e){if(e&&("object"==ir(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,ur()?Reflect.construct(e,r||[],cr(t).constructor):e.apply(t,r))}function ur(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(ur=function(){return!!t})()}function cr(t){return cr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},cr(t)}function lr(t,e){return lr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},lr(t,e)}var fr=function(t){return t[t.STICK_MODE_ID_TOP=0]="STICK_MODE_ID_TOP",t[t.STICK_MODE_ID_MIDDLE=1]="STICK_MODE_ID_MIDDLE",t[t.STICK_MODE_ID_BOTTOM=2]="STICK_MODE_ID_BOTTOM",t[t.STICK_MODE_ID_STRETCH=3]="STICK_MODE_ID_STRETCH",t[t.STICK_MODE_ID_STRETCH_FLEX=4]="STICK_MODE_ID_STRETCH_FLEX",t}({}),hr=function(t){return t[t.STICK_MODE_ID_LEFT=0]="STICK_MODE_ID_LEFT",t[t.STICK_MODE_ID_CENTER=1]="STICK_MODE_ID_CENTER",t[t.STICK_MODE_ID_RIGHT=2]="STICK_MODE_ID_RIGHT",t[t.STICK_MODE_ID_STRETCH=3]="STICK_MODE_ID_STRETCH",t[t.STICK_MODE_ID_STRETCH_FLEX=4]="STICK_MODE_ID_STRETCH_FLEX",t}({}),pr=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=sr(this,e)).horizontalStickModeId=hr.STICK_MODE_ID_CENTER,t.verticalStickModeId=fr.STICK_MODE_ID_MIDDLE,t._mainVisible=!1,t.on("onResize",t.onResize,t),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lr(t,e)}(e,t),r=e,(n=[{key:"setVerticalStickMode",value:function(t){return Object.values(fr).includes(t)?this.verticalStickModeId=t:(console.warn("INVALID VERTICAL_MODE VALUE ".concat(t,", WAS USED DEFAULT VALUE")),this.verticalStickModeId=fr.STICK_MODE_ID_MIDDLE),this.adjustToTargetArea()}},{key:"setHorizontalStickMode",value:function(t){return Object.values(hr).includes(t)?this.horizontalStickModeId=t:(console.warn("INVALID HORIZONTAL_MODE VALUE ".concat(t,", WAS USED DEFAULT VALUE")),this.horizontalStickModeId=hr.STICK_MODE_ID_CENTER),this.adjustToTargetArea()}},{key:"stickTop",value:function(){return this.verticalStickModeId=fr.STICK_MODE_ID_TOP,this.adjustToTargetArea()}},{key:"stickMiddle",value:function(){return this.verticalStickModeId=fr.STICK_MODE_ID_MIDDLE,this.adjustToTargetArea()}},{key:"stickBottom",value:function(){return this.verticalStickModeId=fr.STICK_MODE_ID_BOTTOM,this.adjustToTargetArea()}},{key:"stretchVertically",value:function(){return this.verticalStickModeId=fr.STICK_MODE_ID_STRETCH,this.adjustToTargetArea()}},{key:"stickLeft",value:function(){return this.horizontalStickModeId=hr.STICK_MODE_ID_LEFT,this.adjustToTargetArea()}},{key:"stickCenter",value:function(){return this.horizontalStickModeId=hr.STICK_MODE_ID_CENTER,this.adjustToTargetArea()}},{key:"stickRight",value:function(){return this.horizontalStickModeId=hr.STICK_MODE_ID_RIGHT,this.adjustToTargetArea()}},{key:"stretchHorizontally",value:function(){return this.horizontalStickModeId=hr.STICK_MODE_ID_STRETCH,this.adjustToTargetArea()}},{key:"onResize",value:function(){var t=Pe.width,e=Pe.height;this.updateTargetArea(t/e),this.adjustToTargetArea()}},{key:"setAdaptiveMap",value:function(t){return this.adaptiveMap=t,this.adjustToTargetArea()}},{key:"adjustToTargetArea",value:function(){var t=Pe.width,e=Pe.height;if(void 0!==this.adaptiveMap){var r,n,i,o,a,s,u,c,l,f,h,p,d=t/e,y=Object.keys(this.adaptiveMap).reduce(function(t,e){var r=+e;return null!==t&&r<d&&r>t?r:t},0),v=0;this.adaptiveMap[y]&&(v=Object.keys(this.adaptiveMap[y]).reduce(function(e,r){var n=+r;return null!==e&&n<t&&n>e?n:e},0));var m,b,g,w,S,x,_=this.adaptiveMap.default,E=null===(r=this.adaptiveMap[y])||void 0===r?void 0:r[v];this.visible=(null!==(n=null==E?void 0:E.visible)&&void 0!==n?n:_.visible)&&this._mainVisible,this.angle=null!==(i=null!==(o=null==E?void 0:E.angle)&&void 0!==o?o:_.angle)&&void 0!==i?i:this.angle,this.targetArea=null!==(a=null==E?void 0:E.targetArea)&&void 0!==a?a:_.targetArea,this.sourceArea=null!==(s=null==E?void 0:E.sourceArea)&&void 0!==s?s:_.sourceArea,this.zIndex=null!==(u=null!==(c=null==E?void 0:E.depth)&&void 0!==c?c:_.depth)&&void 0!==u?u:this.zIndex,this.horizontalStickModeId=null!==(l=null!==(f=null==E?void 0:E.alignHorizontal)&&void 0!==f?f:_.alignHorizontal)&&void 0!==l?l:this.horizontalStickModeId,this.verticalStickModeId=null!==(h=null!==(p=null==E?void 0:E.alignVertical)&&void 0!==p?p:_.alignVertical)&&void 0!==h?h:this.verticalStickModeId,void 0===this.targetArea&&(this.scale.set(null!==(m=null!==(b=null==E||null===(g=E.scale)||void 0===g?void 0:g.x)&&void 0!==b?b:_.scale.x)&&void 0!==m?m:1,null!==(w=null!==(S=null==E||null===(x=E.scale)||void 0===x?void 0:x.y)&&void 0!==S?S:_.scale.y)&&void 0!==w?w:1),this.position.set(void 0!==(null==E?void 0:E.x)?E.x:_.x,void 0!==(null==E?void 0:E.y)?E.y:_.y))}var T=this.sourceArea,k=this.targetArea,P=this.scale,O=this.position,A=this.children;if(T&&k){var R=t*k.width,j=e*k.height,I=R/T.width,C=j/T.height,M=+Math.min(I,C).toFixed(3),D=+Math.max(0,R-T.width*M).toFixed(3),N=+Math.max(0,j-T.height*M).toFixed(3);switch(O.x=k.x*t,O.y=k.y*e,this.horizontalStickModeId){case hr.STICK_MODE_ID_LEFT:P.x=M;break;case hr.STICK_MODE_ID_CENTER:P.x=M,O.x+=.5*D;break;case hr.STICK_MODE_ID_RIGHT:P.x=M,O.x+=D;break;case hr.STICK_MODE_ID_STRETCH:P.x=I;break;case hr.STICK_MODE_ID_STRETCH_FLEX:P.x=+Math.max(C,I).toFixed(3);break;default:console.warn("HORIZONTAL_STICK_MODE INVALID VALUE $(".concat(this.horizontalStickModeId,")"))}switch(this.verticalStickModeId){case fr.STICK_MODE_ID_TOP:P.y=M;break;case fr.STICK_MODE_ID_MIDDLE:P.y=M,O.y+=.5*N;break;case fr.STICK_MODE_ID_BOTTOM:P.y=M,O.y+=N;break;case fr.STICK_MODE_ID_STRETCH:P.y=C;break;case fr.STICK_MODE_ID_STRETCH_FLEX:P.y=+Math.max(C,I).toFixed(3);break;default:console.warn("VERTICAL_STICK_MODE INVALID VALUE $(".concat(this.verticalStickModeId,")"))}}return A.forEach(function(t){t.emit("onResize")}),this}},{key:"mainVisible",get:function(){return this._mainVisible},set:function(t){this._mainVisible=t,this.visible=t}}])&&or(r.prototype,n),i&&or(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i}(nr);function dr(t){return dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dr(t)}function yr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function vr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?yr(Object(r),!0).forEach(function(e){mr(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yr(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function mr(t,e,r){return(e=gr(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function br(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gr(n.key),n)}}function gr(t){var e=function(t,e){if("object"!=dr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=dr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==dr(e)?e:e+""}function wr(t,e,r){return e=xr(e),function(t,e){if(e&&("object"==dr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Sr()?Reflect.construct(e,r||[],xr(t).constructor):e.apply(t,r))}function Sr(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Sr=function(){return!!t})()}function xr(t){return xr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},xr(t)}function _r(t,e){return _r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_r(t,e)}var Er=function(t){function e(t,r){var i,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(o=wr(this,e,[t[r.default.texture]])).defaultTexture=null!==(i=t[r.default.texture])&&void 0!==i?i:n.gPd.EMPTY,o.textures=t,o.textures[""]=n.gPd.EMPTY,o._mainVisible=!1,o.adaptiveMap=r,o.on("onResize",o.customDisplayObjectUpdateTransform,o),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_r(t,e)}(e,t),r=e,(i=[{key:"clone",value:function(t){var r=new e(vr({},this.textures),vr({},this.adaptiveMap));return r.name=null!=t?t:null,r.anchor=this.anchor.clone(),r.scale=this.scale.clone(),r.position=this.position.clone(),r.pivot=this.pivot.clone(),r.skew=this.skew.clone(),r}},{key:"customDisplayObjectUpdateTransform",value:function(){var t,e,r,n,i,o,a,s,u,c,l,f,h,p,d,y,v,m,b,g,w,S,x,_,E,T,k,P,O=Pe.width,A=Pe.height,R=O/A,j=Object.keys(this.adaptiveMap).reduce(function(t,e){var r=+e;return null!==t&&r<R&&r>t?r:t},0),I=0;this.adaptiveMap[j]&&(I=Object.keys(this.adaptiveMap[j]).reduce(function(t,e){var r=+e;return null!==t&&r<O&&r>t?r:t},0));var C=this.adaptiveMap.default,M=null===(t=this.adaptiveMap[j])||void 0===t?void 0:t[I];this.texture=this.textures[null!==(e=null!==(r=null==M?void 0:M.texture)&&void 0!==r?r:C.texture)&&void 0!==e?e:""],this.visible=(null!==(n=null==M?void 0:M.visible)&&void 0!==n?n:C.visible)&&this._mainVisible,this.angle=null!==(i=null!==(o=null==M?void 0:M.angle)&&void 0!==o?o:C.angle)&&void 0!==i?i:this.angle,this.zIndex=null!==(a=null!==(s=null==M?void 0:M.depth)&&void 0!==s?s:C.depth)&&void 0!==a?a:this.zIndex,this.anchor.set(null!==(u=null!==(c=null==M||null===(l=M.origin)||void 0===l?void 0:l.x)&&void 0!==c?c:null===(f=C.origin)||void 0===f?void 0:f.x)&&void 0!==u?u:0,null!==(h=null!==(p=null==M||null===(d=M.origin)||void 0===d?void 0:d.y)&&void 0!==p?p:null===(y=C.origin)||void 0===y?void 0:y.y)&&void 0!==h?h:0),this.scale.set(null!==(v=null!==(m=null==M||null===(b=M.scale)||void 0===b?void 0:b.x)&&void 0!==m?m:null===(g=C.scale)||void 0===g?void 0:g.x)&&void 0!==v?v:1,null!==(w=null!==(S=null==M||null===(x=M.scale)||void 0===x?void 0:x.y)&&void 0!==S?S:null===(_=C.scale)||void 0===_?void 0:_.y)&&void 0!==w?w:1),this.position.set(null!==(E=null!==(T=null==M?void 0:M.x)&&void 0!==T?T:C.x)&&void 0!==E?E:this.x,null!==(k=null!==(P=null==M?void 0:M.y)&&void 0!==P?P:C.y)&&void 0!==k?k:this.y)}},{key:"mainVisible",get:function(){return this._mainVisible},set:function(t){this._mainVisible=t,this.visible=t}}])&&br(r.prototype,i),o&&br(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(n.kxk);function Tr(t){return Tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tr(t)}function kr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Pr(n.key),n)}}function Pr(t){var e=function(t,e){if("object"!=Tr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Tr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Tr(e)?e:e+""}function Or(t,e,r){return e=jr(e),function(t,e){if(e&&("object"==Tr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Ar()?Reflect.construct(e,r||[],jr(t).constructor):e.apply(t,r))}function Ar(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Ar=function(){return!!t})()}function Rr(){return Rr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=jr(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},Rr.apply(null,arguments)}function jr(t){return jr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},jr(t)}function Ir(t,e){return Ir=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ir(t,e)}var Cr=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=Or(this,e)).particleEmitter=t,r.particleEmitter.init(r,!1),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ir(t,e)}(e,t),r=e,n=[{key:"recycle",value:function(){this.particleEmitter.recycle()}},{key:"start",value:function(){this.particleEmitter.start()}},{key:"stop",value:function(t){this.particleEmitter.stop(t)}},{key:"emitNow",value:function(){this.particleEmitter.spawn()}},{key:"paused",get:function(){return this.particleEmitter.paused},set:function(t){this.particleEmitter.paused=t}},{key:"destroy",value:function(){var t,r,n,i,o;this.particleEmitter.dispose(),(t=e,r="destroy",n=this,o=Rr(jr(1&(i=3)?t.prototype:t),r,n),2&i&&"function"==typeof o?function(t){return o.apply(n,t)}:o)([])}}],n&&kr(r.prototype,n),i&&kr(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i}(n.mcf);function Mr(t){return Mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mr(t)}function Dr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Nr(n.key),n)}}function Nr(t){var e=function(t,e){if("object"!=Mr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Mr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Mr(e)?e:e+""}function Br(t,e,r){return e=Ur(e),function(t,e){if(e&&("object"==Mr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Fr()?Reflect.construct(e,r||[],Ur(t).constructor):e.apply(t,r))}function Fr(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Fr=function(){return!!t})()}function Lr(){return Lr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=Ur(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},Lr.apply(null,arguments)}function Ur(t){return Ur=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ur(t)}function Vr(t,e){return Vr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Vr(t,e)}var Xr=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=Br(this,e)).initBundles=[],t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vr(t,e)}(e,t),r=e,n=[{key:"safeInitBundle",value:function(t){this.initBundles.includes(t.name)||(this.initBundles.push(t.name),this.initBundle(t))}},{key:"dispose",value:function(){var t,r,n,i,o;(t=e,r="dispose",n=this,o=Lr(Ur(1&(i=3)?t.prototype:t),r,n),2&i&&"function"==typeof o?function(t){return o.apply(n,t)}:o)([]),this.initBundles.length=0}}],n&&Dr(r.prototype,n),i&&Dr(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i}(r(63594359).FX)},22073425:(t,e,r)=>{"use strict";r(29204099),r(44381336),r(95723650),r(97200626),r(50473502);var n=Object.prototype.hasOwnProperty,i="~";function o(){}function a(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function s(t,e,r,n,o){if("function"!=typeof r)throw new TypeError("The listener must be a function");var s=new a(r,n||t,o),u=i?i+e:e;return t._events[u]?t._events[u].fn?t._events[u]=[t._events[u],s]:t._events[u].push(s):(t._events[u]=s,t._eventsCount++),t}function u(t,e){0===--t._eventsCount?t._events=new o:delete t._events[e]}function c(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(i=!1)),c.prototype.eventNames=function(){var t,e,r=[];if(0===this._eventsCount)return r;for(e in t=this._events)n.call(t,e)&&r.push(i?e.slice(1):e);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(t)):r},c.prototype.listeners=function(t){var e=i?i+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var n=0,o=r.length,a=new Array(o);n<o;n++)a[n]=r[n].fn;return a},c.prototype.listenerCount=function(t){var e=i?i+t:t,r=this._events[e];return r?r.fn?1:r.length:0},c.prototype.emit=function(t,e,r,n,o,a){var s=i?i+t:t;if(!this._events[s])return!1;var u,c,l=this._events[s],f=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),f){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,r),!0;case 4:return l.fn.call(l.context,e,r,n),!0;case 5:return l.fn.call(l.context,e,r,n,o),!0;case 6:return l.fn.call(l.context,e,r,n,o,a),!0}for(c=1,u=new Array(f-1);c<f;c++)u[c-1]=arguments[c];l.fn.apply(l.context,u)}else{var h,p=l.length;for(c=0;c<p;c++)switch(l[c].once&&this.removeListener(t,l[c].fn,void 0,!0),f){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,e);break;case 3:l[c].fn.call(l[c].context,e,r);break;case 4:l[c].fn.call(l[c].context,e,r,n);break;default:if(!u)for(h=1,u=new Array(f-1);h<f;h++)u[h-1]=arguments[h];l[c].fn.apply(l[c].context,u)}}return!0},c.prototype.on=function(t,e,r){return s(this,t,e,r,!1)},c.prototype.once=function(t,e,r){return s(this,t,e,r,!0)},c.prototype.removeListener=function(t,e,r,n){var o=i?i+t:t;if(!this._events[o])return this;if(!e)return u(this,o),this;var a=this._events[o];if(a.fn)a.fn!==e||n&&!a.once||r&&a.context!==r||u(this,o);else{for(var s=0,c=[],l=a.length;s<l;s++)(a[s].fn!==e||n&&!a[s].once||r&&a[s].context!==r)&&c.push(a[s]);c.length?this._events[o]=1===c.length?c[0]:c:u(this,o)}return this},c.prototype.removeAllListeners=function(t){var e;return t?(e=i?i+t:t,this._events[e]&&u(this,e)):(this._events=new o,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=i,c.EventEmitter=c,t.exports=c},513729:function(t,e,r){var n;t=r.nmd(t),function(){e&&e.nodeType,t&&t.nodeType;var i="object"==typeof r.g&&r.g;i.global!==i&&i.window!==i&&i.self;var o,a=2147483647,s=36,u=/^xn--/,c=/[^\x20-\x7E]/,l=/[\x2E\u3002\uFF0E\uFF61]/g,f={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},h=Math.floor,p=String.fromCharCode;function d(t){throw new RangeError(f[t])}function y(t,e){for(var r=t.length,n=[];r--;)n[r]=e(t[r]);return n}function v(t,e){var r=t.split("@"),n="";return r.length>1&&(n=r[0]+"@",t=r[1]),n+y((t=t.replace(l,".")).split("."),e).join(".")}function m(t){for(var e,r,n=[],i=0,o=t.length;i<o;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<o?56320==(64512&(r=t.charCodeAt(i++)))?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),i--):n.push(e);return n}function b(t){return y(t,function(t){var e="";return t>65535&&(e+=p((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=p(t)}).join("")}function g(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:s}function w(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function S(t,e,r){var n=0;for(t=r?h(t/700):t>>1,t+=h(t/e);t>455;n+=s)t=h(t/35);return h(n+36*t/(t+38))}function x(t){var e,r,n,i,o,u,c,l,f,p,y=[],v=t.length,m=0,w=128,x=72;for((r=t.lastIndexOf("-"))<0&&(r=0),n=0;n<r;++n)t.charCodeAt(n)>=128&&d("not-basic"),y.push(t.charCodeAt(n));for(i=r>0?r+1:0;i<v;){for(o=m,u=1,c=s;i>=v&&d("invalid-input"),((l=g(t.charCodeAt(i++)))>=s||l>h((a-m)/u))&&d("overflow"),m+=l*u,!(l<(f=c<=x?1:c>=x+26?26:c-x));c+=s)u>h(a/(p=s-f))&&d("overflow"),u*=p;x=S(m-o,e=y.length+1,0==o),h(m/e)>a-w&&d("overflow"),w+=h(m/e),m%=e,y.splice(m++,0,w)}return b(y)}function _(t){var e,r,n,i,o,u,c,l,f,y,v,b,g,x,_,E=[];for(b=(t=m(t)).length,e=128,r=0,o=72,u=0;u<b;++u)(v=t[u])<128&&E.push(p(v));for(n=i=E.length,i&&E.push("-");n<b;){for(c=a,u=0;u<b;++u)(v=t[u])>=e&&v<c&&(c=v);for(c-e>h((a-r)/(g=n+1))&&d("overflow"),r+=(c-e)*g,e=c,u=0;u<b;++u)if((v=t[u])<e&&++r>a&&d("overflow"),v==e){for(l=r,f=s;!(l<(y=f<=o?1:f>=o+26?26:f-o));f+=s)_=l-y,x=s-y,E.push(p(w(y+_%x,0))),l=h(_/x);E.push(p(w(l,0))),o=S(r,g,n==i),r=0,++n}++r,++e}return E.join("")}o={version:"1.4.1",ucs2:{decode:m,encode:b},decode:x,encode:_,toASCII:function(t){return v(t,function(t){return c.test(t)?"xn--"+_(t):t})},toUnicode:function(t){return v(t,function(t){return u.test(t)?x(t.slice(4).toLowerCase()):t})}},void 0===(n=function(){return o}.call(e,r,e,t))||(t.exports=n)}()},14878839:t=>{"use strict";var e=String.prototype.replace,r=/%20/g,n="RFC1738",i="RFC3986";t.exports={default:i,formatters:{RFC1738:function(t){return e.call(t,r,"+")},RFC3986:function(t){return String(t)}},RFC1738:n,RFC3986:i}},20801859:(t,e,r)=>{"use strict";var n=r(39129010),i=r(49922876),o=r(14878839);t.exports={formats:o,parse:i,stringify:n}},49922876:(t,e,r)=>{"use strict";var n=r(38113790),i=Object.prototype.hasOwnProperty,o=Array.isArray,a={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:n.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},s=function(t){return t.replace(/&#(\d+);/g,function(t,e){return String.fromCharCode(parseInt(e,10))})},u=function(t,e,r){if(t&&"string"==typeof t&&e.comma&&t.indexOf(",")>-1)return t.split(",");if(e.throwOnLimitExceeded&&r>=e.arrayLimit)throw new RangeError("Array limit exceeded. Only "+e.arrayLimit+" element"+(1===e.arrayLimit?"":"s")+" allowed in an array.");return t},c=function(t,e,r,o){if(t){var a=r.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,s=/(\[[^[\]]*])/g,c=r.depth>0&&/(\[[^[\]]*])/.exec(a),l=c?a.slice(0,c.index):a,f=[];if(l){if(!r.plainObjects&&i.call(Object.prototype,l)&&!r.allowPrototypes)return;f.push(l)}for(var h=0;r.depth>0&&null!==(c=s.exec(a))&&h<r.depth;){if(h+=1,!r.plainObjects&&i.call(Object.prototype,c[1].slice(1,-1))&&!r.allowPrototypes)return;f.push(c[1])}if(c){if(!0===r.strictDepth)throw new RangeError("Input depth exceeded depth option of "+r.depth+" and strictDepth is true");f.push("["+a.slice(c.index)+"]")}return function(t,e,r,i){var o=0;if(t.length>0&&"[]"===t[t.length-1]){var a=t.slice(0,-1).join("");o=Array.isArray(e)&&e[a]?e[a].length:0}for(var s=i?e:u(e,r,o),c=t.length-1;c>=0;--c){var l,f=t[c];if("[]"===f&&r.parseArrays)l=r.allowEmptyArrays&&(""===s||r.strictNullHandling&&null===s)?[]:n.combine([],s);else{l=r.plainObjects?{__proto__:null}:{};var h="["===f.charAt(0)&&"]"===f.charAt(f.length-1)?f.slice(1,-1):f,p=r.decodeDotInKeys?h.replace(/%2E/g,"."):h,d=parseInt(p,10);r.parseArrays||""!==p?!isNaN(d)&&f!==p&&String(d)===p&&d>=0&&r.parseArrays&&d<=r.arrayLimit?(l=[])[d]=s:"__proto__"!==p&&(l[p]=s):l={0:s}}s=l}return s}(f,e,r,o)}};t.exports=function(t,e){var r=function(t){if(!t)return a;if(void 0!==t.allowEmptyArrays&&"boolean"!=typeof t.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==t.decodeDotInKeys&&"boolean"!=typeof t.decodeDotInKeys)throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==t.decoder&&void 0!==t.decoder&&"function"!=typeof t.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(void 0!==t.throwOnLimitExceeded&&"boolean"!=typeof t.throwOnLimitExceeded)throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var e=void 0===t.charset?a.charset:t.charset,r=void 0===t.duplicates?a.duplicates:t.duplicates;if("combine"!==r&&"first"!==r&&"last"!==r)throw new TypeError("The duplicates option must be either combine, first, or last");return{allowDots:void 0===t.allowDots?!0===t.decodeDotInKeys||a.allowDots:!!t.allowDots,allowEmptyArrays:"boolean"==typeof t.allowEmptyArrays?!!t.allowEmptyArrays:a.allowEmptyArrays,allowPrototypes:"boolean"==typeof t.allowPrototypes?t.allowPrototypes:a.allowPrototypes,allowSparse:"boolean"==typeof t.allowSparse?t.allowSparse:a.allowSparse,arrayLimit:"number"==typeof t.arrayLimit?t.arrayLimit:a.arrayLimit,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:a.charsetSentinel,comma:"boolean"==typeof t.comma?t.comma:a.comma,decodeDotInKeys:"boolean"==typeof t.decodeDotInKeys?t.decodeDotInKeys:a.decodeDotInKeys,decoder:"function"==typeof t.decoder?t.decoder:a.decoder,delimiter:"string"==typeof t.delimiter||n.isRegExp(t.delimiter)?t.delimiter:a.delimiter,depth:"number"==typeof t.depth||!1===t.depth?+t.depth:a.depth,duplicates:r,ignoreQueryPrefix:!0===t.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof t.interpretNumericEntities?t.interpretNumericEntities:a.interpretNumericEntities,parameterLimit:"number"==typeof t.parameterLimit?t.parameterLimit:a.parameterLimit,parseArrays:!1!==t.parseArrays,plainObjects:"boolean"==typeof t.plainObjects?t.plainObjects:a.plainObjects,strictDepth:"boolean"==typeof t.strictDepth?!!t.strictDepth:a.strictDepth,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:a.strictNullHandling,throwOnLimitExceeded:"boolean"==typeof t.throwOnLimitExceeded&&t.throwOnLimitExceeded}}(e);if(""===t||null==t)return r.plainObjects?{__proto__:null}:{};for(var l="string"==typeof t?function(t,e){var r={__proto__:null},c=e.ignoreQueryPrefix?t.replace(/^\?/,""):t;c=c.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var l=e.parameterLimit===1/0?void 0:e.parameterLimit,f=c.split(e.delimiter,e.throwOnLimitExceeded?l+1:l);if(e.throwOnLimitExceeded&&f.length>l)throw new RangeError("Parameter limit exceeded. Only "+l+" parameter"+(1===l?"":"s")+" allowed.");var h,p=-1,d=e.charset;if(e.charsetSentinel)for(h=0;h<f.length;++h)0===f[h].indexOf("utf8=")&&("utf8=%E2%9C%93"===f[h]?d="utf-8":"utf8=%26%2310003%3B"===f[h]&&(d="iso-8859-1"),p=h,h=f.length);for(h=0;h<f.length;++h)if(h!==p){var y,v,m=f[h],b=m.indexOf("]="),g=-1===b?m.indexOf("="):b+1;-1===g?(y=e.decoder(m,a.decoder,d,"key"),v=e.strictNullHandling?null:""):(y=e.decoder(m.slice(0,g),a.decoder,d,"key"),v=n.maybeMap(u(m.slice(g+1),e,o(r[y])?r[y].length:0),function(t){return e.decoder(t,a.decoder,d,"value")})),v&&e.interpretNumericEntities&&"iso-8859-1"===d&&(v=s(String(v))),m.indexOf("[]=")>-1&&(v=o(v)?[v]:v);var w=i.call(r,y);w&&"combine"===e.duplicates?r[y]=n.combine(r[y],v):w&&"last"!==e.duplicates||(r[y]=v)}return r}(t,r):t,f=r.plainObjects?{__proto__:null}:{},h=Object.keys(l),p=0;p<h.length;++p){var d=h[p],y=c(d,l[d],r,"string"==typeof t);f=n.merge(f,y,r)}return!0===r.allowSparse?f:n.compact(f)}},39129010:(t,e,r)=>{"use strict";var n=r(90282823),i=r(38113790),o=r(14878839),a=Object.prototype.hasOwnProperty,s={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},u=Array.isArray,c=Array.prototype.push,l=function(t,e){c.apply(t,u(e)?e:[e])},f=Date.prototype.toISOString,h=o.default,p={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:i.encode,encodeValuesOnly:!1,filter:void 0,format:h,formatter:o.formatters[h],indices:!1,serializeDate:function(t){return f.call(t)},skipNulls:!1,strictNullHandling:!1},d={},y=function t(e,r,o,a,s,c,f,h,y,v,m,b,g,w,S,x,_,E){for(var T,k=e,P=E,O=0,A=!1;void 0!==(P=P.get(d))&&!A;){var R=P.get(e);if(O+=1,void 0!==R){if(R===O)throw new RangeError("Cyclic object value");A=!0}void 0===P.get(d)&&(O=0)}if("function"==typeof v?k=v(r,k):k instanceof Date?k=g(k):"comma"===o&&u(k)&&(k=i.maybeMap(k,function(t){return t instanceof Date?g(t):t})),null===k){if(c)return y&&!x?y(r,p.encoder,_,"key",w):r;k=""}if("string"==typeof(T=k)||"number"==typeof T||"boolean"==typeof T||"symbol"==typeof T||"bigint"==typeof T||i.isBuffer(k))return y?[S(x?r:y(r,p.encoder,_,"key",w))+"="+S(y(k,p.encoder,_,"value",w))]:[S(r)+"="+S(String(k))];var j,I=[];if(void 0===k)return I;if("comma"===o&&u(k))x&&y&&(k=i.maybeMap(k,y)),j=[{value:k.length>0?k.join(",")||null:void 0}];else if(u(v))j=v;else{var C=Object.keys(k);j=m?C.sort(m):C}var M=h?String(r).replace(/\./g,"%2E"):String(r),D=a&&u(k)&&1===k.length?M+"[]":M;if(s&&u(k)&&0===k.length)return D+"[]";for(var N=0;N<j.length;++N){var B=j[N],F="object"==typeof B&&B&&void 0!==B.value?B.value:k[B];if(!f||null!==F){var L=b&&h?String(B).replace(/\./g,"%2E"):String(B),U=u(k)?"function"==typeof o?o(D,L):D:D+(b?"."+L:"["+L+"]");E.set(e,O);var V=n();V.set(d,E),l(I,t(F,U,o,a,s,c,f,h,"comma"===o&&x&&u(k)?null:y,v,m,b,g,w,S,x,_,V))}}return I};t.exports=function(t,e){var r,i=t,c=function(t){if(!t)return p;if(void 0!==t.allowEmptyArrays&&"boolean"!=typeof t.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==t.encodeDotInKeys&&"boolean"!=typeof t.encodeDotInKeys)throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==t.encoder&&void 0!==t.encoder&&"function"!=typeof t.encoder)throw new TypeError("Encoder has to be a function.");var e=t.charset||p.charset;if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=o.default;if(void 0!==t.format){if(!a.call(o.formatters,t.format))throw new TypeError("Unknown format option provided.");r=t.format}var n,i=o.formatters[r],c=p.filter;if(("function"==typeof t.filter||u(t.filter))&&(c=t.filter),n=t.arrayFormat in s?t.arrayFormat:"indices"in t?t.indices?"indices":"repeat":p.arrayFormat,"commaRoundTrip"in t&&"boolean"!=typeof t.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var l=void 0===t.allowDots?!0===t.encodeDotInKeys||p.allowDots:!!t.allowDots;return{addQueryPrefix:"boolean"==typeof t.addQueryPrefix?t.addQueryPrefix:p.addQueryPrefix,allowDots:l,allowEmptyArrays:"boolean"==typeof t.allowEmptyArrays?!!t.allowEmptyArrays:p.allowEmptyArrays,arrayFormat:n,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:p.charsetSentinel,commaRoundTrip:!!t.commaRoundTrip,delimiter:void 0===t.delimiter?p.delimiter:t.delimiter,encode:"boolean"==typeof t.encode?t.encode:p.encode,encodeDotInKeys:"boolean"==typeof t.encodeDotInKeys?t.encodeDotInKeys:p.encodeDotInKeys,encoder:"function"==typeof t.encoder?t.encoder:p.encoder,encodeValuesOnly:"boolean"==typeof t.encodeValuesOnly?t.encodeValuesOnly:p.encodeValuesOnly,filter:c,format:r,formatter:i,serializeDate:"function"==typeof t.serializeDate?t.serializeDate:p.serializeDate,skipNulls:"boolean"==typeof t.skipNulls?t.skipNulls:p.skipNulls,sort:"function"==typeof t.sort?t.sort:null,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:p.strictNullHandling}}(e);"function"==typeof c.filter?i=(0,c.filter)("",i):u(c.filter)&&(r=c.filter);var f=[];if("object"!=typeof i||null===i)return"";var h=s[c.arrayFormat],d="comma"===h&&c.commaRoundTrip;r||(r=Object.keys(i)),c.sort&&r.sort(c.sort);for(var v=n(),m=0;m<r.length;++m){var b=r[m],g=i[b];c.skipNulls&&null===g||l(f,y(g,b,h,d,c.allowEmptyArrays,c.strictNullHandling,c.skipNulls,c.encodeDotInKeys,c.encode?c.encoder:null,c.filter,c.sort,c.allowDots,c.serializeDate,c.format,c.formatter,c.encodeValuesOnly,c.charset,v))}var w=f.join(c.delimiter),S=!0===c.addQueryPrefix?"?":"";return c.charsetSentinel&&("iso-8859-1"===c.charset?S+="utf8=%26%2310003%3B&":S+="utf8=%E2%9C%93&"),w.length>0?S+w:""}},38113790:(t,e,r)=>{"use strict";var n=r(14878839),i=Object.prototype.hasOwnProperty,o=Array.isArray,a=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),s=function(t,e){for(var r=e&&e.plainObjects?{__proto__:null}:{},n=0;n<t.length;++n)void 0!==t[n]&&(r[n]=t[n]);return r},u=1024;t.exports={arrayToObject:s,assign:function(t,e){return Object.keys(e).reduce(function(t,r){return t[r]=e[r],t},t)},combine:function(t,e){return[].concat(t,e)},compact:function(t){for(var e=[{obj:{o:t},prop:"o"}],r=[],n=0;n<e.length;++n)for(var i=e[n],a=i.obj[i.prop],s=Object.keys(a),u=0;u<s.length;++u){var c=s[u],l=a[c];"object"==typeof l&&null!==l&&-1===r.indexOf(l)&&(e.push({obj:a,prop:c}),r.push(l))}return function(t){for(;t.length>1;){var e=t.pop(),r=e.obj[e.prop];if(o(r)){for(var n=[],i=0;i<r.length;++i)void 0!==r[i]&&n.push(r[i]);e.obj[e.prop]=n}}}(e),t},decode:function(t,e,r){var n=t.replace(/\+/g," ");if("iso-8859-1"===r)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(i){return n}},encode:function(t,e,r,i,o){if(0===t.length)return t;var s=t;if("symbol"==typeof t?s=Symbol.prototype.toString.call(t):"string"!=typeof t&&(s=String(t)),"iso-8859-1"===r)return escape(s).replace(/%u[0-9a-f]{4}/gi,function(t){return"%26%23"+parseInt(t.slice(2),16)+"%3B"});for(var c="",l=0;l<s.length;l+=u){for(var f=s.length>=u?s.slice(l,l+u):s,h=[],p=0;p<f.length;++p){var d=f.charCodeAt(p);45===d||46===d||95===d||126===d||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122||o===n.RFC1738&&(40===d||41===d)?h[h.length]=f.charAt(p):d<128?h[h.length]=a[d]:d<2048?h[h.length]=a[192|d>>6]+a[128|63&d]:d<55296||d>=57344?h[h.length]=a[224|d>>12]+a[128|d>>6&63]+a[128|63&d]:(p+=1,d=65536+((1023&d)<<10|1023&f.charCodeAt(p)),h[h.length]=a[240|d>>18]+a[128|d>>12&63]+a[128|d>>6&63]+a[128|63&d])}c+=h.join("")}return c},isBuffer:function(t){return!(!t||"object"!=typeof t)&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},isRegExp:function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},maybeMap:function(t,e){if(o(t)){for(var r=[],n=0;n<t.length;n+=1)r.push(e(t[n]));return r}return e(t)},merge:function t(e,r,n){if(!r)return e;if("object"!=typeof r&&"function"!=typeof r){if(o(e))e.push(r);else{if(!e||"object"!=typeof e)return[e,r];(n&&(n.plainObjects||n.allowPrototypes)||!i.call(Object.prototype,r))&&(e[r]=!0)}return e}if(!e||"object"!=typeof e)return[e].concat(r);var a=e;return o(e)&&!o(r)&&(a=s(e,n)),o(e)&&o(r)?(r.forEach(function(r,o){if(i.call(e,o)){var a=e[o];a&&"object"==typeof a&&r&&"object"==typeof r?e[o]=t(a,r,n):e.push(r)}else e[o]=r}),e):Object.keys(r).reduce(function(e,o){var a=r[o];return i.call(e,o)?e[o]=t(e[o],a,n):e[o]=a,e},a)}}},71181842:(t,e,r)=>{"use strict";var n=r(513729);function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var o=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,s=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,u=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),c=["'"].concat(u),l=["%","/","?",";","#"].concat(c),f=["/","?","#"],h=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,d={javascript:!0,"javascript:":!0},y={javascript:!0,"javascript:":!0},v={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},m=r(20801859);function b(t,e,r){if(t&&"object"==typeof t&&t instanceof i)return t;var n=new i;return n.parse(t,e,r),n}i.prototype.parse=function(t,e,r){if("string"!=typeof t)throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var i=t.indexOf("?"),a=-1!==i&&i<t.indexOf("#")?"?":"#",u=t.split(a);u[0]=u[0].replace(/\\/g,"/");var b=t=u.join(a);if(b=b.trim(),!r&&1===t.split("#").length){var g=s.exec(b);if(g)return this.path=b,this.href=b,this.pathname=g[1],g[2]?(this.search=g[2],this.query=e?m.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var w=o.exec(b);if(w){var S=(w=w[0]).toLowerCase();this.protocol=S,b=b.substr(w.length)}if(r||w||b.match(/^\/\/[^@/]+@[^@/]+/)){var x="//"===b.substr(0,2);!x||w&&y[w]||(b=b.substr(2),this.slashes=!0)}if(!y[w]&&(x||w&&!v[w])){for(var _,E,T=-1,k=0;k<f.length;k++){-1!==(P=b.indexOf(f[k]))&&(-1===T||P<T)&&(T=P)}-1!==(E=-1===T?b.lastIndexOf("@"):b.lastIndexOf("@",T))&&(_=b.slice(0,E),b=b.slice(E+1),this.auth=decodeURIComponent(_)),T=-1;for(k=0;k<l.length;k++){var P;-1!==(P=b.indexOf(l[k]))&&(-1===T||P<T)&&(T=P)}-1===T&&(T=b.length),this.host=b.slice(0,T),b=b.slice(T),this.parseHost(),this.hostname=this.hostname||"";var O="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!O)for(var A=this.hostname.split(/\./),R=(k=0,A.length);k<R;k++){var j=A[k];if(j&&!j.match(h)){for(var I="",C=0,M=j.length;C<M;C++)j.charCodeAt(C)>127?I+="x":I+=j[C];if(!I.match(h)){var D=A.slice(0,k),N=A.slice(k+1),B=j.match(p);B&&(D.push(B[1]),N.unshift(B[2])),N.length&&(b="/"+N.join(".")+b),this.hostname=D.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),O||(this.hostname=n.toASCII(this.hostname));var F=this.port?":"+this.port:"",L=this.hostname||"";this.host=L+F,this.href+=this.host,O&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!d[S])for(k=0,R=c.length;k<R;k++){var U=c[k];if(-1!==b.indexOf(U)){var V=encodeURIComponent(U);V===U&&(V=escape(U)),b=b.split(U).join(V)}}var X=b.indexOf("#");-1!==X&&(this.hash=b.substr(X),b=b.slice(0,X));var G=b.indexOf("?");if(-1!==G?(this.search=b.substr(G),this.query=b.substr(G+1),e&&(this.query=m.parse(this.query)),b=b.slice(0,G)):e&&(this.search="",this.query={}),b&&(this.pathname=b),v[S]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){F=this.pathname||"";var Y=this.search||"";this.path=F+Y}return this.href=this.format(),this},i.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,o="";this.host?i=t+this.host:this.hostname&&(i=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&"object"==typeof this.query&&Object.keys(this.query).length&&(o=m.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var a=this.search||o&&"?"+o||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||v[e])&&!1!==i?(i="//"+(i||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):i||(i=""),n&&"#"!==n.charAt(0)&&(n="#"+n),a&&"?"!==a.charAt(0)&&(a="?"+a),e+i+(r=r.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(a=a.replace("#","%23"))+n},i.prototype.resolve=function(t){return this.resolveObject(b(t,!1,!0)).format()},i.prototype.resolveObject=function(t){if("string"==typeof t){var e=new i;e.parse(t,!1,!0),t=e}for(var r=new i,n=Object.keys(this),o=0;o<n.length;o++){var a=n[o];r[a]=this[a]}if(r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var s=Object.keys(t),u=0;u<s.length;u++){var c=s[u];"protocol"!==c&&(r[c]=t[c])}return v[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!v[t.protocol]){for(var l=Object.keys(t),f=0;f<l.length;f++){var h=l[f];r[h]=t[h]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||y[t.protocol])r.pathname=t.pathname;else{for(var p=(t.pathname||"").split("/");p.length&&!(t.host=p.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),r.pathname=p.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var d=r.pathname||"",m=r.search||"";r.path=d+m}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var b=r.pathname&&"/"===r.pathname.charAt(0),g=t.host||t.pathname&&"/"===t.pathname.charAt(0),w=g||b||r.host&&t.pathname,S=w,x=r.pathname&&r.pathname.split("/")||[],_=(p=t.pathname&&t.pathname.split("/")||[],r.protocol&&!v[r.protocol]);if(_&&(r.hostname="",r.port=null,r.host&&(""===x[0]?x[0]=r.host:x.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===p[0]?p[0]=t.host:p.unshift(t.host)),t.host=null),w=w&&(""===p[0]||""===x[0])),g)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,x=p;else if(p.length)x||(x=[]),x.pop(),x=x.concat(p),r.search=t.search,r.query=t.query;else if(null!=t.search){if(_)r.host=x.shift(),r.hostname=r.host,(O=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=O.shift(),r.hostname=O.shift(),r.host=r.hostname);return r.search=t.search,r.query=t.query,null===r.pathname&&null===r.search||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!x.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var E=x.slice(-1)[0],T=(r.host||t.host||x.length>1)&&("."===E||".."===E)||""===E,k=0,P=x.length;P>=0;P--)"."===(E=x[P])?x.splice(P,1):".."===E?(x.splice(P,1),k++):k&&(x.splice(P,1),k--);if(!w&&!S)for(;k--;k)x.unshift("..");!w||""===x[0]||x[0]&&"/"===x[0].charAt(0)||x.unshift(""),T&&"/"!==x.join("/").substr(-1)&&x.push("");var O,A=""===x[0]||x[0]&&"/"===x[0].charAt(0);_&&(r.hostname=A?"":x.length?x.shift():"",r.host=r.hostname,(O=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=O.shift(),r.hostname=O.shift(),r.host=r.hostname));return(w=w||r.host&&x.length)&&!A&&x.unshift(""),x.length>0?r.pathname=x.join("/"):(r.pathname=null,r.path=null),null===r.pathname&&null===r.search||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},i.prototype.parseHost=function(){var t=this.host,e=a.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)},e.parse=b,e.resolve=function(t,e){return b(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?b(t,!1,!0).resolveObject(e):e},e.format=function(t){return"string"==typeof t&&(t=b(t)),t instanceof i?t.format():i.prototype.format.call(t)},e.Url=i},74839357:()=>{},26664026:(t,e,r)=>{"use strict";r.d(e,{wh:()=>n,aG:()=>s,Q1:()=>z,ON:()=>q,cj:()=>Z,qU:()=>u,mj:()=>c,bC:()=>tt,pw:()=>l,Ff:()=>K,Dr:()=>f,S3:()=>ot,bJ:()=>kt,eE:()=>W,Lw:()=>j,_C:()=>h,Aq:()=>J,I9:()=>et,W0:()=>at});var n=function(t){return t[t.Region=0]="Region",t[t.BoundingBox=1]="BoundingBox",t[t.Mesh=2]="Mesh",t[t.LinkedMesh=3]="LinkedMesh",t[t.Path=4]="Path",t[t.Point=5]="Point",t[t.Clipping=6]="Clipping",t}(n||{});r(29204099),r(53375191),r(73503923),r(35669252),r(44381336),r(62951728),r(41904727),r(33688577),r(17522308),r(4421388),r(1906035),r(32570708),r(78027336),r(26098537),r(47326777),r(74018857);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,a(n.key),n)}}function a(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==i(e)?e:e+""}var s=function(){return t=function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Array,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new DataView(e.buffer);!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.strings=r,this.index=n,this.buffer=i},(e=[{key:"readByte",value:function(){return this.buffer.getInt8(this.index++)}},{key:"readUnsignedByte",value:function(){return this.buffer.getUint8(this.index++)}},{key:"readShort",value:function(){var t=this.buffer.getInt16(this.index);return this.index+=2,t}},{key:"readInt32",value:function(){var t=this.buffer.getInt32(this.index);return this.index+=4,t}},{key:"readInt",value:function(t){var e=this.readByte(),r=127&e;return 128&e&&(r|=(127&(e=this.readByte()))<<7,128&e&&(r|=(127&(e=this.readByte()))<<14,128&e&&(r|=(127&(e=this.readByte()))<<21,128&e&&(r|=(127&(e=this.readByte()))<<28)))),t?r:r>>>1^-(1&r)}},{key:"readStringRef",value:function(){var t=this.readInt(!0);return 0==t?null:this.strings[t-1]}},{key:"readString",value:function(){var t=this.readInt(!0);switch(t){case 0:return null;case 1:return""}t--;for(var e="",r=0;r<t;){var n=this.readUnsignedByte();switch(n>>4){case 12:case 13:e+=String.fromCharCode((31&n)<<6|63&this.readByte()),r+=2;break;case 14:e+=String.fromCharCode((15&n)<<12|(63&this.readByte())<<6|63&this.readByte()),r+=3;break;default:e+=String.fromCharCode(n),r++}}return e}},{key:"readFloat",value:function(){var t=this.buffer.getFloat32(this.index);return this.index+=4,t}},{key:"readBoolean",value:function(){return 0!=this.readByte()}}])&&o(t.prototype,e),r&&o(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}(),u=(r(47138695),r(27015936),function(t){return t[t.setup=0]="setup",t[t.first=1]="first",t[t.replace=2]="replace",t[t.add=3]="add",t}(u||{})),c=function(t){return t[t.mixIn=0]="mixIn",t[t.mixOut=1]="mixOut",t}(c||{}),l=function(t){return t[t.Fixed=0]="Fixed",t[t.Percent=1]="Percent",t}(l||{}),f=function(t){return t[t.Tangent=0]="Tangent",t[t.Chain=1]="Chain",t[t.ChainScale=2]="ChainScale",t}(f||{}),h=function(t){return t[t.Normal=0]="Normal",t[t.OnlyTranslation=1]="OnlyTranslation",t[t.NoRotationOrReflection=2]="NoRotationOrReflection",t[t.NoScale=3]="NoScale",t[t.NoScaleOrReflection=4]="NoScaleOrReflection",t}(h||{}),p=(r(55705852),r(74534969),r(97200626),r(57180314),r(69994507),r(41624185),r(78635704),r(94366282),r(55039106));function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function y(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,v(n.key),n)}}function v(t){var e=function(t,e){if("object"!=d(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==d(e)?e:e+""}function m(t){switch(t.toLowerCase()){case"nearest":return b.Nearest;case"linear":return b.Linear;case"mipmap":return b.MipMap;case"mipmapnearestnearest":return b.MipMapNearestNearest;case"mipmaplinearnearest":return b.MipMapLinearNearest;case"mipmapnearestlinear":return b.MipMapNearestLinear;case"mipmaplinearlinear":return b.MipMapLinearLinear;default:throw new Error("Unknown texture filter ".concat(t))}}var b=function(t){return t[t.Nearest=9728]="Nearest",t[t.Linear=9729]="Linear",t[t.MipMap=9987]="MipMap",t[t.MipMapNearestNearest=9984]="MipMapNearestNearest",t[t.MipMapLinearNearest=9985]="MipMapLinearNearest",t[t.MipMapNearestLinear=9986]="MipMapNearestLinear",t[t.MipMapLinearLinear=9987]="MipMapLinearLinear",t}(b||{}),g=function(t){return t[t.MirroredRepeat=33648]="MirroredRepeat",t[t.ClampToEdge=33071]="ClampToEdge",t[t.Repeat=10497]="Repeat",t}(g||{}),w=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.size=null,this.names=null,this.values=null,this.renderObject=null},(e=[{key:"width",get:function(){var t=this.texture;return t.trim?t.trim.width:t.orig.width}},{key:"height",get:function(){var t=this.texture;return t.trim?t.trim.height:t.orig.height}},{key:"u",get:function(){return this.texture._uvs.x0}},{key:"v",get:function(){return this.texture._uvs.y0}},{key:"u2",get:function(){return this.texture._uvs.x2}},{key:"v2",get:function(){return this.texture._uvs.y2}},{key:"offsetX",get:function(){var t=this.texture;return t.trim?t.trim.x:0}},{key:"offsetY",get:function(){return this.spineOffsetY}},{key:"pixiOffsetY",get:function(){var t=this.texture;return t.trim?t.trim.y:0}},{key:"spineOffsetY",get:function(){var t=this.texture;return this.originalHeight-this.height-(t.trim?t.trim.y:0)}},{key:"originalWidth",get:function(){return this.texture.orig.width}},{key:"originalHeight",get:function(){return this.texture.orig.height}},{key:"x",get:function(){return this.texture.frame.x}},{key:"y",get:function(){return this.texture.frame.y}},{key:"rotate",get:function(){return 0!==this.texture.rotate}},{key:"degrees",get:function(){return(360-45*this.texture.rotate)%360}}])&&y(t.prototype,e),r&&y(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();function S(t){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S(t)}function x(t,e,r){return e=E(e),function(t,e){if(e&&("object"==S(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,_()?Reflect.construct(e,r||[],E(t).constructor):e.apply(t,r))}function _(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_=function(){return!!t})()}function E(t){return E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},E(t)}function T(t,e){return T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},T(t,e)}function k(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,O(n.key),n)}}function P(t,e,r){return e&&k(t.prototype,e),r&&k(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function O(t){var e=function(t,e){if("object"!=S(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=S(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==S(e)?e:e+""}function A(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var R=P(function t(){A(this,t),this.x=0,this.y=0,this.width=0,this.height=0,this.offsetX=0,this.offsetY=0,this.originalWidth=0,this.originalHeight=0,this.rotate=0,this.index=0}),j=function(){return P(function t(e,r,n){A(this,t),this.pages=new Array,this.regions=new Array,e&&this.addSpineAtlas(e,r,n)},[{key:"addTexture",value:function(t,e){for(var r=this.pages,n=null,i=0;i<r.length;i++)if(r[i].baseTexture===e.baseTexture){n=r[i];break}if(null===n){(n=new C).name="texturePage";var o=e.baseTexture;n.width=o.realWidth,n.height=o.realHeight,n.baseTexture=o,n.minFilter=n.magFilter=b.Nearest,n.uWrap=g.ClampToEdge,n.vWrap=g.ClampToEdge,r.push(n)}var a=new M;return a.name=t,a.page=n,a.texture=e,a.index=-1,this.regions.push(a),a}},{key:"addTextureHash",value:function(t,e){for(var r in t)t.hasOwnProperty(r)&&this.addTexture(e&&-1!==r.indexOf(".")?r.substr(0,r.lastIndexOf(".")):r,t[r])}},{key:"addSpineAtlas",value:function(t,e,r){return this.load(t,e,r)}},{key:"load",value:function(t,e,r){var n=this;if(null==e)throw new Error("textureLoader cannot be null.");var i=new I(t),o=new Array(4),a=null,s={},u=null;s.size=function(){a.width=parseInt(o[1]),a.height=parseInt(o[2])},s.format=function(){},s.filter=function(){a.minFilter=m(o[1]),a.magFilter=m(o[2])},s.repeat=function(){-1!=o[1].indexOf("x")&&(a.uWrap=g.Repeat),-1!=o[1].indexOf("y")&&(a.vWrap=g.Repeat)},s.pma=function(){a.pma="true"==o[1]};for(var c={xy:function(){u.x=parseInt(o[1]),u.y=parseInt(o[2])},size:function(){u.width=parseInt(o[1]),u.height=parseInt(o[2])},bounds:function(){u.x=parseInt(o[1]),u.y=parseInt(o[2]),u.width=parseInt(o[3]),u.height=parseInt(o[4])},offset:function(){u.offsetX=parseInt(o[1]),u.offsetY=parseInt(o[2])},orig:function(){u.originalWidth=parseInt(o[1]),u.originalHeight=parseInt(o[2])},offsets:function(){u.offsetX=parseInt(o[1]),u.offsetY=parseInt(o[2]),u.originalWidth=parseInt(o[3]),u.originalHeight=parseInt(o[4])},rotate:function(){var t=o[1],e=0;e="true"==t.toLocaleLowerCase()?6:"false"==t.toLocaleLowerCase()?0:(720-parseFloat(t))%360/45,u.rotate=e},index:function(){u.index=parseInt(o[1])}},l=i.readLine();null!=l&&0==l.trim().length;)l=i.readLine();for(;null!=l&&0!=l.trim().length&&0!=i.readEntry(o,l);)l=i.readLine();var f=function(){for(;;){if(null==l)return r&&r(n);if(0==l.trim().length)a=null,l=i.readLine();else{if(null===a){for((a=new C).name=l.trim();0!=i.readEntry(o,l=i.readLine());){var t=s[o[0]];t&&t()}n.pages.push(a),e(a.name,function(t){if(null===t)return n.pages.splice(n.pages.indexOf(a),1),r&&r(null);a.baseTexture=t,a.pma&&(t.alphaMode=p.Gk.PMA),t.valid||t.setSize(a.width,a.height),a.setFilters(),a.width&&a.height||(a.width=t.realWidth,a.height=t.realHeight,a.width&&a.height||console.log("ERROR spine atlas page ".concat(a.name,": meshes wont work if you dont specify size in atlas (http://www.html5gamedevs.com/topic/18888-pixi-spines-and-meshes/?p=107121)"))),f()});break}u=new R;var h=new M;h.name=l,h.page=a;for(var d=null,y=null;;){var v=i.readEntry(o,l=i.readLine());if(0==v)break;var m=c[o[0]];if(m)m();else{null==d&&(d=[],y=[]),d.push(o[0]);for(var b=[],g=0;g<v;g++)b.push(parseInt(o[g+1]));y.push(b)}}0==u.originalWidth&&0==u.originalHeight&&(u.originalWidth=u.width,u.originalHeight=u.height);var w=a.baseTexture.resolution;u.x/=w,u.y/=w,u.width/=w,u.height/=w,u.originalWidth/=w,u.originalHeight/=w,u.offsetX/=w,u.offsetY/=w;var S=u.rotate%4!=0,x=new p.M_(u.x,u.y,S?u.height:u.width,S?u.width:u.height),_=new p.M_(0,0,u.originalWidth,u.originalHeight),E=new p.M_(u.offsetX,u.originalHeight-u.height-u.offsetY,u.width,u.height);h.texture=new p.gP(h.page.baseTexture,x,_,E,u.rotate),h.index=u.index,h.texture.updateUvs(),n.regions.push(h)}}};f()}},{key:"findRegion",value:function(t){for(var e=0;e<this.regions.length;e++)if(this.regions[e].name==t)return this.regions[e];return null}},{key:"dispose",value:function(){for(var t=0;t<this.pages.length;t++)this.pages[t].baseTexture.dispose()}}])}(),I=function(){return P(function t(e){A(this,t),this.index=0,this.lines=e.split(/\r\n|\r|\n/)},[{key:"readLine",value:function(){return this.index>=this.lines.length?null:this.lines[this.index++]}},{key:"readEntry",value:function(t,e){if(null==e)return 0;if(0==(e=e.trim()).length)return 0;var r=e.indexOf(":");if(-1==r)return 0;t[0]=e.substr(0,r).trim();for(var n=1,i=r+1;;n++){var o=e.indexOf(",",i);if(-1==o)return t[n]=e.substr(i).trim(),n;if(t[n]=e.substr(i,o-i).trim(),i=o+1,4==n)return 4}}}])}(),C=function(){return P(function t(){A(this,t),this.minFilter=b.Nearest,this.magFilter=b.Nearest,this.uWrap=g.ClampToEdge,this.vWrap=g.ClampToEdge},[{key:"setFilters",value:function(){var t=this.baseTexture,e=this.minFilter;e==b.Linear?t.scaleMode=p.M6.LINEAR:this.minFilter==b.Nearest?t.scaleMode=p.M6.NEAREST:(t.mipmap=p.E8.POW2,e==b.MipMapNearestNearest?t.scaleMode=p.M6.NEAREST:t.scaleMode=p.M6.LINEAR)}}])}(),M=function(t){function e(){return A(this,e),x(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&T(t,e)}(e,t),P(e)}(w);r(95723650),r(50473502),r(81111613),r(71434170),r(89766562),r(70558731),r(20211116),r(6224830),r(18501354),r(49912228),r(29762787),r(87324110),r(31353187),r(49433423),r(7405150),r(76679030),r(19352784),r(283227),r(39512023),r(11753769),r(9404124),r(89875075),r(40993271),r(18381800),r(69967115),r(23549037),r(49032015),r(17179093),r(28253461),r(55692573),r(52899355),r(89433276),r(7478740),r(40707609);function D(t,e,r){return e=B(e),function(t,e){if(e&&("object"==U(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,N()?Reflect.construct(e,r||[],B(t).constructor):e.apply(t,r))}function N(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(N=function(){return!!t})()}function B(t){return B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},B(t)}function F(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&L(t,e)}function L(t,e){return L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},L(t,e)}function U(t){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U(t)}function V(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function X(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Y(n.key),n)}}function G(t,e,r){return e&&X(t.prototype,e),r&&X(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Y(t){var e=function(t,e){if("object"!=U(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=U(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==U(e)?e:e+""}var q=function(){return G(function t(){V(this,t),this.array=new Array},[{key:"add",value:function(t){var e=this.contains(t);return this.array[0|t]=0|t,!e}},{key:"contains",value:function(t){return null!=this.array[0|t]}},{key:"remove",value:function(t){this.array[0|t]=void 0}},{key:"clear",value:function(){this.array.length=0}}])}(),W=function(){return G(function t(){V(this,t),this.entries={},this.size=0},[{key:"add",value:function(t){var e=this.entries[t];return this.entries[t]=!0,!e&&(this.size++,!0)}},{key:"addAll",value:function(t){for(var e=this.size,r=0,n=t.length;r<n;r++)this.add(t[r]);return e!=this.size}},{key:"contains",value:function(t){return this.entries[t]}},{key:"clear",value:function(){this.entries={},this.size=0}}])}(),H=function(){return G(function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;V(this,t),this.r=e,this.g=r,this.b=n,this.a=i},[{key:"set",value:function(t,e,r,n){return this.r=t,this.g=e,this.b=r,this.a=n,this.clamp()}},{key:"setFromColor",value:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this}},{key:"setFromString",value:function(t){return t="#"==t.charAt(0)?t.substr(1):t,this.r=parseInt(t.substr(0,2),16)/255,this.g=parseInt(t.substr(2,2),16)/255,this.b=parseInt(t.substr(4,2),16)/255,this.a=8!=t.length?1:parseInt(t.substr(6,2),16)/255,this}},{key:"add",value:function(t,e,r,n){return this.r+=t,this.g+=e,this.b+=r,this.a+=n,this.clamp()}},{key:"clamp",value:function(){return this.r<0?this.r=0:this.r>1&&(this.r=1),this.g<0?this.g=0:this.g>1&&(this.g=1),this.b<0?this.b=0:this.b>1&&(this.b=1),this.a<0?this.a=0:this.a>1&&(this.a=1),this}}],[{key:"rgba8888ToColor",value:function(t,e){t.r=((4278190080&e)>>>24)/255,t.g=((16711680&e)>>>16)/255,t.b=((65280&e)>>>8)/255,t.a=(255&e)/255}},{key:"rgb888ToColor",value:function(t,e){t.r=((16711680&e)>>>16)/255,t.g=((65280&e)>>>8)/255,t.b=(255&e)/255}},{key:"fromString",value:function(t){return(new H).setFromString(t)}}])}(),z=H;z.WHITE=new H(1,1,1,1),z.RED=new H(1,0,0,1),z.GREEN=new H(0,1,0,1),z.BLUE=new H(0,0,1,1),z.MAGENTA=new H(1,0,1,1);var Q=function(){return G(function t(){V(this,t)},null,[{key:"clamp",value:function(t,e,r){return t<e?e:t>r?r:t}},{key:"cosDeg",value:function(t){return Math.cos(t*Q.degRad)}},{key:"sinDeg",value:function(t){return Math.sin(t*Q.degRad)}},{key:"signum",value:function(t){return Math.sign(t)}},{key:"toInt",value:function(t){return t>0?Math.floor(t):Math.ceil(t)}},{key:"cbrt",value:function(t){var e=Math.pow(Math.abs(t),1/3);return t<0?-e:e}},{key:"randomTriangular",value:function(t,e){return Q.randomTriangularWith(t,e,.5*(t+e))}},{key:"randomTriangularWith",value:function(t,e,r){var n=Math.random(),i=e-t;return n<=(r-t)/i?t+Math.sqrt(n*i*(r-t)):e-Math.sqrt((1-n)*i*(e-r))}},{key:"isPowerOfTwo",value:function(t){return t&&!(t&t-1)}}])}(),Z=Q;Z.PI=3.1415927,Z.PI2=2*Q.PI,Z.radiansToDegrees=180/Q.PI,Z.radDeg=Q.radiansToDegrees,Z.degreesToRadians=Q.PI/180,Z.degRad=Q.degreesToRadians;var K=function(t){function e(){return V(this,e),D(this,e,arguments)}return F(e,t),G(e,[{key:"applyInternal",value:function(t){return Math.pow(t-1,this.power)*(this.power%2==0?-1:1)+1}}])}(function(t){function e(t){var r;return V(this,e),(r=D(this,e)).power=2,r.power=t,r}return F(e,t),G(e,[{key:"applyInternal",value:function(t){return t<=.5?Math.pow(2*t,this.power)/2:Math.pow(2*(t-1),this.power)/(this.power%2==0?-2:2)+1}}])}(function(){return G(function t(){V(this,t)},[{key:"apply",value:function(t,e,r){return t+(e-t)*this.applyInternal(r)}}])}())),$=function(){return G(function t(){V(this,t)},null,[{key:"arrayCopy",value:function(t,e,r,n,i){for(var o=e,a=n;o<e+i;o++,a++)r[a]=t[o]}},{key:"arrayFill",value:function(t,e,r,n){for(var i=e;i<r;i++)t[i]=n}},{key:"setArraySize",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=t.length;if(n==e)return t;if(t.length=e,n<e)for(var i=n;i<e;i++)t[i]=r;return t}},{key:"ensureArrayCapacity",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return t.length>=e?t:$.setArraySize(t,e,r)}},{key:"newArray",value:function(t,e){for(var r=new Array(t),n=0;n<t;n++)r[n]=e;return r}},{key:"newFloatArray",value:function(t){if($.SUPPORTS_TYPED_ARRAYS)return new Float32Array(t);for(var e=new Array(t),r=0;r<e.length;r++)e[r]=0;return e}},{key:"newShortArray",value:function(t){if($.SUPPORTS_TYPED_ARRAYS)return new Int16Array(t);for(var e=new Array(t),r=0;r<e.length;r++)e[r]=0;return e}},{key:"toFloatArray",value:function(t){return $.SUPPORTS_TYPED_ARRAYS?new Float32Array(t):t}},{key:"toSinglePrecision",value:function(t){return $.SUPPORTS_TYPED_ARRAYS?Math.fround(t):t}},{key:"webkit602BugfixHelper",value:function(t,e){}},{key:"contains",value:function(t,e){for(var r=0;r<t.length;r++)if(t[r]==e)return!0;return!1}},{key:"enumValue",value:function(t,e){return t[e[0].toUpperCase()+e.slice(1)]}}])}(),J=$;J.SUPPORTS_TYPED_ARRAYS="undefined"!=typeof Float32Array;var tt=function(){return G(function t(e){V(this,t),this.items=new Array,this.instantiator=e},[{key:"obtain",value:function(){return this.items.length>0?this.items.pop():this.instantiator()}},{key:"free",value:function(t){t.reset&&t.reset(),this.items.push(t)}},{key:"freeAll",value:function(t){for(var e=0;e<t.length;e++)this.free(t[e])}},{key:"clear",value:function(){this.items.length=0}}])}(),et=function(){return G(function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;V(this,t),this.x=e,this.y=r},[{key:"set",value:function(t,e){return this.x=t,this.y=e,this}},{key:"length",value:function(){var t=this.x,e=this.y;return Math.sqrt(t*t+e*e)}},{key:"normalize",value:function(){var t=this.length();return 0!=t&&(this.x/=t,this.y/=t),this}}])}();function rt(t){return rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rt(t)}function nt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,it(n.key),n)}}function it(t){var e=function(t,e){if("object"!=rt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=rt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==rt(e)?e:e+""}var ot=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.boundingBoxes=new Array,this.polygons=new Array,this.polygonPool=new tt(function(){return J.newFloatArray(16)})},(e=[{key:"update",value:function(t,e){if(!t)throw new Error("skeleton cannot be null.");var r=this.boundingBoxes,i=this.polygons,o=this.polygonPool,a=t.slots,s=a.length;r.length=0,o.freeAll(i),i.length=0;for(var u=0;u<s;u++){var c=a[u];if(c.bone.active){var l=c.getAttachment();if(null!=l&&l.type===n.BoundingBox){var f=l;r.push(f);var h=o.obtain();h.length!=f.worldVerticesLength&&(h=J.newFloatArray(f.worldVerticesLength)),i.push(h),f.computeWorldVertices(c,0,f.worldVerticesLength,h,0,2)}}}e?this.aabbCompute():(this.minX=Number.POSITIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY)}},{key:"aabbCompute",value:function(){for(var t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY,n=Number.NEGATIVE_INFINITY,i=this.polygons,o=0,a=i.length;o<a;o++)for(var s=i[o],u=s,c=0,l=s.length;c<l;c+=2){var f=u[c],h=u[c+1];t=Math.min(t,f),e=Math.min(e,h),r=Math.max(r,f),n=Math.max(n,h)}this.minX=t,this.minY=e,this.maxX=r,this.maxY=n}},{key:"aabbContainsPoint",value:function(t,e){return t>=this.minX&&t<=this.maxX&&e>=this.minY&&e<=this.maxY}},{key:"aabbIntersectsSegment",value:function(t,e,r,n){var i=this.minX,o=this.minY,a=this.maxX,s=this.maxY;if(t<=i&&r<=i||e<=o&&n<=o||t>=a&&r>=a||e>=s&&n>=s)return!1;var u=(n-e)/(r-t),c=u*(i-t)+e;if(c>o&&c<s)return!0;if((c=u*(a-t)+e)>o&&c<s)return!0;var l=(o-e)/u+t;return l>i&&l<a||(l=(s-e)/u+t)>i&&l<a}},{key:"aabbIntersectsSkeleton",value:function(t){return this.minX<t.maxX&&this.maxX>t.minX&&this.minY<t.maxY&&this.maxY>t.minY}},{key:"containsPoint",value:function(t,e){for(var r=this.polygons,n=0,i=r.length;n<i;n++)if(this.containsPointPolygon(r[n],t,e))return this.boundingBoxes[n];return null}},{key:"containsPointPolygon",value:function(t,e,r){for(var n=t,i=t.length,o=i-2,a=!1,s=0;s<i;s+=2){var u=n[s+1],c=n[o+1];if(u<r&&c>=r||c<r&&u>=r){var l=n[s];l+(r-u)/(c-u)*(n[o]-l)<e&&(a=!a)}o=s}return a}},{key:"intersectsSegment",value:function(t,e,r,n){for(var i=this.polygons,o=0,a=i.length;o<a;o++)if(this.intersectsSegmentPolygon(i[o],t,e,r,n))return this.boundingBoxes[o];return null}},{key:"intersectsSegmentPolygon",value:function(t,e,r,n,i){for(var o=t,a=t.length,s=e-n,u=r-i,c=e*i-r*n,l=o[a-2],f=o[a-1],h=0;h<a;h+=2){var p=o[h],d=o[h+1],y=l*d-f*p,v=l-p,m=f-d,b=s*m-u*v,g=(c*v-s*y)/b;if((g>=l&&g<=p||g>=p&&g<=l)&&(g>=e&&g<=n||g>=n&&g<=e)){var w=(c*m-u*y)/b;if((w>=f&&w<=d||w>=d&&w<=f)&&(w>=r&&w<=i||w>=i&&w<=r))return!0}l=p,f=d}return!1}},{key:"getPolygon",value:function(t){if(!t)throw new Error("boundingBox cannot be null.");var e=this.boundingBoxes.indexOf(t);return-1==e?null:this.polygons[e]}},{key:"getWidth",value:function(){return this.maxX-this.minX}},{key:"getHeight",value:function(){return this.maxY-this.minY}}])&&nt(t.prototype,e),r&&nt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}(),at={yDown:!0,FAIL_ON_NON_EXISTING_SKIN:!1,GLOBAL_AUTO_UPDATE:!0,GLOBAL_DELAY_LIMIT:0,REPORT_TEXTURE_LOADER_ERROR:!0},st=(r(95440747),r(86965080),r(54497072),r(4145753),r(85890026),r(97972777)),ut=r(85133661),ct=r(69398507),lt=r(54240947);function ft(t){return ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ft(t)}function ht(){return ht="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=gt(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},ht.apply(null,arguments)}function pt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,yt(n.key),n)}}function dt(t,e,r){return e&&pt(t.prototype,e),r&&pt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function yt(t){var e=function(t,e){if("object"!=ft(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=ft(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ft(e)?e:e+""}function vt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mt(t,e,r){return e=gt(e),function(t,e){if(e&&("object"==ft(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,bt()?Reflect.construct(e,r||[],gt(t).constructor):e.apply(t,r))}function bt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(bt=function(){return!!t})()}function gt(t){return gt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},gt(t)}function wt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&St(t,e)}function St(t,e){return St=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},St(t,e)}var xt=[0,0,0],_t=function(t){function e(){var t;return vt(this,e),(t=mt(this,e,arguments)).region=null,t.attachment=null,t}return wt(e,t),dt(e)}(ut.k),Et=function(t){function e(t,r,n,i,o){var a;return vt(this,e),(a=mt(this,e,[t,r,n,i,o])).region=null,a.attachment=null,a}return wt(e,t),dt(e)}(ct.g),Tt=function(t){function e(t){var r;if(vt(this,e),r=mt(this,e),!t)throw new Error("The spineData param is required.");if("string"==typeof t)throw new Error('spineData param cant be string. Please use spine.Spine.fromAtlas("YOUR_RESOURCE_NAME") from now on.');r.spineData=t,r.createSkeleton(t),r.slotContainers=[],r.tempClipContainers=[];for(var i=0,o=r.skeleton.slots.length;i<o;i++){var a=r.skeleton.slots[i],s=a.getAttachment(),u=r.newContainer();if(r.slotContainers.push(u),r.addChild(u),r.tempClipContainers.push(null),s)if(s.type===n.Region){var c=s.name,l=r.createSprite(a,s,c);a.currentSprite=l,a.currentSpriteName=c,u.addChild(l)}else if(s.type===n.Mesh){var f=r.createMesh(a,s);a.currentMesh=f,a.currentMeshId=s.id,a.currentMeshName=s.name,u.addChild(f)}else s.type===n.Clipping&&(r.createGraphics(a,s),u.addChild(a.clippingContainer),u.addChild(a.currentGraphics))}return r.tintRgb=new Float32Array([1,1,1]),r.autoUpdate=!0,r.visible=!0,r}return wt(e,t),dt(e,[{key:"debug",get:function(){return this._debug},set:function(t){var e;t!=this._debug&&(null===(e=this._debug)||void 0===e||e.unregisterSpine(this),null==t||t.registerSpine(this),this._debug=t)}},{key:"autoUpdate",get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,this.updateTransform=t?Tt.prototype.autoUpdateTransform:st.mc.prototype.updateTransform)}},{key:"tint",get:function(){return p.Wp.rgb2hex(this.tintRgb)},set:function(t){this.tintRgb=p.Wp.hex2rgb(t,this.tintRgb)}},{key:"delayLimit",get:function(){return(void 0!==this.localDelayLimit?this.localDelayLimit:at.GLOBAL_DELAY_LIMIT)||Number.MAX_VALUE}},{key:"update",value:function(t){var e,r=this.delayLimit;if(t>r&&(t=r),this.state.update(t),this.state.apply(this.skeleton),this.skeleton){this.skeleton.updateWorldTransform();var i=this.skeleton.slots,o=this.color,a=null,s=null;o?(a=o.light,s=o.dark):a=this.tintRgb;for(var u=0,c=i.length;u<c;u++){var l=i[u],f=l.getAttachment(),h=this.slotContainers[u];if(f){var d=null;f.sequence&&f.sequence.apply(l,f);var y=f.region,v=f.color;switch(null!=f&&f.type){case n.Region:if(h.transform.setFromMatrix(l.bone.matrix),y=f.region,l.currentMesh&&(l.currentMesh.visible=!1,l.currentMesh=null,l.currentMeshId=void 0,l.currentMeshName=void 0),!y){l.currentSprite&&(l.currentSprite.renderable=!1);break}if(!l.currentSpriteName||l.currentSpriteName!==f.name){var m=f.name;if(l.currentSprite&&(l.currentSprite.visible=!1),l.sprites=l.sprites||{},void 0!==l.sprites[m])l.sprites[m].visible=!0;else{var b=this.createSprite(l,f,m);h.addChild(b)}l.currentSprite=l.sprites[m],l.currentSpriteName=m}l.currentSprite.renderable=!0,l.hackRegion||this.setSpriteRegion(f,l.currentSprite,y),l.currentSprite.color?d=l.currentSprite.color:(xt[0]=a[0]*l.color.r*v.r,xt[1]=a[1]*l.color.g*v.g,xt[2]=a[2]*l.color.b*v.b,l.currentSprite.tint=p.Wp.rgb2hex(xt)),l.currentSprite.blendMode=l.blendMode;break;case n.Mesh:if(l.currentSprite){l.currentSprite.visible=!1,l.currentSprite=null,l.currentSpriteName=void 0;var g=new p.dL;g._parentID=-1,g._worldID=h.transform._worldID,h.transform=g}if(!y){l.currentMesh&&(l.currentMesh.renderable=!1);break}var w=f.id;if(void 0===l.currentMeshId||l.currentMeshId!==w){var S=w;if(l.currentMesh&&(l.currentMesh.visible=!1),l.meshes=l.meshes||{},void 0!==l.meshes[S])l.meshes[S].visible=!0;else{var x=this.createMesh(l,f);h.addChild(x)}l.currentMesh=l.meshes[S],l.currentMeshName=f.name,l.currentMeshId=S}l.currentMesh.renderable=!0,f.computeWorldVerticesOld(l,l.currentMesh.vertices),l.currentMesh.color?d=l.currentMesh.color:(xt[0]=a[0]*l.color.r*v.r,xt[1]=a[1]*l.color.g*v.g,xt[2]=a[2]*l.color.b*v.b,l.currentMesh.tint=p.Wp.rgb2hex(xt)),l.currentMesh.blendMode=l.blendMode,l.hackRegion||this.setMeshRegion(f,l.currentMesh,y);break;case n.Clipping:l.currentGraphics||(this.createGraphics(l,f),h.addChild(l.clippingContainer),h.addChild(l.currentGraphics)),this.updateGraphics(l,f),h.alpha=1,h.visible=!0;continue;default:h.visible=!1;continue}if(h.visible=!0,d){var _=l.color.r*v.r,E=l.color.g*v.g,T=l.color.b*v.b;d.setLight(a[0]*_+s[0]*(1-_),a[1]*E+s[1]*(1-E),a[2]*T+s[2]*(1-T)),l.darkColor?(_=l.darkColor.r,E=l.darkColor.g,T=l.darkColor.b):(_=0,E=0,T=0),d.setDark(a[0]*_+s[0]*(1-_),a[1]*E+s[1]*(1-E),a[2]*T+s[2]*(1-T))}h.alpha=l.color.a}else h.visible=!1}for(var k=this.skeleton.drawOrder,P=null,O=null,A=0,R=k.length;A<R;A++){var j=i[k[A].data.index],I=this.slotContainers[k[A].data.index];if(O||null!==I.parent&&I.parent!==this&&(I.parent.removeChild(I),I.parent=this),j.currentGraphics&&j.getAttachment())O=j.clippingContainer,P=j.getAttachment(),O.children.length=0,this.children[A]=I,P.endSlot===j.data&&(P.endSlot=null);else if(O){var C=this.tempClipContainers[A];C||((C=this.tempClipContainers[A]=this.newContainer()).visible=!1),this.children[A]=C,I.parent=null,O.addChild(I),P.endSlot==j.data&&(O.renderable=!0,O=null,P=null)}else this.children[A]=I}null===(e=this._debug)||void 0===e||e.renderDebug(this)}}},{key:"setSpriteRegion",value:function(t,e,r){e.attachment===t&&e.region===r||(e.region=r,e.attachment=t,e.texture=r.texture,e.rotation=t.rotation*Z.degRad,e.position.x=t.x,e.position.y=t.y,e.alpha=t.color.a,r.size?(e.scale.x=r.size.width/r.originalWidth,e.scale.y=-r.size.height/r.originalHeight):(e.scale.x=t.scaleX*t.width/r.originalWidth,e.scale.y=-t.scaleY*t.height/r.originalHeight))}},{key:"setMeshRegion",value:function(t,e,r){e.attachment===t&&e.region===r||(e.region=r,e.attachment=t,e.texture=r.texture,r.texture.updateUvs(),e.uvBuffer.update(t.regionUVs))}},{key:"autoUpdateTransform",value:function(){if(at.GLOBAL_AUTO_UPDATE){this.lastTime=this.lastTime||Date.now();var t=.001*(Date.now()-this.lastTime);this.lastTime=Date.now(),this.update(t)}else this.lastTime=0;st.mc.prototype.updateTransform.call(this)}},{key:"createSprite",value:function(t,e,r){var n=e.region;t.hackAttachment===e&&(n=t.hackRegion);var i=n?n.texture:null,o=this.newSprite(i);return o.anchor.set(.5),n&&this.setSpriteRegion(e,o,e.region),t.sprites=t.sprites||{},t.sprites[r]=o,o}},{key:"createMesh",value:function(t,e){!e.region&&e.sequence&&e.sequence.apply(t,e);var r=e.region;t.hackAttachment===e&&(r=t.hackRegion,t.hackAttachment=null,t.hackRegion=null);var n=this.newMesh(r?r.texture:null,new Float32Array(e.regionUVs.length),e.regionUVs,new Uint16Array(e.triangles),p._4.TRIANGLES);return void 0!==n._canvasPadding&&(n._canvasPadding=1.5),n.alpha=e.color.a,n.region=e.region,r&&this.setMeshRegion(e,n,r),t.meshes=t.meshes||{},t.meshes[e.id]=n,n}},{key:"createGraphics",value:function(t,e){var r=this.newGraphics(),n=new p.tS([]);return r.clear(),r.beginFill(16777215,1),r.drawPolygon(n),r.renderable=!1,t.currentGraphics=r,t.clippingContainer=this.newContainer(),t.clippingContainer.mask=t.currentGraphics,r}},{key:"updateGraphics",value:function(t,e){var r=t.currentGraphics.geometry,n=r.graphicsData[0].shape.points,i=e.worldVerticesLength;n.length=i,e.computeWorldVertices(t,0,i,n,0,2),r.invalidate()}},{key:"hackTextureBySlotIndex",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=this.skeleton.slots[t];if(!n)return!1;var i=n.getAttachment(),o=i.region;return e?((o=new w).texture=e,o.size=r,n.hackRegion=o,n.hackAttachment=i):(n.hackRegion=null,n.hackAttachment=null),n.currentSprite?this.setSpriteRegion(i,n.currentSprite,o):n.currentMesh&&this.setMeshRegion(i,n.currentMesh,o),!0}},{key:"hackTextureBySlotName",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=this.skeleton.findSlotIndex(t);return-1!=n&&this.hackTextureBySlotIndex(n,e,r)}},{key:"hackTextureAttachment",value:function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=this.skeleton.findSlotIndex(t),o=this.skeleton.getAttachmentByName(t,e);o.region.texture=r;var a=this.skeleton.slots[i];if(!a)return!1;var s=a.getAttachment();if(e===s.name){var u=o.region;return r?((u=new w).texture=r,u.size=n,a.hackRegion=u,a.hackAttachment=s):(a.hackRegion=null,a.hackAttachment=null),a.currentSprite&&a.currentSprite.region!=u?(this.setSpriteRegion(s,a.currentSprite,u),a.currentSprite.region=u):a.currentMesh&&a.currentMesh.region!=u&&this.setMeshRegion(s,a.currentMesh,u),!0}return!1}},{key:"newContainer",value:function(){return new st.mc}},{key:"newSprite",value:function(t){return new _t(t)}},{key:"newGraphics",value:function(){return new lt.A1}},{key:"newMesh",value:function(t,e,r,n,i){return new Et(t,e,r,n,i)}},{key:"transformHack",value:function(){return 1}},{key:"hackAttachmentGroups",value:function(t,e,r){if(t){for(var n=[],i=[],o=0,a=this.skeleton.slots.length;o<a;o++){var s=this.skeleton.slots[o],u=s.currentSpriteName||s.currentMeshName||"",c=s.currentSprite||s.currentMesh;u.endsWith(t)?(c.parentGroup=e,i.push(c)):r&&c&&(c.parentGroup=r,n.push(c))}return[n,i]}}},{key:"destroy",value:function(t){this.debug=null;for(var r=0,n=this.skeleton.slots.length;r<n;r++){var i=this.skeleton.slots[r];for(var o in i.meshes)i.meshes[o].destroy(t);for(var a in i.meshes=null,i.sprites)i.sprites[a].destroy(t);i.sprites=null}for(var s=0,u=this.slotContainers.length;s<u;s++)this.slotContainers[s].destroy(t);var c,l,f,h,p;this.spineData=null,this.skeleton=null,this.slotContainers=null,this.stateData=null,this.state=null,this.tempClipContainers=null,(c=e,l="destroy",f=this,p=ht(gt(1&(h=3)?c.prototype:c),l,f),2&h&&"function"==typeof p?function(t){return p.apply(f,t)}:p)([t])}}])}(st.mc),kt=Tt;kt.clippingPolygon=[],Object.defineProperty(kt.prototype,"visible",{get:function(){return this._visible},set:function(t){t!==this._visible&&(this._visible=t,t&&(this.lastTime=0))}});r(68090010),r(71459841)},65196392:(t,e,r)=>{"use strict";r.d(e,{Fl:()=>k,yE:()=>H,Jh:()=>P});r(29204099),r(53375191),r(73503923),r(44381336),r(95723650),r(68090010),r(62951728),r(74534969),r(50473502),r(32767805),r(69994507),r(1906035),r(18515682),r(47138695),r(92631386),r(57886333),r(32570708),r(78635704),r(74018857);var n=r(26664026),i=r(48817614),o=r(55039106);function a(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return s(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function u(){var t,e,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function o(r,n,i,o){var u=n&&n.prototype instanceof s?n:s,l=Object.create(u.prototype);return c(l,"_invoke",function(r,n,i){var o,s,u,c=0,l=i||[],f=!1,h={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,r){return o=e,s=0,u=t,h.n=r,a}};function p(r,n){for(s=r,u=n,e=0;!f&&c&&!i&&e<l.length;e++){var i,o=l[e],p=h.p,d=o[2];r>3?(i=d===n)&&(u=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=t):o[0]<=p&&((i=r<2&&p<o[1])?(s=0,h.v=n,h.n=o[1]):p<d&&(i=r<3||o[0]>n||n>d)&&(o[4]=r,o[5]=n,h.n=d,s=0))}if(i||r>1)return a;throw f=!0,n}return function(i,l,d){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,d),s=l,u=d;(e=s<2?t:u)||!f;){o||(s?s<3?(s>1&&(h.n=-1),p(s,u)):h.n=u:h.v=u);try{if(c=2,o){if(s||(i="next"),e=o[i]){if(!(e=e.call(o,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,s<2&&(s=0)}else 1===s&&(e=o.return)&&e.call(o),s<2&&(u=TypeError("The iterator does not provide a '"+i+"' method"),s=1);o=t}else if((e=(f=h.n<0)?u:r.call(n,h))!==a)break}catch(e){o=t,s=1,u=e}finally{c=1}}return{value:e,done:f}}}(r,i,o),!0),l}var a={};function s(){}function l(){}function f(){}e=Object.getPrototypeOf;var h=[][n]?e(e([][n]())):(c(e={},n,function(){return this}),e),p=f.prototype=s.prototype=Object.create(h);function d(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,c(t,i,"GeneratorFunction")),t.prototype=Object.create(p),t}return l.prototype=f,c(p,"constructor",f),c(f,"constructor",l),l.displayName="GeneratorFunction",c(f,i,"GeneratorFunction"),c(p),c(p,i,"Generator"),c(p,n,function(){return this}),c(p,"toString",function(){return"[object Generator]"}),(u=function(){return{w:o,m:d}})()}function c(t,e,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}c=function(t,e,r,n){function o(e,r){c(t,e,function(t){return this._invoke(e,r,t)})}e?i?i(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n}):t[e]=r:(o("next",0),o("throw",1),o("return",2))},c(t,e,r,n)}function l(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function f(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function a(t){l(o,n,i,a,s,"next",t)}function s(t){l(o,n,i,a,s,"throw",t)}a(void 0)})}}var h={extension:o.Ag.Asset,loader:{extension:{type:o.Ag.LoadParser,priority:i.T9.Normal},test:function(t){return(0,i.WO)(t,".atlas")},load:function(t){return f(u().m(function e(){var r,n;return u().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,o.W0.ADAPTER.fetch(t);case 1:return r=e.v,e.n=2,r.text();case 2:return n=e.v,e.a(2,n)}},e)}))()},testParse:function(t,e){var r=(0,i.WO)(e.src,".atlas"),n="string"==typeof t;return Promise.resolve(r&&n)},parse:function(t,e,r){return f(u().m(function i(){var a,s,c,l,f,h,d,y;return u().w(function(i){for(;;)switch(i.n){case 0:return a=e.data,(s=o.Wp.path.dirname(e.src))&&s.lastIndexOf("/")!==s.length-1&&(s+="/"),c=null,l=null,f=new Promise(function(t,e){c=t,l=e}),d=function(t){t||l("Something went terribly wrong loading a spine .atlas file\nMost likely your texture failed to load."),c(h)},a.image||a.images?(y=Object.assign(a.image?{default:a.image}:{},a.images),h=new n.Lw(t,function(t,e){var r=y[t]||y.default;r&&r.baseTexture?e(r.baseTexture):e(r)},d)):h=new n.Lw(t,p(r,s,a.imageMetadata),d),i.n=1,f;case 1:return i.a(2,i.v)}},i)}))()},unload:function(t){t.dispose()}}},p=function(t,e,r){return function(){var i=f(u().m(function i(s,c){var l,f,h;return u().w(function(i){for(;;)switch(i.p=i.n){case 0:return i.p=0,l=o.Wp.path.normalize([].concat(a(e.split(o.Wp.path.sep)),[s]).join(o.Wp.path.sep)),i.n=1,t.load({src:l,data:r});case 1:f=i.v,c(f.baseTexture),i.n=3;break;case 2:i.p=2,h=i.v,n.W0.REPORT_TEXTURE_LOADER_ERROR&&console.error("Spine: error in texture loader",h),c(null);case 3:return i.a(2)}},i,null,[[0,2]])}));return function(t,e){return i.apply(this,arguments)}}()};o.XO.add(h);r(35669252),r(41904727),r(33688577),r(17522308),r(4421388),r(68168753),r(20211116),r(6224830),r(18501354),r(49912228),r(29762787),r(87324110),r(31353187),r(49433423),r(7405150),r(76679030),r(19352784),r(283227),r(39512023),r(11753769),r(9404124),r(89875075),r(40993271),r(18381800),r(69967115),r(23549037),r(49032015),r(17179093),r(28253461),r(55692573),r(52899355),r(89433276),r(7478740),r(40707609),r(78027336),r(26098537),r(47326777);function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function y(){var t,e,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function o(r,n,i,o){var u=n&&n.prototype instanceof s?n:s,c=Object.create(u.prototype);return v(c,"_invoke",function(r,n,i){var o,s,u,c=0,l=i||[],f=!1,h={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,r){return o=e,s=0,u=t,h.n=r,a}};function p(r,n){for(s=r,u=n,e=0;!f&&c&&!i&&e<l.length;e++){var i,o=l[e],p=h.p,d=o[2];r>3?(i=d===n)&&(u=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=t):o[0]<=p&&((i=r<2&&p<o[1])?(s=0,h.v=n,h.n=o[1]):p<d&&(i=r<3||o[0]>n||n>d)&&(o[4]=r,o[5]=n,h.n=d,s=0))}if(i||r>1)return a;throw f=!0,n}return function(i,l,d){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,d),s=l,u=d;(e=s<2?t:u)||!f;){o||(s?s<3?(s>1&&(h.n=-1),p(s,u)):h.n=u:h.v=u);try{if(c=2,o){if(s||(i="next"),e=o[i]){if(!(e=e.call(o,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,s<2&&(s=0)}else 1===s&&(e=o.return)&&e.call(o),s<2&&(u=TypeError("The iterator does not provide a '"+i+"' method"),s=1);o=t}else if((e=(f=h.n<0)?u:r.call(n,h))!==a)break}catch(e){o=t,s=1,u=e}finally{c=1}}return{value:e,done:f}}}(r,i,o),!0),c}var a={};function s(){}function u(){}function c(){}e=Object.getPrototypeOf;var l=[][n]?e(e([][n]())):(v(e={},n,function(){return this}),e),f=c.prototype=s.prototype=Object.create(l);function h(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,v(t,i,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=c,v(f,"constructor",c),v(c,"constructor",u),u.displayName="GeneratorFunction",v(c,i,"GeneratorFunction"),v(f),v(f,i,"Generator"),v(f,n,function(){return this}),v(f,"toString",function(){return"[object Generator]"}),(y=function(){return{w:o,m:h}})()}function v(t,e,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}v=function(t,e,r,n){function o(e,r){v(t,e,function(t){return this._invoke(e,r,t)})}e?i?i(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n}):t[e]=r:(o("next",0),o("throw",1),o("return",2))},v(t,e,r,n)}function m(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function b(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function a(t){m(o,n,i,a,s,"next",t)}function s(t){m(o,n,i,a,s,"throw",t)}a(void 0)})}}function g(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,w(n.key),n)}}function w(t){var e=function(t,e){if("object"!=d(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==d(e)?e:e+""}function S(t){return t.hasOwnProperty("bones")}var x=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},(e=[{key:"installLoader",value:function(){var t=this,e={extension:o.Ag.Asset,loader:{extension:{type:o.Ag.LoadParser,priority:i.T9.Normal},test:function(t){return(0,i.WO)(t,".skel")},load:function(t){return b(y().m(function e(){var r,n;return y().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,o.W0.ADAPTER.fetch(t);case 1:return r=e.v,e.n=2,r.arrayBuffer();case 2:return n=e.v,e.a(2,n)}},e)}))()},testParse:function(t,e){var r,n=(0,i.WO)(e.src,".json")&&S(t),o=(0,i.WO)(e.src,".skel")&&t instanceof ArrayBuffer,a=!1===(null===(r=e.data)||void 0===r?void 0:r.spineAtlas);return Promise.resolve(n&&!a||o)},parse:function(e,r,a){return b(y().m(function s(){var u,c,l,f,h,d,v,m,b,g,w,x,_,E,T,k,P,O;return y().w(function(s){for(;;)switch(s.n){case 0:if(c=o.Wp.path.extname(r.src).toLowerCase(),l=o.Wp.path.basename(r.src,c),(f=o.Wp.path.dirname(r.src))&&f.lastIndexOf("/")!==f.length-1&&(f+="/"),h=(0,i.WO)(r.src,".json")&&S(e),d=null,v=e,h?d=t.createJsonParser():(d=t.createBinaryParser(),v=new Uint8Array(e)),m=r.data||{},(b=null!==(u=null==m?void 0:m.spineSkeletonScale)&&void 0!==u?u:null)&&(d.scale=b),!(g=m.spineAtlas)||!g.pages){s.n=1;break}return s.a(2,t.parseData(d,g,v));case 1:if(!(w=m.atlasRawData)){s.n=3;break}return x=null,_=null,E=new Promise(function(t,e){x=t,_=e}),T=new n.Lw(w,p(a,f,m.imageMetadata),function(t){t||_("Something went terribly wrong loading a spine .atlas file\nMost likely your texture failed to load."),x(T)}),s.n=2,E;case 2:return k=s.v,s.a(2,t.parseData(d,k,v));case 3:return(P=m.spineAtlasFile)||(P="".concat(f+l,".atlas")),s.n=4,a.load({src:P,data:m,alias:m.spineAtlasAlias});case 4:return O=s.v,s.a(2,t.parseData(d,O,v))}},s)}))()}}};return o.XO.add(e),e}}])&&g(t.prototype,e),r&&g(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}(),_=(r(41624185),r(12151485)),E=r(71555262),T=r(44665264),k=function(t){return t[t.UNKNOWN=0]="UNKNOWN",t[t.VER37=37]="VER37",t[t.VER38=38]="VER38",t[t.VER40=40]="VER40",t[t.VER41=41]="VER41",t}(k||{});function P(t){var e=t.substr(0,3),r=Math.floor(10*Number(e)+.001);return"3.7"===e?37:"3.8"===e?38:"4.0"===e?40:"4.1"===e?41:r<37?37:0}function O(t,e,r){return e=R(e),function(t,e){if(e&&("object"==I(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,A()?Reflect.construct(e,r||[],R(t).constructor):e.apply(t,r))}function A(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(A=function(){return!!t})()}function R(t){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},R(t)}function j(t,e){return j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},j(t,e)}function I(t){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I(t)}function C(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function M(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,N(n.key),n)}}function D(t,e,r){return e&&M(t.prototype,e),r&&M(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function N(t){var e=function(t,e){if("object"!=I(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=I(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==I(e)?e:e+""}var B=function(){return D(function t(){C(this,t),this.scale=1},[{key:"readSkeletonData",value:function(t,e){var r=null,n=this.readVersionOldFormat(e),i=P(n);if(i===k.VER38&&(r=new _.SkeletonBinary(new _.AtlasAttachmentLoader(t))),(i=P(n=this.readVersionNewFormat(e)))!==k.VER40&&i!==k.VER41||(r=new T.SkeletonBinary(new T.AtlasAttachmentLoader(t))),!r){var o="Unsupported version of spine model ".concat(n,", please update pixi-spine");console.error(o)}return r.scale=this.scale,r.readSkeletonData(e)}},{key:"readVersionOldFormat",value:function(t){var e,r=new n.aG(t);try{r.readString(),e=r.readString()}catch(i){e=""}return e||""}},{key:"readVersionNewFormat",value:function(t){var e,r=new n.aG(t);r.readInt32(),r.readInt32();try{e=r.readString()}catch(i){e=""}return e||""}}])}(),F=function(){return D(function t(){C(this,t),this.scale=1},[{key:"readSkeletonData",value:function(t,e){var r=e.skeleton.spine,n=P(r),i=null;if(n===k.VER37&&(i=new E.SkeletonJson(new E.AtlasAttachmentLoader(t))),n===k.VER38&&(i=new _.SkeletonJson(new _.AtlasAttachmentLoader(t))),n!==k.VER40&&n!==k.VER41||(i=new T.SkeletonJson(new T.AtlasAttachmentLoader(t))),!i){var o="Unsupported version of spine model ".concat(r,", please update pixi-spine");console.error(o)}return i.scale=this.scale,i.readSkeletonData(e)}}])}(),L=function(t){function e(){return C(this,e),O(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&j(t,e)}(e,t),D(e,[{key:"createBinaryParser",value:function(){return new B}},{key:"createJsonParser",value:function(){return new F}},{key:"parseData",value:function(t,e,r){return{spineData:t.readSkeletonData(e,r),spineAtlas:e}}}])}(x);function U(t){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U(t)}function V(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,X(n.key),n)}}function X(t){var e=function(t,e){if("object"!=U(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=U(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==U(e)?e:e+""}function G(t,e,r){return e=q(e),function(t,e){if(e&&("object"==U(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Y()?Reflect.construct(e,r||[],q(t).constructor):e.apply(t,r))}function Y(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Y=function(){return!!t})()}function q(t){return q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},q(t)}function W(t,e){return W=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},W(t,e)}var H=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),G(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&W(t,e)}(e,t),r=e,(n=[{key:"createSkeleton",value:function(t){var e=P(t.version),r=null;if(e===k.VER37&&(r=E),e===k.VER38&&(r=_),e!==k.VER40&&e!==k.VER41||(r=T),!r){var n="Cant detect version of spine model ".concat(t.version);console.error(n)}this.skeleton=new r.Skeleton(t),this.skeleton.updateWorldTransform(),this.stateData=new r.AnimationStateData(t),this.state=new r.AnimationState(this.stateData)}}])&&V(r.prototype,n),i&&V(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i}(n.bJ);(new L).installLoader()},71555262:(t,e,r)=>{"use strict";r.r(e),r.d(e,{Animation:()=>Mt,AnimationState:()=>de,AnimationStateAdapter2:()=>we,AnimationStateData:()=>Te,AtlasAttachmentLoader:()=>Ae,Attachment:()=>h,AttachmentTimeline:()=>zt,Bone:()=>Me,BoneData:()=>Le,BoundingBoxAttachment:()=>_,ClippingAttachment:()=>j,ColorTimeline:()=>qt,CurveTimeline:()=>Bt,DeformTimeline:()=>Zt,DrawOrderTimeline:()=>$t,Event:()=>Ye,EventData:()=>Qe,EventQueue:()=>be,EventTimeline:()=>Kt,EventType:()=>ge,IkConstraint:()=>Je,IkConstraintData:()=>ir,IkConstraintTimeline:()=>te,JitterEffect:()=>bt,MeshAttachment:()=>L,PathAttachment:()=>H,PathConstraint:()=>yr,PathConstraintData:()=>cr,PathConstraintMixTimeline:()=>se,PathConstraintPositionTimeline:()=>ie,PathConstraintSpacingTimeline:()=>oe,PointAttachment:()=>et,RegionAttachment:()=>dt,RotateTimeline:()=>Lt,ScaleTimeline:()=>Xt,ShearTimeline:()=>Gt,Skeleton:()=>Er,SkeletonBounds:()=>Ir,SkeletonData:()=>Nr,SkeletonJson:()=>rn,Skin:()=>Zr,Slot:()=>ot,SlotData:()=>Vr,SpacingMode:()=>lr,Spine:()=>hn,SwirlEffect:()=>_t,TimelineType:()=>Dt,TrackEntry:()=>ve,TransformConstraint:()=>gr,TransformConstraintData:()=>Wr,TransformConstraintTimeline:()=>re,TranslateTimeline:()=>Vt,TwoColorTimeline:()=>Ht,VertexAttachment:()=>d});r(29204099),r(53375191),r(73503923),r(35669252),r(44381336),r(62951728),r(17522308),r(4421388),r(69994507),r(1906035),r(41624185),r(32570708),r(74018857);function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function i(t,e,r){return e=a(e),function(t,e){if(e&&("object"==n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,o()?Reflect.construct(e,r||[],a(t).constructor):e.apply(t,r))}function o(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(o=function(){return!!t})()}function a(t){return a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},a(t)}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,l(n.key),n)}}function c(t,e,r){return e&&u(t.prototype,e),r&&u(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function l(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:e+""}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var h=c(function t(e){if(f(this,t),null==e)throw new Error("name cannot be null.");this.name=e}),p=function(t){function e(t){var r;return f(this,e),(r=i(this,e,[t])).id=(65535&p.nextID++)<<11,r.worldVerticesLength=0,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(e,t),c(e,[{key:"computeWorldVerticesOld",value:function(t,e){this.computeWorldVertices(t,0,this.worldVerticesLength,e,0,2)}},{key:"computeWorldVertices",value:function(t,e,r,n,i,o){r=i+(r>>1)*o;var a=t.bone.skeleton,s=t.attachmentVertices,u=this.vertices,c=this.bones;if(null!=c){for(var l=0,f=0,h=0;h<e;h+=2){var p=c[l];l+=p+1,f+=p}var d=a.bones;if(0==s.length)for(var y=i,v=3*f;y<r;y+=o){var m=0,b=0,g=c[l++];for(g+=l;l<g;l++,v+=3){var w=d[c[l]].matrix,S=u[v],x=u[v+1],_=u[v+2];m+=(S*w.a+x*w.c+w.tx)*_,b+=(S*w.b+x*w.d+w.ty)*_}n[y]=m,n[y+1]=b}else for(var E=s,T=i,k=3*f,P=f<<1;T<r;T+=o){var O=0,A=0,R=c[l++];for(R+=l;l<R;l++,k+=3,P+=2){var j=d[c[l]].matrix,I=u[k]+E[P],C=u[k+1]+E[P+1],M=u[k+2];O+=(I*j.a+C*j.c+j.tx)*M,A+=(I*j.b+C*j.d+j.ty)*M}n[T]=O,n[T+1]=A}}else{s.length>0&&(u=s);for(var D=t.bone.matrix,N=D.tx,B=D.ty,F=D.a,L=D.c,U=D.b,V=D.d,X=e,G=i;G<r;X+=2,G+=o){var Y=u[X],q=u[X+1];n[G]=Y*F+q*L+N,n[G+1]=Y*U+q*V+B}}}},{key:"applyDeform",value:function(t){return this==t}}])}(h),d=p;d.nextID=0;var y=r(26664026);function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function m(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,b(n.key),n)}}function b(t){var e=function(t,e){if("object"!=v(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=v(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==v(e)?e:e+""}function g(t,e,r){return e=S(e),function(t,e){if(e&&("object"==v(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,w()?Reflect.construct(e,r||[],S(t).constructor):e.apply(t,r))}function w(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(w=function(){return!!t})()}function S(t){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},S(t)}function x(t,e){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},x(t,e)}var _=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=g(this,e,[t])).type=y.wh.BoundingBox,r.color=new y.Q1(1,1,1,1),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&x(t,e)}(e,t),r=e,n&&m(r.prototype,n),i&&m(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i}(d);function E(t){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E(t)}function T(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,k(n.key),n)}}function k(t){var e=function(t,e){if("object"!=E(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=E(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==E(e)?e:e+""}function P(t,e,r){return e=A(e),function(t,e){if(e&&("object"==E(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,O()?Reflect.construct(e,r||[],A(t).constructor):e.apply(t,r))}function O(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(O=function(){return!!t})()}function A(t){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},A(t)}function R(t,e){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},R(t,e)}var j=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=P(this,e,[t])).type=y.wh.Clipping,r.color=new y.Q1(.2275,.2275,.8078,1),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&R(t,e)}(e,t),r=e,n&&T(r.prototype,n),i&&T(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i}(d);function I(t){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I(t)}function C(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,M(n.key),n)}}function M(t){var e=function(t,e){if("object"!=I(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=I(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==I(e)?e:e+""}function D(t,e,r){return e=B(e),function(t,e){if(e&&("object"==I(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,N()?Reflect.construct(e,r||[],B(t).constructor):e.apply(t,r))}function N(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(N=function(){return!!t})()}function B(t){return B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},B(t)}function F(t,e){return F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},F(t,e)}var L=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=D(this,e,[t])).type=y.wh.Mesh,r.color=new y.Q1(1,1,1,1),r.inheritDeform=!1,r.tempColor=new y.Q1(0,0,0,0),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&F(t,e)}(e,t),r=e,(n=[{key:"applyDeform",value:function(t){return this==t||this.inheritDeform&&this.parentMesh==t}},{key:"getParentMesh",value:function(){return this.parentMesh}},{key:"setParentMesh",value:function(t){this.parentMesh=t,null!=t&&(this.bones=t.bones,this.vertices=t.vertices,this.worldVerticesLength=t.worldVerticesLength,this.regionUVs=t.regionUVs,this.triangles=t.triangles,this.hullLength=t.hullLength,this.worldVerticesLength=t.worldVerticesLength)}}])&&C(r.prototype,n),i&&C(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i}(d);function U(t){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U(t)}function V(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,X(n.key),n)}}function X(t){var e=function(t,e){if("object"!=U(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=U(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==U(e)?e:e+""}function G(t,e,r){return e=q(e),function(t,e){if(e&&("object"==U(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Y()?Reflect.construct(e,r||[],q(t).constructor):e.apply(t,r))}function Y(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Y=function(){return!!t})()}function q(t){return q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},q(t)}function W(t,e){return W=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},W(t,e)}var H=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=G(this,e,[t])).type=y.wh.Path,r.closed=!1,r.constantSpeed=!1,r.color=new y.Q1(1,1,1,1),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&W(t,e)}(e,t),r=e,n&&V(r.prototype,n),i&&V(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i}(d);function z(t){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},z(t)}function Q(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Z(n.key),n)}}function Z(t){var e=function(t,e){if("object"!=z(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=z(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==z(e)?e:e+""}function K(t,e,r){return e=J(e),function(t,e){if(e&&("object"==z(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,$()?Reflect.construct(e,r||[],J(t).constructor):e.apply(t,r))}function $(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return($=function(){return!!t})()}function J(t){return J=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},J(t)}function tt(t,e){return tt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},tt(t,e)}var et=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=K(this,e,[t])).type=y.wh.Point,r.color=new y.Q1(.38,.94,0,1),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tt(t,e)}(e,t),r=e,(n=[{key:"computeWorldPosition",value:function(t,e){var r=t.matrix;return e.x=this.x*r.a+this.y*r.c+t.worldX,e.y=this.x*r.b+this.y*r.d+t.worldY,e}},{key:"computeWorldRotation",value:function(t){var e=t.matrix,r=y.cj.cosDeg(this.rotation),n=y.cj.sinDeg(this.rotation),i=r*e.a+n*e.c,o=r*e.b+n*e.d;return Math.atan2(o,i)*y.cj.radDeg}}])&&Q(r.prototype,n),i&&Q(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i}(d);function rt(t){return rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rt(t)}function nt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,it(n.key),n)}}function it(t){var e=function(t,e){if("object"!=rt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=rt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==rt(e)?e:e+""}var ot=function(){return t=function t(e,r){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.attachmentVertices=new Array,null==e)throw new Error("data cannot be null.");if(null==r)throw new Error("bone cannot be null.");this.data=e,this.bone=r,this.color=new y.Q1,this.darkColor=null==e.darkColor?null:new y.Q1,this.setToSetupPose(),this.blendMode=this.data.blendMode},(e=[{key:"getAttachment",value:function(){return this.attachment}},{key:"setAttachment",value:function(t){this.attachment!=t&&(this.attachment=t,this.attachmentTime=this.bone.skeleton.time,this.attachmentVertices.length=0)}},{key:"setAttachmentTime",value:function(t){this.attachmentTime=this.bone.skeleton.time-t}},{key:"getAttachmentTime",value:function(){return this.bone.skeleton.time-this.attachmentTime}},{key:"setToSetupPose",value:function(){this.color.setFromColor(this.data.color),null!=this.darkColor&&this.darkColor.setFromColor(this.data.darkColor),null==this.data.attachmentName?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))}}])&&nt(t.prototype,e),r&&nt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();function at(t){return at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},at(t)}function st(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ut(n.key),n)}}function ut(t){var e=function(t,e){if("object"!=at(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=at(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==at(e)?e:e+""}function ct(t,e,r){return e=ft(e),function(t,e){if(e&&("object"==at(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,lt()?Reflect.construct(e,r||[],ft(t).constructor):e.apply(t,r))}function lt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(lt=function(){return!!t})()}function ft(t){return ft=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ft(t)}function ht(t,e){return ht=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ht(t,e)}var pt=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=ct(this,e,[t])).type=y.wh.Region,r.x=0,r.y=0,r.scaleX=1,r.scaleY=1,r.rotation=0,r.width=0,r.height=0,r.color=new y.Q1(1,1,1,1),r.offset=y.Aq.newFloatArray(8),r.uvs=y.Aq.newFloatArray(8),r.tempColor=new y.Q1(1,1,1,1),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ht(t,e)}(e,t),r=e,(n=[{key:"updateOffset",value:function(){var t=this.width/this.region.originalWidth*this.scaleX,e=this.height/this.region.originalHeight*this.scaleY,r=-this.width/2*this.scaleX+this.region.offsetX*t,n=-this.height/2*this.scaleY+this.region.offsetY*e,i=r+this.region.width*t,o=n+this.region.height*e,a=this.rotation*Math.PI/180,s=Math.cos(a),u=Math.sin(a),c=r*s+this.x,l=r*u,f=n*s+this.y,h=n*u,p=i*s+this.x,d=i*u,y=o*s+this.y,v=o*u,m=this.offset;m[pt.OX1]=c-h,m[pt.OY1]=f+l,m[pt.OX2]=c-v,m[pt.OY2]=y+l,m[pt.OX3]=p-v,m[pt.OY3]=y+d,m[pt.OX4]=p-h,m[pt.OY4]=f+d}},{key:"setRegion",value:function(t){this.region=t;var e=this.uvs;t.rotate?(e[2]=t.u,e[3]=t.v2,e[4]=t.u,e[5]=t.v,e[6]=t.u2,e[7]=t.v,e[0]=t.u2,e[1]=t.v2):(e[0]=t.u,e[1]=t.v2,e[2]=t.u,e[3]=t.v,e[4]=t.u2,e[5]=t.v,e[6]=t.u2,e[7]=t.v2)}},{key:"computeWorldVertices",value:function(t,e,r,n){var i=this.offset,o=t instanceof ot?t.bone.matrix:t.matrix,a=o.tx,s=o.ty,u=o.a,c=o.c,l=o.b,f=o.d,h=0,p=0;h=i[pt.OX1],p=i[pt.OY1],e[r]=h*u+p*c+a,e[r+1]=h*l+p*f+s,r+=n,h=i[pt.OX2],p=i[pt.OY2],e[r]=h*u+p*c+a,e[r+1]=h*l+p*f+s,r+=n,h=i[pt.OX3],p=i[pt.OY3],e[r]=h*u+p*c+a,e[r+1]=h*l+p*f+s,r+=n,h=i[pt.OX4],p=i[pt.OY4],e[r]=h*u+p*c+a,e[r+1]=h*l+p*f+s}}])&&st(r.prototype,n),i&&st(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i}(h),dt=pt;function yt(t){return yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yt(t)}function vt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,mt(n.key),n)}}function mt(t){var e=function(t,e){if("object"!=yt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=yt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==yt(e)?e:e+""}dt.OX1=0,dt.OY1=1,dt.OX2=2,dt.OY2=3,dt.OX3=4,dt.OY3=5,dt.OX4=6,dt.OY4=7,dt.X1=0,dt.Y1=1,dt.C1R=2,dt.C1G=3,dt.C1B=4,dt.C1A=5,dt.U1=6,dt.V1=7,dt.X2=8,dt.Y2=9,dt.C2R=10,dt.C2G=11,dt.C2B=12,dt.C2A=13,dt.U2=14,dt.V2=15,dt.X3=16,dt.Y3=17,dt.C3R=18,dt.C3G=19,dt.C3B=20,dt.C3A=21,dt.U3=22,dt.V3=23,dt.X4=24,dt.Y4=25,dt.C4R=26,dt.C4G=27,dt.C4B=28,dt.C4A=29,dt.U4=30,dt.V4=31;var bt=function(){return t=function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.jitterX=0,this.jitterY=0,this.jitterX=e,this.jitterY=r},(e=[{key:"begin",value:function(t){}},{key:"transform",value:function(t,e,r,n){t.x+=y.cj.randomTriangular(-this.jitterX,this.jitterY),t.y+=y.cj.randomTriangular(-this.jitterX,this.jitterY)}},{key:"end",value:function(){}}])&&vt(t.prototype,e),r&&vt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();function gt(t){return gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gt(t)}function wt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,St(n.key),n)}}function St(t){var e=function(t,e){if("object"!=gt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=gt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==gt(e)?e:e+""}var xt=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.centerX=0,this.centerY=0,this.radius=0,this.angle=0,this.worldX=0,this.worldY=0,this.radius=e},(e=[{key:"begin",value:function(t){this.worldX=t.x+this.centerX,this.worldY=t.y+this.centerY}},{key:"transform",value:function(t,e,r,n){var i=this.angle*y.cj.degreesToRadians,o=t.x-this.worldX,a=t.y-this.worldY,s=Math.sqrt(o*o+a*a);if(s<this.radius){var u=xt.interpolation.apply(0,i,(this.radius-s)/this.radius),c=Math.cos(u),l=Math.sin(u);t.x=c*o-l*a+this.worldX,t.y=l*o+c*a+this.worldY}}},{key:"end",value:function(){}}])&&wt(t.prototype,e),r&&wt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}(),_t=xt;_t.interpolation=new y.Ff(2);r(97200626),r(47138695),r(27015936);function Et(t,e,r){return e=kt(e),function(t,e){if(e&&("object"==At(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Tt()?Reflect.construct(e,r||[],kt(t).constructor):e.apply(t,r))}function Tt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Tt=function(){return!!t})()}function kt(t){return kt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},kt(t)}function Pt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ot(t,e)}function Ot(t,e){return Ot=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ot(t,e)}function At(t){return At="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},At(t)}function Rt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ct(n.key),n)}}function It(t,e,r){return e&&jt(t.prototype,e),r&&jt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ct(t){var e=function(t,e){if("object"!=At(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=At(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==At(e)?e:e+""}var Mt=function(){return It(function t(e,r,n){if(Rt(this,t),null==e)throw new Error("name cannot be null.");if(null==r)throw new Error("timelines cannot be null.");this.name=e,this.timelines=r,this.duration=n},[{key:"apply",value:function(t,e,r,n,i,o,a,s){if(null==t)throw new Error("skeleton cannot be null.");n&&0!=this.duration&&(r%=this.duration,e>0&&(e%=this.duration));for(var u=this.timelines,c=0,l=u.length;c<l;c++)u[c].apply(t,e,r,i,o,a,s)}}],[{key:"binarySearch",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=0,i=t.length/r-2;if(0==i)return r;for(var o=i>>>1;;){if(t[(o+1)*r]<=e?n=o+1:i=o,n==i)return(n+1)*r;o=n+i>>>1}}},{key:"linearSearch",value:function(t,e,r){for(var n=0,i=t.length-r;n<=i;n+=r)if(t[n]>e)return n;return-1}}])}(),Dt=function(t){return t[t.rotate=0]="rotate",t[t.translate=1]="translate",t[t.scale=2]="scale",t[t.shear=3]="shear",t[t.attachment=4]="attachment",t[t.color=5]="color",t[t.deform=6]="deform",t[t.event=7]="event",t[t.drawOrder=8]="drawOrder",t[t.ikConstraint=9]="ikConstraint",t[t.transformConstraint=10]="transformConstraint",t[t.pathConstraintPosition=11]="pathConstraintPosition",t[t.pathConstraintSpacing=12]="pathConstraintSpacing",t[t.pathConstraintMix=13]="pathConstraintMix",t[t.twoColor=14]="twoColor",t}(Dt||{}),Nt=function(){return It(function t(e){if(Rt(this,t),e<=0)throw new Error("frameCount must be > 0: ".concat(e));this.curves=y.Aq.newFloatArray((e-1)*Nt.BEZIER_SIZE)},[{key:"getFrameCount",value:function(){return this.curves.length/Nt.BEZIER_SIZE+1}},{key:"setLinear",value:function(t){this.curves[t*Nt.BEZIER_SIZE]=Nt.LINEAR}},{key:"setStepped",value:function(t){this.curves[t*Nt.BEZIER_SIZE]=Nt.STEPPED}},{key:"getCurveType",value:function(t){var e=t*Nt.BEZIER_SIZE;if(e==this.curves.length)return Nt.LINEAR;var r=this.curves[e];return r==Nt.LINEAR?Nt.LINEAR:r==Nt.STEPPED?Nt.STEPPED:Nt.BEZIER}},{key:"setCurve",value:function(t,e,r,n,i){var o=.03*(2*-e+n),a=.03*(2*-r+i),s=.006*(3*(e-n)+1),u=.006*(3*(r-i)+1),c=2*o+s,l=2*a+u,f=.3*e+o+.16666667*s,h=.3*r+a+.16666667*u,p=t*Nt.BEZIER_SIZE,d=this.curves;d[p++]=Nt.BEZIER;for(var y=f,v=h,m=p+Nt.BEZIER_SIZE-1;p<m;p+=2)d[p]=y,d[p+1]=v,f+=c,h+=l,c+=s,l+=u,y+=f,v+=h}},{key:"getCurvePercent",value:function(t,e){e=y.cj.clamp(e,0,1);var r=this.curves,n=t*Nt.BEZIER_SIZE,i=r[n];if(i==Nt.LINEAR)return e;if(i==Nt.STEPPED)return 0;for(var o=0,a=++n,s=n+Nt.BEZIER_SIZE-1;n<s;n+=2)if((o=r[n])>=e){var u=void 0,c=void 0;return n==a?(u=0,c=0):(u=r[n-2],c=r[n-1]),c+(r[n+1]-c)*(e-u)/(o-u)}var l=r[n-1];return l+(1-l)*(e-o)/(1-o)}}])}(),Bt=Nt;Bt.LINEAR=0,Bt.STEPPED=1,Bt.BEZIER=2,Bt.BEZIER_SIZE=19;var Ft=function(t){function e(t){var r;return Rt(this,e),(r=Et(this,e,[t])).frames=y.Aq.newFloatArray(t<<1),r}return Pt(e,t),It(e,[{key:"getPropertyId",value:function(){return 0+this.boneIndex}},{key:"setFrame",value:function(t,e,r){t<<=1,this.frames[t]=e,this.frames[t+Ft.ROTATION]=r}},{key:"apply",value:function(t,e,r,n,i,o,a){var s=this.frames,u=t.bones[this.boneIndex];if(r<s[0])switch(o){case y.qU.setup:return void(u.rotation=u.data.rotation);case y.qU.first:var c=u.data.rotation-u.rotation;u.rotation+=(c-360*(16384-(16384.499999999996-c/360|0)))*i}else if(r>=s[s.length-Ft.ENTRIES]){var l=s[s.length+Ft.PREV_ROTATION];switch(o){case y.qU.setup:u.rotation=u.data.rotation+l*i;break;case y.qU.first:case y.qU.replace:l+=u.data.rotation-u.rotation,l-=360*(16384-(16384.499999999996-l/360|0));case y.qU.add:u.rotation+=l*i}}else{var f=Mt.binarySearch(s,r,Ft.ENTRIES),h=s[f+Ft.PREV_ROTATION],p=s[f],d=this.getCurvePercent((f>>1)-1,1-(r-p)/(s[f+Ft.PREV_TIME]-p)),v=s[f+Ft.ROTATION]-h;switch(v=h+(v-360*(16384-(16384.499999999996-v/360|0)))*d,o){case y.qU.setup:u.rotation=u.data.rotation+(v-360*(16384-(16384.499999999996-v/360|0)))*i;break;case y.qU.first:case y.qU.replace:v+=u.data.rotation-u.rotation;case y.qU.add:u.rotation+=(v-360*(16384-(16384.499999999996-v/360|0)))*i}}}}])}(Bt),Lt=Ft;Lt.ENTRIES=2,Lt.PREV_TIME=-2,Lt.PREV_ROTATION=-1,Lt.ROTATION=1;var Ut=function(t){function e(t){var r;return Rt(this,e),(r=Et(this,e,[t])).frames=y.Aq.newFloatArray(t*Ut.ENTRIES),r}return Pt(e,t),It(e,[{key:"getPropertyId",value:function(){return(1<<24)+this.boneIndex}},{key:"setFrame",value:function(t,e,r,n){t*=Ut.ENTRIES,this.frames[t]=e,this.frames[t+Ut.X]=r,this.frames[t+Ut.Y]=n}},{key:"apply",value:function(t,e,r,n,i,o,a){var s=this.frames,u=t.bones[this.boneIndex];if(r<s[0])switch(o){case y.qU.setup:return u.x=u.data.x,void(u.y=u.data.y);case y.qU.first:u.x+=(u.data.x-u.x)*i,u.y+=(u.data.y-u.y)*i}else{var c=0,l=0;if(r>=s[s.length-Ut.ENTRIES])c=s[s.length+Ut.PREV_X],l=s[s.length+Ut.PREV_Y];else{var f=Mt.binarySearch(s,r,Ut.ENTRIES);c=s[f+Ut.PREV_X],l=s[f+Ut.PREV_Y];var h=s[f],p=this.getCurvePercent(f/Ut.ENTRIES-1,1-(r-h)/(s[f+Ut.PREV_TIME]-h));c+=(s[f+Ut.X]-c)*p,l+=(s[f+Ut.Y]-l)*p}switch(o){case y.qU.setup:u.x=u.data.x+c*i,u.y=u.data.y+l*i;break;case y.qU.first:case y.qU.replace:u.x+=(u.data.x+c-u.x)*i,u.y+=(u.data.y+l-u.y)*i;break;case y.qU.add:u.x+=c*i,u.y+=l*i}}}}])}(Bt),Vt=Ut;Vt.ENTRIES=3,Vt.PREV_TIME=-3,Vt.PREV_X=-2,Vt.PREV_Y=-1,Vt.X=1,Vt.Y=2;var Xt=function(t){function e(t){return Rt(this,e),Et(this,e,[t])}return Pt(e,t),It(e,[{key:"getPropertyId",value:function(){return(2<<24)+this.boneIndex}},{key:"apply",value:function(t,r,n,i,o,a,s){var u=this.frames,c=t.bones[this.boneIndex];if(n<u[0])switch(a){case y.qU.setup:return c.scaleX=c.data.scaleX,void(c.scaleY=c.data.scaleY);case y.qU.first:c.scaleX+=(c.data.scaleX-c.scaleX)*o,c.scaleY+=(c.data.scaleY-c.scaleY)*o}else{var l=0,f=0;if(n>=u[u.length-e.ENTRIES])l=u[u.length+e.PREV_X]*c.data.scaleX,f=u[u.length+e.PREV_Y]*c.data.scaleY;else{var h=Mt.binarySearch(u,n,e.ENTRIES);l=u[h+e.PREV_X],f=u[h+e.PREV_Y];var p=u[h],d=this.getCurvePercent(h/e.ENTRIES-1,1-(n-p)/(u[h+e.PREV_TIME]-p));l=(l+(u[h+e.X]-l)*d)*c.data.scaleX,f=(f+(u[h+e.Y]-f)*d)*c.data.scaleY}if(1==o)a==y.qU.add?(c.scaleX+=l-c.data.scaleX,c.scaleY+=f-c.data.scaleY):(c.scaleX=l,c.scaleY=f);else{var v=0,m=0;if(s==y.mj.mixOut)switch(a){case y.qU.setup:v=c.data.scaleX,m=c.data.scaleY,c.scaleX=v+(Math.abs(l)*y.cj.signum(v)-v)*o,c.scaleY=m+(Math.abs(f)*y.cj.signum(m)-m)*o;break;case y.qU.first:case y.qU.replace:v=c.scaleX,m=c.scaleY,c.scaleX=v+(Math.abs(l)*y.cj.signum(v)-v)*o,c.scaleY=m+(Math.abs(f)*y.cj.signum(m)-m)*o;break;case y.qU.add:v=c.scaleX,m=c.scaleY,c.scaleX=v+(Math.abs(l)*y.cj.signum(v)-c.data.scaleX)*o,c.scaleY=m+(Math.abs(f)*y.cj.signum(m)-c.data.scaleY)*o}else switch(a){case y.qU.setup:v=Math.abs(c.data.scaleX)*y.cj.signum(l),m=Math.abs(c.data.scaleY)*y.cj.signum(f),c.scaleX=v+(l-v)*o,c.scaleY=m+(f-m)*o;break;case y.qU.first:case y.qU.replace:v=Math.abs(c.scaleX)*y.cj.signum(l),m=Math.abs(c.scaleY)*y.cj.signum(f),c.scaleX=v+(l-v)*o,c.scaleY=m+(f-m)*o;break;case y.qU.add:v=y.cj.signum(l),m=y.cj.signum(f),c.scaleX=Math.abs(c.scaleX)*v+(l-Math.abs(c.data.scaleX)*v)*o,c.scaleY=Math.abs(c.scaleY)*m+(f-Math.abs(c.data.scaleY)*m)*o}}}}}])}(Vt),Gt=function(t){function e(t){return Rt(this,e),Et(this,e,[t])}return Pt(e,t),It(e,[{key:"getPropertyId",value:function(){return(3<<24)+this.boneIndex}},{key:"apply",value:function(t,r,n,i,o,a,s){var u=this.frames,c=t.bones[this.boneIndex];if(n<u[0])switch(a){case y.qU.setup:return c.shearX=c.data.shearX,void(c.shearY=c.data.shearY);case y.qU.first:c.shearX+=(c.data.shearX-c.shearX)*o,c.shearY+=(c.data.shearY-c.shearY)*o}else{var l=0,f=0;if(n>=u[u.length-e.ENTRIES])l=u[u.length+e.PREV_X],f=u[u.length+e.PREV_Y];else{var h=Mt.binarySearch(u,n,e.ENTRIES);l=u[h+e.PREV_X],f=u[h+e.PREV_Y];var p=u[h],d=this.getCurvePercent(h/e.ENTRIES-1,1-(n-p)/(u[h+e.PREV_TIME]-p));l+=(u[h+e.X]-l)*d,f+=(u[h+e.Y]-f)*d}switch(a){case y.qU.setup:c.shearX=c.data.shearX+l*o,c.shearY=c.data.shearY+f*o;break;case y.qU.first:case y.qU.replace:c.shearX+=(c.data.shearX+l-c.shearX)*o,c.shearY+=(c.data.shearY+f-c.shearY)*o;break;case y.qU.add:c.shearX+=l*o,c.shearY+=f*o}}}}])}(Vt),Yt=function(t){function e(t){var r;return Rt(this,e),(r=Et(this,e,[t])).frames=y.Aq.newFloatArray(t*Yt.ENTRIES),r}return Pt(e,t),It(e,[{key:"getPropertyId",value:function(){return(5<<24)+this.slotIndex}},{key:"setFrame",value:function(t,e,r,n,i,o){t*=Yt.ENTRIES,this.frames[t]=e,this.frames[t+Yt.R]=r,this.frames[t+Yt.G]=n,this.frames[t+Yt.B]=i,this.frames[t+Yt.A]=o}},{key:"apply",value:function(t,e,r,n,i,o,a){var s=t.slots[this.slotIndex],u=this.frames;if(r<u[0])switch(o){case y.qU.setup:return void s.color.setFromColor(s.data.color);case y.qU.first:var c=s.color,l=s.data.color;c.add((l.r-c.r)*i,(l.g-c.g)*i,(l.b-c.b)*i,(l.a-c.a)*i)}else{var f=0,h=0,p=0,d=0;if(r>=u[u.length-Yt.ENTRIES]){var v=u.length;f=u[v+Yt.PREV_R],h=u[v+Yt.PREV_G],p=u[v+Yt.PREV_B],d=u[v+Yt.PREV_A]}else{var m=Mt.binarySearch(u,r,Yt.ENTRIES);f=u[m+Yt.PREV_R],h=u[m+Yt.PREV_G],p=u[m+Yt.PREV_B],d=u[m+Yt.PREV_A];var b=u[m],g=this.getCurvePercent(m/Yt.ENTRIES-1,1-(r-b)/(u[m+Yt.PREV_TIME]-b));f+=(u[m+Yt.R]-f)*g,h+=(u[m+Yt.G]-h)*g,p+=(u[m+Yt.B]-p)*g,d+=(u[m+Yt.A]-d)*g}if(1==i)s.color.set(f,h,p,d);else{var w=s.color;o==y.qU.setup&&w.setFromColor(s.data.color),w.add((f-w.r)*i,(h-w.g)*i,(p-w.b)*i,(d-w.a)*i)}}}}])}(Bt),qt=Yt;qt.ENTRIES=5,qt.PREV_TIME=-5,qt.PREV_R=-4,qt.PREV_G=-3,qt.PREV_B=-2,qt.PREV_A=-1,qt.R=1,qt.G=2,qt.B=3,qt.A=4;var Wt=function(t){function e(t){var r;return Rt(this,e),(r=Et(this,e,[t])).frames=y.Aq.newFloatArray(t*Wt.ENTRIES),r}return Pt(e,t),It(e,[{key:"getPropertyId",value:function(){return(14<<24)+this.slotIndex}},{key:"setFrame",value:function(t,e,r,n,i,o,a,s,u){t*=Wt.ENTRIES,this.frames[t]=e,this.frames[t+Wt.R]=r,this.frames[t+Wt.G]=n,this.frames[t+Wt.B]=i,this.frames[t+Wt.A]=o,this.frames[t+Wt.R2]=a,this.frames[t+Wt.G2]=s,this.frames[t+Wt.B2]=u}},{key:"apply",value:function(t,e,r,n,i,o,a){var s=t.slots[this.slotIndex],u=this.frames;if(r<u[0])switch(o){case y.qU.setup:return s.color.setFromColor(s.data.color),void s.darkColor.setFromColor(s.data.darkColor);case y.qU.first:var c=s.color,l=s.darkColor,f=s.data.color,h=s.data.darkColor;c.add((f.r-c.r)*i,(f.g-c.g)*i,(f.b-c.b)*i,(f.a-c.a)*i),l.add((h.r-l.r)*i,(h.g-l.g)*i,(h.b-l.b)*i,0)}else{var p=0,d=0,v=0,m=0,b=0,g=0,w=0;if(r>=u[u.length-Wt.ENTRIES]){var S=u.length;p=u[S+Wt.PREV_R],d=u[S+Wt.PREV_G],v=u[S+Wt.PREV_B],m=u[S+Wt.PREV_A],b=u[S+Wt.PREV_R2],g=u[S+Wt.PREV_G2],w=u[S+Wt.PREV_B2]}else{var x=Mt.binarySearch(u,r,Wt.ENTRIES);p=u[x+Wt.PREV_R],d=u[x+Wt.PREV_G],v=u[x+Wt.PREV_B],m=u[x+Wt.PREV_A],b=u[x+Wt.PREV_R2],g=u[x+Wt.PREV_G2],w=u[x+Wt.PREV_B2];var _=u[x],E=this.getCurvePercent(x/Wt.ENTRIES-1,1-(r-_)/(u[x+Wt.PREV_TIME]-_));p+=(u[x+Wt.R]-p)*E,d+=(u[x+Wt.G]-d)*E,v+=(u[x+Wt.B]-v)*E,m+=(u[x+Wt.A]-m)*E,b+=(u[x+Wt.R2]-b)*E,g+=(u[x+Wt.G2]-g)*E,w+=(u[x+Wt.B2]-w)*E}if(1==i)s.color.set(p,d,v,m),s.darkColor.set(b,g,w,1);else{var T=s.color,k=s.darkColor;o==y.qU.setup&&(T.setFromColor(s.data.color),k.setFromColor(s.data.darkColor)),T.add((p-T.r)*i,(d-T.g)*i,(v-T.b)*i,(m-T.a)*i),k.add((b-k.r)*i,(g-k.g)*i,(w-k.b)*i,0)}}}}])}(Bt),Ht=Wt;Ht.ENTRIES=8,Ht.PREV_TIME=-8,Ht.PREV_R=-7,Ht.PREV_G=-6,Ht.PREV_B=-5,Ht.PREV_A=-4,Ht.PREV_R2=-3,Ht.PREV_G2=-2,Ht.PREV_B2=-1,Ht.R=1,Ht.G=2,Ht.B=3,Ht.A=4,Ht.R2=5,Ht.G2=6,Ht.B2=7;var zt=function(){return It(function t(e){Rt(this,t),this.frames=y.Aq.newFloatArray(e),this.attachmentNames=new Array(e)},[{key:"getPropertyId",value:function(){return(4<<24)+this.slotIndex}},{key:"getFrameCount",value:function(){return this.frames.length}},{key:"setFrame",value:function(t,e,r){this.frames[t]=e,this.attachmentNames[t]=r}},{key:"apply",value:function(t,e,r,n,i,o,a){var s=t.slots[this.slotIndex];if(a!=y.mj.mixOut||o!=y.qU.setup){var u=this.frames;if(r<u[0]){if(o==y.qU.setup||o==y.qU.first){var c=s.data.attachmentName;s.setAttachment(null==c?null:t.getAttachment(this.slotIndex,c))}}else{var l=0;l=r>=u[u.length-1]?u.length-1:Mt.binarySearch(u,r,1)-1;var f=this.attachmentNames[l];t.slots[this.slotIndex].setAttachment(null==f?null:t.getAttachment(this.slotIndex,f))}}else{var h=s.data.attachmentName;s.setAttachment(null==h?null:t.getAttachment(this.slotIndex,h))}}}])}(),Qt=null,Zt=function(t){function e(t){var r;return Rt(this,e),(r=Et(this,e,[t])).frames=y.Aq.newFloatArray(t),r.frameVertices=new Array(t),null==Qt&&(Qt=y.Aq.newFloatArray(64)),r}return Pt(e,t),It(e,[{key:"getPropertyId",value:function(){return(6<<27)+Number(this.attachment.id)+this.slotIndex}},{key:"setFrame",value:function(t,e,r){this.frames[t]=e,this.frameVertices[t]=r}},{key:"apply",value:function(t,e,r,n,i,o,a){var s=t.slots[this.slotIndex],u=s.getAttachment();if(u instanceof d&&u.applyDeform(this.attachment)){var c=s.attachmentVertices;0==c.length&&(o=y.qU.setup);var l=this.frameVertices,f=l[0].length,h=this.frames;if(r<h[0]){var p=u;switch(o){case y.qU.setup:return void(c.length=0);case y.qU.first:if(1==i){c.length=0;break}var v=y.Aq.setArraySize(c,f);if(null==p.bones)for(var m=p.vertices,b=0;b<f;b++)v[b]+=(m[b]-v[b])*i;else{i=1-i;for(var g=0;g<f;g++)v[g]*=i}}}else{var w=y.Aq.setArraySize(c,f);if(r>=h[h.length-1]){var S=l[h.length-1];if(1==i)if(o==y.qU.add){var x=u;if(null==x.bones)for(var _=x.vertices,E=0;E<f;E++)w[E]+=S[E]-_[E];else for(var T=0;T<f;T++)w[T]+=S[T]}else y.Aq.arrayCopy(S,0,w,0,f);else switch(o){case y.qU.setup:var k=u;if(null==k.bones)for(var P=k.vertices,O=0;O<f;O++){var A=P[O];w[O]=A+(S[O]-A)*i}else for(var R=0;R<f;R++)w[R]=S[R]*i;break;case y.qU.first:case y.qU.replace:for(var j=0;j<f;j++)w[j]+=(S[j]-w[j])*i;case y.qU.add:var I=u;if(null==I.bones)for(var C=I.vertices,M=0;M<f;M++)w[M]+=(S[M]-C[M])*i;else for(var D=0;D<f;D++)w[D]+=S[D]*i}}else{var N=Mt.binarySearch(h,r),B=l[N-1],F=l[N],L=h[N],U=this.getCurvePercent(N-1,1-(r-L)/(h[N-1]-L));if(1==i)if(o==y.qU.add){var V=u;if(null==V.bones)for(var X=V.vertices,G=0;G<f;G++){var Y=B[G];w[G]+=Y+(F[G]-Y)*U-X[G]}else for(var q=0;q<f;q++){var W=B[q];w[q]+=W+(F[q]-W)*U}}else for(var H=0;H<f;H++){var z=B[H];w[H]=z+(F[H]-z)*U}else switch(o){case y.qU.setup:var Q=u;if(null==Q.bones)for(var Z=Q.vertices,K=0;K<f;K++){var $=B[K],J=Z[K];w[K]=J+($+(F[K]-$)*U-J)*i}else for(var tt=0;tt<f;tt++){var et=B[tt];w[tt]=(et+(F[tt]-et)*U)*i}break;case y.qU.first:case y.qU.replace:for(var rt=0;rt<f;rt++){var nt=B[rt];w[rt]+=(nt+(F[rt]-nt)*U-w[rt])*i}break;case y.qU.add:var it=u;if(null==it.bones)for(var ot=it.vertices,at=0;at<f;at++){var st=B[at];w[at]+=(st+(F[at]-st)*U-ot[at])*i}else for(var ut=0;ut<f;ut++){var ct=B[ut];w[ut]+=(ct+(F[ut]-ct)*U)*i}}}}}}}])}(Bt),Kt=function(){return It(function t(e){Rt(this,t),this.frames=y.Aq.newFloatArray(e),this.events=new Array(e)},[{key:"getPropertyId",value:function(){return 7<<24}},{key:"getFrameCount",value:function(){return this.frames.length}},{key:"setFrame",value:function(t,e){this.frames[t]=e.time,this.events[t]=e}},{key:"apply",value:function(t,e,r,n,i,o,a){if(null!=n){var s=this.frames,u=this.frames.length;if(e>r)this.apply(t,e,Number.MAX_VALUE,n,i,o,a),e=-1;else if(e>=s[u-1])return;if(!(r<s[0])){var c=0;if(e<s[0])c=0;else for(var l=s[c=Mt.binarySearch(s,e)];c>0&&s[c-1]==l;)c--;for(;c<u&&r>=s[c];c++)n.push(this.events[c])}}}}])}(),$t=function(){return It(function t(e){Rt(this,t),this.frames=y.Aq.newFloatArray(e),this.drawOrders=new Array(e)},[{key:"getPropertyId",value:function(){return 8<<24}},{key:"getFrameCount",value:function(){return this.frames.length}},{key:"setFrame",value:function(t,e,r){this.frames[t]=e,this.drawOrders[t]=r}},{key:"apply",value:function(t,e,r,n,i,o,a){var s=t.drawOrder,u=t.slots;if(a!=y.mj.mixOut||o!=y.qU.setup){var c=this.frames;if(r<c[0])o!=y.qU.setup&&o!=y.qU.first||y.Aq.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length);else{var l=0;l=r>=c[c.length-1]?c.length-1:Mt.binarySearch(c,r)-1;var f=this.drawOrders[l];if(null==f)y.Aq.arrayCopy(u,0,s,0,u.length);else for(var h=0,p=f.length;h<p;h++)s[h]=u[f[h]]}}else y.Aq.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length)}}])}(),Jt=function(t){function e(t){var r;return Rt(this,e),(r=Et(this,e,[t])).frames=y.Aq.newFloatArray(t*Jt.ENTRIES),r}return Pt(e,t),It(e,[{key:"getPropertyId",value:function(){return(9<<24)+this.ikConstraintIndex}},{key:"setFrame",value:function(t,e,r,n,i,o){t*=Jt.ENTRIES,this.frames[t]=e,this.frames[t+Jt.MIX]=r,this.frames[t+Jt.BEND_DIRECTION]=n,this.frames[t+Jt.COMPRESS]=i?1:0,this.frames[t+Jt.STRETCH]=o?1:0}},{key:"apply",value:function(t,e,r,n,i,o,a){var s=this.frames,u=t.ikConstraints[this.ikConstraintIndex];if(r<s[0])switch(o){case y.qU.setup:return u.mix=u.data.mix,u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,void(u.stretch=u.data.stretch);case y.qU.first:u.mix+=(u.data.mix-u.mix)*i,u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch}else if(r>=s[s.length-Jt.ENTRIES])o==y.qU.setup?(u.mix=u.data.mix+(s[s.length+Jt.PREV_MIX]-u.data.mix)*i,a==y.mj.mixOut?(u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch):(u.bendDirection=s[s.length+Jt.PREV_BEND_DIRECTION],u.compress=0!=s[s.length+Jt.PREV_COMPRESS],u.stretch=0!=s[s.length+Jt.PREV_STRETCH])):(u.mix+=(s[s.length+Jt.PREV_MIX]-u.mix)*i,a==y.mj.mixIn&&(u.bendDirection=s[s.length+Jt.PREV_BEND_DIRECTION],u.compress=0!=s[s.length+Jt.PREV_COMPRESS],u.stretch=0!=s[s.length+Jt.PREV_STRETCH]));else{var c=Mt.binarySearch(s,r,Jt.ENTRIES),l=s[c+Jt.PREV_MIX],f=s[c],h=this.getCurvePercent(c/Jt.ENTRIES-1,1-(r-f)/(s[c+Jt.PREV_TIME]-f));o==y.qU.setup?(u.mix=u.data.mix+(l+(s[c+Jt.MIX]-l)*h-u.data.mix)*i,a==y.mj.mixOut?(u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch):(u.bendDirection=s[c+Jt.PREV_BEND_DIRECTION],u.compress=0!=s[c+Jt.PREV_COMPRESS],u.stretch=0!=s[c+Jt.PREV_STRETCH])):(u.mix+=(l+(s[c+Jt.MIX]-l)*h-u.mix)*i,a==y.mj.mixIn&&(u.bendDirection=s[c+Jt.PREV_BEND_DIRECTION],u.compress=0!=s[c+Jt.PREV_COMPRESS],u.stretch=0!=s[c+Jt.PREV_STRETCH]))}}}])}(Bt),te=Jt;te.ENTRIES=5,te.PREV_TIME=-5,te.PREV_MIX=-4,te.PREV_BEND_DIRECTION=-3,te.PREV_COMPRESS=-2,te.PREV_STRETCH=-1,te.MIX=1,te.BEND_DIRECTION=2,te.COMPRESS=3,te.STRETCH=4;var ee=function(t){function e(t){var r;return Rt(this,e),(r=Et(this,e,[t])).frames=y.Aq.newFloatArray(t*ee.ENTRIES),r}return Pt(e,t),It(e,[{key:"getPropertyId",value:function(){return(10<<24)+this.transformConstraintIndex}},{key:"setFrame",value:function(t,e,r,n,i,o){t*=ee.ENTRIES,this.frames[t]=e,this.frames[t+ee.ROTATE]=r,this.frames[t+ee.TRANSLATE]=n,this.frames[t+ee.SCALE]=i,this.frames[t+ee.SHEAR]=o}},{key:"apply",value:function(t,e,r,n,i,o,a){var s=this.frames,u=t.transformConstraints[this.transformConstraintIndex];if(r<s[0]){var c=u.data;switch(o){case y.qU.setup:return u.rotateMix=c.rotateMix,u.translateMix=c.translateMix,u.scaleMix=c.scaleMix,void(u.shearMix=c.shearMix);case y.qU.first:u.rotateMix+=(c.rotateMix-u.rotateMix)*i,u.translateMix+=(c.translateMix-u.translateMix)*i,u.scaleMix+=(c.scaleMix-u.scaleMix)*i,u.shearMix+=(c.shearMix-u.shearMix)*i}}else{var l=0,f=0,h=0,p=0;if(r>=s[s.length-ee.ENTRIES]){var d=s.length;l=s[d+ee.PREV_ROTATE],f=s[d+ee.PREV_TRANSLATE],h=s[d+ee.PREV_SCALE],p=s[d+ee.PREV_SHEAR]}else{var v=Mt.binarySearch(s,r,ee.ENTRIES);l=s[v+ee.PREV_ROTATE],f=s[v+ee.PREV_TRANSLATE],h=s[v+ee.PREV_SCALE],p=s[v+ee.PREV_SHEAR];var m=s[v],b=this.getCurvePercent(v/ee.ENTRIES-1,1-(r-m)/(s[v+ee.PREV_TIME]-m));l+=(s[v+ee.ROTATE]-l)*b,f+=(s[v+ee.TRANSLATE]-f)*b,h+=(s[v+ee.SCALE]-h)*b,p+=(s[v+ee.SHEAR]-p)*b}if(o==y.qU.setup){var g=u.data;u.rotateMix=g.rotateMix+(l-g.rotateMix)*i,u.translateMix=g.translateMix+(f-g.translateMix)*i,u.scaleMix=g.scaleMix+(h-g.scaleMix)*i,u.shearMix=g.shearMix+(p-g.shearMix)*i}else u.rotateMix+=(l-u.rotateMix)*i,u.translateMix+=(f-u.translateMix)*i,u.scaleMix+=(h-u.scaleMix)*i,u.shearMix+=(p-u.shearMix)*i}}}])}(Bt),re=ee;re.ENTRIES=5,re.PREV_TIME=-5,re.PREV_ROTATE=-4,re.PREV_TRANSLATE=-3,re.PREV_SCALE=-2,re.PREV_SHEAR=-1,re.ROTATE=1,re.TRANSLATE=2,re.SCALE=3,re.SHEAR=4;var ne=function(t){function e(t){var r;return Rt(this,e),(r=Et(this,e,[t])).frames=y.Aq.newFloatArray(t*ne.ENTRIES),r}return Pt(e,t),It(e,[{key:"getPropertyId",value:function(){return(11<<24)+this.pathConstraintIndex}},{key:"setFrame",value:function(t,e,r){t*=ne.ENTRIES,this.frames[t]=e,this.frames[t+ne.VALUE]=r}},{key:"apply",value:function(t,e,r,n,i,o,a){var s=this.frames,u=t.pathConstraints[this.pathConstraintIndex];if(r<s[0])switch(o){case y.qU.setup:return void(u.position=u.data.position);case y.qU.first:u.position+=(u.data.position-u.position)*i}else{var c=0;if(r>=s[s.length-ne.ENTRIES])c=s[s.length+ne.PREV_VALUE];else{var l=Mt.binarySearch(s,r,ne.ENTRIES);c=s[l+ne.PREV_VALUE];var f=s[l],h=this.getCurvePercent(l/ne.ENTRIES-1,1-(r-f)/(s[l+ne.PREV_TIME]-f));c+=(s[l+ne.VALUE]-c)*h}o==y.qU.setup?u.position=u.data.position+(c-u.data.position)*i:u.position+=(c-u.position)*i}}}])}(Bt),ie=ne;ie.ENTRIES=2,ie.PREV_TIME=-2,ie.PREV_VALUE=-1,ie.VALUE=1;var oe=function(t){function e(t){return Rt(this,e),Et(this,e,[t])}return Pt(e,t),It(e,[{key:"getPropertyId",value:function(){return(12<<24)+this.pathConstraintIndex}},{key:"apply",value:function(t,r,n,i,o,a,s){var u=this.frames,c=t.pathConstraints[this.pathConstraintIndex];if(n<u[0])switch(a){case y.qU.setup:return void(c.spacing=c.data.spacing);case y.qU.first:c.spacing+=(c.data.spacing-c.spacing)*o}else{var l=0;if(n>=u[u.length-e.ENTRIES])l=u[u.length+e.PREV_VALUE];else{var f=Mt.binarySearch(u,n,e.ENTRIES);l=u[f+e.PREV_VALUE];var h=u[f],p=this.getCurvePercent(f/e.ENTRIES-1,1-(n-h)/(u[f+e.PREV_TIME]-h));l+=(u[f+e.VALUE]-l)*p}a==y.qU.setup?c.spacing=c.data.spacing+(l-c.data.spacing)*o:c.spacing+=(l-c.spacing)*o}}}])}(ie),ae=function(t){function e(t){var r;return Rt(this,e),(r=Et(this,e,[t])).frames=y.Aq.newFloatArray(t*ae.ENTRIES),r}return Pt(e,t),It(e,[{key:"getPropertyId",value:function(){return(13<<24)+this.pathConstraintIndex}},{key:"setFrame",value:function(t,e,r,n){t*=ae.ENTRIES,this.frames[t]=e,this.frames[t+ae.ROTATE]=r,this.frames[t+ae.TRANSLATE]=n}},{key:"apply",value:function(t,e,r,n,i,o,a){var s=this.frames,u=t.pathConstraints[this.pathConstraintIndex];if(r<s[0])switch(o){case y.qU.setup:return u.rotateMix=u.data.rotateMix,void(u.translateMix=u.data.translateMix);case y.qU.first:u.rotateMix+=(u.data.rotateMix-u.rotateMix)*i,u.translateMix+=(u.data.translateMix-u.translateMix)*i}else{var c=0,l=0;if(r>=s[s.length-ae.ENTRIES])c=s[s.length+ae.PREV_ROTATE],l=s[s.length+ae.PREV_TRANSLATE];else{var f=Mt.binarySearch(s,r,ae.ENTRIES);c=s[f+ae.PREV_ROTATE],l=s[f+ae.PREV_TRANSLATE];var h=s[f],p=this.getCurvePercent(f/ae.ENTRIES-1,1-(r-h)/(s[f+ae.PREV_TIME]-h));c+=(s[f+ae.ROTATE]-c)*p,l+=(s[f+ae.TRANSLATE]-l)*p}o==y.qU.setup?(u.rotateMix=u.data.rotateMix+(c-u.data.rotateMix)*i,u.translateMix=u.data.translateMix+(l-u.data.translateMix)*i):(u.rotateMix+=(c-u.rotateMix)*i,u.translateMix+=(l-u.translateMix)*i)}}}])}(Bt),se=ae;se.ENTRIES=3,se.PREV_TIME=-3,se.PREV_ROTATE=-2,se.PREV_TRANSLATE=-1,se.ROTATE=1,se.TRANSLATE=2;r(55705852),r(57180314);function ue(t){return ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ue(t)}function ce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function le(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,he(n.key),n)}}function fe(t,e,r){return e&&le(t.prototype,e),r&&le(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function he(t){var e=function(t,e){if("object"!=ue(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=ue(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ue(e)?e:e+""}var pe=function(){return fe(function t(e){ce(this,t),this.tracks=new Array,this.events=new Array,this.listeners=new Array,this.queue=new be(this),this.propertyIDs=new y.ON,this.animationsChanged=!1,this.timeScale=1,this.trackEntryPool=new y.bC(function(){return new ve}),this.data=e},[{key:"update",value:function(t){t*=this.timeScale;for(var e=this.tracks,r=0,n=e.length;r<n;r++){var i=e[r];if(null!=i){i.animationLast=i.nextAnimationLast,i.trackLast=i.nextTrackLast;var o=t*i.timeScale;if(i.delay>0){if(i.delay-=o,i.delay>0)continue;o=-i.delay,i.delay=0}var a=i.next;if(null!=a){var s=i.trackLast-a.delay;if(s>=0){for(a.delay=0,a.trackTime=0==i.timeScale?0:(s/i.timeScale+t)*a.timeScale,i.trackTime+=o,this.setCurrent(r,a,!0);null!=a.mixingFrom;)a.mixTime+=t,a=a.mixingFrom;continue}}else if(i.trackLast>=i.trackEnd&&null==i.mixingFrom){e[r]=null,this.queue.end(i),this.disposeNext(i);continue}if(null!=i.mixingFrom&&this.updateMixingFrom(i,t)){var u=i.mixingFrom;for(i.mixingFrom=null,null!=u&&(u.mixingTo=null);null!=u;)this.queue.end(u),u=u.mixingFrom}i.trackTime+=o}}this.queue.drain()}},{key:"updateMixingFrom",value:function(t,e){var r=t.mixingFrom;if(null==r)return!0;var n=this.updateMixingFrom(r,e);return r.animationLast=r.nextAnimationLast,r.trackLast=r.nextTrackLast,t.mixTime>0&&t.mixTime>=t.mixDuration?(0!=r.totalAlpha&&0!=t.mixDuration||(t.mixingFrom=r.mixingFrom,null!=r.mixingFrom&&(r.mixingFrom.mixingTo=t),t.interruptAlpha=r.interruptAlpha,this.queue.end(r)),n):(r.trackTime+=e*r.timeScale,t.mixTime+=e,!1)}},{key:"apply",value:function(t){if(null==t)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var e=this.events,r=this.tracks,n=!1,i=0,o=r.length;i<o;i++){var a=r[i];if(!(null==a||a.delay>0)){n=!0;var s=0==i?y.qU.first:a.mixBlend,u=a.alpha;null!=a.mixingFrom?u*=this.applyMixingFrom(a,t,s):a.trackTime>=a.trackEnd&&null==a.next&&(u=0);var c=a.animationLast,l=a.getAnimationTime(),f=a.animation.timelines.length,h=a.animation.timelines;if(0==i&&1==u||s==y.qU.add)for(var p=0;p<f;p++)y.Aq.webkit602BugfixHelper(u,s),h[p].apply(t,c,l,e,u,s,y.mj.mixIn);else{var d=a.timelineMode,v=0==a.timelinesRotation.length;v&&y.Aq.setArraySize(a.timelinesRotation,f<<1,null);for(var m=a.timelinesRotation,b=0;b<f;b++){var g=h[b],w=d[b]==pe.SUBSEQUENT?s:y.qU.setup;g instanceof Lt?this.applyRotateTimeline(g,t,l,u,w,m,b<<1,v):(y.Aq.webkit602BugfixHelper(u,s),g.apply(t,c,l,e,u,w,y.mj.mixIn))}}this.queueEvents(a,l),e.length=0,a.nextAnimationLast=l,a.nextTrackLast=a.trackTime}}return this.queue.drain(),n}},{key:"applyMixingFrom",value:function(t,e,r){var n=t.mixingFrom;null!=n.mixingFrom&&this.applyMixingFrom(n,e,r);var i=0;0==t.mixDuration?(i=1,r==y.qU.first&&(r=y.qU.setup)):((i=t.mixTime/t.mixDuration)>1&&(i=1),r!=y.qU.first&&(r=n.mixBlend));var o=i<n.eventThreshold?this.events:null,a=i<n.attachmentThreshold,s=i<n.drawOrderThreshold,u=n.animationLast,c=n.getAnimationTime(),l=n.animation.timelines.length,f=n.animation.timelines,h=n.alpha*t.interruptAlpha,p=h*(1-i);if(r==y.qU.add)for(var d=0;d<l;d++)f[d].apply(e,u,c,o,p,r,y.mj.mixOut);else{var v=n.timelineMode,m=n.timelineHoldMix,b=0==n.timelinesRotation.length;b&&y.Aq.setArraySize(n.timelinesRotation,l<<1,null);var g=n.timelinesRotation;n.totalAlpha=0;for(var w=0;w<l;w++){var S=f[w],x=y.mj.mixOut,_=void 0,E=0;switch(v[w]){case pe.SUBSEQUENT:if(!a&&S instanceof zt)continue;if(!s&&S instanceof $t)continue;_=r,E=p;break;case pe.FIRST:_=y.qU.setup,E=p;break;case pe.HOLD:_=y.qU.setup,E=h;break;default:_=y.qU.setup;var T=m[w];E=h*Math.max(0,1-T.mixTime/T.mixDuration)}n.totalAlpha+=E,S instanceof Lt?this.applyRotateTimeline(S,e,c,E,_,g,w<<1,b):(y.Aq.webkit602BugfixHelper(E,r),_==y.qU.setup&&(S instanceof zt?a&&(x=y.mj.mixOut):S instanceof $t&&s&&(x=y.mj.mixOut)),S.apply(e,u,c,o,E,_,x))}}return t.mixDuration>0&&this.queueEvents(n,c),this.events.length=0,n.nextAnimationLast=c,n.nextTrackLast=n.trackTime,i}},{key:"applyRotateTimeline",value:function(t,e,r,n,i,o,a,s){if(s&&(o[a]=0),1!=n){var u=t,c=u.frames,l=e.bones[u.boneIndex],f=0,h=0;if(r<c[0])switch(i){case y.qU.setup:l.rotation=l.data.rotation;default:return;case y.qU.first:f=l.rotation,h=l.data.rotation}else if(f=i==y.qU.setup?l.data.rotation:l.rotation,r>=c[c.length-Lt.ENTRIES])h=l.data.rotation+c[c.length+Lt.PREV_ROTATION];else{var p=Mt.binarySearch(c,r,Lt.ENTRIES),d=c[p+Lt.PREV_ROTATION],v=c[p],m=u.getCurvePercent((p>>1)-1,1-(r-v)/(c[p+Lt.PREV_TIME]-v));h=c[p+Lt.ROTATION]-d,h=d+(h-=360*(16384-(16384.499999999996-h/360|0)))*m+l.data.rotation,h-=360*(16384-(16384.499999999996-h/360|0))}var b=0,g=h-f;if(0==(g-=360*(16384-(16384.499999999996-g/360|0))))b=o[a];else{var w=0,S=0;s?(w=0,S=g):(w=o[a],S=o[a+1]);var x=g>0,_=w>=0;y.cj.signum(S)!=y.cj.signum(g)&&Math.abs(S)<=90&&(Math.abs(w)>180&&(w+=360*y.cj.signum(w)),_=x),b=g+w-w%360,_!=x&&(b+=360*y.cj.signum(w)),o[a]=b}o[a+1]=g,f+=b*n,l.rotation=f-360*(16384-(16384.499999999996-f/360|0))}else t.apply(e,0,r,null,1,i,y.mj.mixIn)}},{key:"queueEvents",value:function(t,e){for(var r=t.animationStart,n=t.animationEnd,i=n-r,o=t.trackLast%i,a=this.events,s=0,u=a.length;s<u;s++){var c=a[s];if(c.time<o)break;c.time>n||this.queue.event(t,c)}for((t.loop?0==i||o>t.trackTime%i:e>=n&&t.animationLast<n)&&this.queue.complete(t);s<u;s++){a[s].time<r||this.queue.event(t,a[s])}}},{key:"clearTracks",value:function(){var t=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var e=0,r=this.tracks.length;e<r;e++)this.clearTrack(e);this.tracks.length=0,this.queue.drainDisabled=t,this.queue.drain()}},{key:"clearTrack",value:function(t){if(!(t>=this.tracks.length)){var e=this.tracks[t];if(null!=e){this.queue.end(e),this.disposeNext(e);for(var r=e;;){var n=r.mixingFrom;if(null==n)break;this.queue.end(n),r.mixingFrom=null,r.mixingTo=null,r=n}this.tracks[e.trackIndex]=null,this.queue.drain()}}}},{key:"setCurrent",value:function(t,e,r){var n=this.expandToIndex(t);this.tracks[t]=e,null!=n&&(r&&this.queue.interrupt(n),e.mixingFrom=n,n.mixingTo=e,e.mixTime=0,null!=n.mixingFrom&&n.mixDuration>0&&(e.interruptAlpha*=Math.min(1,n.mixTime/n.mixDuration)),n.timelinesRotation.length=0),this.queue.start(e)}},{key:"setAnimation",value:function(t,e,r){var n=this.data.skeletonData.findAnimation(e);if(null==n)throw new Error("Animation not found: ".concat(e));return this.setAnimationWith(t,n,r)}},{key:"setAnimationWith",value:function(t,e,r){if(null==e)throw new Error("animation cannot be null.");var n=!0,i=this.expandToIndex(t);null!=i&&(-1==i.nextTrackLast?(this.tracks[t]=i.mixingFrom,this.queue.interrupt(i),this.queue.end(i),this.disposeNext(i),i=i.mixingFrom,n=!1):this.disposeNext(i));var o=this.trackEntry(t,e,r,i);return this.setCurrent(t,o,n),this.queue.drain(),o}},{key:"addAnimation",value:function(t,e,r,n){var i=this.data.skeletonData.findAnimation(e);if(null==i)throw new Error("Animation not found: ".concat(e));return this.addAnimationWith(t,i,r,n)}},{key:"addAnimationWith",value:function(t,e,r,n){if(null==e)throw new Error("animation cannot be null.");var i=this.expandToIndex(t);if(null!=i)for(;null!=i.next;)i=i.next;var o=this.trackEntry(t,e,r,i);if(null==i)this.setCurrent(t,o,!0),this.queue.drain();else if(i.next=o,n<=0){var a=i.animationEnd-i.animationStart;0!=a?(i.loop?n+=a*(1+(i.trackTime/a|0)):n+=Math.max(a,i.trackTime),n-=this.data.getMix(i.animation,e)):n=i.trackTime}return o.delay=n,o}},{key:"setEmptyAnimation",value:function(t,e){var r=this.setAnimationWith(t,pe.emptyAnimation,!1);return r.mixDuration=e,r.trackEnd=e,r}},{key:"addEmptyAnimation",value:function(t,e,r){r<=0&&(r-=e);var n=this.addAnimationWith(t,pe.emptyAnimation,!1,r);return n.mixDuration=e,n.trackEnd=e,n}},{key:"setEmptyAnimations",value:function(t){var e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var r=0,n=this.tracks.length;r<n;r++){var i=this.tracks[r];null!=i&&this.setEmptyAnimation(i.trackIndex,t)}this.queue.drainDisabled=e,this.queue.drain()}},{key:"expandToIndex",value:function(t){return t<this.tracks.length?this.tracks[t]:(y.Aq.ensureArrayCapacity(this.tracks,t-this.tracks.length+1,null),this.tracks.length=t+1,null)}},{key:"trackEntry",value:function(t,e,r,n){var i=this.trackEntryPool.obtain();return i.trackIndex=t,i.animation=e,i.loop=r,i.holdPrevious=!1,i.eventThreshold=0,i.attachmentThreshold=0,i.drawOrderThreshold=0,i.animationStart=0,i.animationEnd=e.duration,i.animationLast=-1,i.nextAnimationLast=-1,i.delay=0,i.trackTime=0,i.trackLast=-1,i.nextTrackLast=-1,i.trackEnd=Number.MAX_VALUE,i.timeScale=1,i.alpha=1,i.interruptAlpha=1,i.mixTime=0,i.mixDuration=null==n?0:this.data.getMix(n.animation,e),i}},{key:"disposeNext",value:function(t){for(var e=t.next;null!=e;)this.queue.dispose(e),e=e.next;t.next=null}},{key:"_animationsChanged",value:function(){this.animationsChanged=!1,this.propertyIDs.clear();for(var t=0,e=this.tracks.length;t<e;t++){var r=this.tracks[t];if(null!=r){for(;null!=r.mixingFrom;)r=r.mixingFrom;do{null!=r.mixingFrom&&r.mixBlend==y.qU.add||this.setTimelineModes(r),r=r.mixingTo}while(null!=r)}}}},{key:"setTimelineModes",value:function(t){var e=t.mixingTo,r=t.animation.timelines,n=t.animation.timelines.length,i=y.Aq.setArraySize(t.timelineMode,n);t.timelineHoldMix.length=0;var o=y.Aq.setArraySize(t.timelineHoldMix,n),a=this.propertyIDs;if(null!=e&&e.holdPrevious)for(var s=0;s<n;s++)a.add(r[s].getPropertyId()),i[s]=pe.HOLD;else t:for(var u=0;u<n;u++){var c=r[u].getPropertyId();if(a.add(c))if(null!=e&&this.hasTimeline(e,c)){for(var l=e.mixingTo;null!=l;l=l.mixingTo)if(!this.hasTimeline(l,c)){if(t.mixDuration>0){i[u]=pe.HOLD_MIX,o[u]=l;continue t}break}i[u]=pe.HOLD}else i[u]=pe.FIRST;else i[u]=pe.SUBSEQUENT}}},{key:"hasTimeline",value:function(t,e){for(var r=t.animation.timelines,n=0,i=r.length;n<i;n++)if(r[n].getPropertyId()==e)return!0;return!1}},{key:"getCurrent",value:function(t){return t>=this.tracks.length?null:this.tracks[t]}},{key:"addListener",value:function(t){if(null==t)throw new Error("listener cannot be null.");this.listeners.push(t)}},{key:"removeListener",value:function(t){var e=this.listeners.indexOf(t);e>=0&&this.listeners.splice(e,1)}},{key:"clearListeners",value:function(){this.listeners.length=0}},{key:"clearListenerNotifications",value:function(){this.queue.clear()}},{key:"setAnimationByName",value:function(t,e,r){pe.deprecatedWarning1||(pe.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: AnimationState.setAnimationByName is deprecated, please use setAnimation from now on.")),this.setAnimation(t,e,r)}},{key:"addAnimationByName",value:function(t,e,r,n){pe.deprecatedWarning2||(pe.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: AnimationState.addAnimationByName is deprecated, please use addAnimation from now on.")),this.addAnimation(t,e,r,n)}},{key:"hasAnimation",value:function(t){return null!==this.data.skeletonData.findAnimation(t)}},{key:"hasAnimationByName",value:function(t){return pe.deprecatedWarning3||(pe.deprecatedWarning3=!0,console.warn("Spine Deprecation Warning: AnimationState.hasAnimationByName is deprecated, please use hasAnimation from now on.")),this.hasAnimation(t)}}])}(),de=pe;de.emptyAnimation=new Mt("<empty>",[],0),de.SUBSEQUENT=0,de.FIRST=1,de.HOLD=2,de.HOLD_MIX=3,de.deprecatedWarning1=!1,de.deprecatedWarning2=!1,de.deprecatedWarning3=!1;var ye=function(){return fe(function t(){ce(this,t),this.mixBlend=y.qU.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array},[{key:"reset",value:function(){this.next=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0}},{key:"getAnimationTime",value:function(){if(this.loop){var t=this.animationEnd-this.animationStart;return 0==t?this.animationStart:this.trackTime%t+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)}},{key:"setAnimationLast",value:function(t){this.animationLast=t,this.nextAnimationLast=t}},{key:"isComplete",value:function(){return this.trackTime>=this.animationEnd-this.animationStart}},{key:"resetRotationDirections",value:function(){this.timelinesRotation.length=0}},{key:"time",get:function(){return ye.deprecatedWarning1||(ye.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime},set:function(t){ye.deprecatedWarning1||(ye.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime=t}},{key:"endTime",get:function(){return ye.deprecatedWarning2||(ye.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime},set:function(t){ye.deprecatedWarning2||(ye.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime=t}},{key:"loopsCount",value:function(){return Math.floor(this.trackTime/this.trackEnd)}}])}(),ve=ye;ve.deprecatedWarning1=!1,ve.deprecatedWarning2=!1;var me=function(){return fe(function t(e){ce(this,t),this.objects=[],this.drainDisabled=!1,this.animState=e},[{key:"start",value:function(t){this.objects.push(ge.start),this.objects.push(t),this.animState.animationsChanged=!0}},{key:"interrupt",value:function(t){this.objects.push(ge.interrupt),this.objects.push(t)}},{key:"end",value:function(t){this.objects.push(ge.end),this.objects.push(t),this.animState.animationsChanged=!0}},{key:"dispose",value:function(t){this.objects.push(ge.dispose),this.objects.push(t)}},{key:"complete",value:function(t){this.objects.push(ge.complete),this.objects.push(t)}},{key:"event",value:function(t,e){this.objects.push(ge.event),this.objects.push(t),this.objects.push(e)}},{key:"deprecateStuff",value:function(){return me.deprecatedWarning1||(me.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: onComplete, onStart, onEnd, onEvent art deprecated, please use listeners from now on. 'state.addListener({ complete: function(track, event) { } })'")),!0}},{key:"drain",value:function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var t=this.objects,e=this.animState.listeners,r=0;r<t.length;r+=2){var n=t[r],i=t[r+1];switch(n){case ge.start:null!=i.listener&&i.listener.start&&i.listener.start(i);for(var o=0;o<e.length;o++)e[o].start&&e[o].start(i);i.onStart&&this.deprecateStuff()&&i.onStart(i.trackIndex),this.animState.onStart&&this.deprecateStuff()&&this.deprecateStuff&&this.animState.onStart(i.trackIndex);break;case ge.interrupt:null!=i.listener&&i.listener.interrupt&&i.listener.interrupt(i);for(var a=0;a<e.length;a++)e[a].interrupt&&e[a].interrupt(i);break;case ge.end:null!=i.listener&&i.listener.end&&i.listener.end(i);for(var s=0;s<e.length;s++)e[s].end&&e[s].end(i);i.onEnd&&this.deprecateStuff()&&i.onEnd(i.trackIndex),this.animState.onEnd&&this.deprecateStuff()&&this.animState.onEnd(i.trackIndex);case ge.dispose:null!=i.listener&&i.listener.dispose&&i.listener.dispose(i);for(var u=0;u<e.length;u++)e[u].dispose&&e[u].dispose(i);this.animState.trackEntryPool.free(i);break;case ge.complete:null!=i.listener&&i.listener.complete&&i.listener.complete(i);for(var c=0;c<e.length;c++)e[c].complete&&e[c].complete(i);var l=y.cj.toInt(i.loopsCount());i.onComplete&&this.deprecateStuff()&&i.onComplete(i.trackIndex,l),this.animState.onComplete&&this.deprecateStuff()&&this.animState.onComplete(i.trackIndex,l);break;case ge.event:var f=t[2+r++];null!=i.listener&&i.listener.event&&i.listener.event(i,f);for(var h=0;h<e.length;h++)e[h].event&&e[h].event(i,f);i.onEvent&&this.deprecateStuff()&&i.onEvent(i.trackIndex,f),this.animState.onEvent&&this.deprecateStuff()&&this.animState.onEvent(i.trackIndex,f)}}this.clear(),this.drainDisabled=!1}}},{key:"clear",value:function(){this.objects.length=0}}])}(),be=me;be.deprecatedWarning1=!1;var ge=function(t){return t[t.start=0]="start",t[t.interrupt=1]="interrupt",t[t.end=2]="end",t[t.dispose=3]="dispose",t[t.complete=4]="complete",t[t.event=5]="event",t}(ge||{}),we=function(){return fe(function t(){ce(this,t)},[{key:"start",value:function(t){}},{key:"interrupt",value:function(t){}},{key:"end",value:function(t){}},{key:"dispose",value:function(t){}},{key:"complete",value:function(t){}},{key:"event",value:function(t,e){}}])}();r(95723650);function Se(t){return Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Se(t)}function xe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_e(n.key),n)}}function _e(t){var e=function(t,e){if("object"!=Se(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Se(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Se(e)?e:e+""}var Ee=function(){return t=function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.animationToMixTime={},this.defaultMix=0,null==e)throw new Error("skeletonData cannot be null.");this.skeletonData=e},(e=[{key:"setMix",value:function(t,e,r){var n=this.skeletonData.findAnimation(t);if(null==n)throw new Error("Animation not found: ".concat(t));var i=this.skeletonData.findAnimation(e);if(null==i)throw new Error("Animation not found: ".concat(e));this.setMixWith(n,i,r)}},{key:"setMixByName",value:function(t,e,r){Ee.deprecatedWarning1||(Ee.deprecatedWarning1=!0,console.warn("Deprecation Warning: AnimationStateData.setMixByName is deprecated, please use setMix from now on.")),this.setMix(t,e,r)}},{key:"setMixWith",value:function(t,e,r){if(null==t)throw new Error("from cannot be null.");if(null==e)throw new Error("to cannot be null.");var n="".concat(t.name,".").concat(e.name);this.animationToMixTime[n]=r}},{key:"getMix",value:function(t,e){var r="".concat(t.name,".").concat(e.name),n=this.animationToMixTime[r];return void 0===n?this.defaultMix:n}}])&&xe(t.prototype,e),r&&xe(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}(),Te=Ee;function ke(t){return ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ke(t)}function Pe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Oe(n.key),n)}}function Oe(t){var e=function(t,e){if("object"!=ke(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=ke(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ke(e)?e:e+""}Te.deprecatedWarning1=!1;var Ae=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.atlas=e},(e=[{key:"newRegionAttachment",value:function(t,e,r){var n=this.atlas.findRegion(r);if(null==n)throw new Error("Region not found in atlas: ".concat(r," (region attachment: ").concat(e,")"));var i=new dt(e);return i.region=n,i}},{key:"newMeshAttachment",value:function(t,e,r){var n=this.atlas.findRegion(r);if(null==n)throw new Error("Region not found in atlas: ".concat(r," (mesh attachment: ").concat(e,")"));var i=new L(e);return i.region=n,i}},{key:"newBoundingBoxAttachment",value:function(t,e){return new _(e)}},{key:"newPathAttachment",value:function(t,e){return new H(e)}},{key:"newPointAttachment",value:function(t,e){return new et(e)}},{key:"newClippingAttachment",value:function(t,e){return new j(e)}}])&&Pe(t.prototype,e),r&&Pe(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}(),Re=r(55039106);function je(t){return je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},je(t)}function Ie(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ce(n.key),n)}}function Ce(t){var e=function(t,e){if("object"!=je(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=je(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==je(e)?e:e+""}var Me=function(){return t=function t(e,r,n){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.matrix=new Re.uq,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.appliedValid=!1,this.sorted=!1,this.active=!0,null==e)throw new Error("data cannot be null.");if(null==r)throw new Error("skeleton cannot be null.");this.data=e,this.skeleton=r,this.parent=n,this.setToSetupPose()},(e=[{key:"worldX",get:function(){return this.matrix.tx}},{key:"worldY",get:function(){return this.matrix.ty}},{key:"update",value:function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)}},{key:"updateWorldTransform",value:function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)}},{key:"updateWorldTransformWith",value:function(t,e,r,n,i,o,a){this.ax=t,this.ay=e,this.arotation=r,this.ascaleX=n,this.ascaleY=i,this.ashearX=o,this.ashearY=a,this.appliedValid=!0;var s=this.parent,u=this.matrix,c=this.skeleton.scaleX,l=y.W0.yDown?-this.skeleton.scaleY:this.skeleton.scaleY;if(null==s){var f=this.skeleton,h=r+90+a;return u.a=y.cj.cosDeg(r+o)*n*c,u.c=y.cj.cosDeg(h)*i*c,u.b=y.cj.sinDeg(r+o)*n*l,u.d=y.cj.sinDeg(h)*i*l,u.tx=t*c+f.x,void(u.ty=e*l+f.y)}var p=s.matrix.a,d=s.matrix.c,v=s.matrix.b,m=s.matrix.d;switch(u.tx=p*t+d*e+s.matrix.tx,u.ty=v*t+m*e+s.matrix.ty,this.data.transformMode){case y._C.Normal:var b=r+90+a,g=y.cj.cosDeg(r+o)*n,w=y.cj.cosDeg(b)*i,S=y.cj.sinDeg(r+o)*n,x=y.cj.sinDeg(b)*i;return u.a=p*g+d*S,u.c=p*w+d*x,u.b=v*g+m*S,void(u.d=v*w+m*x);case y._C.OnlyTranslation:var _=r+90+a;u.a=y.cj.cosDeg(r+o)*n,u.c=y.cj.cosDeg(_)*i,u.b=y.cj.sinDeg(r+o)*n,u.d=y.cj.sinDeg(_)*i;break;case y._C.NoRotationOrReflection:var E=p*p+v*v,T=0;E>1e-4?(d=v*(E=Math.abs(p*m-d*v)/E),m=p*E,T=Math.atan2(v,p)*y.cj.radDeg):(p=0,v=0,T=90-Math.atan2(m,d)*y.cj.radDeg);var k=r+o-T,P=r+a-T+90,O=y.cj.cosDeg(k)*n,A=y.cj.cosDeg(P)*i,R=y.cj.sinDeg(k)*n,j=y.cj.sinDeg(P)*i;u.a=p*O-d*R,u.c=p*A-d*j,u.b=v*O+m*R,u.d=v*A+m*j;break;case y._C.NoScale:case y._C.NoScaleOrReflection:var I=y.cj.cosDeg(r),C=y.cj.sinDeg(r),M=(p*I+d*C)/c,D=(v*I+m*C)/l,N=Math.sqrt(M*M+D*D);N>1e-5&&(N=1/N),M*=N,D*=N,N=Math.sqrt(M*M+D*D),this.data.transformMode==y._C.NoScale&&p*m-d*v<0!=(y.W0.yDown?this.skeleton.scaleX<0!=this.skeleton.scaleY>0:this.skeleton.scaleX<0!=this.skeleton.scaleY<0)&&(N=-N);var B=Math.PI/2+Math.atan2(D,M),F=Math.cos(B)*N,L=Math.sin(B)*N,U=y.cj.cosDeg(o)*n,V=y.cj.cosDeg(90+a)*i,X=y.cj.sinDeg(o)*n,G=y.cj.sinDeg(90+a)*i;u.a=M*U+F*X,u.c=M*V+F*G,u.b=D*U+L*X,u.d=D*V+L*G}u.a*=c,u.c*=c,u.b*=l,u.d*=l}},{key:"setToSetupPose",value:function(){var t=this.data;this.x=t.x,this.y=t.y,this.rotation=t.rotation,this.scaleX=t.scaleX,this.scaleY=t.scaleY,this.shearX=t.shearX,this.shearY=t.shearY}},{key:"getWorldRotationX",value:function(){return Math.atan2(this.matrix.b,this.matrix.a)*y.cj.radDeg}},{key:"getWorldRotationY",value:function(){return Math.atan2(this.matrix.d,this.matrix.c)*y.cj.radDeg}},{key:"getWorldScaleX",value:function(){var t=this.matrix;return Math.sqrt(t.a*t.a+t.c*t.c)}},{key:"getWorldScaleY",value:function(){var t=this.matrix;return Math.sqrt(t.b*t.b+t.d*t.d)}},{key:"updateAppliedTransform",value:function(){this.appliedValid=!0;var t=this.parent,e=this.matrix;if(null==t)return this.ax=e.tx,this.ay=e.ty,this.arotation=Math.atan2(e.b,e.a)*y.cj.radDeg,this.ascaleX=Math.sqrt(e.a*e.a+e.b*e.b),this.ascaleY=Math.sqrt(e.c*e.c+e.d*e.d),this.ashearX=0,void(this.ashearY=Math.atan2(e.a*e.c+e.b*e.d,e.a*e.d-e.b*e.c)*y.cj.radDeg);var r=t.matrix,n=1/(r.a*r.d-r.b*r.c),i=e.tx-r.tx,o=e.ty-r.ty;this.ax=i*r.d*n-o*r.c*n,this.ay=o*r.a*n-i*r.b*n;var a=n*r.d,s=n*r.a,u=n*r.c,c=n*r.b,l=a*e.a-u*e.b,f=a*e.c-u*e.d,h=s*e.b-c*e.a,p=s*e.d-c*e.c;if(this.ashearX=0,this.ascaleX=Math.sqrt(l*l+h*h),this.ascaleX>1e-4){var d=l*p-f*h;this.ascaleY=d/this.ascaleX,this.ashearY=Math.atan2(l*f+h*p,d)*y.cj.radDeg,this.arotation=Math.atan2(h,l)*y.cj.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(f*f+p*p),this.ashearY=0,this.arotation=90-Math.atan2(p,f)*y.cj.radDeg}},{key:"worldToLocal",value:function(t){var e=this.matrix,r=e.a,n=e.c,i=e.b,o=e.d,a=1/(r*o-n*i),s=t.x-e.tx,u=t.y-e.ty;return t.x=s*o*a-u*n*a,t.y=u*r*a-s*i*a,t}},{key:"localToWorld",value:function(t){var e=this.matrix,r=t.x,n=t.y;return t.x=r*e.a+n*e.c+e.tx,t.y=r*e.b+n*e.d+e.ty,t}},{key:"worldToLocalRotation",value:function(t){var e=y.cj.sinDeg(t),r=y.cj.cosDeg(t),n=this.matrix;return Math.atan2(n.a*e-n.b*r,n.d*r-n.c*e)*y.cj.radDeg}},{key:"localToWorldRotation",value:function(t){var e=y.cj.sinDeg(t),r=y.cj.cosDeg(t),n=this.matrix;return Math.atan2(r*n.b+e*n.d,r*n.a+e*n.c)*y.cj.radDeg}},{key:"rotateWorld",value:function(t){var e=this.matrix,r=e.a,n=e.c,i=e.b,o=e.d,a=y.cj.cosDeg(t),s=y.cj.sinDeg(t);e.a=a*r-s*i,e.c=a*n-s*o,e.b=s*r+a*i,e.d=s*n+a*o,this.appliedValid=!1}}])&&Ie(t.prototype,e),r&&Ie(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();function De(t){return De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},De(t)}function Ne(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Fe(n.key),n)}}function Be(t,e,r){return e&&Ne(t.prototype,e),r&&Ne(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fe(t){var e=function(t,e){if("object"!=De(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=De(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==De(e)?e:e+""}var Le=Be(function t(e,r,n){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=y._C.Normal,e<0)throw new Error("index must be >= 0.");if(null==r)throw new Error("name cannot be null.");this.index=e,this.name=r,this.parent=n});function Ue(t){return Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ue(t)}function Ve(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ge(n.key),n)}}function Xe(t,e,r){return e&&Ve(t.prototype,e),r&&Ve(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ge(t){var e=function(t,e){if("object"!=Ue(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Ue(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ue(e)?e:e+""}var Ye=Xe(function t(e,r){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),null==r)throw new Error("data cannot be null.");this.time=e,this.data=r});function qe(t){return qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qe(t)}function We(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ze(n.key),n)}}function He(t,e,r){return e&&We(t.prototype,e),r&&We(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ze(t){var e=function(t,e){if("object"!=qe(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=qe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==qe(e)?e:e+""}var Qe=He(function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.name=e});function Ze(t){return Ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ze(t)}function Ke(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$e(n.key),n)}}function $e(t){var e=function(t,e){if("object"!=Ze(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Ze(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ze(e)?e:e+""}var Je=function(){return t=function t(e,r){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,null==e)throw new Error("data cannot be null.");if(null==r)throw new Error("skeleton cannot be null.");this.data=e,this.mix=e.mix,this.bendDirection=e.bendDirection,this.compress=e.compress,this.stretch=e.stretch,this.bones=new Array;for(var n=0;n<e.bones.length;n++)this.bones.push(r.findBone(e.bones[n].name));this.target=r.findBone(e.target.name)},(e=[{key:"getOrder",value:function(){return this.data.order}},{key:"apply",value:function(){this.update()}},{key:"update",value:function(){var t=this.target,e=this.bones;switch(e.length){case 1:this.apply1(e[0],t.worldX,t.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(e[0],e[1],t.worldX,t.worldY,this.bendDirection,this.stretch,this.mix)}}},{key:"apply1",value:function(t,e,r,n,i,o,a){t.appliedValid||t.updateAppliedTransform();var s=t.parent.matrix,u=1/(s.a*s.d-s.b*s.c),c=e-s.tx,l=r-s.ty,f=(c*s.d-l*s.c)*u-t.ax,h=(l*s.a-c*s.b)*u-t.ay,p=Math.atan2(h,f)*y.cj.radDeg-t.ashearX-t.arotation;t.ascaleX<0&&(p+=180),p>180?p-=360:p<-180&&(p+=360);var d=t.ascaleX,v=t.ascaleY;if(n||i){var m=t.data.length*d,b=Math.sqrt(f*f+h*h);if(n&&b<m||i&&b>m&&m>1e-4){var g=(b/m-1)*a+1;d*=g,o&&(v*=g)}}t.updateWorldTransformWith(t.ax,t.ay,t.arotation+p*a,d,v,t.ashearX,t.ashearY)}},{key:"apply2",value:function(t,e,r,n,i,o,a){if(0!=a){t.appliedValid||t.updateAppliedTransform(),e.appliedValid||e.updateAppliedTransform();var s=t.ax,u=t.ay,c=t.ascaleX,l=c,f=t.ascaleY,h=e.ascaleX,p=t.matrix,d=0,v=0,m=0;c<0?(c=-c,d=180,m=-1):(d=0,m=1),f<0&&(f=-f,m=-m),h<0?(h=-h,v=180):v=0;var b=e.ax,g=0,w=0,S=0,x=p.a,_=p.c,E=p.b,T=p.d,k=Math.abs(c-f)<=1e-4;k?(w=x*b+_*(g=e.ay)+p.tx,S=E*b+T*g+p.ty):(g=0,w=x*b+p.tx,S=E*b+p.ty);var P=t.parent.matrix;x=P.a,_=P.c,E=P.b;var O=1/(x*(T=P.d)-_*E),A=r-P.tx,R=n-P.ty,j=(A*T-R*_)*O-s,I=(R*x-A*E)*O-u,C=j*j+I*I,M=((A=w-P.tx)*T-(R=S-P.ty)*_)*O-s,D=(R*x-A*E)*O-u,N=Math.sqrt(M*M+D*D),B=e.data.length*h,F=0,L=0;t:if(k){var U=(C-N*N-(B*=c)*B)/(2*N*B);U<-1?U=-1:U>1&&(U=1,o&&N+B>1e-4&&(l*=(Math.sqrt(C)/(N+B)-1)*a+1)),L=Math.acos(U)*i,x=N+B*U,_=B*Math.sin(L),F=Math.atan2(I*x-j*_,j*x+I*_)}else{var V=(x=c*B)*x,X=(_=f*B)*_,G=Math.atan2(I,j),Y=-2*X*N,q=X-V;if((T=Y*Y-4*q*(E=X*N*N+V*C-V*X))>=0){var W=Math.sqrt(T);Y<0&&(W=-W);var H=(W=-(Y+W)/2)/q,z=E/W,Q=Math.abs(H)<Math.abs(z)?H:z;if(Q*Q<=C){R=Math.sqrt(C-Q*Q)*i,F=G-Math.atan2(R,Q),L=Math.atan2(R/f,(Q-N)/c);break t}}var Z=y.cj.PI,K=N-x,$=K*K,J=0,tt=0,et=N+x,rt=et*et,nt=0;(E=-x*N/(V-X))>=-1&&E<=1&&(E=Math.acos(E),(T=(A=x*Math.cos(E)+N)*A+(R=_*Math.sin(E))*R)<$&&(Z=E,$=T,K=A,J=R),T>rt&&(tt=E,rt=T,et=A,nt=R)),C<=($+rt)/2?(F=G-Math.atan2(J*i,K),L=Z*i):(F=G-Math.atan2(nt*i,et),L=tt*i)}var it=Math.atan2(g,b)*m,ot=t.arotation;(F=(F-it)*y.cj.radDeg+d-ot)>180?F-=360:F<-180&&(F+=360),t.updateWorldTransformWith(s,u,ot+F*a,l,t.ascaleY,0,0),ot=e.arotation,(L=((L+it)*y.cj.radDeg-e.ashearX)*m+v-ot)>180?L-=360:L<-180&&(L+=360),e.updateWorldTransformWith(b,g,ot+L*a,e.ascaleX,e.ascaleY,e.ashearX,e.ashearY)}else e.updateWorldTransform()}}])&&Ke(t.prototype,e),r&&Ke(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();function tr(t){return tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tr(t)}function er(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,nr(n.key),n)}}function rr(t,e,r){return e&&er(t.prototype,e),r&&er(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function nr(t){var e=function(t,e){if("object"!=tr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=tr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==tr(e)?e:e+""}var ir=rr(function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.order=0,this.bones=new Array,this.bendDirection=1,this.compress=!1,this.stretch=!1,this.uniform=!1,this.mix=1,this.name=e});function or(t){return or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},or(t)}function ar(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ur(n.key),n)}}function sr(t,e,r){return e&&ar(t.prototype,e),r&&ar(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ur(t){var e=function(t,e){if("object"!=or(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=or(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==or(e)?e:e+""}var cr=sr(function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.order=0,this.bones=new Array,this.name=e}),lr=function(t){return t[t.Length=0]="Length",t[t.Fixed=1]="Fixed",t[t.Percent=2]="Percent",t}(lr||{});function fr(t){return fr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fr(t)}function hr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pr(n.key),n)}}function pr(t){var e=function(t,e){if("object"!=fr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=fr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==fr(e)?e:e+""}var dr=function(){return t=function t(e,r){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.position=0,this.spacing=0,this.rotateMix=0,this.translateMix=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,null==e)throw new Error("data cannot be null.");if(null==r)throw new Error("skeleton cannot be null.");this.data=e,this.bones=new Array;for(var n=0,i=e.bones.length;n<i;n++)this.bones.push(r.findBone(e.bones[n].name));this.target=r.findSlot(e.target.name),this.position=e.position,this.spacing=e.spacing,this.rotateMix=e.rotateMix,this.translateMix=e.translateMix},(e=[{key:"apply",value:function(){this.update()}},{key:"update",value:function(){var t=this.target.getAttachment();if(t instanceof H){var e=this.rotateMix,r=this.translateMix,n=e>0;if(r>0||n){var i=this.data,o=i.spacingMode,a=o==lr.Length,s=i.rotateMode,u=s==y.Dr.Tangent,c=s==y.Dr.ChainScale,l=this.bones.length,f=u?l:l+1,h=this.bones,p=y.Aq.setArraySize(this.spaces,f),d=null,v=this.spacing;if(c||a){c&&(d=y.Aq.setArraySize(this.lengths,l));for(var m=0,b=f-1;m<b;){var g=h[m],w=g.data.length;if(w<dr.epsilon)c&&(d[m]=0),p[++m]=0;else{var S=w*g.matrix.a,x=w*g.matrix.b,_=Math.sqrt(S*S+x*x);c&&(d[m]=_),p[++m]=(a?w+v:v)*_/w}}}else for(var E=1;E<f;E++)p[E]=v;var T=this.computeWorldPositions(t,f,u,i.positionMode==y.pw.Percent,o==lr.Percent),k=T[0],P=T[1],O=i.offsetRotation,A=!1;if(0==O)A=s==y.Dr.Chain;else{A=!1;var R=this.target.bone.matrix;O*=R.a*R.d-R.b*R.c>0?y.cj.degRad:-y.cj.degRad}for(var j=0,I=3;j<l;j++,I+=3){var C=h[j],M=C.matrix;M.tx+=(k-M.tx)*r,M.ty+=(P-M.ty)*r;var D=T[I],N=T[I+1],B=D-k,F=N-P;if(c){var L=d[j];if(0!=L){var U=(Math.sqrt(B*B+F*F)/L-1)*e+1;M.a*=U,M.b*=U}}if(k=D,P=N,n){var V=M.a,X=M.c,G=M.b,Y=M.d,q=0,W=0,z=0;if(u&&(q=u?T[I-1]:0==p[j+1]?T[I+2]:Math.atan2(F,B)),q-=Math.atan2(G,V),A){W=Math.cos(q),z=Math.sin(q);var Q=C.data.length;k+=(Q*(W*V-z*G)-B)*e,P+=(Q*(z*V+W*G)-F)*e}else q+=O;q>y.cj.PI?q-=y.cj.PI2:q<-y.cj.PI&&(q+=y.cj.PI2),q*=e,W=Math.cos(q),z=Math.sin(q),M.a=W*V-z*G,M.c=W*X-z*Y,M.b=z*V+W*G,M.d=z*X+W*Y}C.appliedValid=!1}}}}},{key:"computeWorldPositions",value:function(t,e,r,n,i){var o=this.target,a=this.position,s=this.spaces,u=y.Aq.setArraySize(this.positions,3*e+2),c=null,l=t.closed,f=t.worldVerticesLength,h=f/6,p=dr.NONE;if(!t.constantSpeed){var d=t.lengths,v=d[h-=l?1:2];if(n&&(a*=v),i)for(var m=0;m<e;m++)s[m]*=v;c=y.Aq.setArraySize(this.world,8);for(var b=0,g=0,w=0;b<e;b++,g+=3){var S=s[b],x=a+=S;if(l)(x%=v)<0&&(x+=v),w=0;else{if(x<0){p!=dr.BEFORE&&(p=dr.BEFORE,t.computeWorldVertices(o,2,4,c,0,2)),this.addBeforePosition(x,c,0,u,g);continue}if(x>v){p!=dr.AFTER&&(p=dr.AFTER,t.computeWorldVertices(o,f-6,4,c,0,2)),this.addAfterPosition(x-v,c,0,u,g);continue}}for(;;w++){var _=d[w];if(!(x>_)){if(0==w)x/=_;else{var E=d[w-1];x=(x-E)/(_-E)}break}}w!=p&&(p=w,l&&w==h?(t.computeWorldVertices(o,f-4,4,c,0,2),t.computeWorldVertices(o,0,4,c,4,2)):t.computeWorldVertices(o,6*w+2,8,c,0,2)),this.addCurvePosition(x,c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],u,g,r||b>0&&0==S)}return u}l?(f+=2,c=y.Aq.setArraySize(this.world,f),t.computeWorldVertices(o,2,f-4,c,0,2),t.computeWorldVertices(o,0,2,c,f-4,2),c[f-2]=c[0],c[f-1]=c[1]):(h--,f-=4,c=y.Aq.setArraySize(this.world,f),t.computeWorldVertices(o,2,f,c,0,2));for(var T=y.Aq.setArraySize(this.curves,h),k=0,P=c[0],O=c[1],A=0,R=0,j=0,I=0,C=0,M=0,D=0,N=0,B=0,F=0,L=0,U=0,V=0,X=0,G=0,Y=2;G<h;G++,Y+=6)A=c[Y],R=c[Y+1],j=c[Y+2],I=c[Y+3],L=2*(D=.1875*(P-2*A+j))+(B=.09375*(3*(A-j)-P+(C=c[Y+4]))),U=2*(N=.1875*(O-2*R+I))+(F=.09375*(3*(R-I)-O+(M=c[Y+5]))),V=.75*(A-P)+D+.16666667*B,X=.75*(R-O)+N+.16666667*F,k+=Math.sqrt(V*V+X*X),V+=L,X+=U,L+=B,U+=F,k+=Math.sqrt(V*V+X*X),V+=L,X+=U,k+=Math.sqrt(V*V+X*X),V+=L+B,X+=U+F,k+=Math.sqrt(V*V+X*X),T[G]=k,P=C,O=M;if(n&&(a*=k),i)for(var q=0;q<e;q++)s[q]*=k;for(var W=this.segments,H=0,z=0,Q=0,Z=0,K=0;z<e;z++,Q+=3){var $=s[z],J=a+=$;if(l)(J%=k)<0&&(J+=k),Z=0;else{if(J<0){this.addBeforePosition(J,c,0,u,Q);continue}if(J>k){this.addAfterPosition(J-k,c,f-4,u,Q);continue}}for(;;Z++){var tt=T[Z];if(!(J>tt)){if(0==Z)J/=tt;else{var et=T[Z-1];J=(J-et)/(tt-et)}break}}if(Z!=p){p=Z;var rt=6*Z;for(P=c[rt],O=c[rt+1],A=c[rt+2],R=c[rt+3],j=c[rt+4],I=c[rt+5],L=2*(D=.03*(P-2*A+j))+(B=.006*(3*(A-j)-P+(C=c[rt+6]))),U=2*(N=.03*(O-2*R+I))+(F=.006*(3*(R-I)-O+(M=c[rt+7]))),V=.3*(A-P)+D+.16666667*B,X=.3*(R-O)+N+.16666667*F,H=Math.sqrt(V*V+X*X),W[0]=H,rt=1;rt<8;rt++)V+=L,X+=U,L+=B,U+=F,H+=Math.sqrt(V*V+X*X),W[rt]=H;V+=L,X+=U,H+=Math.sqrt(V*V+X*X),W[8]=H,V+=L+B,X+=U+F,H+=Math.sqrt(V*V+X*X),W[9]=H,K=0}for(J*=H;;K++){var nt=W[K];if(!(J>nt)){if(0==K)J/=nt;else{var it=W[K-1];J=K+(J-it)/(nt-it)}break}}this.addCurvePosition(.1*J,P,O,A,R,j,I,C,M,u,Q,r||z>0&&0==$)}return u}},{key:"addBeforePosition",value:function(t,e,r,n,i){var o=e[r],a=e[r+1],s=e[r+2]-o,u=e[r+3]-a,c=Math.atan2(u,s);n[i]=o+t*Math.cos(c),n[i+1]=a+t*Math.sin(c),n[i+2]=c}},{key:"addAfterPosition",value:function(t,e,r,n,i){var o=e[r+2],a=e[r+3],s=o-e[r],u=a-e[r+1],c=Math.atan2(u,s);n[i]=o+t*Math.cos(c),n[i+1]=a+t*Math.sin(c),n[i+2]=c}},{key:"addCurvePosition",value:function(t,e,r,n,i,o,a,s,u,c,l,f){(0==t||isNaN(t))&&(t=1e-4);var h=t*t,p=h*t,d=1-t,y=d*d,v=y*d,m=d*t,b=3*m,g=d*b,w=b*t,S=e*v+n*g+o*w+s*p,x=r*v+i*g+a*w+u*p;c[l]=S,c[l+1]=x,f&&(c[l+2]=Math.atan2(x-(r*y+i*m*2+a*h),S-(e*y+n*m*2+o*h)))}},{key:"getOrder",value:function(){return this.data.order}}])&&hr(t.prototype,e),r&&hr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}(),yr=dr;function vr(t){return vr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vr(t)}function mr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,br(n.key),n)}}function br(t){var e=function(t,e){if("object"!=vr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=vr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==vr(e)?e:e+""}yr.NONE=-1,yr.BEFORE=-2,yr.AFTER=-3,yr.epsilon=1e-5;var gr=function(){return t=function t(e,r){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.temp=new y.I9,null==e)throw new Error("data cannot be null.");if(null==r)throw new Error("skeleton cannot be null.");this.data=e,this.rotateMix=e.rotateMix,this.translateMix=e.translateMix,this.scaleMix=e.scaleMix,this.shearMix=e.shearMix,this.bones=new Array;for(var n=0;n<e.bones.length;n++)this.bones.push(r.findBone(e.bones[n].name));this.target=r.findBone(e.target.name)},(e=[{key:"apply",value:function(){this.update()}},{key:"update",value:function(){this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld()}},{key:"applyAbsoluteWorld",value:function(){for(var t=this.rotateMix,e=this.translateMix,r=this.scaleMix,n=this.shearMix,i=this.target,o=i.matrix,a=o.a,s=o.c,u=o.b,c=o.d,l=a*c-s*u>0?y.cj.degRad:-y.cj.degRad,f=this.data.offsetRotation*l,h=this.data.offsetShearY*l,p=this.bones,d=0,v=p.length;d<v;d++){var m=p[d],b=!1,g=m.matrix;if(0!=t){var w=g.a,S=g.c,x=g.b,_=g.d,E=Math.atan2(u,a)-Math.atan2(x,w)+f;E>y.cj.PI?E-=y.cj.PI2:E<-y.cj.PI&&(E+=y.cj.PI2),E*=t;var T=Math.cos(E),k=Math.sin(E);g.a=T*w-k*x,g.c=T*S-k*_,g.b=k*w+T*x,g.d=k*S+T*_,b=!0}if(0!=e){var P=this.temp;i.localToWorld(P.set(this.data.offsetX,this.data.offsetY)),g.tx+=(P.x-g.tx)*e,g.ty+=(P.y-g.ty)*e,b=!0}if(r>0){var O=Math.sqrt(g.a*g.a+g.b*g.b),A=Math.sqrt(a*a+u*u);O>1e-5&&(O=(O+(A-O+this.data.offsetScaleX)*r)/O),g.a*=O,g.b*=O,O=Math.sqrt(g.c*g.c+g.d*g.d),A=Math.sqrt(s*s+c*c),O>1e-5&&(O=(O+(A-O+this.data.offsetScaleY)*r)/O),g.c*=O,g.d*=O,b=!0}if(n>0){var R=g.c,j=g.d,I=Math.atan2(j,R),C=Math.atan2(c,s)-Math.atan2(u,a)-(I-Math.atan2(g.b,g.a));C>y.cj.PI?C-=y.cj.PI2:C<-y.cj.PI&&(C+=y.cj.PI2),C=I+(C+h)*n;var M=Math.sqrt(R*R+j*j);g.c=Math.cos(C)*M,g.d=Math.sin(C)*M,b=!0}b&&(m.appliedValid=!1)}}},{key:"applyRelativeWorld",value:function(){for(var t=this.rotateMix,e=this.translateMix,r=this.scaleMix,n=this.shearMix,i=this.target,o=i.matrix,a=o.a,s=o.c,u=o.b,c=o.d,l=a*c-s*u>0?y.cj.degRad:-y.cj.degRad,f=this.data.offsetRotation*l,h=this.data.offsetShearY*l,p=this.bones,d=0,v=p.length;d<v;d++){var m=p[d],b=!1,g=m.matrix;if(0!=t){var w=g.a,S=g.c,x=g.b,_=g.d,E=Math.atan2(u,a)+f;E>y.cj.PI?E-=y.cj.PI2:E<-y.cj.PI&&(E+=y.cj.PI2),E*=t;var T=Math.cos(E),k=Math.sin(E);g.a=T*w-k*x,g.c=T*S-k*_,g.b=k*w+T*x,g.d=k*S+T*_,b=!0}if(0!=e){var P=this.temp;i.localToWorld(P.set(this.data.offsetX,this.data.offsetY)),g.tx+=P.x*e,g.ty+=P.y*e,b=!0}if(r>0){var O=(Math.sqrt(a*a+u*u)-1+this.data.offsetScaleX)*r+1;g.a*=O,g.b*=O,O=(Math.sqrt(s*s+c*c)-1+this.data.offsetScaleY)*r+1,g.c*=O,g.d*=O,b=!0}if(n>0){var A=Math.atan2(c,s)-Math.atan2(u,a);A>y.cj.PI?A-=y.cj.PI2:A<-y.cj.PI&&(A+=y.cj.PI2);var R=g.c,j=g.d;A=Math.atan2(j,R)+(A-y.cj.PI/2+h)*n;var I=Math.sqrt(R*R+j*j);g.c=Math.cos(A)*I,g.d=Math.sin(A)*I,b=!0}b&&(m.appliedValid=!1)}}},{key:"applyAbsoluteLocal",value:function(){var t=this.rotateMix,e=this.translateMix,r=this.scaleMix,n=this.shearMix,i=this.target;i.appliedValid||i.updateAppliedTransform();for(var o=this.bones,a=0,s=o.length;a<s;a++){var u=o[a];u.appliedValid||u.updateAppliedTransform();var c=u.arotation;if(0!=t){var l=i.arotation-c+this.data.offsetRotation;c+=(l-=360*(16384-(16384.499999999996-l/360|0)))*t}var f=u.ax,h=u.ay;0!=e&&(f+=(i.ax-f+this.data.offsetX)*e,h+=(i.ay-h+this.data.offsetY)*e);var p=u.ascaleX,d=u.ascaleY;r>0&&(p>1e-5&&(p=(p+(i.ascaleX-p+this.data.offsetScaleX)*r)/p),d>1e-5&&(d=(d+(i.ascaleY-d+this.data.offsetScaleY)*r)/d));var y=u.ashearY;if(n>0){var v=i.ashearY-y+this.data.offsetShearY;v-=360*(16384-(16384.499999999996-v/360|0)),u.shearY+=v*n}u.updateWorldTransformWith(f,h,c,p,d,u.ashearX,y)}}},{key:"applyRelativeLocal",value:function(){var t=this.rotateMix,e=this.translateMix,r=this.scaleMix,n=this.shearMix,i=this.target;i.appliedValid||i.updateAppliedTransform();for(var o=this.bones,a=0,s=o.length;a<s;a++){var u=o[a];u.appliedValid||u.updateAppliedTransform();var c=u.arotation;0!=t&&(c+=(i.arotation+this.data.offsetRotation)*t);var l=u.ax,f=u.ay;0!=e&&(l+=(i.ax+this.data.offsetX)*e,f+=(i.ay+this.data.offsetY)*e);var h=u.ascaleX,p=u.ascaleY;r>0&&(h>1e-5&&(h*=(i.ascaleX-1+this.data.offsetScaleX)*r+1),p>1e-5&&(p*=(i.ascaleY-1+this.data.offsetScaleY)*r+1));var d=u.ashearY;n>0&&(d+=(i.ashearY+this.data.offsetShearY)*n),u.updateWorldTransformWith(l,f,c,h,p,u.ashearX,d)}}},{key:"getOrder",value:function(){return this.data.order}}])&&mr(t.prototype,e),r&&mr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();function wr(t){return wr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wr(t)}function Sr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,xr(n.key),n)}}function xr(t){var e=function(t,e){if("object"!=wr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=wr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==wr(e)?e:e+""}var _r=function(){return t=function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._updateCache=new Array,this.updateCacheReset=new Array,this.time=0,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,null==e)throw new Error("data cannot be null.");this.data=e,this.bones=new Array;for(var r=0;r<e.bones.length;r++){var n=e.bones[r],i=void 0;if(null==n.parent)i=new Me(n,this,null);else{var o=this.bones[n.parent.index];i=new Me(n,this,o),o.children.push(i)}this.bones.push(i)}this.slots=new Array,this.drawOrder=new Array;for(var a=0;a<e.slots.length;a++){var s=e.slots[a],u=this.bones[s.boneData.index],c=new ot(s,u);this.slots.push(c),this.drawOrder.push(c)}this.ikConstraints=new Array;for(var l=0;l<e.ikConstraints.length;l++){var f=e.ikConstraints[l];this.ikConstraints.push(new Je(f,this))}this.transformConstraints=new Array;for(var h=0;h<e.transformConstraints.length;h++){var p=e.transformConstraints[h];this.transformConstraints.push(new gr(p,this))}this.pathConstraints=new Array;for(var d=0;d<e.pathConstraints.length;d++){var v=e.pathConstraints[d];this.pathConstraints.push(new yr(v,this))}this.color=new y.Q1(1,1,1,1),this.updateCache()},(e=[{key:"updateCache",value:function(){var t=this._updateCache;t.length=0,this.updateCacheReset.length=0;for(var e=this.bones,r=0,n=e.length;r<n;r++)e[r].sorted=!1;var i=this.ikConstraints,o=this.transformConstraints,a=this.pathConstraints,s=i.length,u=o.length,c=a.length,l=s+u+c;t:for(var f=0;f<l;f++){for(var h=0;h<s;h++){var p=i[h];if(p.data.order==f){this.sortIkConstraint(p);continue t}}for(var d=0;d<u;d++){var y=o[d];if(y.data.order==f){this.sortTransformConstraint(y);continue t}}for(var v=0;v<c;v++){var m=a[v];if(m.data.order==f){this.sortPathConstraint(m);continue t}}}for(var b=0,g=e.length;b<g;b++)this.sortBone(e[b])}},{key:"sortIkConstraint",value:function(t){var e=t.target;this.sortBone(e);var r=t.bones,n=r[0];if(this.sortBone(n),r.length>1){var i=r[r.length-1];this._updateCache.indexOf(i)>-1||this.updateCacheReset.push(i)}this._updateCache.push(t),this.sortReset(n.children),r[r.length-1].sorted=!0}},{key:"sortPathConstraint",value:function(t){var e=t.target,r=e.data.index,n=e.bone;null!=this.skin&&this.sortPathConstraintAttachment(this.skin,r,n),null!=this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,r,n);for(var i=0,o=this.data.skins.length;i<o;i++)this.sortPathConstraintAttachment(this.data.skins[i],r,n);var a=e.getAttachment();a instanceof H&&this.sortPathConstraintAttachmentWith(a,n);for(var s=t.bones,u=s.length,c=0;c<u;c++)this.sortBone(s[c]);this._updateCache.push(t);for(var l=0;l<u;l++)this.sortReset(s[l].children);for(var f=0;f<u;f++)s[f].sorted=!0}},{key:"sortTransformConstraint",value:function(t){this.sortBone(t.target);var e=t.bones,r=e.length;if(t.data.local)for(var n=0;n<r;n++){var i=e[n];this.sortBone(i.parent),this._updateCache.indexOf(i)>-1||this.updateCacheReset.push(i)}else for(var o=0;o<r;o++)this.sortBone(e[o]);this._updateCache.push(t);for(var a=0;a<r;a++)this.sortReset(e[a].children);for(var s=0;s<r;s++)e[s].sorted=!0}},{key:"sortPathConstraintAttachment",value:function(t,e,r){var n=t.attachments[e];if(n)for(var i in n)this.sortPathConstraintAttachmentWith(n[i],r)}},{key:"sortPathConstraintAttachmentWith",value:function(t,e){if(t instanceof H){var r=t.bones;if(null==r)this.sortBone(e);else for(var n=this.bones,i=0;i<r.length;)for(var o=r[i++],a=i+o;i<a;i++){var s=r[i];this.sortBone(n[s])}}}},{key:"sortBone",value:function(t){if(!t.sorted){var e=t.parent;null!=e&&this.sortBone(e),t.sorted=!0,this._updateCache.push(t)}}},{key:"sortReset",value:function(t){for(var e=0,r=t.length;e<r;e++){var n=t[e];n.sorted&&this.sortReset(n.children),n.sorted=!1}}},{key:"updateWorldTransform",value:function(){for(var t=this.updateCacheReset,e=0,r=t.length;e<r;e++){var n=t[e];n.ax=n.x,n.ay=n.y,n.arotation=n.rotation,n.ascaleX=n.scaleX,n.ascaleY=n.scaleY,n.ashearX=n.shearX,n.ashearY=n.shearY,n.appliedValid=!0}for(var i=this._updateCache,o=0,a=i.length;o<a;o++)i[o].update()}},{key:"setToSetupPose",value:function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()}},{key:"setBonesToSetupPose",value:function(){for(var t=this.bones,e=0,r=t.length;e<r;e++)t[e].setToSetupPose();for(var n=this.ikConstraints,i=0,o=n.length;i<o;i++){var a=n[i];a.bendDirection=a.data.bendDirection,a.mix=a.data.mix}for(var s=this.transformConstraints,u=0,c=s.length;u<c;u++){var l=s[u],f=l.data;l.rotateMix=f.rotateMix,l.translateMix=f.translateMix,l.scaleMix=f.scaleMix,l.shearMix=f.shearMix}for(var h=this.pathConstraints,p=0,d=h.length;p<d;p++){var y=h[p],v=y.data;y.position=v.position,y.spacing=v.spacing,y.rotateMix=v.rotateMix,y.translateMix=v.translateMix}}},{key:"setSlotsToSetupPose",value:function(){var t=this.slots;y.Aq.arrayCopy(t,0,this.drawOrder,0,t.length);for(var e=0,r=t.length;e<r;e++)t[e].setToSetupPose()}},{key:"getRootBone",value:function(){return 0==this.bones.length?null:this.bones[0]}},{key:"findBone",value:function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,r=0,n=e.length;r<n;r++){var i=e[r];if(i.data.name==t)return i}return null}},{key:"findBoneIndex",value:function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,r=0,n=e.length;r<n;r++)if(e[r].data.name==t)return r;return-1}},{key:"findSlot",value:function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,r=0,n=e.length;r<n;r++){var i=e[r];if(i.data.name==t)return i}return null}},{key:"findSlotIndex",value:function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,r=0,n=e.length;r<n;r++)if(e[r].data.name==t)return r;return-1}},{key:"setSkinByName",value:function(t){var e=this.data.findSkin(t);if(null==e)throw new Error("Skin not found: ".concat(t));this.setSkin(e)}},{key:"setSkin",value:function(t){if(null!=t)if(null!=this.skin)t.attachAll(this,this.skin);else for(var e=this.slots,r=0,n=e.length;r<n;r++){var i=e[r],o=i.data.attachmentName;if(null!=o){var a=t.getAttachment(r,o);null!=a&&i.setAttachment(a)}}this.skin=t}},{key:"getAttachmentByName",value:function(t,e){return this.getAttachment(this.data.findSlotIndex(t),e)}},{key:"getAttachment",value:function(t,e){if(null==e)throw new Error("attachmentName cannot be null.");if(null!=this.skin){var r=this.skin.getAttachment(t,e);if(null!=r)return r}return null!=this.data.defaultSkin?this.data.defaultSkin.getAttachment(t,e):null}},{key:"setAttachment",value:function(t,e){if(null==t)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++){var o=r[n];if(o.data.name==t){var a=null;if(null!=e&&null==(a=this.getAttachment(n,e)))throw new Error("Attachment not found: ".concat(e,", for slot: ").concat(t));return void o.setAttachment(a)}}throw new Error("Slot not found: ".concat(t))}},{key:"findIkConstraint",value:function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.ikConstraints,r=0,n=e.length;r<n;r++){var i=e[r];if(i.data.name==t)return i}return null}},{key:"findTransformConstraint",value:function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.transformConstraints,r=0,n=e.length;r<n;r++){var i=e[r];if(i.data.name==t)return i}return null}},{key:"findPathConstraint",value:function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.pathConstraints,r=0,n=e.length;r<n;r++){var i=e[r];if(i.data.name==t)return i}return null}},{key:"getBounds",value:function(t,e,r){if(null==t)throw new Error("offset cannot be null.");if(null==e)throw new Error("size cannot be null.");for(var n=this.drawOrder,i=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY,s=Number.NEGATIVE_INFINITY,u=0,c=n.length;u<c;u++){var l=n[u],f=0,h=null,p=l.getAttachment();if(p instanceof dt)f=8,h=y.Aq.setArraySize(r,f,0),p.computeWorldVertices(l.bone,h,0,2);else if(p instanceof L){var d=p;f=d.worldVerticesLength,h=y.Aq.setArraySize(r,f,0),d.computeWorldVertices(l,0,f,h,0,2)}if(null!=h)for(var v=0,m=h.length;v<m;v+=2){var b=h[v],g=h[v+1];i=Math.min(i,b),o=Math.min(o,g),a=Math.max(a,b),s=Math.max(s,g)}}t.set(i,o),e.set(a-i,s-o)}},{key:"update",value:function(t){this.time+=t}},{key:"flipX",get:function(){return-1==this.scaleX},set:function(t){_r.deprecatedWarning1||(_r.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleX=t?1:-1}},{key:"flipY",get:function(){return-1==this.scaleY},set:function(t){_r.deprecatedWarning1||(_r.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleY=t?1:-1}}])&&Sr(t.prototype,e),r&&Sr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}(),Er=_r;function Tr(t){return Tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tr(t)}function kr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Pr(n.key),n)}}function Pr(t){var e=function(t,e){if("object"!=Tr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Tr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Tr(e)?e:e+""}function Or(t,e,r){return e=Rr(e),function(t,e){if(e&&("object"==Tr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Ar()?Reflect.construct(e,r||[],Rr(t).constructor):e.apply(t,r))}function Ar(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Ar=function(){return!!t})()}function Rr(t){return Rr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Rr(t)}function jr(t,e){return jr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},jr(t,e)}Er.deprecatedWarning1=!1;var Ir=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Or(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jr(t,e)}(e,t),r=e,n&&kr(r.prototype,n),i&&kr(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i}(y.S3);function Cr(t){return Cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cr(t)}function Mr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Dr(n.key),n)}}function Dr(t){var e=function(t,e){if("object"!=Cr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Cr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Cr(e)?e:e+""}var Nr=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.bones=new Array,this.slots=new Array,this.skins=new Array,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.fps=0},(e=[{key:"findBone",value:function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,r=0,n=e.length;r<n;r++){var i=e[r];if(i.name==t)return i}return null}},{key:"findBoneIndex",value:function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,r=0,n=e.length;r<n;r++)if(e[r].name==t)return r;return-1}},{key:"findSlot",value:function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,r=0,n=e.length;r<n;r++){var i=e[r];if(i.name==t)return i}return null}},{key:"findSlotIndex",value:function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,r=0,n=e.length;r<n;r++)if(e[r].name==t)return r;return-1}},{key:"findSkin",value:function(t){if(null==t)throw new Error("skinName cannot be null.");for(var e=this.skins,r=0,n=e.length;r<n;r++){var i=e[r];if(i.name==t)return i}return null}},{key:"findEvent",value:function(t){if(null==t)throw new Error("eventDataName cannot be null.");for(var e=this.events,r=0,n=e.length;r<n;r++){var i=e[r];if(i.name==t)return i}return null}},{key:"findAnimation",value:function(t){if(null==t)throw new Error("animationName cannot be null.");for(var e=this.animations,r=0,n=e.length;r<n;r++){var i=e[r];if(i.name==t)return i}return null}},{key:"findIkConstraint",value:function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.ikConstraints,r=0,n=e.length;r<n;r++){var i=e[r];if(i.name==t)return i}return null}},{key:"findTransformConstraint",value:function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.transformConstraints,r=0,n=e.length;r<n;r++){var i=e[r];if(i.name==t)return i}return null}},{key:"findPathConstraint",value:function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.pathConstraints,r=0,n=e.length;r<n;r++){var i=e[r];if(i.name==t)return i}return null}},{key:"findPathConstraintIndex",value:function(t){if(null==t)throw new Error("pathConstraintName cannot be null.");for(var e=this.pathConstraints,r=0,n=e.length;r<n;r++)if(e[r].name==t)return r;return-1}}])&&Mr(t.prototype,e),r&&Mr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();r(41904727),r(33688577),r(53083784),r(57886333),r(89766562),r(20211116),r(6224830),r(18501354),r(49912228),r(29762787),r(87324110),r(31353187),r(49433423),r(7405150),r(76679030),r(19352784),r(283227),r(39512023),r(11753769),r(9404124),r(89875075),r(40993271),r(18381800),r(69967115),r(23549037),r(49032015),r(17179093),r(28253461),r(55692573),r(52899355),r(89433276),r(7478740),r(40707609),r(78027336),r(26098537),r(47326777);function Br(t){return Br="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Br(t)}function Fr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ur(n.key),n)}}function Lr(t,e,r){return e&&Fr(t.prototype,e),r&&Fr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ur(t){var e=function(t,e){if("object"!=Br(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Br(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Br(e)?e:e+""}var Vr=Lr(function t(e,r,n){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.color=new y.Q1(1,1,1,1),e<0)throw new Error("index must be >= 0.");if(null==r)throw new Error("name cannot be null.");if(null==n)throw new Error("boneData cannot be null.");this.index=e,this.name=r,this.boneData=n});function Xr(t){return Xr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xr(t)}function Gr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qr(n.key),n)}}function Yr(t,e,r){return e&&Gr(t.prototype,e),r&&Gr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function qr(t){var e=function(t,e){if("object"!=Xr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Xr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Xr(e)?e:e+""}var Wr=Yr(function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.order=0,this.bones=new Array,this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.offsetRotation=0,this.offsetX=0,this.offsetY=0,this.offsetScaleX=0,this.offsetScaleY=0,this.offsetShearY=0,this.relative=!1,this.local=!1,null==e)throw new Error("name cannot be null.");this.name=e});function Hr(t){return Hr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hr(t)}function zr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Qr(n.key),n)}}function Qr(t){var e=function(t,e){if("object"!=Hr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Hr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Hr(e)?e:e+""}var Zr=function(){return t=function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.attachments=new Array,null==e)throw new Error("name cannot be null.");this.name=e},(e=[{key:"addAttachment",value:function(t,e,r){if(null==r)throw new Error("attachment cannot be null.");var n=this.attachments;t>=n.length&&(n.length=t+1),n[t]||(n[t]={}),n[t][e]=r}},{key:"getAttachment",value:function(t,e){var r=this.attachments[t];return r?r[e]:null}},{key:"attachAll",value:function(t,e){for(var r=0,n=0;n<t.slots.length;n++){var i=t.slots[n],o=i.getAttachment();if(o&&r<e.attachments.length){var a=e.attachments[r];for(var s in a)if(o==a[s]){var u=this.getAttachment(r,s);null!=u&&i.setAttachment(u);break}}r++}}}])&&zr(t.prototype,e),r&&zr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();function Kr(t){return Kr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kr(t)}function $r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,en(n.key),n)}}function tn(t,e,r){return e&&Jr(t.prototype,e),r&&Jr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function en(t){var e=function(t,e){if("object"!=Kr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Kr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Kr(e)?e:e+""}var rn=function(){function t(e){$r(this,t),this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}return tn(t,[{key:"readSkeletonData",value:function(e){var r=this.scale,n=new Nr,i="string"==typeof e?JSON.parse(e):e,o=i.skeleton;if(null!=o&&(n.hash=o.hash,n.version=o.spine,n.width=o.width,n.height=o.height,n.fps=o.fps,n.imagesPath=o.images),i.bones)for(var a=0;a<i.bones.length;a++){var s=i.bones[a],u=null,c=this.getValue(s,"parent",null);if(null!=c&&null==(u=n.findBone(c)))throw new Error("Parent bone not found: ".concat(c));var l=new Le(n.bones.length,s.name,u);l.length=this.getValue(s,"length",0)*r,l.x=this.getValue(s,"x",0)*r,l.y=this.getValue(s,"y",0)*r,l.rotation=this.getValue(s,"rotation",0),l.scaleX=this.getValue(s,"scaleX",1),l.scaleY=this.getValue(s,"scaleY",1),l.shearX=this.getValue(s,"shearX",0),l.shearY=this.getValue(s,"shearY",0),l.transformMode=t.transformModeFromString(this.getValue(s,"transform","normal")),n.bones.push(l)}if(i.slots)for(var f=0;f<i.slots.length;f++){var h=i.slots[f],p=h.name,d=h.bone,v=n.findBone(d);if(null==v)throw new Error("Slot bone not found: ".concat(d));var m=new Vr(n.slots.length,p,v),b=this.getValue(h,"color",null);null!=b&&m.color.setFromString(b);var g=this.getValue(h,"dark",null);null!=g&&(m.darkColor=new y.Q1(1,1,1,1),m.darkColor.setFromString(g)),m.attachmentName=this.getValue(h,"attachment",null),m.blendMode=t.blendModeFromString(this.getValue(h,"blend","normal")),n.slots.push(m)}if(i.ik)for(var w=0;w<i.ik.length;w++){var S=i.ik[w],x=new ir(S.name);x.order=this.getValue(S,"order",0);for(var _=0;_<S.bones.length;_++){var E=S.bones[_],T=n.findBone(E);if(null==T)throw new Error("IK bone not found: ".concat(E));x.bones.push(T)}var k=S.target;if(x.target=n.findBone(k),null==x.target)throw new Error("IK target bone not found: ".concat(k));x.bendDirection=this.getValue(S,"bendPositive",!0)?1:-1,x.mix=this.getValue(S,"mix",1),n.ikConstraints.push(x)}if(i.transform)for(var P=0;P<i.transform.length;P++){var O=i.transform[P],A=new Wr(O.name);A.order=this.getValue(O,"order",0);for(var R=0;R<O.bones.length;R++){var j=O.bones[R],I=n.findBone(j);if(null==I)throw new Error("Transform constraint bone not found: ".concat(j));A.bones.push(I)}var C=O.target;if(A.target=n.findBone(C),null==A.target)throw new Error("Transform constraint target bone not found: ".concat(C));A.local=this.getValue(O,"local",!1),A.relative=this.getValue(O,"relative",!1),A.offsetRotation=this.getValue(O,"rotation",0),A.offsetX=this.getValue(O,"x",0)*r,A.offsetY=this.getValue(O,"y",0)*r,A.offsetScaleX=this.getValue(O,"scaleX",0),A.offsetScaleY=this.getValue(O,"scaleY",0),A.offsetShearY=this.getValue(O,"shearY",0),A.rotateMix=this.getValue(O,"rotateMix",1),A.translateMix=this.getValue(O,"translateMix",1),A.scaleMix=this.getValue(O,"scaleMix",1),A.shearMix=this.getValue(O,"shearMix",1),n.transformConstraints.push(A)}if(i.path)for(var M=0;M<i.path.length;M++){var D=i.path[M],N=new cr(D.name);N.order=this.getValue(D,"order",0);for(var B=0;B<D.bones.length;B++){var F=D.bones[B],L=n.findBone(F);if(null==L)throw new Error("Transform constraint bone not found: ".concat(F));N.bones.push(L)}var U=D.target;if(N.target=n.findSlot(U),null==N.target)throw new Error("Path target slot not found: ".concat(U));N.positionMode=t.positionModeFromString(this.getValue(D,"positionMode","percent")),N.spacingMode=t.spacingModeFromString(this.getValue(D,"spacingMode","length")),N.rotateMode=t.rotateModeFromString(this.getValue(D,"rotateMode","tangent")),N.offsetRotation=this.getValue(D,"rotation",0),N.position=this.getValue(D,"position",0),N.positionMode==y.pw.Fixed&&(N.position*=r),N.spacing=this.getValue(D,"spacing",0),N.spacingMode!=lr.Length&&N.spacingMode!=lr.Fixed||(N.spacing*=r),N.rotateMix=this.getValue(D,"rotateMix",1),N.translateMix=this.getValue(D,"translateMix",1),n.pathConstraints.push(N)}if(i.skins)for(var V in i.skins){var X=i.skins[V],G=new Zr(V);for(var Y in X){var q=n.findSlotIndex(Y);if(-1==q)throw new Error("Slot not found: ".concat(Y));var W=X[Y];for(var H in W){var z=this.readAttachment(W[H],G,q,H,n);null!=z&&G.addAttachment(q,H,z)}}n.skins.push(G),"default"==G.name&&(n.defaultSkin=G)}for(var Q=0,Z=this.linkedMeshes.length;Q<Z;Q++){var K=this.linkedMeshes[Q],$=null==K.skin?n.defaultSkin:n.findSkin(K.skin);if(null==$)throw new Error("Skin not found: ".concat(K.skin));var J=$.getAttachment(K.slotIndex,K.parent);if(null==J)throw new Error("Parent mesh not found: ".concat(K.parent));K.mesh.setParentMesh(J)}if(this.linkedMeshes.length=0,i.events)for(var tt in i.events){var et=i.events[tt],rt=new Qe(tt);rt.intValue=this.getValue(et,"int",0),rt.floatValue=this.getValue(et,"float",0),rt.stringValue=this.getValue(et,"string",""),rt.audioPath=this.getValue(et,"audio",null),null!=rt.audioPath&&(rt.volume=this.getValue(et,"volume",1),rt.balance=this.getValue(et,"balance",0)),n.events.push(rt)}if(i.animations)for(var nt in i.animations){var it=i.animations[nt];this.readAnimation(it,nt,n)}return n}},{key:"readAttachment",value:function(t,e,r,n,i){var o=this.scale;switch(n=this.getValue(t,"name",n),this.getValue(t,"type","region")){case"region":var a=this.getValue(t,"path",n),s=this.attachmentLoader.newRegionAttachment(e,n,a);if(null==s)return null;s.path=a,s.x=this.getValue(t,"x",0)*o,s.y=this.getValue(t,"y",0)*o,s.scaleX=this.getValue(t,"scaleX",1),s.scaleY=this.getValue(t,"scaleY",1),s.rotation=this.getValue(t,"rotation",0),s.width=t.width*o,s.height=t.height*o;var u=this.getValue(t,"color",null);return null!=u&&s.color.setFromString(u),s;case"boundingbox":var c=this.attachmentLoader.newBoundingBoxAttachment(e,n);if(null==c)return null;this.readVertices(t,c,t.vertexCount<<1);var l=this.getValue(t,"color",null);return null!=l&&c.color.setFromString(l),c;case"mesh":case"linkedmesh":var f=this.getValue(t,"path",n),h=this.attachmentLoader.newMeshAttachment(e,n,f);if(null==h)return null;h.path=f;var p=this.getValue(t,"color",null);null!=p&&h.color.setFromString(p);var d=this.getValue(t,"parent",null);if(null!=d)return h.inheritDeform=this.getValue(t,"deform",!0),this.linkedMeshes.push(new nn(h,this.getValue(t,"skin",null),r,d)),h;var v=t.uvs;return this.readVertices(t,h,v.length),h.triangles=t.triangles,h.regionUVs=new Float32Array(v),h.hullLength=2*this.getValue(t,"hull",0),h;case"path":var m=this.attachmentLoader.newPathAttachment(e,n);if(null==m)return null;m.closed=this.getValue(t,"closed",!1),m.constantSpeed=this.getValue(t,"constantSpeed",!0);var b=t.vertexCount;this.readVertices(t,m,b<<1);for(var g=y.Aq.newArray(b/3,0),w=0;w<t.lengths.length;w++)g[w]=t.lengths[w]*o;m.lengths=g;var S=this.getValue(t,"color",null);return null!=S&&m.color.setFromString(S),m;case"point":var x=this.attachmentLoader.newPointAttachment(e,n);if(null==x)return null;x.x=this.getValue(t,"x",0)*o,x.y=this.getValue(t,"y",0)*o,x.rotation=this.getValue(t,"rotation",0);var _=this.getValue(t,"color",null);return null!=_&&x.color.setFromString(_),x;case"clipping":var E=this.attachmentLoader.newClippingAttachment(e,n);if(null==E)return null;var T=this.getValue(t,"end",null);if(null!=T){var k=i.findSlot(T);if(null==k)throw new Error("Clipping end slot not found: ".concat(T));E.endSlot=k}var P=t.vertexCount;this.readVertices(t,E,P<<1);var O=this.getValue(t,"color",null);return null!=O&&E.color.setFromString(O),E}return null}},{key:"readVertices",value:function(t,e,r){var n=this.scale;e.worldVerticesLength=r;var i=t.vertices;if(r!=i.length){for(var o=new Array,a=new Array,s=0,u=i.length;s<u;){var c=i[s++];a.push(c);for(var l=s+4*c;s<l;s+=4)a.push(i[s]),o.push(i[s+1]*n),o.push(i[s+2]*n),o.push(i[s+3])}e.bones=a,e.vertices=y.Aq.toFloatArray(o)}else{var f=y.Aq.toFloatArray(i);if(1!=n)for(var h=0,p=i.length;h<p;h++)f[h]*=n;e.vertices=f}}},{key:"readAnimation",value:function(t,e,r){var n=this.scale,i=new Array,o=0;if(t.slots)for(var a in t.slots){var s=t.slots[a],u=r.findSlotIndex(a);if(-1==u)throw new Error("Slot not found: ".concat(a));for(var c in s){var l=s[c];if("attachment"==c){var f=new zt(l.length);f.slotIndex=u;for(var h=0,p=0;p<l.length;p++){var d=l[p];f.setFrame(h++,d.time,d.name)}i.push(f),o=Math.max(o,f.frames[f.getFrameCount()-1])}else if("color"==c){var v=new qt(l.length);v.slotIndex=u;for(var m=0,b=0;b<l.length;b++){var g=l[b],w=new y.Q1;w.setFromString(g.color||"ffffffff"),v.setFrame(m,g.time,w.r,w.g,w.b,w.a),this.readCurve(g,v,m),m++}i.push(v),o=Math.max(o,v.frames[(v.getFrameCount()-1)*qt.ENTRIES])}else{if("twoColor"!=c)throw new Error("Invalid timeline type for a slot: ".concat(c," (").concat(a,")"));var S=new Ht(l.length);S.slotIndex=u;for(var x=0,_=0;_<l.length;_++){var E=l[_],T=new y.Q1,k=new y.Q1;T.setFromString(E.light),k.setFromString(E.dark),S.setFrame(x,E.time,T.r,T.g,T.b,T.a,k.r,k.g,k.b),this.readCurve(E,S,x),x++}i.push(S),o=Math.max(o,S.frames[(S.getFrameCount()-1)*Ht.ENTRIES])}}}if(t.bones)for(var P in t.bones){var O=t.bones[P],A=r.findBoneIndex(P);if(-1==A)throw new Error("Bone not found: ".concat(P));for(var R in O){var j=O[R];if("rotate"===R){var I=new Lt(j.length);I.boneIndex=A;for(var C=0,M=0;M<j.length;M++){var D=j[M];I.setFrame(C,D.time,D.angle),this.readCurve(D,I,C),C++}i.push(I),o=Math.max(o,I.frames[(I.getFrameCount()-1)*Lt.ENTRIES])}else{if("translate"!==R&&"scale"!==R&&"shear"!==R)throw new Error("Invalid timeline type for a bone: ".concat(R," (").concat(P,")"));var N=null,B=1;"scale"===R?N=new Xt(j.length):"shear"===R?N=new Gt(j.length):(N=new Vt(j.length),B=n),N.boneIndex=A;for(var F=0,L=0;L<j.length;L++){var U=j[L],V=this.getValue(U,"x",0),X=this.getValue(U,"y",0);N.setFrame(F,U.time,V*B,X*B),this.readCurve(U,N,F),F++}i.push(N),o=Math.max(o,N.frames[(N.getFrameCount()-1)*Vt.ENTRIES])}}}if(t.ik)for(var G in t.ik){var Y=t.ik[G],q=r.findIkConstraint(G),W=new te(Y.length);W.ikConstraintIndex=r.ikConstraints.indexOf(q);for(var H=0,z=0;z<Y.length;z++){var Q=Y[z];W.setFrame(H,Q.time,this.getValue(Q,"mix",1),this.getValue(Q,"bendPositive",!0)?1:-1,this.getValue(Q,"compress",!1),this.getValue(Q,"stretch",!1)),this.readCurve(Q,W,H),H++}i.push(W),o=Math.max(o,W.frames[(W.getFrameCount()-1)*te.ENTRIES])}if(t.transform)for(var Z in t.transform){var K=t.transform[Z],$=r.findTransformConstraint(Z),J=new re(K.length);J.transformConstraintIndex=r.transformConstraints.indexOf($);for(var tt=0,et=0;et<K.length;et++){var rt=K[et];J.setFrame(tt,rt.time,this.getValue(rt,"rotateMix",1),this.getValue(rt,"translateMix",1),this.getValue(rt,"scaleMix",1),this.getValue(rt,"shearMix",1)),this.readCurve(rt,J,tt),tt++}i.push(J),o=Math.max(o,J.frames[(J.getFrameCount()-1)*re.ENTRIES])}if(t.paths)for(var nt in t.paths){var it=t.paths[nt],ot=r.findPathConstraintIndex(nt);if(-1==ot)throw new Error("Path constraint not found: ".concat(nt));var at=r.pathConstraints[ot];for(var st in it){var ut=it[st];if("position"===st||"spacing"===st){var ct=null,lt=1;"spacing"===st?(ct=new oe(ut.length),at.spacingMode!=lr.Length&&at.spacingMode!=lr.Fixed||(lt=n)):(ct=new ie(ut.length),at.positionMode==y.pw.Fixed&&(lt=n)),ct.pathConstraintIndex=ot;for(var ft=0,ht=0;ht<ut.length;ht++){var pt=ut[ht];ct.setFrame(ft,pt.time,this.getValue(pt,st,0)*lt),this.readCurve(pt,ct,ft),ft++}i.push(ct),o=Math.max(o,ct.frames[(ct.getFrameCount()-1)*ie.ENTRIES])}else if("mix"===st){var dt=new se(ut.length);dt.pathConstraintIndex=ot;for(var yt=0,vt=0;vt<ut.length;vt++){var mt=ut[vt];dt.setFrame(yt,mt.time,this.getValue(mt,"rotateMix",1),this.getValue(mt,"translateMix",1)),this.readCurve(mt,dt,yt),yt++}i.push(dt),o=Math.max(o,dt.frames[(dt.getFrameCount()-1)*se.ENTRIES])}}}if(t.deform)for(var bt in t.deform){var gt=t.deform[bt],wt=r.findSkin(bt);if(null!=wt)for(var St in gt){var xt=gt[St],_t=r.findSlotIndex(St);if(-1==_t)throw new Error("Slot not found: ".concat(xt.name));for(var Et in xt){var Tt=xt[Et],kt=wt.getAttachment(_t,Et);if(null==kt)throw new Error("Deform attachment not found: ".concat(Tt.name));var Pt=null!=kt.bones,Ot=kt.vertices,At=Pt?Ot.length/3*2:Ot.length,Rt=new Zt(Tt.length);Rt.slotIndex=_t,Rt.attachment=kt;for(var jt=0,It=0;It<Tt.length;It++){var Ct=Tt[It],Dt=void 0,Nt=this.getValue(Ct,"vertices",null);if(null==Nt)Dt=Pt?y.Aq.newFloatArray(At):Ot;else{Dt=y.Aq.newFloatArray(At);var Bt=this.getValue(Ct,"offset",0);if(y.Aq.arrayCopy(Nt,0,Dt,Bt,Nt.length),1!=n)for(var Ft=Bt,Ut=Ft+Nt.length;Ft<Ut;Ft++)Dt[Ft]*=n;if(!Pt)for(var Yt=0;Yt<At;Yt++)Dt[Yt]+=Ot[Yt]}Rt.setFrame(jt,Ct.time,Dt),this.readCurve(Ct,Rt,jt),jt++}i.push(Rt),o=Math.max(o,Rt.frames[Rt.getFrameCount()-1])}}else if(y.W0.FAIL_ON_NON_EXISTING_SKIN)throw new Error("Skin not found: ".concat(bt))}var Wt=t.drawOrder;if(null==Wt&&(Wt=t.draworder),null!=Wt){for(var Qt=new $t(Wt.length),Jt=r.slots.length,ee=0,ne=0;ne<Wt.length;ne++){var ae=Wt[ne],ue=null,ce=this.getValue(ae,"offsets",null);if(null!=ce){ue=y.Aq.newArray(Jt,-1);for(var le=y.Aq.newArray(Jt-ce.length,0),fe=0,he=0,pe=0;pe<ce.length;pe++){var de=ce[pe],ye=r.findSlotIndex(de.slot);if(-1==ye)throw new Error("Slot not found: ".concat(de.slot));for(;fe!=ye;)le[he++]=fe++;ue[fe+de.offset]=fe++}for(;fe<Jt;)le[he++]=fe++;for(var ve=Jt-1;ve>=0;ve--)-1==ue[ve]&&(ue[ve]=le[--he])}Qt.setFrame(ee++,ae.time,ue)}i.push(Qt),o=Math.max(o,Qt.frames[Qt.getFrameCount()-1])}if(t.events){for(var me=new Kt(t.events.length),be=0,ge=0;ge<t.events.length;ge++){var we=t.events[ge],Se=r.findEvent(we.name);if(null==Se)throw new Error("Event not found: ".concat(we.name));var xe=new Ye(y.Aq.toSinglePrecision(we.time),Se);xe.intValue=this.getValue(we,"int",Se.intValue),xe.floatValue=this.getValue(we,"float",Se.floatValue),xe.stringValue=this.getValue(we,"string",Se.stringValue),null!=xe.data.audioPath&&(xe.volume=this.getValue(we,"volume",1),xe.balance=this.getValue(we,"balance",0)),me.setFrame(be++,xe)}i.push(me),o=Math.max(o,me.frames[me.getFrameCount()-1])}if(isNaN(o))throw new Error("Error while parsing animation, duration is NaN");r.animations.push(new Mt(e,i,o))}},{key:"readCurve",value:function(t,e,r){if(t.curve)if("stepped"===t.curve)e.setStepped(r);else if("[object Array]"===Object.prototype.toString.call(t.curve)){var n=t.curve;e.setCurve(r,n[0],n[1],n[2],n[3])}}},{key:"getValue",value:function(t,e,r){return void 0!==t[e]?t[e]:r}}],[{key:"blendModeFromString",value:function(t){if("normal"==(t=t.toLowerCase()))return Re.B9.NORMAL;if("additive"==t)return Re.B9.ADD;if("multiply"==t)return Re.B9.MULTIPLY;if("screen"==t)return Re.B9.SCREEN;throw new Error("Unknown blend mode: ".concat(t))}},{key:"positionModeFromString",value:function(t){if("fixed"==(t=t.toLowerCase()))return y.pw.Fixed;if("percent"==t)return y.pw.Percent;throw new Error("Unknown position mode: ".concat(t))}},{key:"spacingModeFromString",value:function(t){if("length"==(t=t.toLowerCase()))return lr.Length;if("fixed"==t)return lr.Fixed;if("percent"==t)return lr.Percent;throw new Error("Unknown position mode: ".concat(t))}},{key:"rotateModeFromString",value:function(t){if("tangent"==(t=t.toLowerCase()))return y.Dr.Tangent;if("chain"==t)return y.Dr.Chain;if("chainscale"==t)return y.Dr.ChainScale;throw new Error("Unknown rotate mode: ".concat(t))}},{key:"transformModeFromString",value:function(t){if("normal"==(t=t.toLowerCase()))return y._C.Normal;if("onlytranslation"==t)return y._C.OnlyTranslation;if("norotationorreflection"==t)return y._C.NoRotationOrReflection;if("noscale"==t)return y._C.NoScale;if("noscaleorreflection"==t)return y._C.NoScaleOrReflection;throw new Error("Unknown transform mode: ".concat(t))}}])}(),nn=tn(function t(e,r,n,i){$r(this,t),this.mesh=e,this.skin=r,this.slotIndex=n,this.parent=i});function on(t){return on="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},on(t)}function an(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,sn(n.key),n)}}function sn(t){var e=function(t,e){if("object"!=on(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=on(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==on(e)?e:e+""}function un(t,e,r){return e=ln(e),function(t,e){if(e&&("object"==on(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,cn()?Reflect.construct(e,r||[],ln(t).constructor):e.apply(t,r))}function cn(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(cn=function(){return!!t})()}function ln(t){return ln=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ln(t)}function fn(t,e){return fn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},fn(t,e)}var hn=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),un(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fn(t,e)}(e,t),r=e,(n=[{key:"createSkeleton",value:function(t){this.skeleton=new Er(t),this.skeleton.updateWorldTransform(),this.stateData=new Te(t),this.state=new de(this.stateData)}}])&&an(r.prototype,n),i&&an(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i}(y.bJ)},12151485:(t,e,r)=>{"use strict";r.r(e),r.d(e,{Animation:()=>Mt,AnimationState:()=>de,AnimationStateAdapter:()=>we,AnimationStateData:()=>Te,AtlasAttachmentLoader:()=>Ae,Attachment:()=>p,AttachmentTimeline:()=>zt,Bone:()=>Me,BoneData:()=>Le,BoundingBoxAttachment:()=>_,ClippingAttachment:()=>j,ColorTimeline:()=>qt,ConstraintData:()=>Ye,CurveTimeline:()=>Bt,DeformTimeline:()=>Zt,DrawOrderTimeline:()=>$t,Event:()=>Qe,EventData:()=>tr,EventQueue:()=>be,EventTimeline:()=>Kt,EventType:()=>ge,IkConstraint:()=>ir,IkConstraintData:()=>hr,IkConstraintTimeline:()=>te,JitterEffect:()=>bt,MeshAttachment:()=>L,PathAttachment:()=>H,PathConstraint:()=>kr,PathConstraintData:()=>wr,PathConstraintMixTimeline:()=>se,PathConstraintPositionTimeline:()=>ie,PathConstraintSpacingTimeline:()=>oe,PointAttachment:()=>et,RegionAttachment:()=>dt,RotateTimeline:()=>Lt,ScaleTimeline:()=>Xt,ShearTimeline:()=>Gt,Skeleton:()=>Dr,SkeletonBinary:()=>pn,SkeletonBounds:()=>_n,SkeletonData:()=>Lr,SkeletonJson:()=>An,Skin:()=>an,SkinEntry:()=>on,Slot:()=>ot,SlotData:()=>Yr,SpacingMode:()=>Sr,Spine:()=>Fn,SwirlEffect:()=>_t,TimelineType:()=>Dt,TrackEntry:()=>ve,TransformConstraint:()=>Rr,TransformConstraintData:()=>$r,TransformConstraintTimeline:()=>re,TranslateTimeline:()=>Vt,TwoColorTimeline:()=>Ht,VertexAttachment:()=>y});r(29204099),r(53375191),r(73503923),r(35669252),r(44381336),r(62951728),r(17522308),r(4421388),r(69994507),r(1906035),r(41624185),r(32570708),r(74018857);var n=r(26664026);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function o(t,e,r){return e=s(e),function(t,e){if(e&&("object"==i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,a()?Reflect.construct(e,r||[],s(t).constructor):e.apply(t,r))}function a(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(a=function(){return!!t})()}function s(t){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},s(t)}function u(t,e){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},u(t,e)}function c(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,f(n.key),n)}}function l(t,e,r){return e&&c(t.prototype,e),r&&c(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function f(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==i(e)?e:e+""}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var p=l(function t(e){if(h(this,t),null==e)throw new Error("name cannot be null.");this.name=e}),d=function(t){function e(t){var r;return h(this,e),(r=o(this,e,[t])).id=(65535&d.nextID++)<<11,r.worldVerticesLength=0,r.deformAttachment=r,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e)}(e,t),l(e,[{key:"computeWorldVerticesOld",value:function(t,e){this.computeWorldVertices(t,0,this.worldVerticesLength,e,0,2)}},{key:"computeWorldVertices",value:function(t,e,r,n,i,o){r=i+(r>>1)*o;var a=t.bone.skeleton,s=t.deform,u=this.vertices,c=this.bones;if(null!=c){for(var l=0,f=0,h=0;h<e;h+=2){var p=c[l];l+=p+1,f+=p}var d=a.bones;if(0==s.length)for(var y=i,v=3*f;y<r;y+=o){var m=0,b=0,g=c[l++];for(g+=l;l<g;l++,v+=3){var w=d[c[l]].matrix,S=u[v],x=u[v+1],_=u[v+2];m+=(S*w.a+x*w.c+w.tx)*_,b+=(S*w.b+x*w.d+w.ty)*_}n[y]=m,n[y+1]=b}else for(var E=s,T=i,k=3*f,P=f<<1;T<r;T+=o){var O=0,A=0,R=c[l++];for(R+=l;l<R;l++,k+=3,P+=2){var j=d[c[l]].matrix,I=u[k]+E[P],C=u[k+1]+E[P+1],M=u[k+2];O+=(I*j.a+C*j.c+j.tx)*M,A+=(I*j.b+C*j.d+j.ty)*M}n[T]=O,n[T+1]=A}}else{s.length>0&&(u=s);for(var D=t.bone.matrix,N=D.tx,B=D.ty,F=D.a,L=D.c,U=D.b,V=D.d,X=e,G=i;G<r;X+=2,G+=o){var Y=u[X],q=u[X+1];n[G]=Y*F+q*L+N,n[G+1]=Y*U+q*V+B}}}},{key:"copyTo",value:function(t){null!=this.bones?(t.bones=new Array(this.bones.length),n.Aq.arrayCopy(this.bones,0,t.bones,0,this.bones.length)):t.bones=null,null!=this.vertices?(t.vertices=n.Aq.newFloatArray(this.vertices.length),n.Aq.arrayCopy(this.vertices,0,t.vertices,0,this.vertices.length)):t.vertices=null,t.worldVerticesLength=this.worldVerticesLength,t.deformAttachment=this.deformAttachment}}])}(p),y=d;function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function m(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,b(n.key),n)}}function b(t){var e=function(t,e){if("object"!=v(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=v(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==v(e)?e:e+""}function g(t,e,r){return e=S(e),function(t,e){if(e&&("object"==v(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,w()?Reflect.construct(e,r||[],S(t).constructor):e.apply(t,r))}function w(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(w=function(){return!!t})()}function S(t){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},S(t)}function x(t,e){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},x(t,e)}y.nextID=0;var _=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=g(this,e,[t])).type=n.wh.BoundingBox,r.color=new n.Q1(1,1,1,1),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&x(t,e)}(e,t),r=e,(i=[{key:"copy",value:function(){var t=new e(this.name);return this.copyTo(t),t.color.setFromColor(this.color),t}}])&&m(r.prototype,i),o&&m(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(y);function E(t){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E(t)}function T(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,k(n.key),n)}}function k(t){var e=function(t,e){if("object"!=E(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=E(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==E(e)?e:e+""}function P(t,e,r){return e=A(e),function(t,e){if(e&&("object"==E(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,O()?Reflect.construct(e,r||[],A(t).constructor):e.apply(t,r))}function O(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(O=function(){return!!t})()}function A(t){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},A(t)}function R(t,e){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},R(t,e)}var j=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=P(this,e,[t])).type=n.wh.Clipping,r.color=new n.Q1(.2275,.2275,.8078,1),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&R(t,e)}(e,t),r=e,(i=[{key:"copy",value:function(){var t=new e(this.name);return this.copyTo(t),t.endSlot=this.endSlot,t.color.setFromColor(this.color),t}}])&&T(r.prototype,i),o&&T(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(y);r(41904727),r(33688577),r(89766562),r(20211116),r(6224830),r(18501354),r(49912228),r(29762787),r(87324110),r(31353187),r(49433423),r(7405150),r(76679030),r(19352784),r(283227),r(39512023),r(11753769),r(9404124),r(89875075),r(40993271),r(18381800),r(69967115),r(23549037),r(49032015),r(17179093),r(28253461),r(55692573),r(52899355),r(89433276),r(7478740),r(40707609),r(78027336),r(26098537),r(47326777);function I(t){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I(t)}function C(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,M(n.key),n)}}function M(t){var e=function(t,e){if("object"!=I(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=I(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==I(e)?e:e+""}function D(t,e,r){return e=B(e),function(t,e){if(e&&("object"==I(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,N()?Reflect.construct(e,r||[],B(t).constructor):e.apply(t,r))}function N(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(N=function(){return!!t})()}function B(t){return B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},B(t)}function F(t,e){return F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},F(t,e)}var L=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=D(this,e,[t])).type=n.wh.Mesh,r.color=new n.Q1(1,1,1,1),r.tempColor=new n.Q1(0,0,0,0),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&F(t,e)}(e,t),r=e,(i=[{key:"getParentMesh",value:function(){return this.parentMesh}},{key:"setParentMesh",value:function(t){this.parentMesh=t,null!=t&&(this.bones=t.bones,this.vertices=t.vertices,this.worldVerticesLength=t.worldVerticesLength,this.regionUVs=t.regionUVs,this.triangles=t.triangles,this.hullLength=t.hullLength,this.worldVerticesLength=t.worldVerticesLength)}},{key:"copy",value:function(){if(null!=this.parentMesh)return this.newLinkedMesh();var t=new e(this.name);return t.region=this.region,t.path=this.path,t.color.setFromColor(this.color),this.copyTo(t),t.regionUVs=new Float32Array(this.regionUVs.length),n.Aq.arrayCopy(this.regionUVs,0,t.regionUVs,0,this.regionUVs.length),t.triangles=new Array(this.triangles.length),n.Aq.arrayCopy(this.triangles,0,t.triangles,0,this.triangles.length),t.hullLength=this.hullLength,null!=this.edges&&(t.edges=new Array(this.edges.length),n.Aq.arrayCopy(this.edges,0,t.edges,0,this.edges.length)),t.width=this.width,t.height=this.height,t}},{key:"newLinkedMesh",value:function(){var t=new e(this.name);return t.region=this.region,t.path=this.path,t.color.setFromColor(this.color),t.deformAttachment=this.deformAttachment,t.setParentMesh(null!=this.parentMesh?this.parentMesh:this),t}}])&&C(r.prototype,i),o&&C(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(y);function U(t){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U(t)}function V(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,X(n.key),n)}}function X(t){var e=function(t,e){if("object"!=U(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=U(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==U(e)?e:e+""}function G(t,e,r){return e=q(e),function(t,e){if(e&&("object"==U(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Y()?Reflect.construct(e,r||[],q(t).constructor):e.apply(t,r))}function Y(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Y=function(){return!!t})()}function q(t){return q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},q(t)}function W(t,e){return W=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},W(t,e)}var H=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=G(this,e,[t])).type=n.wh.Path,r.closed=!1,r.constantSpeed=!1,r.color=new n.Q1(1,1,1,1),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&W(t,e)}(e,t),r=e,(i=[{key:"copy",value:function(){var t=new e(this.name);return this.copyTo(t),t.lengths=new Array(this.lengths.length),n.Aq.arrayCopy(this.lengths,0,t.lengths,0,this.lengths.length),t.closed=closed,t.constantSpeed=this.constantSpeed,t.color.setFromColor(this.color),t}}])&&V(r.prototype,i),o&&V(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(y);function z(t){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},z(t)}function Q(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Z(n.key),n)}}function Z(t){var e=function(t,e){if("object"!=z(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=z(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==z(e)?e:e+""}function K(t,e,r){return e=J(e),function(t,e){if(e&&("object"==z(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,$()?Reflect.construct(e,r||[],J(t).constructor):e.apply(t,r))}function $(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return($=function(){return!!t})()}function J(t){return J=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},J(t)}function tt(t,e){return tt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},tt(t,e)}var et=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=K(this,e,[t])).type=n.wh.Point,r.color=new n.Q1(.38,.94,0,1),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tt(t,e)}(e,t),r=e,(i=[{key:"computeWorldPosition",value:function(t,e){var r=t.matrix;return e.x=this.x*r.a+this.y*r.c+t.worldX,e.y=this.x*r.b+this.y*r.d+t.worldY,e}},{key:"computeWorldRotation",value:function(t){var e=t.matrix,r=n.cj.cosDeg(this.rotation),i=n.cj.sinDeg(this.rotation),o=r*e.a+i*e.c,a=r*e.b+i*e.d;return Math.atan2(a,o)*n.cj.radDeg}},{key:"copy",value:function(){var t=new e(this.name);return t.x=this.x,t.y=this.y,t.rotation=this.rotation,t.color.setFromColor(this.color),t}}])&&Q(r.prototype,i),o&&Q(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(y);function rt(t){return rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rt(t)}function nt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,it(n.key),n)}}function it(t){var e=function(t,e){if("object"!=rt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=rt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==rt(e)?e:e+""}var ot=function(){return t=function t(e,r){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.deform=new Array,null==e)throw new Error("data cannot be null.");if(null==r)throw new Error("bone cannot be null.");this.data=e,this.bone=r,this.color=new n.Q1,this.darkColor=null==e.darkColor?null:new n.Q1,this.setToSetupPose(),this.blendMode=this.data.blendMode},(e=[{key:"getAttachment",value:function(){return this.attachment}},{key:"setAttachment",value:function(t){this.attachment!=t&&(this.attachment=t,this.attachmentTime=this.bone.skeleton.time,this.deform.length=0)}},{key:"setAttachmentTime",value:function(t){this.attachmentTime=this.bone.skeleton.time-t}},{key:"getAttachmentTime",value:function(){return this.bone.skeleton.time-this.attachmentTime}},{key:"setToSetupPose",value:function(){this.color.setFromColor(this.data.color),null!=this.darkColor&&this.darkColor.setFromColor(this.data.darkColor),null==this.data.attachmentName?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))}}])&&nt(t.prototype,e),r&&nt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();function at(t){return at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},at(t)}function st(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ut(n.key),n)}}function ut(t){var e=function(t,e){if("object"!=at(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=at(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==at(e)?e:e+""}function ct(t,e,r){return e=ft(e),function(t,e){if(e&&("object"==at(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,lt()?Reflect.construct(e,r||[],ft(t).constructor):e.apply(t,r))}function lt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(lt=function(){return!!t})()}function ft(t){return ft=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ft(t)}function ht(t,e){return ht=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ht(t,e)}var pt=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=ct(this,e,[t])).type=n.wh.Region,r.x=0,r.y=0,r.scaleX=1,r.scaleY=1,r.rotation=0,r.width=0,r.height=0,r.color=new n.Q1(1,1,1,1),r.offset=n.Aq.newFloatArray(8),r.uvs=n.Aq.newFloatArray(8),r.tempColor=new n.Q1(1,1,1,1),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ht(t,e)}(e,t),r=e,(i=[{key:"updateOffset",value:function(){var t=this.width/this.region.originalWidth*this.scaleX,e=this.height/this.region.originalHeight*this.scaleY,r=-this.width/2*this.scaleX+this.region.offsetX*t,n=-this.height/2*this.scaleY+this.region.offsetY*e,i=r+this.region.width*t,o=n+this.region.height*e,a=this.rotation*Math.PI/180,s=Math.cos(a),u=Math.sin(a),c=r*s+this.x,l=r*u,f=n*s+this.y,h=n*u,p=i*s+this.x,d=i*u,y=o*s+this.y,v=o*u,m=this.offset;m[pt.OX1]=c-h,m[pt.OY1]=f+l,m[pt.OX2]=c-v,m[pt.OY2]=y+l,m[pt.OX3]=p-v,m[pt.OY3]=y+d,m[pt.OX4]=p-h,m[pt.OY4]=f+d}},{key:"setRegion",value:function(t){this.region=t;var e=this.uvs;t.rotate?(e[2]=t.u,e[3]=t.v2,e[4]=t.u,e[5]=t.v,e[6]=t.u2,e[7]=t.v,e[0]=t.u2,e[1]=t.v2):(e[0]=t.u,e[1]=t.v2,e[2]=t.u,e[3]=t.v,e[4]=t.u2,e[5]=t.v,e[6]=t.u2,e[7]=t.v2)}},{key:"computeWorldVertices",value:function(t,e,r,n){var i=this.offset,o=t instanceof ot?t.bone.matrix:t.matrix,a=o.tx,s=o.ty,u=o.a,c=o.c,l=o.b,f=o.d,h=0,p=0;h=i[pt.OX1],p=i[pt.OY1],e[r]=h*u+p*c+a,e[r+1]=h*l+p*f+s,r+=n,h=i[pt.OX2],p=i[pt.OY2],e[r]=h*u+p*c+a,e[r+1]=h*l+p*f+s,r+=n,h=i[pt.OX3],p=i[pt.OY3],e[r]=h*u+p*c+a,e[r+1]=h*l+p*f+s,r+=n,h=i[pt.OX4],p=i[pt.OY4],e[r]=h*u+p*c+a,e[r+1]=h*l+p*f+s}},{key:"copy",value:function(){var t=new pt(this.name);return t.region=this.region,t.rendererObject=this.rendererObject,t.path=this.path,t.x=this.x,t.y=this.y,t.scaleX=this.scaleX,t.scaleY=this.scaleY,t.rotation=this.rotation,t.width=this.width,t.height=this.height,n.Aq.arrayCopy(this.uvs,0,t.uvs,0,8),n.Aq.arrayCopy(this.offset,0,t.offset,0,8),t.color.setFromColor(this.color),t}}])&&st(r.prototype,i),o&&st(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(p),dt=pt;function yt(t){return yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yt(t)}function vt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,mt(n.key),n)}}function mt(t){var e=function(t,e){if("object"!=yt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=yt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==yt(e)?e:e+""}dt.OX1=0,dt.OY1=1,dt.OX2=2,dt.OY2=3,dt.OX3=4,dt.OY3=5,dt.OX4=6,dt.OY4=7,dt.X1=0,dt.Y1=1,dt.C1R=2,dt.C1G=3,dt.C1B=4,dt.C1A=5,dt.U1=6,dt.V1=7,dt.X2=8,dt.Y2=9,dt.C2R=10,dt.C2G=11,dt.C2B=12,dt.C2A=13,dt.U2=14,dt.V2=15,dt.X3=16,dt.Y3=17,dt.C3R=18,dt.C3G=19,dt.C3B=20,dt.C3A=21,dt.U3=22,dt.V3=23,dt.X4=24,dt.Y4=25,dt.C4R=26,dt.C4G=27,dt.C4B=28,dt.C4A=29,dt.U4=30,dt.V4=31;var bt=function(){return t=function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.jitterX=0,this.jitterY=0,this.jitterX=e,this.jitterY=r},(e=[{key:"begin",value:function(t){}},{key:"transform",value:function(t,e,r,i){t.x+=n.cj.randomTriangular(-this.jitterX,this.jitterY),t.y+=n.cj.randomTriangular(-this.jitterX,this.jitterY)}},{key:"end",value:function(){}}])&&vt(t.prototype,e),r&&vt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();function gt(t){return gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gt(t)}function wt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,St(n.key),n)}}function St(t){var e=function(t,e){if("object"!=gt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=gt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==gt(e)?e:e+""}var xt=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.centerX=0,this.centerY=0,this.radius=0,this.angle=0,this.worldX=0,this.worldY=0,this.radius=e},(e=[{key:"begin",value:function(t){this.worldX=t.x+this.centerX,this.worldY=t.y+this.centerY}},{key:"transform",value:function(t,e,r,i){var o=this.angle*n.cj.degreesToRadians,a=t.x-this.worldX,s=t.y-this.worldY,u=Math.sqrt(a*a+s*s);if(u<this.radius){var c=xt.interpolation.apply(0,o,(this.radius-u)/this.radius),l=Math.cos(c),f=Math.sin(c);t.x=l*a-f*s+this.worldX,t.y=f*a+l*s+this.worldY}}},{key:"end",value:function(){}}])&&wt(t.prototype,e),r&&wt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}(),_t=xt;_t.interpolation=new n.Ff(2);r(97200626),r(47138695),r(27015936);function Et(t,e,r){return e=kt(e),function(t,e){if(e&&("object"==At(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Tt()?Reflect.construct(e,r||[],kt(t).constructor):e.apply(t,r))}function Tt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Tt=function(){return!!t})()}function kt(t){return kt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},kt(t)}function Pt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ot(t,e)}function Ot(t,e){return Ot=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ot(t,e)}function At(t){return At="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},At(t)}function Rt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ct(n.key),n)}}function It(t,e,r){return e&&jt(t.prototype,e),r&&jt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ct(t){var e=function(t,e){if("object"!=At(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=At(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==At(e)?e:e+""}var Mt=function(){return It(function t(e,r,n){if(Rt(this,t),null==e)throw new Error("name cannot be null.");if(null==r)throw new Error("timelines cannot be null.");this.name=e,this.timelines=r,this.timelineIds=[];for(var i=0;i<r.length;i++)this.timelineIds[r[i].getPropertyId()]=!0;this.duration=n},[{key:"hasTimeline",value:function(t){return 1==this.timelineIds[t]}},{key:"apply",value:function(t,e,r,n,i,o,a,s){if(null==t)throw new Error("skeleton cannot be null.");n&&0!=this.duration&&(r%=this.duration,e>0&&(e%=this.duration));for(var u=this.timelines,c=0,l=u.length;c<l;c++)u[c].apply(t,e,r,i,o,a,s)}}],[{key:"binarySearch",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=0,i=t.length/r-2;if(0==i)return r;for(var o=i>>>1;;){if(t[(o+1)*r]<=e?n=o+1:i=o,n==i)return(n+1)*r;o=n+i>>>1}}},{key:"linearSearch",value:function(t,e,r){for(var n=0,i=t.length-r;n<=i;n+=r)if(t[n]>e)return n;return-1}}])}(),Dt=function(t){return t[t.rotate=0]="rotate",t[t.translate=1]="translate",t[t.scale=2]="scale",t[t.shear=3]="shear",t[t.attachment=4]="attachment",t[t.color=5]="color",t[t.deform=6]="deform",t[t.event=7]="event",t[t.drawOrder=8]="drawOrder",t[t.ikConstraint=9]="ikConstraint",t[t.transformConstraint=10]="transformConstraint",t[t.pathConstraintPosition=11]="pathConstraintPosition",t[t.pathConstraintSpacing=12]="pathConstraintSpacing",t[t.pathConstraintMix=13]="pathConstraintMix",t[t.twoColor=14]="twoColor",t}(Dt||{}),Nt=function(){return It(function t(e){if(Rt(this,t),e<=0)throw new Error("frameCount must be > 0: ".concat(e));this.curves=n.Aq.newFloatArray((e-1)*Nt.BEZIER_SIZE)},[{key:"getFrameCount",value:function(){return this.curves.length/Nt.BEZIER_SIZE+1}},{key:"setLinear",value:function(t){this.curves[t*Nt.BEZIER_SIZE]=Nt.LINEAR}},{key:"setStepped",value:function(t){this.curves[t*Nt.BEZIER_SIZE]=Nt.STEPPED}},{key:"getCurveType",value:function(t){var e=t*Nt.BEZIER_SIZE;if(e==this.curves.length)return Nt.LINEAR;var r=this.curves[e];return r==Nt.LINEAR?Nt.LINEAR:r==Nt.STEPPED?Nt.STEPPED:Nt.BEZIER}},{key:"setCurve",value:function(t,e,r,n,i){var o=.03*(2*-e+n),a=.03*(2*-r+i),s=.006*(3*(e-n)+1),u=.006*(3*(r-i)+1),c=2*o+s,l=2*a+u,f=.3*e+o+.16666667*s,h=.3*r+a+.16666667*u,p=t*Nt.BEZIER_SIZE,d=this.curves;d[p++]=Nt.BEZIER;for(var y=f,v=h,m=p+Nt.BEZIER_SIZE-1;p<m;p+=2)d[p]=y,d[p+1]=v,f+=c,h+=l,c+=s,l+=u,y+=f,v+=h}},{key:"getCurvePercent",value:function(t,e){e=n.cj.clamp(e,0,1);var r=this.curves,i=t*Nt.BEZIER_SIZE,o=r[i];if(o==Nt.LINEAR)return e;if(o==Nt.STEPPED)return 0;for(var a=0,s=++i,u=i+Nt.BEZIER_SIZE-1;i<u;i+=2)if((a=r[i])>=e){var c=void 0,l=void 0;return i==s?(c=0,l=0):(c=r[i-2],l=r[i-1]),l+(r[i+1]-l)*(e-c)/(a-c)}var f=r[i-1];return f+(1-f)*(e-a)/(1-a)}}])}(),Bt=Nt;Bt.LINEAR=0,Bt.STEPPED=1,Bt.BEZIER=2,Bt.BEZIER_SIZE=19;var Ft=function(t){function e(t){var r;return Rt(this,e),(r=Et(this,e,[t])).frames=n.Aq.newFloatArray(t<<1),r}return Pt(e,t),It(e,[{key:"getPropertyId",value:function(){return 0+this.boneIndex}},{key:"setFrame",value:function(t,e,r){t<<=1,this.frames[t]=e,this.frames[t+Ft.ROTATION]=r}},{key:"apply",value:function(t,e,r,i,o,a,s){var u=this.frames,c=t.bones[this.boneIndex];if(c.active)if(r<u[0])switch(a){case n.qU.setup:return void(c.rotation=c.data.rotation);case n.qU.first:var l=c.data.rotation-c.rotation;c.rotation+=(l-360*(16384-(16384.499999999996-l/360|0)))*o}else if(r>=u[u.length-Ft.ENTRIES]){var f=u[u.length+Ft.PREV_ROTATION];switch(a){case n.qU.setup:c.rotation=c.data.rotation+f*o;break;case n.qU.first:case n.qU.replace:f+=c.data.rotation-c.rotation,f-=360*(16384-(16384.499999999996-f/360|0));case n.qU.add:c.rotation+=f*o}}else{var h=Mt.binarySearch(u,r,Ft.ENTRIES),p=u[h+Ft.PREV_ROTATION],d=u[h],y=this.getCurvePercent((h>>1)-1,1-(r-d)/(u[h+Ft.PREV_TIME]-d)),v=u[h+Ft.ROTATION]-p;switch(v=p+(v-360*(16384-(16384.499999999996-v/360|0)))*y,a){case n.qU.setup:c.rotation=c.data.rotation+(v-360*(16384-(16384.499999999996-v/360|0)))*o;break;case n.qU.first:case n.qU.replace:v+=c.data.rotation-c.rotation;case n.qU.add:c.rotation+=(v-360*(16384-(16384.499999999996-v/360|0)))*o}}}}])}(Bt),Lt=Ft;Lt.ENTRIES=2,Lt.PREV_TIME=-2,Lt.PREV_ROTATION=-1,Lt.ROTATION=1;var Ut=function(t){function e(t){var r;return Rt(this,e),(r=Et(this,e,[t])).frames=n.Aq.newFloatArray(t*Ut.ENTRIES),r}return Pt(e,t),It(e,[{key:"getPropertyId",value:function(){return(1<<24)+this.boneIndex}},{key:"setFrame",value:function(t,e,r,n){t*=Ut.ENTRIES,this.frames[t]=e,this.frames[t+Ut.X]=r,this.frames[t+Ut.Y]=n}},{key:"apply",value:function(t,e,r,i,o,a,s){var u=this.frames,c=t.bones[this.boneIndex];if(c.active)if(r<u[0])switch(a){case n.qU.setup:return c.x=c.data.x,void(c.y=c.data.y);case n.qU.first:c.x+=(c.data.x-c.x)*o,c.y+=(c.data.y-c.y)*o}else{var l=0,f=0;if(r>=u[u.length-Ut.ENTRIES])l=u[u.length+Ut.PREV_X],f=u[u.length+Ut.PREV_Y];else{var h=Mt.binarySearch(u,r,Ut.ENTRIES);l=u[h+Ut.PREV_X],f=u[h+Ut.PREV_Y];var p=u[h],d=this.getCurvePercent(h/Ut.ENTRIES-1,1-(r-p)/(u[h+Ut.PREV_TIME]-p));l+=(u[h+Ut.X]-l)*d,f+=(u[h+Ut.Y]-f)*d}switch(a){case n.qU.setup:c.x=c.data.x+l*o,c.y=c.data.y+f*o;break;case n.qU.first:case n.qU.replace:c.x+=(c.data.x+l-c.x)*o,c.y+=(c.data.y+f-c.y)*o;break;case n.qU.add:c.x+=l*o,c.y+=f*o}}}}])}(Bt),Vt=Ut;Vt.ENTRIES=3,Vt.PREV_TIME=-3,Vt.PREV_X=-2,Vt.PREV_Y=-1,Vt.X=1,Vt.Y=2;var Xt=function(t){function e(t){return Rt(this,e),Et(this,e,[t])}return Pt(e,t),It(e,[{key:"getPropertyId",value:function(){return(2<<24)+this.boneIndex}},{key:"apply",value:function(t,r,i,o,a,s,u){var c=this.frames,l=t.bones[this.boneIndex];if(l.active)if(i<c[0])switch(s){case n.qU.setup:return l.scaleX=l.data.scaleX,void(l.scaleY=l.data.scaleY);case n.qU.first:l.scaleX+=(l.data.scaleX-l.scaleX)*a,l.scaleY+=(l.data.scaleY-l.scaleY)*a}else{var f=0,h=0;if(i>=c[c.length-e.ENTRIES])f=c[c.length+e.PREV_X]*l.data.scaleX,h=c[c.length+e.PREV_Y]*l.data.scaleY;else{var p=Mt.binarySearch(c,i,e.ENTRIES);f=c[p+e.PREV_X],h=c[p+e.PREV_Y];var d=c[p],y=this.getCurvePercent(p/e.ENTRIES-1,1-(i-d)/(c[p+e.PREV_TIME]-d));f=(f+(c[p+e.X]-f)*y)*l.data.scaleX,h=(h+(c[p+e.Y]-h)*y)*l.data.scaleY}if(1==a)s==n.qU.add?(l.scaleX+=f-l.data.scaleX,l.scaleY+=h-l.data.scaleY):(l.scaleX=f,l.scaleY=h);else{var v=0,m=0;if(u==n.mj.mixOut)switch(s){case n.qU.setup:v=l.data.scaleX,m=l.data.scaleY,l.scaleX=v+(Math.abs(f)*n.cj.signum(v)-v)*a,l.scaleY=m+(Math.abs(h)*n.cj.signum(m)-m)*a;break;case n.qU.first:case n.qU.replace:v=l.scaleX,m=l.scaleY,l.scaleX=v+(Math.abs(f)*n.cj.signum(v)-v)*a,l.scaleY=m+(Math.abs(h)*n.cj.signum(m)-m)*a;break;case n.qU.add:v=l.scaleX,m=l.scaleY,l.scaleX=v+(Math.abs(f)*n.cj.signum(v)-l.data.scaleX)*a,l.scaleY=m+(Math.abs(h)*n.cj.signum(m)-l.data.scaleY)*a}else switch(s){case n.qU.setup:v=Math.abs(l.data.scaleX)*n.cj.signum(f),m=Math.abs(l.data.scaleY)*n.cj.signum(h),l.scaleX=v+(f-v)*a,l.scaleY=m+(h-m)*a;break;case n.qU.first:case n.qU.replace:v=Math.abs(l.scaleX)*n.cj.signum(f),m=Math.abs(l.scaleY)*n.cj.signum(h),l.scaleX=v+(f-v)*a,l.scaleY=m+(h-m)*a;break;case n.qU.add:v=n.cj.signum(f),m=n.cj.signum(h),l.scaleX=Math.abs(l.scaleX)*v+(f-Math.abs(l.data.scaleX)*v)*a,l.scaleY=Math.abs(l.scaleY)*m+(h-Math.abs(l.data.scaleY)*m)*a}}}}}])}(Vt),Gt=function(t){function e(t){return Rt(this,e),Et(this,e,[t])}return Pt(e,t),It(e,[{key:"getPropertyId",value:function(){return(3<<24)+this.boneIndex}},{key:"apply",value:function(t,r,i,o,a,s,u){var c=this.frames,l=t.bones[this.boneIndex];if(l.active)if(i<c[0])switch(s){case n.qU.setup:return l.shearX=l.data.shearX,void(l.shearY=l.data.shearY);case n.qU.first:l.shearX+=(l.data.shearX-l.shearX)*a,l.shearY+=(l.data.shearY-l.shearY)*a}else{var f=0,h=0;if(i>=c[c.length-e.ENTRIES])f=c[c.length+e.PREV_X],h=c[c.length+e.PREV_Y];else{var p=Mt.binarySearch(c,i,e.ENTRIES);f=c[p+e.PREV_X],h=c[p+e.PREV_Y];var d=c[p],y=this.getCurvePercent(p/e.ENTRIES-1,1-(i-d)/(c[p+e.PREV_TIME]-d));f+=(c[p+e.X]-f)*y,h+=(c[p+e.Y]-h)*y}switch(s){case n.qU.setup:l.shearX=l.data.shearX+f*a,l.shearY=l.data.shearY+h*a;break;case n.qU.first:case n.qU.replace:l.shearX+=(l.data.shearX+f-l.shearX)*a,l.shearY+=(l.data.shearY+h-l.shearY)*a;break;case n.qU.add:l.shearX+=f*a,l.shearY+=h*a}}}}])}(Vt),Yt=function(t){function e(t){var r;return Rt(this,e),(r=Et(this,e,[t])).frames=n.Aq.newFloatArray(t*Yt.ENTRIES),r}return Pt(e,t),It(e,[{key:"getPropertyId",value:function(){return(5<<24)+this.slotIndex}},{key:"setFrame",value:function(t,e,r,n,i,o){t*=Yt.ENTRIES,this.frames[t]=e,this.frames[t+Yt.R]=r,this.frames[t+Yt.G]=n,this.frames[t+Yt.B]=i,this.frames[t+Yt.A]=o}},{key:"apply",value:function(t,e,r,i,o,a,s){var u=t.slots[this.slotIndex];if(u.bone.active){var c=this.frames;if(r<c[0])switch(a){case n.qU.setup:return void u.color.setFromColor(u.data.color);case n.qU.first:var l=u.color,f=u.data.color;l.add((f.r-l.r)*o,(f.g-l.g)*o,(f.b-l.b)*o,(f.a-l.a)*o)}else{var h=0,p=0,d=0,y=0;if(r>=c[c.length-Yt.ENTRIES]){var v=c.length;h=c[v+Yt.PREV_R],p=c[v+Yt.PREV_G],d=c[v+Yt.PREV_B],y=c[v+Yt.PREV_A]}else{var m=Mt.binarySearch(c,r,Yt.ENTRIES);h=c[m+Yt.PREV_R],p=c[m+Yt.PREV_G],d=c[m+Yt.PREV_B],y=c[m+Yt.PREV_A];var b=c[m],g=this.getCurvePercent(m/Yt.ENTRIES-1,1-(r-b)/(c[m+Yt.PREV_TIME]-b));h+=(c[m+Yt.R]-h)*g,p+=(c[m+Yt.G]-p)*g,d+=(c[m+Yt.B]-d)*g,y+=(c[m+Yt.A]-y)*g}if(1==o)u.color.set(h,p,d,y);else{var w=u.color;a==n.qU.setup&&w.setFromColor(u.data.color),w.add((h-w.r)*o,(p-w.g)*o,(d-w.b)*o,(y-w.a)*o)}}}}}])}(Bt),qt=Yt;qt.ENTRIES=5,qt.PREV_TIME=-5,qt.PREV_R=-4,qt.PREV_G=-3,qt.PREV_B=-2,qt.PREV_A=-1,qt.R=1,qt.G=2,qt.B=3,qt.A=4;var Wt=function(t){function e(t){var r;return Rt(this,e),(r=Et(this,e,[t])).frames=n.Aq.newFloatArray(t*Wt.ENTRIES),r}return Pt(e,t),It(e,[{key:"getPropertyId",value:function(){return(14<<24)+this.slotIndex}},{key:"setFrame",value:function(t,e,r,n,i,o,a,s,u){t*=Wt.ENTRIES,this.frames[t]=e,this.frames[t+Wt.R]=r,this.frames[t+Wt.G]=n,this.frames[t+Wt.B]=i,this.frames[t+Wt.A]=o,this.frames[t+Wt.R2]=a,this.frames[t+Wt.G2]=s,this.frames[t+Wt.B2]=u}},{key:"apply",value:function(t,e,r,i,o,a,s){var u=t.slots[this.slotIndex];if(u.bone.active){var c=this.frames;if(r<c[0])switch(a){case n.qU.setup:return u.color.setFromColor(u.data.color),void u.darkColor.setFromColor(u.data.darkColor);case n.qU.first:var l=u.color,f=u.darkColor,h=u.data.color,p=u.data.darkColor;l.add((h.r-l.r)*o,(h.g-l.g)*o,(h.b-l.b)*o,(h.a-l.a)*o),f.add((p.r-f.r)*o,(p.g-f.g)*o,(p.b-f.b)*o,0)}else{var d=0,y=0,v=0,m=0,b=0,g=0,w=0;if(r>=c[c.length-Wt.ENTRIES]){var S=c.length;d=c[S+Wt.PREV_R],y=c[S+Wt.PREV_G],v=c[S+Wt.PREV_B],m=c[S+Wt.PREV_A],b=c[S+Wt.PREV_R2],g=c[S+Wt.PREV_G2],w=c[S+Wt.PREV_B2]}else{var x=Mt.binarySearch(c,r,Wt.ENTRIES);d=c[x+Wt.PREV_R],y=c[x+Wt.PREV_G],v=c[x+Wt.PREV_B],m=c[x+Wt.PREV_A],b=c[x+Wt.PREV_R2],g=c[x+Wt.PREV_G2],w=c[x+Wt.PREV_B2];var _=c[x],E=this.getCurvePercent(x/Wt.ENTRIES-1,1-(r-_)/(c[x+Wt.PREV_TIME]-_));d+=(c[x+Wt.R]-d)*E,y+=(c[x+Wt.G]-y)*E,v+=(c[x+Wt.B]-v)*E,m+=(c[x+Wt.A]-m)*E,b+=(c[x+Wt.R2]-b)*E,g+=(c[x+Wt.G2]-g)*E,w+=(c[x+Wt.B2]-w)*E}if(1==o)u.color.set(d,y,v,m),u.darkColor.set(b,g,w,1);else{var T=u.color,k=u.darkColor;a==n.qU.setup&&(T.setFromColor(u.data.color),k.setFromColor(u.data.darkColor)),T.add((d-T.r)*o,(y-T.g)*o,(v-T.b)*o,(m-T.a)*o),k.add((b-k.r)*o,(g-k.g)*o,(w-k.b)*o,0)}}}}}])}(Bt),Ht=Wt;Ht.ENTRIES=8,Ht.PREV_TIME=-8,Ht.PREV_R=-7,Ht.PREV_G=-6,Ht.PREV_B=-5,Ht.PREV_A=-4,Ht.PREV_R2=-3,Ht.PREV_G2=-2,Ht.PREV_B2=-1,Ht.R=1,Ht.G=2,Ht.B=3,Ht.A=4,Ht.R2=5,Ht.G2=6,Ht.B2=7;var zt=function(){return It(function t(e){Rt(this,t),this.frames=n.Aq.newFloatArray(e),this.attachmentNames=new Array(e)},[{key:"getPropertyId",value:function(){return(4<<24)+this.slotIndex}},{key:"getFrameCount",value:function(){return this.frames.length}},{key:"setFrame",value:function(t,e,r){this.frames[t]=e,this.attachmentNames[t]=r}},{key:"apply",value:function(t,e,r,i,o,a,s){var u=t.slots[this.slotIndex];if(u.bone.active)if(s!=n.mj.mixOut){var c=this.frames;if(r<c[0])a!=n.qU.setup&&a!=n.qU.first||this.setAttachment(t,u,u.data.attachmentName);else{var l=0;l=r>=c[c.length-1]?c.length-1:Mt.binarySearch(c,r,1)-1;var f=this.attachmentNames[l];t.slots[this.slotIndex].setAttachment(null==f?null:t.getAttachment(this.slotIndex,f))}}else a==n.qU.setup&&this.setAttachment(t,u,u.data.attachmentName)}},{key:"setAttachment",value:function(t,e,r){e.setAttachment(null==r?null:t.getAttachment(this.slotIndex,r))}}])}(),Qt=null,Zt=function(t){function e(t){var r;return Rt(this,e),(r=Et(this,e,[t])).frames=n.Aq.newFloatArray(t),r.frameVertices=new Array(t),null==Qt&&(Qt=n.Aq.newFloatArray(64)),r}return Pt(e,t),It(e,[{key:"getPropertyId",value:function(){return(6<<27)+Number(this.attachment.id)+this.slotIndex}},{key:"setFrame",value:function(t,e,r){this.frames[t]=e,this.frameVertices[t]=r}},{key:"apply",value:function(t,e,r,i,o,a,s){var u=t.slots[this.slotIndex];if(u.bone.active){var c=u.getAttachment();if(c instanceof y&&c.deformAttachment==this.attachment){var l=u.deform;0==l.length&&(a=n.qU.setup);var f=this.frameVertices,h=f[0].length,p=this.frames;if(r<p[0]){var d=c;switch(a){case n.qU.setup:return void(l.length=0);case n.qU.first:if(1==o){l.length=0;break}var v=n.Aq.setArraySize(l,h);if(null==d.bones)for(var m=d.vertices,b=0;b<h;b++)v[b]+=(m[b]-v[b])*o;else{o=1-o;for(var g=0;g<h;g++)v[g]*=o}}}else{var w=n.Aq.setArraySize(l,h);if(r>=p[p.length-1]){var S=f[p.length-1];if(1==o)if(a==n.qU.add){var x=c;if(null==x.bones)for(var _=x.vertices,E=0;E<h;E++)w[E]+=S[E]-_[E];else for(var T=0;T<h;T++)w[T]+=S[T]}else n.Aq.arrayCopy(S,0,w,0,h);else switch(a){case n.qU.setup:var k=c;if(null==k.bones)for(var P=k.vertices,O=0;O<h;O++){var A=P[O];w[O]=A+(S[O]-A)*o}else for(var R=0;R<h;R++)w[R]=S[R]*o;break;case n.qU.first:case n.qU.replace:for(var j=0;j<h;j++)w[j]+=(S[j]-w[j])*o;break;case n.qU.add:var I=c;if(null==I.bones)for(var C=I.vertices,M=0;M<h;M++)w[M]+=(S[M]-C[M])*o;else for(var D=0;D<h;D++)w[D]+=S[D]*o}}else{var N=Mt.binarySearch(p,r),B=f[N-1],F=f[N],L=p[N],U=this.getCurvePercent(N-1,1-(r-L)/(p[N-1]-L));if(1==o)if(a==n.qU.add){var V=c;if(null==V.bones)for(var X=V.vertices,G=0;G<h;G++){var Y=B[G];w[G]+=Y+(F[G]-Y)*U-X[G]}else for(var q=0;q<h;q++){var W=B[q];w[q]+=W+(F[q]-W)*U}}else for(var H=0;H<h;H++){var z=B[H];w[H]=z+(F[H]-z)*U}else switch(a){case n.qU.setup:var Q=c;if(null==Q.bones)for(var Z=Q.vertices,K=0;K<h;K++){var $=B[K],J=Z[K];w[K]=J+($+(F[K]-$)*U-J)*o}else for(var tt=0;tt<h;tt++){var et=B[tt];w[tt]=(et+(F[tt]-et)*U)*o}break;case n.qU.first:case n.qU.replace:for(var rt=0;rt<h;rt++){var nt=B[rt];w[rt]+=(nt+(F[rt]-nt)*U-w[rt])*o}break;case n.qU.add:var it=c;if(null==it.bones)for(var ot=it.vertices,at=0;at<h;at++){var st=B[at];w[at]+=(st+(F[at]-st)*U-ot[at])*o}else for(var ut=0;ut<h;ut++){var ct=B[ut];w[ut]+=(ct+(F[ut]-ct)*U)*o}}}}}}}}])}(Bt),Kt=function(){return It(function t(e){Rt(this,t),this.frames=n.Aq.newFloatArray(e),this.events=new Array(e)},[{key:"getPropertyId",value:function(){return 7<<24}},{key:"getFrameCount",value:function(){return this.frames.length}},{key:"setFrame",value:function(t,e){this.frames[t]=e.time,this.events[t]=e}},{key:"apply",value:function(t,e,r,n,i,o,a){if(null!=n){var s=this.frames,u=this.frames.length;if(e>r)this.apply(t,e,Number.MAX_VALUE,n,i,o,a),e=-1;else if(e>=s[u-1])return;if(!(r<s[0])){var c=0;if(e<s[0])c=0;else for(var l=s[c=Mt.binarySearch(s,e)];c>0&&s[c-1]==l;)c--;for(;c<u&&r>=s[c];c++)n.push(this.events[c])}}}}])}(),$t=function(){return It(function t(e){Rt(this,t),this.frames=n.Aq.newFloatArray(e),this.drawOrders=new Array(e)},[{key:"getPropertyId",value:function(){return 8<<24}},{key:"getFrameCount",value:function(){return this.frames.length}},{key:"setFrame",value:function(t,e,r){this.frames[t]=e,this.drawOrders[t]=r}},{key:"apply",value:function(t,e,r,i,o,a,s){var u=t.drawOrder,c=t.slots;if(s!=n.mj.mixOut||a!=n.qU.setup){var l=this.frames;if(r<l[0])a!=n.qU.setup&&a!=n.qU.first||n.Aq.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length);else{var f=0;f=r>=l[l.length-1]?l.length-1:Mt.binarySearch(l,r)-1;var h=this.drawOrders[f];if(null==h)n.Aq.arrayCopy(c,0,u,0,c.length);else for(var p=0,d=h.length;p<d;p++)u[p]=c[h[p]]}}else n.Aq.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length)}}])}(),Jt=function(t){function e(t){var r;return Rt(this,e),(r=Et(this,e,[t])).frames=n.Aq.newFloatArray(t*Jt.ENTRIES),r}return Pt(e,t),It(e,[{key:"getPropertyId",value:function(){return(9<<24)+this.ikConstraintIndex}},{key:"setFrame",value:function(t,e,r,n,i,o,a){t*=Jt.ENTRIES,this.frames[t]=e,this.frames[t+Jt.MIX]=r,this.frames[t+Jt.SOFTNESS]=n,this.frames[t+Jt.BEND_DIRECTION]=i,this.frames[t+Jt.COMPRESS]=o?1:0,this.frames[t+Jt.STRETCH]=a?1:0}},{key:"apply",value:function(t,e,r,i,o,a,s){var u=this.frames,c=t.ikConstraints[this.ikConstraintIndex];if(c.active)if(r<u[0])switch(a){case n.qU.setup:return c.mix=c.data.mix,c.softness=c.data.softness,c.bendDirection=c.data.bendDirection,c.compress=c.data.compress,void(c.stretch=c.data.stretch);case n.qU.first:c.mix+=(c.data.mix-c.mix)*o,c.softness+=(c.data.softness-c.softness)*o,c.bendDirection=c.data.bendDirection,c.compress=c.data.compress,c.stretch=c.data.stretch}else if(r>=u[u.length-Jt.ENTRIES])a==n.qU.setup?(c.mix=c.data.mix+(u[u.length+Jt.PREV_MIX]-c.data.mix)*o,c.softness=c.data.softness+(u[u.length+Jt.PREV_SOFTNESS]-c.data.softness)*o,s==n.mj.mixOut?(c.bendDirection=c.data.bendDirection,c.compress=c.data.compress,c.stretch=c.data.stretch):(c.bendDirection=u[u.length+Jt.PREV_BEND_DIRECTION],c.compress=0!=u[u.length+Jt.PREV_COMPRESS],c.stretch=0!=u[u.length+Jt.PREV_STRETCH])):(c.mix+=(u[u.length+Jt.PREV_MIX]-c.mix)*o,c.softness+=(u[u.length+Jt.PREV_SOFTNESS]-c.softness)*o,s==n.mj.mixIn&&(c.bendDirection=u[u.length+Jt.PREV_BEND_DIRECTION],c.compress=0!=u[u.length+Jt.PREV_COMPRESS],c.stretch=0!=u[u.length+Jt.PREV_STRETCH]));else{var l=Mt.binarySearch(u,r,Jt.ENTRIES),f=u[l+Jt.PREV_MIX],h=u[l+Jt.PREV_SOFTNESS],p=u[l],d=this.getCurvePercent(l/Jt.ENTRIES-1,1-(r-p)/(u[l+Jt.PREV_TIME]-p));a==n.qU.setup?(c.mix=c.data.mix+(f+(u[l+Jt.MIX]-f)*d-c.data.mix)*o,c.softness=c.data.softness+(h+(u[l+Jt.SOFTNESS]-h)*d-c.data.softness)*o,s==n.mj.mixOut?(c.bendDirection=c.data.bendDirection,c.compress=c.data.compress,c.stretch=c.data.stretch):(c.bendDirection=u[l+Jt.PREV_BEND_DIRECTION],c.compress=0!=u[l+Jt.PREV_COMPRESS],c.stretch=0!=u[l+Jt.PREV_STRETCH])):(c.mix+=(f+(u[l+Jt.MIX]-f)*d-c.mix)*o,c.softness+=(h+(u[l+Jt.SOFTNESS]-h)*d-c.softness)*o,s==n.mj.mixIn&&(c.bendDirection=u[l+Jt.PREV_BEND_DIRECTION],c.compress=0!=u[l+Jt.PREV_COMPRESS],c.stretch=0!=u[l+Jt.PREV_STRETCH]))}}}])}(Bt),te=Jt;te.ENTRIES=6,te.PREV_TIME=-6,te.PREV_MIX=-5,te.PREV_SOFTNESS=-4,te.PREV_BEND_DIRECTION=-3,te.PREV_COMPRESS=-2,te.PREV_STRETCH=-1,te.MIX=1,te.SOFTNESS=2,te.BEND_DIRECTION=3,te.COMPRESS=4,te.STRETCH=5;var ee=function(t){function e(t){var r;return Rt(this,e),(r=Et(this,e,[t])).frames=n.Aq.newFloatArray(t*ee.ENTRIES),r}return Pt(e,t),It(e,[{key:"getPropertyId",value:function(){return(10<<24)+this.transformConstraintIndex}},{key:"setFrame",value:function(t,e,r,n,i,o){t*=ee.ENTRIES,this.frames[t]=e,this.frames[t+ee.ROTATE]=r,this.frames[t+ee.TRANSLATE]=n,this.frames[t+ee.SCALE]=i,this.frames[t+ee.SHEAR]=o}},{key:"apply",value:function(t,e,r,i,o,a,s){var u=this.frames,c=t.transformConstraints[this.transformConstraintIndex];if(c.active)if(r<u[0]){var l=c.data;switch(a){case n.qU.setup:return c.rotateMix=l.rotateMix,c.translateMix=l.translateMix,c.scaleMix=l.scaleMix,void(c.shearMix=l.shearMix);case n.qU.first:c.rotateMix+=(l.rotateMix-c.rotateMix)*o,c.translateMix+=(l.translateMix-c.translateMix)*o,c.scaleMix+=(l.scaleMix-c.scaleMix)*o,c.shearMix+=(l.shearMix-c.shearMix)*o}}else{var f=0,h=0,p=0,d=0;if(r>=u[u.length-ee.ENTRIES]){var y=u.length;f=u[y+ee.PREV_ROTATE],h=u[y+ee.PREV_TRANSLATE],p=u[y+ee.PREV_SCALE],d=u[y+ee.PREV_SHEAR]}else{var v=Mt.binarySearch(u,r,ee.ENTRIES);f=u[v+ee.PREV_ROTATE],h=u[v+ee.PREV_TRANSLATE],p=u[v+ee.PREV_SCALE],d=u[v+ee.PREV_SHEAR];var m=u[v],b=this.getCurvePercent(v/ee.ENTRIES-1,1-(r-m)/(u[v+ee.PREV_TIME]-m));f+=(u[v+ee.ROTATE]-f)*b,h+=(u[v+ee.TRANSLATE]-h)*b,p+=(u[v+ee.SCALE]-p)*b,d+=(u[v+ee.SHEAR]-d)*b}if(a==n.qU.setup){var g=c.data;c.rotateMix=g.rotateMix+(f-g.rotateMix)*o,c.translateMix=g.translateMix+(h-g.translateMix)*o,c.scaleMix=g.scaleMix+(p-g.scaleMix)*o,c.shearMix=g.shearMix+(d-g.shearMix)*o}else c.rotateMix+=(f-c.rotateMix)*o,c.translateMix+=(h-c.translateMix)*o,c.scaleMix+=(p-c.scaleMix)*o,c.shearMix+=(d-c.shearMix)*o}}}])}(Bt),re=ee;re.ENTRIES=5,re.PREV_TIME=-5,re.PREV_ROTATE=-4,re.PREV_TRANSLATE=-3,re.PREV_SCALE=-2,re.PREV_SHEAR=-1,re.ROTATE=1,re.TRANSLATE=2,re.SCALE=3,re.SHEAR=4;var ne=function(t){function e(t){var r;return Rt(this,e),(r=Et(this,e,[t])).frames=n.Aq.newFloatArray(t*ne.ENTRIES),r}return Pt(e,t),It(e,[{key:"getPropertyId",value:function(){return(11<<24)+this.pathConstraintIndex}},{key:"setFrame",value:function(t,e,r){t*=ne.ENTRIES,this.frames[t]=e,this.frames[t+ne.VALUE]=r}},{key:"apply",value:function(t,e,r,i,o,a,s){var u=this.frames,c=t.pathConstraints[this.pathConstraintIndex];if(c.active)if(r<u[0])switch(a){case n.qU.setup:return void(c.position=c.data.position);case n.qU.first:c.position+=(c.data.position-c.position)*o}else{var l=0;if(r>=u[u.length-ne.ENTRIES])l=u[u.length+ne.PREV_VALUE];else{var f=Mt.binarySearch(u,r,ne.ENTRIES);l=u[f+ne.PREV_VALUE];var h=u[f],p=this.getCurvePercent(f/ne.ENTRIES-1,1-(r-h)/(u[f+ne.PREV_TIME]-h));l+=(u[f+ne.VALUE]-l)*p}a==n.qU.setup?c.position=c.data.position+(l-c.data.position)*o:c.position+=(l-c.position)*o}}}])}(Bt),ie=ne;ie.ENTRIES=2,ie.PREV_TIME=-2,ie.PREV_VALUE=-1,ie.VALUE=1;var oe=function(t){function e(t){return Rt(this,e),Et(this,e,[t])}return Pt(e,t),It(e,[{key:"getPropertyId",value:function(){return(12<<24)+this.pathConstraintIndex}},{key:"apply",value:function(t,r,i,o,a,s,u){var c=this.frames,l=t.pathConstraints[this.pathConstraintIndex];if(l.active)if(i<c[0])switch(s){case n.qU.setup:return void(l.spacing=l.data.spacing);case n.qU.first:l.spacing+=(l.data.spacing-l.spacing)*a}else{var f=0;if(i>=c[c.length-e.ENTRIES])f=c[c.length+e.PREV_VALUE];else{var h=Mt.binarySearch(c,i,e.ENTRIES);f=c[h+e.PREV_VALUE];var p=c[h],d=this.getCurvePercent(h/e.ENTRIES-1,1-(i-p)/(c[h+e.PREV_TIME]-p));f+=(c[h+e.VALUE]-f)*d}s==n.qU.setup?l.spacing=l.data.spacing+(f-l.data.spacing)*a:l.spacing+=(f-l.spacing)*a}}}])}(ie),ae=function(t){function e(t){var r;return Rt(this,e),(r=Et(this,e,[t])).frames=n.Aq.newFloatArray(t*ae.ENTRIES),r}return Pt(e,t),It(e,[{key:"getPropertyId",value:function(){return(13<<24)+this.pathConstraintIndex}},{key:"setFrame",value:function(t,e,r,n){t*=ae.ENTRIES,this.frames[t]=e,this.frames[t+ae.ROTATE]=r,this.frames[t+ae.TRANSLATE]=n}},{key:"apply",value:function(t,e,r,i,o,a,s){var u=this.frames,c=t.pathConstraints[this.pathConstraintIndex];if(c.active)if(r<u[0])switch(a){case n.qU.setup:return c.rotateMix=c.data.rotateMix,void(c.translateMix=c.data.translateMix);case n.qU.first:c.rotateMix+=(c.data.rotateMix-c.rotateMix)*o,c.translateMix+=(c.data.translateMix-c.translateMix)*o}else{var l=0,f=0;if(r>=u[u.length-ae.ENTRIES])l=u[u.length+ae.PREV_ROTATE],f=u[u.length+ae.PREV_TRANSLATE];else{var h=Mt.binarySearch(u,r,ae.ENTRIES);l=u[h+ae.PREV_ROTATE],f=u[h+ae.PREV_TRANSLATE];var p=u[h],d=this.getCurvePercent(h/ae.ENTRIES-1,1-(r-p)/(u[h+ae.PREV_TIME]-p));l+=(u[h+ae.ROTATE]-l)*d,f+=(u[h+ae.TRANSLATE]-f)*d}a==n.qU.setup?(c.rotateMix=c.data.rotateMix+(l-c.data.rotateMix)*o,c.translateMix=c.data.translateMix+(f-c.data.translateMix)*o):(c.rotateMix+=(l-c.rotateMix)*o,c.translateMix+=(f-c.translateMix)*o)}}}])}(Bt),se=ae;se.ENTRIES=3,se.PREV_TIME=-3,se.PREV_ROTATE=-2,se.PREV_TRANSLATE=-1,se.ROTATE=1,se.TRANSLATE=2;r(55705852),r(57180314);function ue(t){return ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ue(t)}function ce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function le(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,he(n.key),n)}}function fe(t,e,r){return e&&le(t.prototype,e),r&&le(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function he(t){var e=function(t,e){if("object"!=ue(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=ue(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ue(e)?e:e+""}var pe=function(){return fe(function t(e){ce(this,t),this.tracks=new Array,this.timeScale=1,this.unkeyedState=0,this.events=new Array,this.listeners=new Array,this.queue=new be(this),this.propertyIDs=new n.ON,this.animationsChanged=!1,this.trackEntryPool=new n.bC(function(){return new ve}),this.data=e},[{key:"update",value:function(t){t*=this.timeScale;for(var e=this.tracks,r=0,n=e.length;r<n;r++){var i=e[r];if(null!=i){i.animationLast=i.nextAnimationLast,i.trackLast=i.nextTrackLast;var o=t*i.timeScale;if(i.delay>0){if(i.delay-=o,i.delay>0)continue;o=-i.delay,i.delay=0}var a=i.next;if(null!=a){var s=i.trackLast-a.delay;if(s>=0){for(a.delay=0,a.trackTime+=0==i.timeScale?0:(s/i.timeScale+t)*a.timeScale,i.trackTime+=o,this.setCurrent(r,a,!0);null!=a.mixingFrom;)a.mixTime+=t,a=a.mixingFrom;continue}}else if(i.trackLast>=i.trackEnd&&null==i.mixingFrom){e[r]=null,this.queue.end(i),this.disposeNext(i);continue}if(null!=i.mixingFrom&&this.updateMixingFrom(i,t)){var u=i.mixingFrom;for(i.mixingFrom=null,null!=u&&(u.mixingTo=null);null!=u;)this.queue.end(u),u=u.mixingFrom}i.trackTime+=o}}this.queue.drain()}},{key:"updateMixingFrom",value:function(t,e){var r=t.mixingFrom;if(null==r)return!0;var n=this.updateMixingFrom(r,e);return r.animationLast=r.nextAnimationLast,r.trackLast=r.nextTrackLast,t.mixTime>0&&t.mixTime>=t.mixDuration?(0!=r.totalAlpha&&0!=t.mixDuration||(t.mixingFrom=r.mixingFrom,null!=r.mixingFrom&&(r.mixingFrom.mixingTo=t),t.interruptAlpha=r.interruptAlpha,this.queue.end(r)),n):(r.trackTime+=e*r.timeScale,t.mixTime+=e,!1)}},{key:"apply",value:function(t){if(null==t)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var e=this.events,r=this.tracks,i=!1,o=0,a=r.length;o<a;o++){var s=r[o];if(!(null==s||s.delay>0)){i=!0;var u=0==o?n.qU.first:s.mixBlend,c=s.alpha;null!=s.mixingFrom?c*=this.applyMixingFrom(s,t,u):s.trackTime>=s.trackEnd&&null==s.next&&(c=0);var l=s.animationLast,f=s.getAnimationTime(),h=s.animation.timelines.length,p=s.animation.timelines;if(0==o&&1==c||u==n.qU.add)for(var d=0;d<h;d++){n.Aq.webkit602BugfixHelper(c,u);var y=p[d];y instanceof zt?this.applyAttachmentTimeline(y,t,f,u,!0):y.apply(t,l,f,e,c,u,n.mj.mixIn)}else{var v=s.timelineMode,m=0==s.timelinesRotation.length;m&&n.Aq.setArraySize(s.timelinesRotation,h<<1,null);for(var b=s.timelinesRotation,g=0;g<h;g++){var w=p[g],S=v[g]==pe.SUBSEQUENT?u:n.qU.setup;w instanceof Lt?this.applyRotateTimeline(w,t,f,c,S,b,g<<1,m):w instanceof zt?this.applyAttachmentTimeline(w,t,f,u,!0):(n.Aq.webkit602BugfixHelper(c,u),w.apply(t,l,f,e,c,S,n.mj.mixIn))}}this.queueEvents(s,f),e.length=0,s.nextAnimationLast=f,s.nextTrackLast=s.trackTime}}for(var x=this.unkeyedState+pe.SETUP,_=t.slots,E=0,T=t.slots.length;E<T;E++){var k=_[E];if(k.attachmentState==x){var P=k.data.attachmentName;k.setAttachment(null==P?null:t.getAttachment(k.data.index,P))}}return this.unkeyedState+=2,this.queue.drain(),i}},{key:"applyMixingFrom",value:function(t,e,r){var i=t.mixingFrom;null!=i.mixingFrom&&this.applyMixingFrom(i,e,r);var o=0;0==t.mixDuration?(o=1,r==n.qU.first&&(r=n.qU.setup)):((o=t.mixTime/t.mixDuration)>1&&(o=1),r!=n.qU.first&&(r=i.mixBlend));var a=o<i.eventThreshold?this.events:null,s=o<i.attachmentThreshold,u=o<i.drawOrderThreshold,c=i.animationLast,l=i.getAnimationTime(),f=i.animation.timelines.length,h=i.animation.timelines,p=i.alpha*t.interruptAlpha,d=p*(1-o);if(r==n.qU.add)for(var y=0;y<f;y++)h[y].apply(e,c,l,a,d,r,n.mj.mixOut);else{var v=i.timelineMode,m=i.timelineHoldMix,b=0==i.timelinesRotation.length;b&&n.Aq.setArraySize(i.timelinesRotation,f<<1,null);var g=i.timelinesRotation;i.totalAlpha=0;for(var w=0;w<f;w++){var S=h[w],x=n.mj.mixOut,_=void 0,E=0;switch(v[w]){case pe.SUBSEQUENT:if(!u&&S instanceof $t)continue;_=r,E=d;break;case pe.FIRST:_=n.qU.setup,E=d;break;case pe.HOLD_SUBSEQUENT:_=r,E=p;break;case pe.HOLD_FIRST:_=n.qU.setup,E=p;break;default:_=n.qU.setup;var T=m[w];E=p*Math.max(0,1-T.mixTime/T.mixDuration)}i.totalAlpha+=E,S instanceof Lt?this.applyRotateTimeline(S,e,l,E,_,g,w<<1,b):S instanceof zt?this.applyAttachmentTimeline(S,e,l,_,s):(n.Aq.webkit602BugfixHelper(E,r),u&&S instanceof $t&&_==n.qU.setup&&(x=n.mj.mixIn),S.apply(e,c,l,a,E,_,x))}}return t.mixDuration>0&&this.queueEvents(i,l),this.events.length=0,i.nextAnimationLast=l,i.nextTrackLast=i.trackTime,o}},{key:"applyAttachmentTimeline",value:function(t,e,r,i,o){var a=e.slots[t.slotIndex];if(a.bone.active){var s,u=t.frames;if(r<u[0])i!=n.qU.setup&&i!=n.qU.first||this.setAttachment(e,a,a.data.attachmentName,o);else s=r>=u[u.length-1]?u.length-1:Mt.binarySearch(u,r)-1,this.setAttachment(e,a,t.attachmentNames[s],o);a.attachmentState<=this.unkeyedState&&(a.attachmentState=this.unkeyedState+pe.SETUP)}}},{key:"setAttachment",value:function(t,e,r,n){e.setAttachment(null==r?null:t.getAttachment(e.data.index,r)),n&&(e.attachmentState=this.unkeyedState+pe.CURRENT)}},{key:"applyRotateTimeline",value:function(t,e,r,i,o,a,s,u){if(u&&(a[s]=0),1!=i){var c=t,l=c.frames,f=e.bones[c.boneIndex];if(f.active){var h=0,p=0;if(r<l[0])switch(o){case n.qU.setup:f.rotation=f.data.rotation;default:return;case n.qU.first:h=f.rotation,p=f.data.rotation}else if(h=o==n.qU.setup?f.data.rotation:f.rotation,r>=l[l.length-Lt.ENTRIES])p=f.data.rotation+l[l.length+Lt.PREV_ROTATION];else{var d=Mt.binarySearch(l,r,Lt.ENTRIES),y=l[d+Lt.PREV_ROTATION],v=l[d],m=c.getCurvePercent((d>>1)-1,1-(r-v)/(l[d+Lt.PREV_TIME]-v));p=l[d+Lt.ROTATION]-y,p=y+(p-=360*(16384-(16384.499999999996-p/360|0)))*m+f.data.rotation,p-=360*(16384-(16384.499999999996-p/360|0))}var b=0,g=p-h;if(0==(g-=360*(16384-(16384.499999999996-g/360|0))))b=a[s];else{var w=0,S=0;u?(w=0,S=g):(w=a[s],S=a[s+1]);var x=g>0,_=w>=0;n.cj.signum(S)!=n.cj.signum(g)&&Math.abs(S)<=90&&(Math.abs(w)>180&&(w+=360*n.cj.signum(w)),_=x),b=g+w-w%360,_!=x&&(b+=360*n.cj.signum(w)),a[s]=b}a[s+1]=g,h+=b*i,f.rotation=h-360*(16384-(16384.499999999996-h/360|0))}}else t.apply(e,0,r,null,1,o,n.mj.mixIn)}},{key:"queueEvents",value:function(t,e){for(var r=t.animationStart,n=t.animationEnd,i=n-r,o=t.trackLast%i,a=this.events,s=0,u=a.length;s<u;s++){var c=a[s];if(c.time<o)break;c.time>n||this.queue.event(t,c)}for((t.loop?0==i||o>t.trackTime%i:e>=n&&t.animationLast<n)&&this.queue.complete(t);s<u;s++){a[s].time<r||this.queue.event(t,a[s])}}},{key:"clearTracks",value:function(){var t=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var e=0,r=this.tracks.length;e<r;e++)this.clearTrack(e);this.tracks.length=0,this.queue.drainDisabled=t,this.queue.drain()}},{key:"clearTrack",value:function(t){if(!(t>=this.tracks.length)){var e=this.tracks[t];if(null!=e){this.queue.end(e),this.disposeNext(e);for(var r=e;;){var n=r.mixingFrom;if(null==n)break;this.queue.end(n),r.mixingFrom=null,r.mixingTo=null,r=n}this.tracks[e.trackIndex]=null,this.queue.drain()}}}},{key:"setCurrent",value:function(t,e,r){var n=this.expandToIndex(t);this.tracks[t]=e,null!=n&&(r&&this.queue.interrupt(n),e.mixingFrom=n,n.mixingTo=e,e.mixTime=0,null!=n.mixingFrom&&n.mixDuration>0&&(e.interruptAlpha*=Math.min(1,n.mixTime/n.mixDuration)),n.timelinesRotation.length=0),this.queue.start(e)}},{key:"setAnimation",value:function(t,e,r){var n=this.data.skeletonData.findAnimation(e);if(null==n)throw new Error("Animation not found: ".concat(e));return this.setAnimationWith(t,n,r)}},{key:"setAnimationWith",value:function(t,e,r){if(null==e)throw new Error("animation cannot be null.");var n=!0,i=this.expandToIndex(t);null!=i&&(-1==i.nextTrackLast?(this.tracks[t]=i.mixingFrom,this.queue.interrupt(i),this.queue.end(i),this.disposeNext(i),i=i.mixingFrom,n=!1):this.disposeNext(i));var o=this.trackEntry(t,e,r,i);return this.setCurrent(t,o,n),this.queue.drain(),o}},{key:"addAnimation",value:function(t,e,r,n){var i=this.data.skeletonData.findAnimation(e);if(null==i)throw new Error("Animation not found: ".concat(e));return this.addAnimationWith(t,i,r,n)}},{key:"addAnimationWith",value:function(t,e,r,n){if(null==e)throw new Error("animation cannot be null.");var i=this.expandToIndex(t);if(null!=i)for(;null!=i.next;)i=i.next;var o=this.trackEntry(t,e,r,i);if(null==i)this.setCurrent(t,o,!0),this.queue.drain();else if(i.next=o,n<=0){var a=i.animationEnd-i.animationStart;0!=a?(i.loop?n+=a*(1+(i.trackTime/a|0)):n+=Math.max(a,i.trackTime),n-=this.data.getMix(i.animation,e)):n=i.trackTime}return o.delay=n,o}},{key:"setEmptyAnimation",value:function(t,e){var r=this.setAnimationWith(t,pe.emptyAnimation,!1);return r.mixDuration=e,r.trackEnd=e,r}},{key:"addEmptyAnimation",value:function(t,e,r){r<=0&&(r-=e);var n=this.addAnimationWith(t,pe.emptyAnimation,!1,r);return n.mixDuration=e,n.trackEnd=e,n}},{key:"setEmptyAnimations",value:function(t){var e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var r=0,n=this.tracks.length;r<n;r++){var i=this.tracks[r];null!=i&&this.setEmptyAnimation(i.trackIndex,t)}this.queue.drainDisabled=e,this.queue.drain()}},{key:"expandToIndex",value:function(t){return t<this.tracks.length?this.tracks[t]:(n.Aq.ensureArrayCapacity(this.tracks,t+1,null),this.tracks.length=t+1,null)}},{key:"trackEntry",value:function(t,e,r,i){var o=this.trackEntryPool.obtain();return o.trackIndex=t,o.animation=e,o.loop=r,o.holdPrevious=!1,o.eventThreshold=0,o.attachmentThreshold=0,o.drawOrderThreshold=0,o.animationStart=0,o.animationEnd=e.duration,o.animationLast=-1,o.nextAnimationLast=-1,o.delay=0,o.trackTime=0,o.trackLast=-1,o.nextTrackLast=-1,o.trackEnd=Number.MAX_VALUE,o.timeScale=1,o.alpha=1,o.interruptAlpha=1,o.mixTime=0,o.mixDuration=null==i?0:this.data.getMix(i.animation,e),o.mixBlend=n.qU.replace,o}},{key:"disposeNext",value:function(t){for(var e=t.next;null!=e;)this.queue.dispose(e),e=e.next;t.next=null}},{key:"_animationsChanged",value:function(){this.animationsChanged=!1,this.propertyIDs.clear();for(var t=0,e=this.tracks.length;t<e;t++){var r=this.tracks[t];if(null!=r){for(;null!=r.mixingFrom;)r=r.mixingFrom;do{null!=r.mixingFrom&&r.mixBlend==n.qU.add||this.computeHold(r),r=r.mixingTo}while(null!=r)}}}},{key:"computeHold",value:function(t){var e=t.mixingTo,r=t.animation.timelines,i=t.animation.timelines.length,o=n.Aq.setArraySize(t.timelineMode,i);t.timelineHoldMix.length=0;var a=n.Aq.setArraySize(t.timelineHoldMix,i),s=this.propertyIDs;if(null!=e&&e.holdPrevious)for(var u=0;u<i;u++)o[u]=s.add(r[u].getPropertyId())?pe.HOLD_FIRST:pe.HOLD_SUBSEQUENT;else t:for(var c=0;c<i;c++){var l=r[c],f=l.getPropertyId();if(s.add(f))if(null==e||l instanceof zt||l instanceof $t||l instanceof Kt||!e.animation.hasTimeline(f))o[c]=pe.FIRST;else{for(var h=e.mixingTo;null!=h;h=h.mixingTo)if(!h.animation.hasTimeline(f)){if(t.mixDuration>0){o[c]=pe.HOLD_MIX,a[c]=h;continue t}break}o[c]=pe.HOLD_FIRST}else o[c]=pe.SUBSEQUENT}}},{key:"getCurrent",value:function(t){return t>=this.tracks.length?null:this.tracks[t]}},{key:"addListener",value:function(t){if(null==t)throw new Error("listener cannot be null.");this.listeners.push(t)}},{key:"removeListener",value:function(t){var e=this.listeners.indexOf(t);e>=0&&this.listeners.splice(e,1)}},{key:"clearListeners",value:function(){this.listeners.length=0}},{key:"clearListenerNotifications",value:function(){this.queue.clear()}},{key:"setAnimationByName",value:function(t,e,r){pe.deprecatedWarning1||(pe.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: AnimationState.setAnimationByName is deprecated, please use setAnimation from now on.")),this.setAnimation(t,e,r)}},{key:"addAnimationByName",value:function(t,e,r,n){pe.deprecatedWarning2||(pe.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: AnimationState.addAnimationByName is deprecated, please use addAnimation from now on.")),this.addAnimation(t,e,r,n)}},{key:"hasAnimation",value:function(t){return null!==this.data.skeletonData.findAnimation(t)}},{key:"hasAnimationByName",value:function(t){return pe.deprecatedWarning3||(pe.deprecatedWarning3=!0,console.warn("Spine Deprecation Warning: AnimationState.hasAnimationByName is deprecated, please use hasAnimation from now on.")),this.hasAnimation(t)}}])}(),de=pe;de.emptyAnimation=new Mt("<empty>",[],0),de.SUBSEQUENT=0,de.FIRST=1,de.HOLD_SUBSEQUENT=2,de.HOLD_FIRST=3,de.HOLD_MIX=4,de.SETUP=1,de.CURRENT=2,de.deprecatedWarning1=!1,de.deprecatedWarning2=!1,de.deprecatedWarning3=!1;var ye=function(){return fe(function t(){ce(this,t),this.mixBlend=n.qU.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array},[{key:"reset",value:function(){this.next=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0}},{key:"getAnimationTime",value:function(){if(this.loop){var t=this.animationEnd-this.animationStart;return 0==t?this.animationStart:this.trackTime%t+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)}},{key:"setAnimationLast",value:function(t){this.animationLast=t,this.nextAnimationLast=t}},{key:"isComplete",value:function(){return this.trackTime>=this.animationEnd-this.animationStart}},{key:"resetRotationDirections",value:function(){this.timelinesRotation.length=0}},{key:"time",get:function(){return ye.deprecatedWarning1||(ye.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime},set:function(t){ye.deprecatedWarning1||(ye.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime=t}},{key:"endTime",get:function(){return ye.deprecatedWarning2||(ye.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime},set:function(t){ye.deprecatedWarning2||(ye.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime=t}},{key:"loopsCount",value:function(){return Math.floor(this.trackTime/this.trackEnd)}}])}(),ve=ye;ve.deprecatedWarning1=!1,ve.deprecatedWarning2=!1;var me=function(){return fe(function t(e){ce(this,t),this.objects=[],this.drainDisabled=!1,this.animState=e},[{key:"start",value:function(t){this.objects.push(ge.start),this.objects.push(t),this.animState.animationsChanged=!0}},{key:"interrupt",value:function(t){this.objects.push(ge.interrupt),this.objects.push(t)}},{key:"end",value:function(t){this.objects.push(ge.end),this.objects.push(t),this.animState.animationsChanged=!0}},{key:"dispose",value:function(t){this.objects.push(ge.dispose),this.objects.push(t)}},{key:"complete",value:function(t){this.objects.push(ge.complete),this.objects.push(t)}},{key:"event",value:function(t,e){this.objects.push(ge.event),this.objects.push(t),this.objects.push(e)}},{key:"deprecateStuff",value:function(){return me.deprecatedWarning1||(me.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: onComplete, onStart, onEnd, onEvent art deprecated, please use listeners from now on. 'state.addListener({ complete: function(track, event) { } })'")),!0}},{key:"drain",value:function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var t=this.objects,e=this.animState.listeners,r=0;r<t.length;r+=2){var i=t[r],o=t[r+1];switch(i){case ge.start:null!=o.listener&&o.listener.start&&o.listener.start(o);for(var a=0;a<e.length;a++)e[a].start&&e[a].start(o);o.onStart&&this.deprecateStuff()&&o.onStart(o.trackIndex),this.animState.onStart&&this.deprecateStuff()&&this.deprecateStuff&&this.animState.onStart(o.trackIndex);break;case ge.interrupt:null!=o.listener&&o.listener.interrupt&&o.listener.interrupt(o);for(var s=0;s<e.length;s++)e[s].interrupt&&e[s].interrupt(o);break;case ge.end:null!=o.listener&&o.listener.end&&o.listener.end(o);for(var u=0;u<e.length;u++)e[u].end&&e[u].end(o);o.onEnd&&this.deprecateStuff()&&o.onEnd(o.trackIndex),this.animState.onEnd&&this.deprecateStuff()&&this.animState.onEnd(o.trackIndex);case ge.dispose:null!=o.listener&&o.listener.dispose&&o.listener.dispose(o);for(var c=0;c<e.length;c++)e[c].dispose&&e[c].dispose(o);this.animState.trackEntryPool.free(o);break;case ge.complete:null!=o.listener&&o.listener.complete&&o.listener.complete(o);for(var l=0;l<e.length;l++)e[l].complete&&e[l].complete(o);var f=n.cj.toInt(o.loopsCount());o.onComplete&&this.deprecateStuff()&&o.onComplete(o.trackIndex,f),this.animState.onComplete&&this.deprecateStuff()&&this.animState.onComplete(o.trackIndex,f);break;case ge.event:var h=t[2+r++];null!=o.listener&&o.listener.event&&o.listener.event(o,h);for(var p=0;p<e.length;p++)e[p].event&&e[p].event(o,h);o.onEvent&&this.deprecateStuff()&&o.onEvent(o.trackIndex,h),this.animState.onEvent&&this.deprecateStuff()&&this.animState.onEvent(o.trackIndex,h)}}this.clear(),this.drainDisabled=!1}}},{key:"clear",value:function(){this.objects.length=0}}])}(),be=me;be.deprecatedWarning1=!1;var ge=function(t){return t[t.start=0]="start",t[t.interrupt=1]="interrupt",t[t.end=2]="end",t[t.dispose=3]="dispose",t[t.complete=4]="complete",t[t.event=5]="event",t}(ge||{}),we=function(){return fe(function t(){ce(this,t)},[{key:"start",value:function(t){}},{key:"interrupt",value:function(t){}},{key:"end",value:function(t){}},{key:"dispose",value:function(t){}},{key:"complete",value:function(t){}},{key:"event",value:function(t,e){}}])}();r(95723650);function Se(t){return Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Se(t)}function xe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_e(n.key),n)}}function _e(t){var e=function(t,e){if("object"!=Se(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Se(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Se(e)?e:e+""}var Ee=function(){return t=function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.animationToMixTime={},this.defaultMix=0,null==e)throw new Error("skeletonData cannot be null.");this.skeletonData=e},(e=[{key:"setMix",value:function(t,e,r){var n=this.skeletonData.findAnimation(t);if(null==n)throw new Error("Animation not found: ".concat(t));var i=this.skeletonData.findAnimation(e);if(null==i)throw new Error("Animation not found: ".concat(e));this.setMixWith(n,i,r)}},{key:"setMixByName",value:function(t,e,r){Ee.deprecatedWarning1||(Ee.deprecatedWarning1=!0,console.warn("Deprecation Warning: AnimationStateData.setMixByName is deprecated, please use setMix from now on.")),this.setMix(t,e,r)}},{key:"setMixWith",value:function(t,e,r){if(null==t)throw new Error("from cannot be null.");if(null==e)throw new Error("to cannot be null.");var n="".concat(t.name,".").concat(e.name);this.animationToMixTime[n]=r}},{key:"getMix",value:function(t,e){var r="".concat(t.name,".").concat(e.name),n=this.animationToMixTime[r];return void 0===n?this.defaultMix:n}}])&&xe(t.prototype,e),r&&xe(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}(),Te=Ee;function ke(t){return ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ke(t)}function Pe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Oe(n.key),n)}}function Oe(t){var e=function(t,e){if("object"!=ke(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=ke(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ke(e)?e:e+""}Te.deprecatedWarning1=!1;var Ae=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.atlas=e},(e=[{key:"newRegionAttachment",value:function(t,e,r){var n=this.atlas.findRegion(r);if(null==n)throw new Error("Region not found in atlas: ".concat(r," (region attachment: ").concat(e,")"));var i=new dt(e);return i.region=n,i}},{key:"newMeshAttachment",value:function(t,e,r){var n=this.atlas.findRegion(r);if(null==n)throw new Error("Region not found in atlas: ".concat(r," (mesh attachment: ").concat(e,")"));var i=new L(e);return i.region=n,i}},{key:"newBoundingBoxAttachment",value:function(t,e){return new _(e)}},{key:"newPathAttachment",value:function(t,e){return new H(e)}},{key:"newPointAttachment",value:function(t,e){return new et(e)}},{key:"newClippingAttachment",value:function(t,e){return new j(e)}}])&&Pe(t.prototype,e),r&&Pe(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}(),Re=r(55039106);function je(t){return je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},je(t)}function Ie(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ce(n.key),n)}}function Ce(t){var e=function(t,e){if("object"!=je(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=je(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==je(e)?e:e+""}var Me=function(){return t=function t(e,r,n){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.matrix=new Re.uq,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.appliedValid=!1,this.sorted=!1,this.active=!1,null==e)throw new Error("data cannot be null.");if(null==r)throw new Error("skeleton cannot be null.");this.data=e,this.skeleton=r,this.parent=n,this.setToSetupPose()},(e=[{key:"worldX",get:function(){return this.matrix.tx}},{key:"worldY",get:function(){return this.matrix.ty}},{key:"isActive",value:function(){return this.active}},{key:"update",value:function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)}},{key:"updateWorldTransform",value:function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)}},{key:"updateWorldTransformWith",value:function(t,e,r,i,o,a,s){this.ax=t,this.ay=e,this.arotation=r,this.ascaleX=i,this.ascaleY=o,this.ashearX=a,this.ashearY=s,this.appliedValid=!0;var u=this.parent,c=this.matrix,l=this.skeleton.scaleX,f=n.W0.yDown?-this.skeleton.scaleY:this.skeleton.scaleY;if(null==u){var h=this.skeleton,p=r+90+s;return c.a=n.cj.cosDeg(r+a)*i*l,c.c=n.cj.cosDeg(p)*o*l,c.b=n.cj.sinDeg(r+a)*i*f,c.d=n.cj.sinDeg(p)*o*f,c.tx=t*l+h.x,void(c.ty=e*f+h.y)}var d=u.matrix.a,y=u.matrix.c,v=u.matrix.b,m=u.matrix.d;switch(c.tx=d*t+y*e+u.matrix.tx,c.ty=v*t+m*e+u.matrix.ty,this.data.transformMode){case n._C.Normal:var b=r+90+s,g=n.cj.cosDeg(r+a)*i,w=n.cj.cosDeg(b)*o,S=n.cj.sinDeg(r+a)*i,x=n.cj.sinDeg(b)*o;return c.a=d*g+y*S,c.c=d*w+y*x,c.b=v*g+m*S,void(c.d=v*w+m*x);case n._C.OnlyTranslation:var _=r+90+s;c.a=n.cj.cosDeg(r+a)*i,c.c=n.cj.cosDeg(_)*o,c.b=n.cj.sinDeg(r+a)*i,c.d=n.cj.sinDeg(_)*o;break;case n._C.NoRotationOrReflection:var E=d*d+v*v,T=0;E>1e-4?(E=Math.abs(d*m-y*v)/E,d/=this.skeleton.scaleX,y=(v/=this.skeleton.scaleY)*E,m=d*E,T=Math.atan2(v,d)*n.cj.radDeg):(d=0,v=0,T=90-Math.atan2(m,y)*n.cj.radDeg);var k=r+a-T,P=r+s-T+90,O=n.cj.cosDeg(k)*i,A=n.cj.cosDeg(P)*o,R=n.cj.sinDeg(k)*i,j=n.cj.sinDeg(P)*o;c.a=d*O-y*R,c.c=d*A-y*j,c.b=v*O+m*R,c.d=v*A+m*j;break;case n._C.NoScale:case n._C.NoScaleOrReflection:var I=n.cj.cosDeg(r),C=n.cj.sinDeg(r),M=(d*I+y*C)/l,D=(v*I+m*C)/f,N=Math.sqrt(M*M+D*D);N>1e-5&&(N=1/N),M*=N,D*=N,N=Math.sqrt(M*M+D*D),this.data.transformMode==n._C.NoScale&&d*m-y*v<0!=(n.W0.yDown?this.skeleton.scaleX<0!=this.skeleton.scaleY>0:this.skeleton.scaleX<0!=this.skeleton.scaleY<0)&&(N=-N);var B=Math.PI/2+Math.atan2(D,M),F=Math.cos(B)*N,L=Math.sin(B)*N,U=n.cj.cosDeg(a)*i,V=n.cj.cosDeg(90+s)*o,X=n.cj.sinDeg(a)*i,G=n.cj.sinDeg(90+s)*o;c.a=M*U+F*X,c.c=M*V+F*G,c.b=D*U+L*X,c.d=D*V+L*G}c.a*=l,c.c*=l,c.b*=f,c.d*=f}},{key:"setToSetupPose",value:function(){var t=this.data;this.x=t.x,this.y=t.y,this.rotation=t.rotation,this.scaleX=t.scaleX,this.scaleY=t.scaleY,this.shearX=t.shearX,this.shearY=t.shearY}},{key:"getWorldRotationX",value:function(){return Math.atan2(this.matrix.b,this.matrix.a)*n.cj.radDeg}},{key:"getWorldRotationY",value:function(){return Math.atan2(this.matrix.d,this.matrix.c)*n.cj.radDeg}},{key:"getWorldScaleX",value:function(){var t=this.matrix;return Math.sqrt(t.a*t.a+t.c*t.c)}},{key:"getWorldScaleY",value:function(){var t=this.matrix;return Math.sqrt(t.b*t.b+t.d*t.d)}},{key:"updateAppliedTransform",value:function(){this.appliedValid=!0;var t=this.parent,e=this.matrix;if(null==t)return this.ax=e.tx,this.ay=e.ty,this.arotation=Math.atan2(e.b,e.a)*n.cj.radDeg,this.ascaleX=Math.sqrt(e.a*e.a+e.b*e.b),this.ascaleY=Math.sqrt(e.c*e.c+e.d*e.d),this.ashearX=0,void(this.ashearY=Math.atan2(e.a*e.c+e.b*e.d,e.a*e.d-e.b*e.c)*n.cj.radDeg);var r=t.matrix,i=1/(r.a*r.d-r.b*r.c),o=e.tx-r.tx,a=e.ty-r.ty;this.ax=o*r.d*i-a*r.c*i,this.ay=a*r.a*i-o*r.b*i;var s=i*r.d,u=i*r.a,c=i*r.c,l=i*r.b,f=s*e.a-c*e.b,h=s*e.c-c*e.d,p=u*e.b-l*e.a,d=u*e.d-l*e.c;if(this.ashearX=0,this.ascaleX=Math.sqrt(f*f+p*p),this.ascaleX>1e-4){var y=f*d-h*p;this.ascaleY=y/this.ascaleX,this.ashearY=Math.atan2(f*h+p*d,y)*n.cj.radDeg,this.arotation=Math.atan2(p,f)*n.cj.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(h*h+d*d),this.ashearY=0,this.arotation=90-Math.atan2(d,h)*n.cj.radDeg}},{key:"worldToLocal",value:function(t){var e=this.matrix,r=e.a,n=e.c,i=e.b,o=e.d,a=1/(r*o-n*i),s=t.x-e.tx,u=t.y-e.ty;return t.x=s*o*a-u*n*a,t.y=u*r*a-s*i*a,t}},{key:"localToWorld",value:function(t){var e=this.matrix,r=t.x,n=t.y;return t.x=r*e.a+n*e.c+e.tx,t.y=r*e.b+n*e.d+e.ty,t}},{key:"worldToLocalRotation",value:function(t){var e=n.cj.sinDeg(t),r=n.cj.cosDeg(t),i=this.matrix;return Math.atan2(i.a*e-i.b*r,i.d*r-i.c*e)*n.cj.radDeg}},{key:"localToWorldRotation",value:function(t){var e=n.cj.sinDeg(t),r=n.cj.cosDeg(t),i=this.matrix;return Math.atan2(r*i.b+e*i.d,r*i.a+e*i.c)*n.cj.radDeg}},{key:"rotateWorld",value:function(t){var e=this.matrix,r=e.a,i=e.c,o=e.b,a=e.d,s=n.cj.cosDeg(t),u=n.cj.sinDeg(t);e.a=s*r-u*o,e.c=s*i-u*a,e.b=u*r+s*o,e.d=u*i+s*a,this.appliedValid=!1}}])&&Ie(t.prototype,e),r&&Ie(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();function De(t){return De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},De(t)}function Ne(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Fe(n.key),n)}}function Be(t,e,r){return e&&Ne(t.prototype,e),r&&Ne(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fe(t){var e=function(t,e){if("object"!=De(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=De(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==De(e)?e:e+""}var Le=Be(function t(e,r,i){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=n._C.Normal,this.skinRequired=!1,this.color=new n.Q1,e<0)throw new Error("index must be >= 0.");if(null==r)throw new Error("name cannot be null.");this.index=e,this.name=r,this.parent=i});function Ue(t){return Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ue(t)}function Ve(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ge(n.key),n)}}function Xe(t,e,r){return e&&Ve(t.prototype,e),r&&Ve(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ge(t){var e=function(t,e){if("object"!=Ue(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Ue(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ue(e)?e:e+""}var Ye=Xe(function t(e,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.name=e,this.order=r,this.skinRequired=n});function qe(t){return qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qe(t)}function We(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ze(n.key),n)}}function He(t,e,r){return e&&We(t.prototype,e),r&&We(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ze(t){var e=function(t,e){if("object"!=qe(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=qe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==qe(e)?e:e+""}var Qe=He(function t(e,r){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),null==r)throw new Error("data cannot be null.");this.time=e,this.data=r});function Ze(t){return Ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ze(t)}function Ke(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Je(n.key),n)}}function $e(t,e,r){return e&&Ke(t.prototype,e),r&&Ke(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Je(t){var e=function(t,e){if("object"!=Ze(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Ze(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ze(e)?e:e+""}var tr=$e(function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.name=e});function er(t){return er="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},er(t)}function rr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,nr(n.key),n)}}function nr(t){var e=function(t,e){if("object"!=er(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=er(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==er(e)?e:e+""}var ir=function(){return t=function t(e,r){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,this.softness=0,this.active=!1,null==e)throw new Error("data cannot be null.");if(null==r)throw new Error("skeleton cannot be null.");this.data=e,this.mix=e.mix,this.softness=e.softness,this.bendDirection=e.bendDirection,this.compress=e.compress,this.stretch=e.stretch,this.bones=new Array;for(var n=0;n<e.bones.length;n++)this.bones.push(r.findBone(e.bones[n].name));this.target=r.findBone(e.target.name)},(e=[{key:"isActive",value:function(){return this.active}},{key:"apply",value:function(){this.update()}},{key:"update",value:function(){var t=this.target,e=this.bones;switch(e.length){case 1:this.apply1(e[0],t.worldX,t.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(e[0],e[1],t.worldX,t.worldY,this.bendDirection,this.stretch,this.softness,this.mix)}}},{key:"apply1",value:function(t,e,r,i,o,a,s){t.appliedValid||t.updateAppliedTransform();var u=t.parent.matrix,c=u.a,l=u.c,f=u.b,h=u.d,p=-t.ashearX-t.arotation,d=0,y=0;switch(t.data.transformMode){case n._C.OnlyTranslation:d=e-t.worldX,y=r-t.worldY;break;case n._C.NoRotationOrReflection:var v=Math.abs(c*h-l*f)/(c*c+f*f),m=c/t.skeleton.scaleX,b=f/t.skeleton.scaleY;l=-b*v*t.skeleton.scaleX,h=m*v*t.skeleton.scaleY,p+=Math.atan2(b,m)*n.cj.radDeg;default:var g=e-u.tx,w=r-u.ty,S=c*h-l*f;d=(g*h-w*l)/S-t.ax,y=(w*c-g*f)/S-t.ay}p+=Math.atan2(y,d)*n.cj.radDeg,t.ascaleX<0&&(p+=180),p>180?p-=360:p<-180&&(p+=360);var x=t.ascaleX,_=t.ascaleY;if(i||o){switch(t.data.transformMode){case n._C.NoScale:case n._C.NoScaleOrReflection:d=e-t.worldX,y=r-t.worldY}var E=t.data.length*x,T=Math.sqrt(d*d+y*y);if(i&&T<E||o&&T>E&&E>1e-4){var k=(T/E-1)*s+1;x*=k,a&&(_*=k)}}t.updateWorldTransformWith(t.ax,t.ay,t.arotation+p*s,x,_,t.ashearX,t.ashearY)}},{key:"apply2",value:function(t,e,r,i,o,a,s,u){if(0!=u){t.appliedValid||t.updateAppliedTransform(),e.appliedValid||e.updateAppliedTransform();var c=t.ax,l=t.ay,f=t.ascaleX,h=f,p=t.ascaleY,d=e.ascaleX,y=t.matrix,v=0,m=0,b=0;f<0?(f=-f,v=180,b=-1):(v=0,b=1),p<0&&(p=-p,b=-b),d<0?(d=-d,m=180):m=0;var g=e.ax,w=0,S=0,x=0,_=y.a,E=y.c,T=y.b,k=y.d,P=Math.abs(f-p)<=1e-4;P?(S=_*g+E*(w=e.ay)+y.tx,x=T*g+k*w+y.ty):(w=0,S=_*g+y.tx,x=T*g+y.ty);var O=t.parent.matrix;_=O.a,E=O.c,T=O.b;var A,R,j=1/(_*(k=O.d)-E*T),I=S-O.tx,C=x-O.ty,M=(I*k-C*E)*j-c,D=(C*_-I*T)*j-l,N=Math.sqrt(M*M+D*D),B=e.data.length*d;if(N<1e-4)return this.apply1(t,r,i,!1,a,!1,u),void e.updateWorldTransformWith(g,w,0,e.ascaleX,e.ascaleY,e.ashearX,e.ashearY);var F=((I=r-O.tx)*k-(C=i-O.ty)*E)*j-c,L=(C*_-I*T)*j-l,U=F*F+L*L;if(0!=s){s*=f*(d+1)/2;var V=Math.sqrt(U),X=V-N-B*f+s;if(X>0){var G=Math.min(1,X/(2*s))-1;U=(F-=(G=(X-s*(1-G*G))/V)*F)*F+(L-=G*L)*L}}t:if(P){var Y=(U-N*N-(B*=f)*B)/(2*N*B);Y<-1?Y=-1:Y>1&&(Y=1,a&&(h*=(Math.sqrt(U)/(N+B)-1)*u+1)),R=Math.acos(Y)*o,_=N+B*Y,E=B*Math.sin(R),A=Math.atan2(L*_-F*E,F*_+L*E)}else{var q=(_=f*B)*_,W=(E=p*B)*E,H=Math.atan2(L,F),z=-2*W*N,Q=W-q;if((k=z*z-4*Q*(T=W*N*N+q*U-q*W))>=0){var Z=Math.sqrt(k);z<0&&(Z=-Z);var K=(Z=-(z+Z)/2)/Q,$=T/Z,J=Math.abs(K)<Math.abs($)?K:$;if(J*J<=U){C=Math.sqrt(U-J*J)*o,A=H-Math.atan2(C,J),R=Math.atan2(C/p,(J-N)/f);break t}}var tt=n.cj.PI,et=N-_,rt=et*et,nt=0,it=0,ot=N+_,at=ot*ot,st=0;(T=-_*N/(q-W))>=-1&&T<=1&&(T=Math.acos(T),(k=(I=_*Math.cos(T)+N)*I+(C=E*Math.sin(T))*C)<rt&&(tt=T,rt=k,et=I,nt=C),k>at&&(it=T,at=k,ot=I,st=C)),U<=(rt+at)/2?(A=H-Math.atan2(nt*o,et),R=tt*o):(A=H-Math.atan2(st*o,ot),R=it*o)}var ut=Math.atan2(w,g)*b,ct=t.arotation;(A=(A-ut)*n.cj.radDeg+v-ct)>180?A-=360:A<-180&&(A+=360),t.updateWorldTransformWith(c,l,ct+A*u,h,t.ascaleY,0,0),ct=e.arotation,(R=((R+ut)*n.cj.radDeg-e.ashearX)*b+m-ct)>180?R-=360:R<-180&&(R+=360),e.updateWorldTransformWith(g,w,ct+R*u,e.ascaleX,e.ascaleY,e.ashearX,e.ashearY)}else e.updateWorldTransform()}}])&&rr(t.prototype,e),r&&rr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();function or(t){return or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},or(t)}function ar(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,sr(n.key),n)}}function sr(t){var e=function(t,e){if("object"!=or(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=or(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==or(e)?e:e+""}function ur(t,e,r){return e=lr(e),function(t,e){if(e&&("object"==or(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,cr()?Reflect.construct(e,r||[],lr(t).constructor):e.apply(t,r))}function cr(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(cr=function(){return!!t})()}function lr(t){return lr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},lr(t)}function fr(t,e){return fr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},fr(t,e)}var hr=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=ur(this,e,[t,0,!1])).bones=new Array,r.bendDirection=1,r.compress=!1,r.stretch=!1,r.uniform=!1,r.mix=1,r.softness=0,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fr(t,e)}(e,t),r=e,n&&ar(r.prototype,n),i&&ar(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i}(Ye);function pr(t){return pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pr(t)}function dr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,yr(n.key),n)}}function yr(t){var e=function(t,e){if("object"!=pr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=pr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==pr(e)?e:e+""}function vr(t,e,r){return e=br(e),function(t,e){if(e&&("object"==pr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,mr()?Reflect.construct(e,r||[],br(t).constructor):e.apply(t,r))}function mr(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(mr=function(){return!!t})()}function br(t){return br=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},br(t)}function gr(t,e){return gr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},gr(t,e)}var wr=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=vr(this,e,[t,0,!1])).bones=new Array,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gr(t,e)}(e,t),r=e,n&&dr(r.prototype,n),i&&dr(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i}(Ye),Sr=function(t){return t[t.Length=0]="Length",t[t.Fixed=1]="Fixed",t[t.Percent=2]="Percent",t}(Sr||{});function xr(t){return xr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xr(t)}function _r(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Er(n.key),n)}}function Er(t){var e=function(t,e){if("object"!=xr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=xr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==xr(e)?e:e+""}var Tr=function(){return t=function t(e,r){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.position=0,this.spacing=0,this.rotateMix=0,this.translateMix=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,this.active=!1,null==e)throw new Error("data cannot be null.");if(null==r)throw new Error("skeleton cannot be null.");this.data=e,this.bones=new Array;for(var n=0,i=e.bones.length;n<i;n++)this.bones.push(r.findBone(e.bones[n].name));this.target=r.findSlot(e.target.name),this.position=e.position,this.spacing=e.spacing,this.rotateMix=e.rotateMix,this.translateMix=e.translateMix},(e=[{key:"isActive",value:function(){return this.active}},{key:"apply",value:function(){this.update()}},{key:"update",value:function(){var t=this.target.getAttachment();if(t instanceof H){var e=this.rotateMix,r=this.translateMix,i=e>0;if(r>0||i){var o=this.data,a=o.spacingMode,s=a==Sr.Length,u=o.rotateMode,c=u==n.Dr.Tangent,l=u==n.Dr.ChainScale,f=this.bones.length,h=c?f:f+1,p=this.bones,d=n.Aq.setArraySize(this.spaces,h),y=null,v=this.spacing;if(l||s){l&&(y=n.Aq.setArraySize(this.lengths,f));for(var m=0,b=h-1;m<b;){var g=p[m],w=g.data.length;if(w<Tr.epsilon)l&&(y[m]=0),d[++m]=0;else{var S=w*g.matrix.a,x=w*g.matrix.b,_=Math.sqrt(S*S+x*x);l&&(y[m]=_),d[++m]=(s?w+v:v)*_/w}}}else for(var E=1;E<h;E++)d[E]=v;var T=this.computeWorldPositions(t,h,c,o.positionMode==n.pw.Percent,a==Sr.Percent),k=T[0],P=T[1],O=o.offsetRotation,A=!1;if(0==O)A=u==n.Dr.Chain;else{A=!1;var R=this.target.bone.matrix;O*=R.a*R.d-R.b*R.c>0?n.cj.degRad:-n.cj.degRad}for(var j=0,I=3;j<f;j++,I+=3){var C=p[j],M=C.matrix;M.tx+=(k-M.tx)*r,M.ty+=(P-M.ty)*r;var D=T[I],N=T[I+1],B=D-k,F=N-P;if(l){var L=y[j];if(0!=L){var U=(Math.sqrt(B*B+F*F)/L-1)*e+1;M.a*=U,M.b*=U}}if(k=D,P=N,i){var V=M.a,X=M.c,G=M.b,Y=M.d,q=0,W=0,z=0;if(c&&(q=c?T[I-1]:0==d[j+1]?T[I+2]:Math.atan2(F,B)),q-=Math.atan2(G,V),A){W=Math.cos(q),z=Math.sin(q);var Q=C.data.length;k+=(Q*(W*V-z*G)-B)*e,P+=(Q*(z*V+W*G)-F)*e}else q+=O;q>n.cj.PI?q-=n.cj.PI2:q<-n.cj.PI&&(q+=n.cj.PI2),q*=e,W=Math.cos(q),z=Math.sin(q),M.a=W*V-z*G,M.c=W*X-z*Y,M.b=z*V+W*G,M.d=z*X+W*Y}C.appliedValid=!1}}}}},{key:"computeWorldPositions",value:function(t,e,r,i,o){var a=this.target,s=this.position,u=this.spaces,c=n.Aq.setArraySize(this.positions,3*e+2),l=null,f=t.closed,h=t.worldVerticesLength,p=h/6,d=Tr.NONE;if(!t.constantSpeed){var y=t.lengths,v=y[p-=f?1:2];if(i&&(s*=v),o)for(var m=0;m<e;m++)u[m]*=v;l=n.Aq.setArraySize(this.world,8);for(var b=0,g=0,w=0;b<e;b++,g+=3){var S=u[b],x=s+=S;if(f)(x%=v)<0&&(x+=v),w=0;else{if(x<0){d!=Tr.BEFORE&&(d=Tr.BEFORE,t.computeWorldVertices(a,2,4,l,0,2)),this.addBeforePosition(x,l,0,c,g);continue}if(x>v){d!=Tr.AFTER&&(d=Tr.AFTER,t.computeWorldVertices(a,h-6,4,l,0,2)),this.addAfterPosition(x-v,l,0,c,g);continue}}for(;;w++){var _=y[w];if(!(x>_)){if(0==w)x/=_;else{var E=y[w-1];x=(x-E)/(_-E)}break}}w!=d&&(d=w,f&&w==p?(t.computeWorldVertices(a,h-4,4,l,0,2),t.computeWorldVertices(a,0,4,l,4,2)):t.computeWorldVertices(a,6*w+2,8,l,0,2)),this.addCurvePosition(x,l[0],l[1],l[2],l[3],l[4],l[5],l[6],l[7],c,g,r||b>0&&0==S)}return c}f?(h+=2,l=n.Aq.setArraySize(this.world,h),t.computeWorldVertices(a,2,h-4,l,0,2),t.computeWorldVertices(a,0,2,l,h-4,2),l[h-2]=l[0],l[h-1]=l[1]):(p--,h-=4,l=n.Aq.setArraySize(this.world,h),t.computeWorldVertices(a,2,h,l,0,2));for(var T=n.Aq.setArraySize(this.curves,p),k=0,P=l[0],O=l[1],A=0,R=0,j=0,I=0,C=0,M=0,D=0,N=0,B=0,F=0,L=0,U=0,V=0,X=0,G=0,Y=2;G<p;G++,Y+=6)A=l[Y],R=l[Y+1],j=l[Y+2],I=l[Y+3],L=2*(D=.1875*(P-2*A+j))+(B=.09375*(3*(A-j)-P+(C=l[Y+4]))),U=2*(N=.1875*(O-2*R+I))+(F=.09375*(3*(R-I)-O+(M=l[Y+5]))),V=.75*(A-P)+D+.16666667*B,X=.75*(R-O)+N+.16666667*F,k+=Math.sqrt(V*V+X*X),V+=L,X+=U,L+=B,U+=F,k+=Math.sqrt(V*V+X*X),V+=L,X+=U,k+=Math.sqrt(V*V+X*X),V+=L+B,X+=U+F,k+=Math.sqrt(V*V+X*X),T[G]=k,P=C,O=M;if(i&&(s*=k),o)for(var q=0;q<e;q++)u[q]*=k;for(var W=this.segments,H=0,z=0,Q=0,Z=0,K=0;z<e;z++,Q+=3){var $=u[z],J=s+=$;if(f)(J%=k)<0&&(J+=k),Z=0;else{if(J<0){this.addBeforePosition(J,l,0,c,Q);continue}if(J>k){this.addAfterPosition(J-k,l,h-4,c,Q);continue}}for(;;Z++){var tt=T[Z];if(!(J>tt)){if(0==Z)J/=tt;else{var et=T[Z-1];J=(J-et)/(tt-et)}break}}if(Z!=d){d=Z;var rt=6*Z;for(P=l[rt],O=l[rt+1],A=l[rt+2],R=l[rt+3],j=l[rt+4],I=l[rt+5],L=2*(D=.03*(P-2*A+j))+(B=.006*(3*(A-j)-P+(C=l[rt+6]))),U=2*(N=.03*(O-2*R+I))+(F=.006*(3*(R-I)-O+(M=l[rt+7]))),V=.3*(A-P)+D+.16666667*B,X=.3*(R-O)+N+.16666667*F,H=Math.sqrt(V*V+X*X),W[0]=H,rt=1;rt<8;rt++)V+=L,X+=U,L+=B,U+=F,H+=Math.sqrt(V*V+X*X),W[rt]=H;V+=L,X+=U,H+=Math.sqrt(V*V+X*X),W[8]=H,V+=L+B,X+=U+F,H+=Math.sqrt(V*V+X*X),W[9]=H,K=0}for(J*=H;;K++){var nt=W[K];if(!(J>nt)){if(0==K)J/=nt;else{var it=W[K-1];J=K+(J-it)/(nt-it)}break}}this.addCurvePosition(.1*J,P,O,A,R,j,I,C,M,c,Q,r||z>0&&0==$)}return c}},{key:"addBeforePosition",value:function(t,e,r,n,i){var o=e[r],a=e[r+1],s=e[r+2]-o,u=e[r+3]-a,c=Math.atan2(u,s);n[i]=o+t*Math.cos(c),n[i+1]=a+t*Math.sin(c),n[i+2]=c}},{key:"addAfterPosition",value:function(t,e,r,n,i){var o=e[r+2],a=e[r+3],s=o-e[r],u=a-e[r+1],c=Math.atan2(u,s);n[i]=o+t*Math.cos(c),n[i+1]=a+t*Math.sin(c),n[i+2]=c}},{key:"addCurvePosition",value:function(t,e,r,n,i,o,a,s,u,c,l,f){(0==t||isNaN(t))&&(t=1e-4);var h=t*t,p=h*t,d=1-t,y=d*d,v=y*d,m=d*t,b=3*m,g=d*b,w=b*t,S=e*v+n*g+o*w+s*p,x=r*v+i*g+a*w+u*p;c[l]=S,c[l+1]=x,f&&(c[l+2]=Math.atan2(x-(r*y+i*m*2+a*h),S-(e*y+n*m*2+o*h)))}}])&&_r(t.prototype,e),r&&_r(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}(),kr=Tr;function Pr(t){return Pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pr(t)}function Or(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ar(n.key),n)}}function Ar(t){var e=function(t,e){if("object"!=Pr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Pr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Pr(e)?e:e+""}kr.NONE=-1,kr.BEFORE=-2,kr.AFTER=-3,kr.epsilon=1e-5;var Rr=function(){return t=function t(e,r){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.temp=new n.I9,this.active=!1,null==e)throw new Error("data cannot be null.");if(null==r)throw new Error("skeleton cannot be null.");this.data=e,this.rotateMix=e.rotateMix,this.translateMix=e.translateMix,this.scaleMix=e.scaleMix,this.shearMix=e.shearMix,this.bones=new Array;for(var i=0;i<e.bones.length;i++)this.bones.push(r.findBone(e.bones[i].name));this.target=r.findBone(e.target.name)},(e=[{key:"isActive",value:function(){return this.active}},{key:"apply",value:function(){this.update()}},{key:"update",value:function(){this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld()}},{key:"applyAbsoluteWorld",value:function(){for(var t=this.rotateMix,e=this.translateMix,r=this.scaleMix,i=this.shearMix,o=this.target,a=o.matrix,s=a.a,u=a.c,c=a.b,l=a.d,f=s*l-u*c>0?n.cj.degRad:-n.cj.degRad,h=this.data.offsetRotation*f,p=this.data.offsetShearY*f,d=this.bones,y=0,v=d.length;y<v;y++){var m=d[y],b=!1,g=m.matrix;if(0!=t){var w=g.a,S=g.c,x=g.b,_=g.d,E=Math.atan2(c,s)-Math.atan2(x,w)+h;E>n.cj.PI?E-=n.cj.PI2:E<-n.cj.PI&&(E+=n.cj.PI2),E*=t;var T=Math.cos(E),k=Math.sin(E);g.a=T*w-k*x,g.c=T*S-k*_,g.b=k*w+T*x,g.d=k*S+T*_,b=!0}if(0!=e){var P=this.temp;o.localToWorld(P.set(this.data.offsetX,this.data.offsetY)),g.tx+=(P.x-g.tx)*e,g.ty+=(P.y-g.ty)*e,b=!0}if(r>0){var O=Math.sqrt(g.a*g.a+g.b*g.b),A=Math.sqrt(s*s+c*c);O>1e-5&&(O=(O+(A-O+this.data.offsetScaleX)*r)/O),g.a*=O,g.b*=O,O=Math.sqrt(g.c*g.c+g.d*g.d),A=Math.sqrt(u*u+l*l),O>1e-5&&(O=(O+(A-O+this.data.offsetScaleY)*r)/O),g.c*=O,g.d*=O,b=!0}if(i>0){var R=g.c,j=g.d,I=Math.atan2(j,R),C=Math.atan2(l,u)-Math.atan2(c,s)-(I-Math.atan2(g.b,g.a));C>n.cj.PI?C-=n.cj.PI2:C<-n.cj.PI&&(C+=n.cj.PI2),C=I+(C+p)*i;var M=Math.sqrt(R*R+j*j);g.c=Math.cos(C)*M,g.d=Math.sin(C)*M,b=!0}b&&(m.appliedValid=!1)}}},{key:"applyRelativeWorld",value:function(){for(var t=this.rotateMix,e=this.translateMix,r=this.scaleMix,i=this.shearMix,o=this.target,a=o.matrix,s=a.a,u=a.c,c=a.b,l=a.d,f=s*l-u*c>0?n.cj.degRad:-n.cj.degRad,h=this.data.offsetRotation*f,p=this.data.offsetShearY*f,d=this.bones,y=0,v=d.length;y<v;y++){var m=d[y],b=!1,g=m.matrix;if(0!=t){var w=g.a,S=g.c,x=g.b,_=g.d,E=Math.atan2(c,s)+h;E>n.cj.PI?E-=n.cj.PI2:E<-n.cj.PI&&(E+=n.cj.PI2),E*=t;var T=Math.cos(E),k=Math.sin(E);g.a=T*w-k*x,g.c=T*S-k*_,g.b=k*w+T*x,g.d=k*S+T*_,b=!0}if(0!=e){var P=this.temp;o.localToWorld(P.set(this.data.offsetX,this.data.offsetY)),g.tx+=P.x*e,g.ty+=P.y*e,b=!0}if(r>0){var O=(Math.sqrt(s*s+c*c)-1+this.data.offsetScaleX)*r+1;g.a*=O,g.b*=O,O=(Math.sqrt(u*u+l*l)-1+this.data.offsetScaleY)*r+1,g.c*=O,g.d*=O,b=!0}if(i>0){var A=Math.atan2(l,u)-Math.atan2(c,s);A>n.cj.PI?A-=n.cj.PI2:A<-n.cj.PI&&(A+=n.cj.PI2);var R=g.c,j=g.d;A=Math.atan2(j,R)+(A-n.cj.PI/2+p)*i;var I=Math.sqrt(R*R+j*j);g.c=Math.cos(A)*I,g.d=Math.sin(A)*I,b=!0}b&&(m.appliedValid=!1)}}},{key:"applyAbsoluteLocal",value:function(){var t=this.rotateMix,e=this.translateMix,r=this.scaleMix,n=this.shearMix,i=this.target;i.appliedValid||i.updateAppliedTransform();for(var o=this.bones,a=0,s=o.length;a<s;a++){var u=o[a];u.appliedValid||u.updateAppliedTransform();var c=u.arotation;if(0!=t){var l=i.arotation-c+this.data.offsetRotation;c+=(l-=360*(16384-(16384.499999999996-l/360|0)))*t}var f=u.ax,h=u.ay;0!=e&&(f+=(i.ax-f+this.data.offsetX)*e,h+=(i.ay-h+this.data.offsetY)*e);var p=u.ascaleX,d=u.ascaleY;r>0&&(p>1e-5&&(p=(p+(i.ascaleX-p+this.data.offsetScaleX)*r)/p),d>1e-5&&(d=(d+(i.ascaleY-d+this.data.offsetScaleY)*r)/d));var y=u.ashearY;if(n>0){var v=i.ashearY-y+this.data.offsetShearY;v-=360*(16384-(16384.499999999996-v/360|0)),u.shearY+=v*n}u.updateWorldTransformWith(f,h,c,p,d,u.ashearX,y)}}},{key:"applyRelativeLocal",value:function(){var t=this.rotateMix,e=this.translateMix,r=this.scaleMix,n=this.shearMix,i=this.target;i.appliedValid||i.updateAppliedTransform();for(var o=this.bones,a=0,s=o.length;a<s;a++){var u=o[a];u.appliedValid||u.updateAppliedTransform();var c=u.arotation;0!=t&&(c+=(i.arotation+this.data.offsetRotation)*t);var l=u.ax,f=u.ay;0!=e&&(l+=(i.ax+this.data.offsetX)*e,f+=(i.ay+this.data.offsetY)*e);var h=u.ascaleX,p=u.ascaleY;r>0&&(h>1e-5&&(h*=(i.ascaleX-1+this.data.offsetScaleX)*r+1),p>1e-5&&(p*=(i.ascaleY-1+this.data.offsetScaleY)*r+1));var d=u.ashearY;n>0&&(d+=(i.ashearY+this.data.offsetShearY)*n),u.updateWorldTransformWith(l,f,c,h,p,u.ashearX,d)}}}])&&Or(t.prototype,e),r&&Or(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();function jr(t){return jr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jr(t)}function Ir(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Cr(n.key),n)}}function Cr(t){var e=function(t,e){if("object"!=jr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=jr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==jr(e)?e:e+""}var Mr=function(){return t=function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._updateCache=new Array,this.updateCacheReset=new Array,this.time=0,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,null==e)throw new Error("data cannot be null.");this.data=e,this.bones=new Array;for(var r=0;r<e.bones.length;r++){var i=e.bones[r],o=void 0;if(null==i.parent)o=new Me(i,this,null);else{var a=this.bones[i.parent.index];o=new Me(i,this,a),a.children.push(o)}this.bones.push(o)}this.slots=new Array,this.drawOrder=new Array;for(var s=0;s<e.slots.length;s++){var u=e.slots[s],c=this.bones[u.boneData.index],l=new ot(u,c);this.slots.push(l),this.drawOrder.push(l)}this.ikConstraints=new Array;for(var f=0;f<e.ikConstraints.length;f++){var h=e.ikConstraints[f];this.ikConstraints.push(new ir(h,this))}this.transformConstraints=new Array;for(var p=0;p<e.transformConstraints.length;p++){var d=e.transformConstraints[p];this.transformConstraints.push(new Rr(d,this))}this.pathConstraints=new Array;for(var y=0;y<e.pathConstraints.length;y++){var v=e.pathConstraints[y];this.pathConstraints.push(new kr(v,this))}this.color=new n.Q1(1,1,1,1),this.updateCache()},e=[{key:"updateCache",value:function(){var t=this._updateCache;t.length=0,this.updateCacheReset.length=0;for(var e=this.bones,r=0,n=e.length;r<n;r++){var i=e[r];i.sorted=i.data.skinRequired,i.active=!i.sorted}if(null!=this.skin)for(var o=this.skin.bones,a=0,s=this.skin.bones.length;a<s;a++){var u=this.bones[o[a].index];do{u.sorted=!1,u.active=!0,u=u.parent}while(null!=u)}var c=this.ikConstraints,l=this.transformConstraints,f=this.pathConstraints,h=c.length,p=l.length,d=f.length,y=h+p+d;t:for(var v=0;v<y;v++){for(var m=0;m<h;m++){var b=c[m];if(b.data.order==v){this.sortIkConstraint(b);continue t}}for(var g=0;g<p;g++){var w=l[g];if(w.data.order==v){this.sortTransformConstraint(w);continue t}}for(var S=0;S<d;S++){var x=f[S];if(x.data.order==v){this.sortPathConstraint(x);continue t}}}for(var _=0,E=e.length;_<E;_++)this.sortBone(e[_])}},{key:"sortIkConstraint",value:function(t){if(t.active=t.target.isActive()&&(!t.data.skinRequired||null!=this.skin&&n.Aq.contains(this.skin.constraints,t.data,!0)),t.active){var e=t.target;this.sortBone(e);var r=t.bones,i=r[0];if(this.sortBone(i),r.length>1){var o=r[r.length-1];this._updateCache.indexOf(o)>-1||this.updateCacheReset.push(o)}this._updateCache.push(t),this.sortReset(i.children),r[r.length-1].sorted=!0}}},{key:"sortPathConstraint",value:function(t){if(t.active=t.target.bone.isActive()&&(!t.data.skinRequired||null!=this.skin&&n.Aq.contains(this.skin.constraints,t.data,!0)),t.active){var e=t.target,r=e.data.index,i=e.bone;null!=this.skin&&this.sortPathConstraintAttachment(this.skin,r,i),null!=this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,r,i);for(var o=0,a=this.data.skins.length;o<a;o++)this.sortPathConstraintAttachment(this.data.skins[o],r,i);var s=e.getAttachment();s instanceof H&&this.sortPathConstraintAttachmentWith(s,i);for(var u=t.bones,c=u.length,l=0;l<c;l++)this.sortBone(u[l]);this._updateCache.push(t);for(var f=0;f<c;f++)this.sortReset(u[f].children);for(var h=0;h<c;h++)u[h].sorted=!0}}},{key:"sortTransformConstraint",value:function(t){if(t.active=t.target.isActive()&&(!t.data.skinRequired||null!=this.skin&&n.Aq.contains(this.skin.constraints,t.data,!0)),t.active){this.sortBone(t.target);var e=t.bones,r=e.length;if(t.data.local)for(var i=0;i<r;i++){var o=e[i];this.sortBone(o.parent),this._updateCache.indexOf(o)>-1||this.updateCacheReset.push(o)}else for(var a=0;a<r;a++)this.sortBone(e[a]);this._updateCache.push(t);for(var s=0;s<r;s++)this.sortReset(e[s].children);for(var u=0;u<r;u++)e[u].sorted=!0}}},{key:"sortPathConstraintAttachment",value:function(t,e,r){var n=t.attachments[e];if(n)for(var i in n)this.sortPathConstraintAttachmentWith(n[i],r)}},{key:"sortPathConstraintAttachmentWith",value:function(t,e){if(t instanceof H){var r=t.bones;if(null==r)this.sortBone(e);else for(var n=this.bones,i=0;i<r.length;)for(var o=r[i++],a=i+o;i<a;i++){var s=r[i];this.sortBone(n[s])}}}},{key:"sortBone",value:function(t){if(!t.sorted){var e=t.parent;null!=e&&this.sortBone(e),t.sorted=!0,this._updateCache.push(t)}}},{key:"sortReset",value:function(t){for(var e=0,r=t.length;e<r;e++){var n=t[e];n.active&&(n.sorted&&this.sortReset(n.children),n.sorted=!1)}}},{key:"updateWorldTransform",value:function(){for(var t=this.updateCacheReset,e=0,r=t.length;e<r;e++){var n=t[e];n.ax=n.x,n.ay=n.y,n.arotation=n.rotation,n.ascaleX=n.scaleX,n.ascaleY=n.scaleY,n.ashearX=n.shearX,n.ashearY=n.shearY,n.appliedValid=!0}for(var i=this._updateCache,o=0,a=i.length;o<a;o++)i[o].update()}},{key:"setToSetupPose",value:function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()}},{key:"setBonesToSetupPose",value:function(){for(var t=this.bones,e=0,r=t.length;e<r;e++)t[e].setToSetupPose();for(var n=this.ikConstraints,i=0,o=n.length;i<o;i++){var a=n[i];a.mix=a.data.mix,a.softness=a.data.softness,a.bendDirection=a.data.bendDirection,a.compress=a.data.compress,a.stretch=a.data.stretch}for(var s=this.transformConstraints,u=0,c=s.length;u<c;u++){var l=s[u],f=l.data;l.rotateMix=f.rotateMix,l.translateMix=f.translateMix,l.scaleMix=f.scaleMix,l.shearMix=f.shearMix}for(var h=this.pathConstraints,p=0,d=h.length;p<d;p++){var y=h[p],v=y.data;y.position=v.position,y.spacing=v.spacing,y.rotateMix=v.rotateMix,y.translateMix=v.translateMix}}},{key:"setSlotsToSetupPose",value:function(){var t=this.slots;n.Aq.arrayCopy(t,0,this.drawOrder,0,t.length);for(var e=0,r=t.length;e<r;e++)t[e].setToSetupPose()}},{key:"getRootBone",value:function(){return 0==this.bones.length?null:this.bones[0]}},{key:"findBone",value:function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,r=0,n=e.length;r<n;r++){var i=e[r];if(i.data.name==t)return i}return null}},{key:"findBoneIndex",value:function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,r=0,n=e.length;r<n;r++)if(e[r].data.name==t)return r;return-1}},{key:"findSlot",value:function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,r=0,n=e.length;r<n;r++){var i=e[r];if(i.data.name==t)return i}return null}},{key:"findSlotIndex",value:function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,r=0,n=e.length;r<n;r++)if(e[r].data.name==t)return r;return-1}},{key:"setSkinByName",value:function(t){var e=this.data.findSkin(t);if(null==e)throw new Error("Skin not found: ".concat(t));this.setSkin(e)}},{key:"setSkin",value:function(t){if(t!=this.skin){if(null!=t)if(null!=this.skin)t.attachAll(this,this.skin);else for(var e=this.slots,r=0,n=e.length;r<n;r++){var i=e[r],o=i.data.attachmentName;if(null!=o){var a=t.getAttachment(r,o);null!=a&&i.setAttachment(a)}}this.skin=t,this.updateCache()}}},{key:"getAttachmentByName",value:function(t,e){return this.getAttachment(this.data.findSlotIndex(t),e)}},{key:"getAttachment",value:function(t,e){if(null==e)throw new Error("attachmentName cannot be null.");if(null!=this.skin){var r=this.skin.getAttachment(t,e);if(null!=r)return r}return null!=this.data.defaultSkin?this.data.defaultSkin.getAttachment(t,e):null}},{key:"setAttachment",value:function(t,e){if(null==t)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++){var o=r[n];if(o.data.name==t){var a=null;if(null!=e&&null==(a=this.getAttachment(n,e)))throw new Error("Attachment not found: ".concat(e,", for slot: ").concat(t));return void o.setAttachment(a)}}throw new Error("Slot not found: ".concat(t))}},{key:"findIkConstraint",value:function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.ikConstraints,r=0,n=e.length;r<n;r++){var i=e[r];if(i.data.name==t)return i}return null}},{key:"findTransformConstraint",value:function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.transformConstraints,r=0,n=e.length;r<n;r++){var i=e[r];if(i.data.name==t)return i}return null}},{key:"findPathConstraint",value:function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.pathConstraints,r=0,n=e.length;r<n;r++){var i=e[r];if(i.data.name==t)return i}return null}},{key:"getBounds",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Array(2);if(null==t)throw new Error("offset cannot be null.");if(null==e)throw new Error("size cannot be null.");for(var i=this.drawOrder,o=Number.POSITIVE_INFINITY,a=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,u=Number.NEGATIVE_INFINITY,c=0,l=i.length;c<l;c++){var f=i[c];if(f.bone.active){var h=0,p=null,d=f.getAttachment();if(d instanceof dt)h=8,p=n.Aq.setArraySize(r,h,0),d.computeWorldVertices(f.bone,p,0,2);else if(d instanceof L){var y=d;h=y.worldVerticesLength,p=n.Aq.setArraySize(r,h,0),y.computeWorldVertices(f,0,h,p,0,2)}if(null!=p)for(var v=0,m=p.length;v<m;v+=2){var b=p[v],g=p[v+1];o=Math.min(o,b),a=Math.min(a,g),s=Math.max(s,b),u=Math.max(u,g)}}}t.set(o,a),e.set(s-o,u-a)}},{key:"update",value:function(t){this.time+=t}},{key:"flipX",get:function(){return-1==this.scaleX},set:function(t){Mr.deprecatedWarning1||(Mr.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleX=t?1:-1}},{key:"flipY",get:function(){return-1==this.scaleY},set:function(t){Mr.deprecatedWarning1||(Mr.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleY=t?1:-1}}],e&&Ir(t.prototype,e),r&&Ir(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}(),Dr=Mr;function Nr(t){return Nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nr(t)}function Br(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Fr(n.key),n)}}function Fr(t){var e=function(t,e){if("object"!=Nr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Nr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Nr(e)?e:e+""}Dr.deprecatedWarning1=!1;var Lr=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.bones=new Array,this.slots=new Array,this.skins=new Array,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.fps=0},(e=[{key:"findBone",value:function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,r=0,n=e.length;r<n;r++){var i=e[r];if(i.name==t)return i}return null}},{key:"findBoneIndex",value:function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,r=0,n=e.length;r<n;r++)if(e[r].name==t)return r;return-1}},{key:"findSlot",value:function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,r=0,n=e.length;r<n;r++){var i=e[r];if(i.name==t)return i}return null}},{key:"findSlotIndex",value:function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,r=0,n=e.length;r<n;r++)if(e[r].name==t)return r;return-1}},{key:"findSkin",value:function(t){if(null==t)throw new Error("skinName cannot be null.");for(var e=this.skins,r=0,n=e.length;r<n;r++){var i=e[r];if(i.name==t)return i}return null}},{key:"findEvent",value:function(t){if(null==t)throw new Error("eventDataName cannot be null.");for(var e=this.events,r=0,n=e.length;r<n;r++){var i=e[r];if(i.name==t)return i}return null}},{key:"findAnimation",value:function(t){if(null==t)throw new Error("animationName cannot be null.");for(var e=this.animations,r=0,n=e.length;r<n;r++){var i=e[r];if(i.name==t)return i}return null}},{key:"findIkConstraint",value:function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.ikConstraints,r=0,n=e.length;r<n;r++){var i=e[r];if(i.name==t)return i}return null}},{key:"findTransformConstraint",value:function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.transformConstraints,r=0,n=e.length;r<n;r++){var i=e[r];if(i.name==t)return i}return null}},{key:"findPathConstraint",value:function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.pathConstraints,r=0,n=e.length;r<n;r++){var i=e[r];if(i.name==t)return i}return null}},{key:"findPathConstraintIndex",value:function(t){if(null==t)throw new Error("pathConstraintName cannot be null.");for(var e=this.pathConstraints,r=0,n=e.length;r<n;r++)if(e[r].name==t)return r;return-1}}])&&Br(t.prototype,e),r&&Br(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();function Ur(t){return Ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ur(t)}function Vr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Gr(n.key),n)}}function Xr(t,e,r){return e&&Vr(t.prototype,e),r&&Vr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gr(t){var e=function(t,e){if("object"!=Ur(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Ur(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ur(e)?e:e+""}var Yr=Xr(function t(e,r,i){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.color=new n.Q1(1,1,1,1),e<0)throw new Error("index must be >= 0.");if(null==r)throw new Error("name cannot be null.");if(null==i)throw new Error("boneData cannot be null.");this.index=e,this.name=r,this.boneData=i});function qr(t){return qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qr(t)}function Wr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Hr(n.key),n)}}function Hr(t){var e=function(t,e){if("object"!=qr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=qr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==qr(e)?e:e+""}function zr(t,e,r){return e=Zr(e),function(t,e){if(e&&("object"==qr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Qr()?Reflect.construct(e,r||[],Zr(t).constructor):e.apply(t,r))}function Qr(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Qr=function(){return!!t})()}function Zr(t){return Zr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Zr(t)}function Kr(t,e){return Kr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Kr(t,e)}var $r=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=zr(this,e,[t,0,!1])).bones=new Array,r.rotateMix=0,r.translateMix=0,r.scaleMix=0,r.shearMix=0,r.offsetRotation=0,r.offsetX=0,r.offsetY=0,r.offsetScaleX=0,r.offsetScaleY=0,r.offsetShearY=0,r.relative=!1,r.local=!1,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kr(t,e)}(e,t),r=e,n&&Wr(r.prototype,n),i&&Wr(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i}(Ye);function Jr(t){return Jr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jr(t)}function tn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,rn(n.key),n)}}function en(t,e,r){return e&&tn(t.prototype,e),r&&tn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function rn(t){var e=function(t,e){if("object"!=Jr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Jr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Jr(e)?e:e+""}function nn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var on=en(function t(e,r,n){nn(this,t),this.slotIndex=e,this.name=r,this.attachment=n}),an=function(){return en(function t(e){if(nn(this,t),this.attachments=new Array,this.bones=Array(),this.constraints=new Array,null==e)throw new Error("name cannot be null.");this.name=e},[{key:"setAttachment",value:function(t,e,r){if(null==r)throw new Error("attachment cannot be null.");var n=this.attachments;t>=n.length&&(n.length=t+1),n[t]||(n[t]={}),n[t][e]=r}},{key:"addSkin",value:function(t){for(var e=0;e<t.bones.length;e++){for(var r=t.bones[e],n=!1,i=0;i<this.bones.length;i++)if(this.bones[i]==r){n=!0;break}n||this.bones.push(r)}for(var o=0;o<t.constraints.length;o++){for(var a=t.constraints[o],s=!1,u=0;u<this.constraints.length;u++)if(this.constraints[u]==a){s=!0;break}s||this.constraints.push(a)}for(var c=t.getAttachments(),l=0;l<c.length;l++){var f=c[l];this.setAttachment(f.slotIndex,f.name,f.attachment)}}},{key:"copySkin",value:function(t){for(var e=0;e<t.bones.length;e++){for(var r=t.bones[e],n=!1,i=0;i<this.bones.length;i++)if(this.bones[i]==r){n=!0;break}n||this.bones.push(r)}for(var o=0;o<t.constraints.length;o++){for(var a=t.constraints[o],s=!1,u=0;u<this.constraints.length;u++)if(this.constraints[u]==a){s=!0;break}s||this.constraints.push(a)}for(var c=t.getAttachments(),l=0;l<c.length;l++){var f=c[l];null!=f.attachment&&(f.attachment instanceof L?(f.attachment=f.attachment.newLinkedMesh(),this.setAttachment(f.slotIndex,f.name,f.attachment)):(f.attachment=f.attachment.copy(),this.setAttachment(f.slotIndex,f.name,f.attachment)))}}},{key:"getAttachment",value:function(t,e){var r=this.attachments[t];return r?r[e]:null}},{key:"removeAttachment",value:function(t,e){var r=this.attachments[t];r&&(r[e]=null)}},{key:"getAttachments",value:function(){for(var t=new Array,e=0;e<this.attachments.length;e++){var r=this.attachments[e];if(r)for(var n in r){var i=r[n];i&&t.push(new on(e,n,i))}}return t}},{key:"getAttachmentsForSlot",value:function(t,e){var r=this.attachments[t];if(r)for(var n in r){var i=r[n];i&&e.push(new on(t,n,i))}}},{key:"clear",value:function(){this.attachments.length=0,this.bones.length=0,this.constraints.length=0}},{key:"attachAll",value:function(t,e){for(var r=0,n=0;n<t.slots.length;n++){var i=t.slots[n],o=i.getAttachment();if(o&&r<e.attachments.length){var a=e.attachments[r];for(var s in a){if(o==a[s]){var u=this.getAttachment(r,s);null!=u&&i.setAttachment(u);break}}}r++}}}])}();function sn(t){return sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sn(t)}function un(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fn(n.key),n)}}function ln(t,e,r){return e&&cn(t.prototype,e),r&&cn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function fn(t){var e=function(t,e){if("object"!=sn(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=sn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==sn(e)?e:e+""}var hn=function(){return ln(function t(e){un(this,t),this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e},[{key:"readSkeletonData",value:function(t){var e=this.scale,r=new Lr;r.name="";var i=new n.aG(t);if(r.hash=i.readString(),r.version=i.readString(),"3.8.75"===r.version){console.error("Unsupported skeleton data, 3.8.75 is deprecated, please export with a newer version of Spine.")}r.x=i.readFloat(),r.y=i.readFloat(),r.width=i.readFloat(),r.height=i.readFloat();var o=i.readBoolean();o&&(r.fps=i.readFloat(),r.imagesPath=i.readString(),r.audioPath=i.readString());var a=0;a=i.readInt(!0);for(var s=0;s<a;s++)i.strings.push(i.readString());a=i.readInt(!0);for(var u=0;u<a;u++){var c=i.readString(),l=0==u?null:r.bones[i.readInt(!0)],f=new Le(u,c,l);f.rotation=i.readFloat(),f.x=i.readFloat()*e,f.y=i.readFloat()*e,f.scaleX=i.readFloat(),f.scaleY=i.readFloat(),f.shearX=i.readFloat(),f.shearY=i.readFloat(),f.length=i.readFloat()*e,f.transformMode=hn.TransformModeValues[i.readInt(!0)],f.skinRequired=i.readBoolean(),o&&n.Q1.rgba8888ToColor(f.color,i.readInt32()),r.bones.push(f)}a=i.readInt(!0);for(var h=0;h<a;h++){var p=i.readString(),d=r.bones[i.readInt(!0)],y=new Yr(h,p,d);n.Q1.rgba8888ToColor(y.color,i.readInt32());var v=i.readInt32();-1!=v&&n.Q1.rgb888ToColor(y.darkColor=new n.Q1,v),y.attachmentName=i.readStringRef(),y.blendMode=hn.BlendModeValues[i.readInt(!0)],r.slots.push(y)}a=i.readInt(!0);for(var m,b=0;b<a;b++){var g=new hr(i.readString());g.order=i.readInt(!0),g.skinRequired=i.readBoolean(),m=i.readInt(!0);for(var w=0;w<m;w++)g.bones.push(r.bones[i.readInt(!0)]);g.target=r.bones[i.readInt(!0)],g.mix=i.readFloat(),g.softness=i.readFloat()*e,g.bendDirection=i.readByte(),g.compress=i.readBoolean(),g.stretch=i.readBoolean(),g.uniform=i.readBoolean(),r.ikConstraints.push(g)}a=i.readInt(!0);for(var S,x=0;x<a;x++){var _=new $r(i.readString());_.order=i.readInt(!0),_.skinRequired=i.readBoolean(),S=i.readInt(!0);for(var E=0;E<S;E++)_.bones.push(r.bones[i.readInt(!0)]);_.target=r.bones[i.readInt(!0)],_.local=i.readBoolean(),_.relative=i.readBoolean(),_.offsetRotation=i.readFloat(),_.offsetX=i.readFloat()*e,_.offsetY=i.readFloat()*e,_.offsetScaleX=i.readFloat(),_.offsetScaleY=i.readFloat(),_.offsetShearY=i.readFloat(),_.rotateMix=i.readFloat(),_.translateMix=i.readFloat(),_.scaleMix=i.readFloat(),_.shearMix=i.readFloat(),r.transformConstraints.push(_)}a=i.readInt(!0);for(var T,k=0;k<a;k++){var P=new wr(i.readString());P.order=i.readInt(!0),P.skinRequired=i.readBoolean(),T=i.readInt(!0);for(var O=0;O<T;O++)P.bones.push(r.bones[i.readInt(!0)]);P.target=r.slots[i.readInt(!0)],P.positionMode=hn.PositionModeValues[i.readInt(!0)],P.spacingMode=hn.SpacingModeValues[i.readInt(!0)],P.rotateMode=hn.RotateModeValues[i.readInt(!0)],P.offsetRotation=i.readFloat(),P.position=i.readFloat(),P.positionMode==n.pw.Fixed&&(P.position*=e),P.spacing=i.readFloat(),P.spacingMode!=Sr.Length&&P.spacingMode!=Sr.Fixed||(P.spacing*=e),P.rotateMix=i.readFloat(),P.translateMix=i.readFloat(),r.pathConstraints.push(P)}var A=this.readSkin(i,r,!0,o);null!=A&&(r.defaultSkin=A,r.skins.push(A));var R=r.skins.length;for(n.Aq.setArraySize(r.skins,a=R+i.readInt(!0));R<a;R++)r.skins[R]=this.readSkin(i,r,!1,o);a=this.linkedMeshes.length;for(var j=0;j<a;j++){var I=this.linkedMeshes[j],C=null==I.skin?r.defaultSkin:r.findSkin(I.skin);if(null==C)throw new Error("Skin not found: ".concat(I.skin));var M=C.getAttachment(I.slotIndex,I.parent);if(null==M)throw new Error("Parent mesh not found: ".concat(I.parent));I.mesh.deformAttachment=I.inheritDeform?M:I.mesh,I.mesh.setParentMesh(M)}this.linkedMeshes.length=0,a=i.readInt(!0);for(var D=0;D<a;D++){var N=new tr(i.readStringRef());N.intValue=i.readInt(!1),N.floatValue=i.readFloat(),N.stringValue=i.readString(),N.audioPath=i.readString(),null!=N.audioPath&&(N.volume=i.readFloat(),N.balance=i.readFloat()),r.events.push(N)}a=i.readInt(!0);for(var B=0;B<a;B++)r.animations.push(this.readAnimation(i,i.readString(),r));return r}},{key:"readSkin",value:function(t,e,r,n){var i=null,o=0;if(r){if(0==(o=t.readInt(!0)))return null;i=new an("default")}else{(i=new an(t.readStringRef())).bones.length=t.readInt(!0);for(var a=0,s=i.bones.length;a<s;a++)i.bones[a]=e.bones[t.readInt(!0)];for(var u=0,c=t.readInt(!0);u<c;u++)i.constraints.push(e.ikConstraints[t.readInt(!0)]);for(var l=0,f=t.readInt(!0);l<f;l++)i.constraints.push(e.transformConstraints[t.readInt(!0)]);for(var h=0,p=t.readInt(!0);h<p;h++)i.constraints.push(e.pathConstraints[t.readInt(!0)]);o=t.readInt(!0)}for(var d=0;d<o;d++)for(var y=t.readInt(!0),v=0,m=t.readInt(!0);v<m;v++){var b=t.readStringRef(),g=this.readAttachment(t,e,i,y,b,n);null!=g&&i.setAttachment(y,b,g)}return i}},{key:"readAttachment",value:function(t,e,r,i,o,a){var s=this.scale,u=t.readStringRef();null==u&&(u=o);var c=t.readByte();switch(hn.AttachmentTypeValues[c]){case n.wh.Region:var l=t.readStringRef(),f=t.readFloat(),h=t.readFloat(),p=t.readFloat(),d=t.readFloat(),y=t.readFloat(),v=t.readFloat(),m=t.readFloat(),b=t.readInt32();null==l&&(l=u);var g=this.attachmentLoader.newRegionAttachment(r,u,l);return null==g?null:(g.path=l,g.x=h*s,g.y=p*s,g.scaleX=d,g.scaleY=y,g.rotation=f,g.width=v*s,g.height=m*s,n.Q1.rgba8888ToColor(g.color,b),g);case n.wh.BoundingBox:var w=t.readInt(!0),S=this.readVertices(t,w),x=a?t.readInt32():0,_=this.attachmentLoader.newBoundingBoxAttachment(r,u);return null==_?null:(_.worldVerticesLength=w<<1,_.vertices=S.vertices,_.bones=S.bones,a&&n.Q1.rgba8888ToColor(_.color,x),_);case n.wh.Mesh:var E=t.readStringRef(),T=t.readInt32(),k=t.readInt(!0),P=this.readFloatArray(t,k<<1,1),O=this.readShortArray(t),A=this.readVertices(t,k),R=t.readInt(!0),j=null,I=0,C=0;a&&(j=this.readShortArray(t),I=t.readFloat(),C=t.readFloat()),null==E&&(E=u);var M=this.attachmentLoader.newMeshAttachment(r,u,E);return null==M?null:(M.path=E,n.Q1.rgba8888ToColor(M.color,T),M.bones=A.bones,M.vertices=A.vertices,M.worldVerticesLength=k<<1,M.triangles=O,M.regionUVs=new Float32Array(P),M.hullLength=R<<1,a&&(M.edges=j,M.width=I*s,M.height=C*s),M);case n.wh.LinkedMesh:var D=t.readStringRef(),N=t.readInt32(),B=t.readStringRef(),F=t.readStringRef(),L=t.readBoolean(),U=0,V=0;a&&(U=t.readFloat(),V=t.readFloat()),null==D&&(D=u);var X=this.attachmentLoader.newMeshAttachment(r,u,D);return null==X?null:(X.path=D,n.Q1.rgba8888ToColor(X.color,N),a&&(X.width=U*s,X.height=V*s),this.linkedMeshes.push(new dn(X,B,i,F,L)),X);case n.wh.Path:for(var G=t.readBoolean(),Y=t.readBoolean(),q=t.readInt(!0),W=this.readVertices(t,q),H=n.Aq.newArray(q/3,0),z=0,Q=H.length;z<Q;z++)H[z]=t.readFloat()*s;var Z=a?t.readInt32():0,K=this.attachmentLoader.newPathAttachment(r,u);return null==K?null:(K.closed=G,K.constantSpeed=Y,K.worldVerticesLength=q<<1,K.vertices=W.vertices,K.bones=W.bones,K.lengths=H,a&&n.Q1.rgba8888ToColor(K.color,Z),K);case n.wh.Point:var $=t.readFloat(),J=t.readFloat(),tt=t.readFloat(),et=a?t.readInt32():0,rt=this.attachmentLoader.newPointAttachment(r,u);return null==rt?null:(rt.x=J*s,rt.y=tt*s,rt.rotation=$,a&&n.Q1.rgba8888ToColor(rt.color,et),rt);case n.wh.Clipping:var nt=t.readInt(!0),it=t.readInt(!0),ot=this.readVertices(t,it),at=a?t.readInt32():0,st=this.attachmentLoader.newClippingAttachment(r,u);return null==st?null:(st.endSlot=e.slots[nt],st.worldVerticesLength=it<<1,st.vertices=ot.vertices,st.bones=ot.bones,a&&n.Q1.rgba8888ToColor(st.color,at),st)}return null}},{key:"readVertices",value:function(t,e){var r=e<<1,i=new yn,o=this.scale;if(!t.readBoolean())return i.vertices=this.readFloatArray(t,r,o),i;for(var a=new Array,s=new Array,u=0;u<e;u++){var c=t.readInt(!0);s.push(c);for(var l=0;l<c;l++)s.push(t.readInt(!0)),a.push(t.readFloat()*o),a.push(t.readFloat()*o),a.push(t.readFloat())}return i.vertices=n.Aq.toFloatArray(a),i.bones=s,i}},{key:"readFloatArray",value:function(t,e,r){var n=new Array(e);if(1==r)for(var i=0;i<e;i++)n[i]=t.readFloat();else for(var o=0;o<e;o++)n[o]=t.readFloat()*r;return n}},{key:"readShortArray",value:function(t){for(var e=t.readInt(!0),r=new Array(e),n=0;n<e;n++)r[n]=t.readShort();return r}},{key:"readAnimation",value:function(t,e,r){for(var i=new Array,o=this.scale,a=0,s=new n.Q1,u=new n.Q1,c=0,l=t.readInt(!0);c<l;c++)for(var f=t.readInt(!0),h=0,p=t.readInt(!0);h<p;h++){var d=t.readByte(),y=t.readInt(!0);switch(d){case hn.SLOT_ATTACHMENT:var v=new zt(y);v.slotIndex=f;for(var m=0;m<y;m++)v.setFrame(m,t.readFloat(),t.readStringRef());i.push(v),a=Math.max(a,v.frames[y-1]);break;case hn.SLOT_COLOR:var b=new qt(y);b.slotIndex=f;for(var g=0;g<y;g++){var w=t.readFloat();n.Q1.rgba8888ToColor(s,t.readInt32()),b.setFrame(g,w,s.r,s.g,s.b,s.a),g<y-1&&this.readCurve(t,g,b)}i.push(b),a=Math.max(a,b.frames[(y-1)*qt.ENTRIES]);break;case hn.SLOT_TWO_COLOR:var S=new Ht(y);S.slotIndex=f;for(var x=0;x<y;x++){var _=t.readFloat();n.Q1.rgba8888ToColor(s,t.readInt32()),n.Q1.rgb888ToColor(u,t.readInt32()),S.setFrame(x,_,s.r,s.g,s.b,s.a,u.r,u.g,u.b),x<y-1&&this.readCurve(t,x,S)}i.push(S),a=Math.max(a,S.frames[(y-1)*Ht.ENTRIES])}}for(var E=0,T=t.readInt(!0);E<T;E++)for(var k=t.readInt(!0),P=0,O=t.readInt(!0);P<O;P++){var A=t.readByte(),R=t.readInt(!0);switch(A){case hn.BONE_ROTATE:var j=new Lt(R);j.boneIndex=k;for(var I=0;I<R;I++)j.setFrame(I,t.readFloat(),t.readFloat()),I<R-1&&this.readCurve(t,I,j);i.push(j),a=Math.max(a,j.frames[(R-1)*Lt.ENTRIES]);break;case hn.BONE_TRANSLATE:case hn.BONE_SCALE:case hn.BONE_SHEAR:var C=void 0,M=1;A==hn.BONE_SCALE?C=new Xt(R):A==hn.BONE_SHEAR?C=new Gt(R):(C=new Vt(R),M=o),C.boneIndex=k;for(var D=0;D<R;D++)C.setFrame(D,t.readFloat(),t.readFloat()*M,t.readFloat()*M),D<R-1&&this.readCurve(t,D,C);i.push(C),a=Math.max(a,C.frames[(R-1)*Vt.ENTRIES])}}for(var N=0,B=t.readInt(!0);N<B;N++){var F=t.readInt(!0),L=t.readInt(!0),U=new te(L);U.ikConstraintIndex=F;for(var V=0;V<L;V++)U.setFrame(V,t.readFloat(),t.readFloat(),t.readFloat()*o,t.readByte(),t.readBoolean(),t.readBoolean()),V<L-1&&this.readCurve(t,V,U);i.push(U),a=Math.max(a,U.frames[(L-1)*te.ENTRIES])}for(var X=0,G=t.readInt(!0);X<G;X++){var Y=t.readInt(!0),q=t.readInt(!0),W=new re(q);W.transformConstraintIndex=Y;for(var H=0;H<q;H++)W.setFrame(H,t.readFloat(),t.readFloat(),t.readFloat(),t.readFloat(),t.readFloat()),H<q-1&&this.readCurve(t,H,W);i.push(W),a=Math.max(a,W.frames[(q-1)*re.ENTRIES])}for(var z=0,Q=t.readInt(!0);z<Q;z++)for(var Z=t.readInt(!0),K=r.pathConstraints[Z],$=0,J=t.readInt(!0);$<J;$++){var tt=t.readByte(),et=t.readInt(!0);switch(tt){case hn.PATH_POSITION:case hn.PATH_SPACING:var rt=void 0,nt=1;tt==hn.PATH_SPACING?(rt=new oe(et),K.spacingMode!=Sr.Length&&K.spacingMode!=Sr.Fixed||(nt=o)):(rt=new ie(et),K.positionMode==n.pw.Fixed&&(nt=o)),rt.pathConstraintIndex=Z;for(var it=0;it<et;it++)rt.setFrame(it,t.readFloat(),t.readFloat()*nt),it<et-1&&this.readCurve(t,it,rt);i.push(rt),a=Math.max(a,rt.frames[(et-1)*ie.ENTRIES]);break;case hn.PATH_MIX:var ot=new se(et);ot.pathConstraintIndex=Z;for(var at=0;at<et;at++)ot.setFrame(at,t.readFloat(),t.readFloat(),t.readFloat()),at<et-1&&this.readCurve(t,at,ot);i.push(ot),a=Math.max(a,ot.frames[(et-1)*se.ENTRIES])}}for(var st=0,ut=t.readInt(!0);st<ut;st++)for(var ct=r.skins[t.readInt(!0)],lt=0,ft=t.readInt(!0);lt<ft;lt++)for(var ht=t.readInt(!0),pt=0,dt=t.readInt(!0);pt<dt;pt++){var yt=ct.getAttachment(ht,t.readStringRef()),vt=null!=yt.bones,mt=yt.vertices,bt=vt?mt.length/3*2:mt.length,gt=t.readInt(!0),wt=new Zt(gt);wt.slotIndex=ht,wt.attachment=yt;for(var St=0;St<gt;St++){var xt=t.readFloat(),_t=void 0,Et=t.readInt(!0);if(0==Et)_t=vt?n.Aq.newFloatArray(bt):mt;else{_t=n.Aq.newFloatArray(bt);var Tt=t.readInt(!0);if(Et+=Tt,1==o)for(var kt=Tt;kt<Et;kt++)_t[kt]=t.readFloat();else for(var Pt=Tt;Pt<Et;Pt++)_t[Pt]=t.readFloat()*o;if(!vt)for(var Ot=0,At=_t.length;Ot<At;Ot++)_t[Ot]+=mt[Ot]}wt.setFrame(St,xt,_t),St<gt-1&&this.readCurve(t,St,wt)}i.push(wt),a=Math.max(a,wt.frames[gt-1])}var Rt=t.readInt(!0);if(Rt>0){for(var jt=new $t(Rt),It=r.slots.length,Ct=0;Ct<Rt;Ct++){for(var Dt=t.readFloat(),Nt=t.readInt(!0),Bt=n.Aq.newArray(It,0),Ft=It-1;Ft>=0;Ft--)Bt[Ft]=-1;for(var Ut=n.Aq.newArray(It-Nt,0),Yt=0,Wt=0,Qt=0;Qt<Nt;Qt++){for(var Jt=t.readInt(!0);Yt!=Jt;)Ut[Wt++]=Yt++;Bt[Yt+t.readInt(!0)]=Yt++}for(;Yt<It;)Ut[Wt++]=Yt++;for(var ee=It-1;ee>=0;ee--)-1==Bt[ee]&&(Bt[ee]=Ut[--Wt]);jt.setFrame(Ct,Dt,Bt)}i.push(jt),a=Math.max(a,jt.frames[Rt-1])}var ne=t.readInt(!0);if(ne>0){for(var ae=new Kt(ne),ue=0;ue<ne;ue++){var ce=t.readFloat(),le=r.events[t.readInt(!0)],fe=new Qe(ce,le);fe.intValue=t.readInt(!1),fe.floatValue=t.readFloat(),fe.stringValue=t.readBoolean()?t.readString():le.stringValue,null!=fe.data.audioPath&&(fe.volume=t.readFloat(),fe.balance=t.readFloat()),ae.setFrame(ue,fe)}i.push(ae),a=Math.max(a,ae.frames[ne-1])}return new Mt(e,i,a)}},{key:"readCurve",value:function(t,e,r){switch(t.readByte()){case hn.CURVE_STEPPED:r.setStepped(e);break;case hn.CURVE_BEZIER:this.setCurve(r,e,t.readFloat(),t.readFloat(),t.readFloat(),t.readFloat())}}},{key:"setCurve",value:function(t,e,r,n,i,o){t.setCurve(e,r,n,i,o)}}])}(),pn=hn;pn.AttachmentTypeValues=[0,1,2,3,4,5,6],pn.TransformModeValues=[n._C.Normal,n._C.OnlyTranslation,n._C.NoRotationOrReflection,n._C.NoScale,n._C.NoScaleOrReflection],pn.PositionModeValues=[n.pw.Fixed,n.pw.Percent],pn.SpacingModeValues=[Sr.Length,Sr.Fixed,Sr.Percent],pn.RotateModeValues=[n.Dr.Tangent,n.Dr.Chain,n.Dr.ChainScale],pn.BlendModeValues=[Re.B9.NORMAL,Re.B9.ADD,Re.B9.MULTIPLY,Re.B9.SCREEN],pn.BONE_ROTATE=0,pn.BONE_TRANSLATE=1,pn.BONE_SCALE=2,pn.BONE_SHEAR=3,pn.SLOT_ATTACHMENT=0,pn.SLOT_COLOR=1,pn.SLOT_TWO_COLOR=2,pn.PATH_POSITION=0,pn.PATH_SPACING=1,pn.PATH_MIX=2,pn.CURVE_LINEAR=0,pn.CURVE_STEPPED=1,pn.CURVE_BEZIER=2;var dn=ln(function t(e,r,n,i,o){un(this,t),this.mesh=e,this.skin=r,this.slotIndex=n,this.parent=i,this.inheritDeform=o}),yn=ln(function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;un(this,t),this.bones=e,this.vertices=r});function vn(t){return vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vn(t)}function mn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,bn(n.key),n)}}function bn(t){var e=function(t,e){if("object"!=vn(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=vn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==vn(e)?e:e+""}function gn(t,e,r){return e=Sn(e),function(t,e){if(e&&("object"==vn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,wn()?Reflect.construct(e,r||[],Sn(t).constructor):e.apply(t,r))}function wn(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(wn=function(){return!!t})()}function Sn(t){return Sn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Sn(t)}function xn(t,e){return xn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},xn(t,e)}var _n=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),gn(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xn(t,e)}(e,t),r=e,n&&mn(r.prototype,n),i&&mn(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i}(n.S3);r(53083784);function En(t){return En="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},En(t)}function Tn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,On(n.key),n)}}function Pn(t,e,r){return e&&kn(t.prototype,e),r&&kn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function On(t){var e=function(t,e){if("object"!=En(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=En(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==En(e)?e:e+""}var An=function(){function t(e){Tn(this,t),this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}return Pn(t,[{key:"readSkeletonData",value:function(e){var r=this.scale,i=new Lr,o="string"==typeof e?JSON.parse(e):e,a=o.skeleton;if(null!=a){if(i.hash=a.hash,i.version=a.spine,"3.8"!==i.version.substr(0,3)){var s="Spine 3.8 loader cant load version ".concat(a.spine,". Please configure your pixi-spine bundle");console.error(s)}if("3.8.75"===i.version){console.error("Unsupported skeleton data, 3.8.75 is deprecated, please export with a newer version of Spine.")}i.x=a.x,i.y=a.y,i.width=a.width,i.height=a.height,i.fps=a.fps,i.imagesPath=a.images}if(o.bones)for(var u=0;u<o.bones.length;u++){var c=o.bones[u],l=null,f=this.getValue(c,"parent",null);if(null!=f&&null==(l=i.findBone(f)))throw new Error("Parent bone not found: ".concat(f));var h=new Le(i.bones.length,c.name,l);h.length=this.getValue(c,"length",0)*r,h.x=this.getValue(c,"x",0)*r,h.y=this.getValue(c,"y",0)*r,h.rotation=this.getValue(c,"rotation",0),h.scaleX=this.getValue(c,"scaleX",1),h.scaleY=this.getValue(c,"scaleY",1),h.shearX=this.getValue(c,"shearX",0),h.shearY=this.getValue(c,"shearY",0),h.transformMode=t.transformModeFromString(this.getValue(c,"transform","normal")),h.skinRequired=this.getValue(c,"skin",!1),i.bones.push(h)}if(o.slots)for(var p=0;p<o.slots.length;p++){var d=o.slots[p],y=d.name,v=d.bone,m=i.findBone(v);if(null==m)throw new Error("Slot bone not found: ".concat(v));var b=new Yr(i.slots.length,y,m),g=this.getValue(d,"color",null);null!=g&&b.color.setFromString(g);var w=this.getValue(d,"dark",null);null!=w&&(b.darkColor=new n.Q1(1,1,1,1),b.darkColor.setFromString(w)),b.attachmentName=this.getValue(d,"attachment",null),b.blendMode=t.blendModeFromString(this.getValue(d,"blend","normal")),i.slots.push(b)}if(o.ik)for(var S=0;S<o.ik.length;S++){var x=o.ik[S],_=new hr(x.name);_.order=this.getValue(x,"order",0),_.skinRequired=this.getValue(x,"skin",!1);for(var E=0;E<x.bones.length;E++){var T=x.bones[E],k=i.findBone(T);if(null==k)throw new Error("IK bone not found: ".concat(T));_.bones.push(k)}var P=x.target;if(_.target=i.findBone(P),null==_.target)throw new Error("IK target bone not found: ".concat(P));_.mix=this.getValue(x,"mix",1),_.softness=this.getValue(x,"softness",0)*r,_.bendDirection=this.getValue(x,"bendPositive",!0)?1:-1,_.compress=this.getValue(x,"compress",!1),_.stretch=this.getValue(x,"stretch",!1),_.uniform=this.getValue(x,"uniform",!1),i.ikConstraints.push(_)}if(o.transform)for(var O=0;O<o.transform.length;O++){var A=o.transform[O],R=new $r(A.name);R.order=this.getValue(A,"order",0),R.skinRequired=this.getValue(A,"skin",!1);for(var j=0;j<A.bones.length;j++){var I=A.bones[j],C=i.findBone(I);if(null==C)throw new Error("Transform constraint bone not found: ".concat(I));R.bones.push(C)}var M=A.target;if(R.target=i.findBone(M),null==R.target)throw new Error("Transform constraint target bone not found: ".concat(M));R.local=this.getValue(A,"local",!1),R.relative=this.getValue(A,"relative",!1),R.offsetRotation=this.getValue(A,"rotation",0),R.offsetX=this.getValue(A,"x",0)*r,R.offsetY=this.getValue(A,"y",0)*r,R.offsetScaleX=this.getValue(A,"scaleX",0),R.offsetScaleY=this.getValue(A,"scaleY",0),R.offsetShearY=this.getValue(A,"shearY",0),R.rotateMix=this.getValue(A,"rotateMix",1),R.translateMix=this.getValue(A,"translateMix",1),R.scaleMix=this.getValue(A,"scaleMix",1),R.shearMix=this.getValue(A,"shearMix",1),i.transformConstraints.push(R)}if(o.path)for(var D=0;D<o.path.length;D++){var N=o.path[D],B=new wr(N.name);B.order=this.getValue(N,"order",0),B.skinRequired=this.getValue(N,"skin",!1);for(var F=0;F<N.bones.length;F++){var L=N.bones[F],U=i.findBone(L);if(null==U)throw new Error("Transform constraint bone not found: ".concat(L));B.bones.push(U)}var V=N.target;if(B.target=i.findSlot(V),null==B.target)throw new Error("Path target slot not found: ".concat(V));B.positionMode=t.positionModeFromString(this.getValue(N,"positionMode","percent")),B.spacingMode=t.spacingModeFromString(this.getValue(N,"spacingMode","length")),B.rotateMode=t.rotateModeFromString(this.getValue(N,"rotateMode","tangent")),B.offsetRotation=this.getValue(N,"rotation",0),B.position=this.getValue(N,"position",0),B.positionMode==n.pw.Fixed&&(B.position*=r),B.spacing=this.getValue(N,"spacing",0),B.spacingMode!=Sr.Length&&B.spacingMode!=Sr.Fixed||(B.spacing*=r),B.rotateMix=this.getValue(N,"rotateMix",1),B.translateMix=this.getValue(N,"translateMix",1),i.pathConstraints.push(B)}if(o.skins)for(var X=0;X<o.skins.length;X++){var G=o.skins[X],Y=new an(G.name);if(G.bones)for(var q=0;q<G.bones.length;q++){var W=i.findBone(G.bones[q]);if(null==W)throw new Error("Skin bone not found: ".concat(G.bones[X]));Y.bones.push(W)}if(G.ik)for(var H=0;H<G.ik.length;H++){var z=i.findIkConstraint(G.ik[H]);if(null==z)throw new Error("Skin IK constraint not found: ".concat(G.ik[X]));Y.constraints.push(z)}if(G.transform)for(var Q=0;Q<G.transform.length;Q++){var Z=i.findTransformConstraint(G.transform[Q]);if(null==Z)throw new Error("Skin transform constraint not found: ".concat(G.transform[X]));Y.constraints.push(Z)}if(G.path)for(var K=0;K<G.path.length;K++){var $=i.findPathConstraint(G.path[K]);if(null==$)throw new Error("Skin path constraint not found: ".concat(G.path[X]));Y.constraints.push($)}for(var J in G.attachments){var tt=i.findSlot(J);if(null==tt)throw new Error("Slot not found: ".concat(J));var et=G.attachments[J];for(var rt in et){var nt=this.readAttachment(et[rt],Y,tt.index,rt,i);null!=nt&&Y.setAttachment(tt.index,rt,nt)}}i.skins.push(Y),"default"==Y.name&&(i.defaultSkin=Y)}for(var it=0,ot=this.linkedMeshes.length;it<ot;it++){var at=this.linkedMeshes[it],st=null==at.skin?i.defaultSkin:i.findSkin(at.skin);if(null==st)throw new Error("Skin not found: ".concat(at.skin));var ut=st.getAttachment(at.slotIndex,at.parent);if(null==ut)throw new Error("Parent mesh not found: ".concat(at.parent));at.mesh.deformAttachment=at.inheritDeform?ut:at.mesh,at.mesh.setParentMesh(ut)}if(this.linkedMeshes.length=0,o.events)for(var ct in o.events){var lt=o.events[ct],ft=new tr(ct);ft.intValue=this.getValue(lt,"int",0),ft.floatValue=this.getValue(lt,"float",0),ft.stringValue=this.getValue(lt,"string",""),ft.audioPath=this.getValue(lt,"audio",null),null!=ft.audioPath&&(ft.volume=this.getValue(lt,"volume",1),ft.balance=this.getValue(lt,"balance",0)),i.events.push(ft)}if(o.animations)for(var ht in o.animations){var pt=o.animations[ht];this.readAnimation(pt,ht,i)}return i}},{key:"readAttachment",value:function(t,e,r,i,o){var a=this.scale;switch(i=this.getValue(t,"name",i),this.getValue(t,"type","region")){case"region":var s=this.getValue(t,"path",i),u=this.attachmentLoader.newRegionAttachment(e,i,s);if(null==u)return null;u.path=s,u.x=this.getValue(t,"x",0)*a,u.y=this.getValue(t,"y",0)*a,u.scaleX=this.getValue(t,"scaleX",1),u.scaleY=this.getValue(t,"scaleY",1),u.rotation=this.getValue(t,"rotation",0),u.width=t.width*a,u.height=t.height*a;var c=this.getValue(t,"color",null);return null!=c&&u.color.setFromString(c),u;case"boundingbox":var l=this.attachmentLoader.newBoundingBoxAttachment(e,i);if(null==l)return null;this.readVertices(t,l,t.vertexCount<<1);var f=this.getValue(t,"color",null);return null!=f&&l.color.setFromString(f),l;case"mesh":case"linkedmesh":var h=this.getValue(t,"path",i),p=this.attachmentLoader.newMeshAttachment(e,i,h);if(null==p)return null;p.path=h;var d=this.getValue(t,"color",null);null!=d&&p.color.setFromString(d),p.width=this.getValue(t,"width",0)*a,p.height=this.getValue(t,"height",0)*a;var y=this.getValue(t,"parent",null);if(null!=y)return this.linkedMeshes.push(new Rn(p,this.getValue(t,"skin",null),r,y,this.getValue(t,"deform",!0))),p;var v=t.uvs;return this.readVertices(t,p,v.length),p.triangles=t.triangles,p.regionUVs=new Float32Array(v),p.edges=this.getValue(t,"edges",null),p.hullLength=2*this.getValue(t,"hull",0),p;case"path":var m=this.attachmentLoader.newPathAttachment(e,i);if(null==m)return null;m.closed=this.getValue(t,"closed",!1),m.constantSpeed=this.getValue(t,"constantSpeed",!0);var b=t.vertexCount;this.readVertices(t,m,b<<1);for(var g=n.Aq.newArray(b/3,0),w=0;w<t.lengths.length;w++)g[w]=t.lengths[w]*a;m.lengths=g;var S=this.getValue(t,"color",null);return null!=S&&m.color.setFromString(S),m;case"point":var x=this.attachmentLoader.newPointAttachment(e,i);if(null==x)return null;x.x=this.getValue(t,"x",0)*a,x.y=this.getValue(t,"y",0)*a,x.rotation=this.getValue(t,"rotation",0);var _=this.getValue(t,"color",null);return null!=_&&x.color.setFromString(_),x;case"clipping":var E=this.attachmentLoader.newClippingAttachment(e,i);if(null==E)return null;var T=this.getValue(t,"end",null);if(null!=T){var k=o.findSlot(T);if(null==k)throw new Error("Clipping end slot not found: ".concat(T));E.endSlot=k}var P=t.vertexCount;this.readVertices(t,E,P<<1);var O=this.getValue(t,"color",null);return null!=O&&E.color.setFromString(O),E}return null}},{key:"readVertices",value:function(t,e,r){var i=this.scale;e.worldVerticesLength=r;var o=t.vertices;if(r!=o.length){for(var a=new Array,s=new Array,u=0,c=o.length;u<c;){var l=o[u++];s.push(l);for(var f=u+4*l;u<f;u+=4)s.push(o[u]),a.push(o[u+1]*i),a.push(o[u+2]*i),a.push(o[u+3])}e.bones=s,e.vertices=n.Aq.toFloatArray(a)}else{var h=n.Aq.toFloatArray(o);if(1!=i)for(var p=0,d=o.length;p<d;p++)h[p]*=i;e.vertices=h}}},{key:"readAnimation",value:function(t,e,r){var i=this.scale,o=new Array,a=0;if(t.slots)for(var s in t.slots){var u=t.slots[s],c=r.findSlotIndex(s);if(-1==c)throw new Error("Slot not found: ".concat(s));for(var l in u){var f=u[l];if("attachment"==l){var h=new zt(f.length);h.slotIndex=c;for(var p=0,d=0;d<f.length;d++){var y=f[d];h.setFrame(p++,this.getValue(y,"time",0),y.name)}o.push(h),a=Math.max(a,h.frames[h.getFrameCount()-1])}else if("color"==l){var v=new qt(f.length);v.slotIndex=c;for(var m=0,b=0;b<f.length;b++){var g=f[b],w=new n.Q1;w.setFromString(g.color||"ffffffff"),v.setFrame(m,this.getValue(g,"time",0),w.r,w.g,w.b,w.a),this.readCurve(g,v,m),m++}o.push(v),a=Math.max(a,v.frames[(v.getFrameCount()-1)*qt.ENTRIES])}else{if("twoColor"!=l)throw new Error("Invalid timeline type for a slot: ".concat(l," (").concat(s,")"));var S=new Ht(f.length);S.slotIndex=c;for(var x=0,_=0;_<f.length;_++){var E=f[_],T=new n.Q1,k=new n.Q1;T.setFromString(E.light),k.setFromString(E.dark),S.setFrame(x,this.getValue(E,"time",0),T.r,T.g,T.b,T.a,k.r,k.g,k.b),this.readCurve(E,S,x),x++}o.push(S),a=Math.max(a,S.frames[(S.getFrameCount()-1)*Ht.ENTRIES])}}}if(t.bones)for(var P in t.bones){var O=t.bones[P],A=r.findBoneIndex(P);if(-1==A)throw new Error("Bone not found: ".concat(P));for(var R in O){var j=O[R];if("rotate"===R){var I=new Lt(j.length);I.boneIndex=A;for(var C=0,M=0;M<j.length;M++){var D=j[M];I.setFrame(C,this.getValue(D,"time",0),this.getValue(D,"angle",0)),this.readCurve(D,I,C),C++}o.push(I),a=Math.max(a,I.frames[(I.getFrameCount()-1)*Lt.ENTRIES])}else{if("translate"!==R&&"scale"!==R&&"shear"!==R)throw new Error("Invalid timeline type for a bone: ".concat(R," (").concat(P,")"));var N=null,B=1,F=0;"scale"===R?(N=new Xt(j.length),F=1):"shear"===R?N=new Gt(j.length):(N=new Vt(j.length),B=i),N.boneIndex=A;for(var L=0,U=0;U<j.length;U++){var V=j[U],X=this.getValue(V,"x",F),G=this.getValue(V,"y",F);N.setFrame(L,this.getValue(V,"time",0),X*B,G*B),this.readCurve(V,N,L),L++}o.push(N),a=Math.max(a,N.frames[(N.getFrameCount()-1)*Vt.ENTRIES])}}}if(t.ik)for(var Y in t.ik){var q=t.ik[Y],W=r.findIkConstraint(Y),H=new te(q.length);H.ikConstraintIndex=r.ikConstraints.indexOf(W);for(var z=0,Q=0;Q<q.length;Q++){var Z=q[Q];H.setFrame(z,this.getValue(Z,"time",0),this.getValue(Z,"mix",1),this.getValue(Z,"softness",0)*i,this.getValue(Z,"bendPositive",!0)?1:-1,this.getValue(Z,"compress",!1),this.getValue(Z,"stretch",!1)),this.readCurve(Z,H,z),z++}o.push(H),a=Math.max(a,H.frames[(H.getFrameCount()-1)*te.ENTRIES])}if(t.transform)for(var K in t.transform){var $=t.transform[K],J=r.findTransformConstraint(K),tt=new re($.length);tt.transformConstraintIndex=r.transformConstraints.indexOf(J);for(var et=0,rt=0;rt<$.length;rt++){var nt=$[rt];tt.setFrame(et,this.getValue(nt,"time",0),this.getValue(nt,"rotateMix",1),this.getValue(nt,"translateMix",1),this.getValue(nt,"scaleMix",1),this.getValue(nt,"shearMix",1)),this.readCurve(nt,tt,et),et++}o.push(tt),a=Math.max(a,tt.frames[(tt.getFrameCount()-1)*re.ENTRIES])}if(t.path)for(var it in t.path){var ot=t.path[it],at=r.findPathConstraintIndex(it);if(-1==at)throw new Error("Path constraint not found: ".concat(it));var st=r.pathConstraints[at];for(var ut in ot){var ct=ot[ut];if("position"===ut||"spacing"===ut){var lt=null,ft=1;"spacing"===ut?(lt=new oe(ct.length),st.spacingMode!=Sr.Length&&st.spacingMode!=Sr.Fixed||(ft=i)):(lt=new ie(ct.length),st.positionMode==n.pw.Fixed&&(ft=i)),lt.pathConstraintIndex=at;for(var ht=0,pt=0;pt<ct.length;pt++){var dt=ct[pt];lt.setFrame(ht,this.getValue(dt,"time",0),this.getValue(dt,ut,0)*ft),this.readCurve(dt,lt,ht),ht++}o.push(lt),a=Math.max(a,lt.frames[(lt.getFrameCount()-1)*ie.ENTRIES])}else if("mix"===ut){var yt=new se(ct.length);yt.pathConstraintIndex=at;for(var vt=0,mt=0;mt<ct.length;mt++){var bt=ct[mt];yt.setFrame(vt,this.getValue(bt,"time",0),this.getValue(bt,"rotateMix",1),this.getValue(bt,"translateMix",1)),this.readCurve(bt,yt,vt),vt++}o.push(yt),a=Math.max(a,yt.frames[(yt.getFrameCount()-1)*se.ENTRIES])}}}if(t.deform)for(var gt in t.deform){var wt=t.deform[gt],St=r.findSkin(gt);if(null!=St)for(var xt in wt){var _t=wt[xt],Et=r.findSlotIndex(xt);if(-1==Et)throw new Error("Slot not found: ".concat(_t.name));for(var Tt in _t){var kt=_t[Tt],Pt=St.getAttachment(Et,Tt);if(null==Pt)throw new Error("Deform attachment not found: ".concat(kt.name));var Ot=null!=Pt.bones,At=Pt.vertices,Rt=Ot?At.length/3*2:At.length,jt=new Zt(kt.length);jt.slotIndex=Et,jt.attachment=Pt;for(var It=0,Ct=0;Ct<kt.length;Ct++){var Dt=kt[Ct],Nt=void 0,Bt=this.getValue(Dt,"vertices",null);if(null==Bt)Nt=Ot?n.Aq.newFloatArray(Rt):At;else{Nt=n.Aq.newFloatArray(Rt);var Ft=this.getValue(Dt,"offset",0);if(n.Aq.arrayCopy(Bt,0,Nt,Ft,Bt.length),1!=i)for(var Ut=Ft,Yt=Ut+Bt.length;Ut<Yt;Ut++)Nt[Ut]*=i;if(!Ot)for(var Wt=0;Wt<Rt;Wt++)Nt[Wt]+=At[Wt]}jt.setFrame(It,this.getValue(Dt,"time",0),Nt),this.readCurve(Dt,jt,It),It++}o.push(jt),a=Math.max(a,jt.frames[jt.getFrameCount()-1])}}else if(n.W0.FAIL_ON_NON_EXISTING_SKIN)throw new Error("Skin not found: ".concat(gt))}var Qt=t.drawOrder;if(null==Qt&&(Qt=t.draworder),null!=Qt){for(var Jt=new $t(Qt.length),ee=r.slots.length,ne=0,ae=0;ae<Qt.length;ae++){var ue=Qt[ae],ce=null,le=this.getValue(ue,"offsets",null);if(null!=le){ce=n.Aq.newArray(ee,-1);for(var fe=n.Aq.newArray(ee-le.length,0),he=0,pe=0,de=0;de<le.length;de++){var ye=le[de],ve=r.findSlotIndex(ye.slot);if(-1==ve)throw new Error("Slot not found: ".concat(ye.slot));for(;he!=ve;)fe[pe++]=he++;ce[he+ye.offset]=he++}for(;he<ee;)fe[pe++]=he++;for(var me=ee-1;me>=0;me--)-1==ce[me]&&(ce[me]=fe[--pe])}Jt.setFrame(ne++,this.getValue(ue,"time",0),ce)}o.push(Jt),a=Math.max(a,Jt.frames[Jt.getFrameCount()-1])}if(t.events){for(var be=new Kt(t.events.length),ge=0,we=0;we<t.events.length;we++){var Se=t.events[we],xe=r.findEvent(Se.name);if(null==xe)throw new Error("Event not found: ".concat(Se.name));var _e=new Qe(n.Aq.toSinglePrecision(this.getValue(Se,"time",0)),xe);_e.intValue=this.getValue(Se,"int",xe.intValue),_e.floatValue=this.getValue(Se,"float",xe.floatValue),_e.stringValue=this.getValue(Se,"string",xe.stringValue),null!=_e.data.audioPath&&(_e.volume=this.getValue(Se,"volume",1),_e.balance=this.getValue(Se,"balance",0)),be.setFrame(ge++,_e)}o.push(be),a=Math.max(a,be.frames[be.getFrameCount()-1])}if(isNaN(a))throw new Error("Error while parsing animation, duration is NaN");r.animations.push(new Mt(e,o,a))}},{key:"readCurve",value:function(t,e,r){if(t.hasOwnProperty("curve"))if("stepped"===t.curve)e.setStepped(r);else{var n=t.curve;e.setCurve(r,n,this.getValue(t,"c2",0),this.getValue(t,"c3",1),this.getValue(t,"c4",1))}}},{key:"getValue",value:function(t,e,r){return void 0!==t[e]?t[e]:r}}],[{key:"blendModeFromString",value:function(t){if("normal"==(t=t.toLowerCase()))return Re.B9.NORMAL;if("additive"==t)return Re.B9.ADD;if("multiply"==t)return Re.B9.MULTIPLY;if("screen"==t)return Re.B9.SCREEN;throw new Error("Unknown blend mode: ".concat(t))}},{key:"positionModeFromString",value:function(t){if("fixed"==(t=t.toLowerCase()))return n.pw.Fixed;if("percent"==t)return n.pw.Percent;throw new Error("Unknown position mode: ".concat(t))}},{key:"spacingModeFromString",value:function(t){if("length"==(t=t.toLowerCase()))return Sr.Length;if("fixed"==t)return Sr.Fixed;if("percent"==t)return Sr.Percent;throw new Error("Unknown position mode: ".concat(t))}},{key:"rotateModeFromString",value:function(t){if("tangent"==(t=t.toLowerCase()))return n.Dr.Tangent;if("chain"==t)return n.Dr.Chain;if("chainscale"==t)return n.Dr.ChainScale;throw new Error("Unknown rotate mode: ".concat(t))}},{key:"transformModeFromString",value:function(t){if("normal"==(t=t.toLowerCase()))return n._C.Normal;if("onlytranslation"==t)return n._C.OnlyTranslation;if("norotationorreflection"==t)return n._C.NoRotationOrReflection;if("noscale"==t)return n._C.NoScale;if("noscaleorreflection"==t)return n._C.NoScaleOrReflection;throw new Error("Unknown transform mode: ".concat(t))}}])}(),Rn=Pn(function t(e,r,n,i,o){Tn(this,t),this.mesh=e,this.skin=r,this.slotIndex=n,this.parent=i,this.inheritDeform=o});function jn(t){return jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jn(t)}function In(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Cn(n.key),n)}}function Cn(t){var e=function(t,e){if("object"!=jn(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=jn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==jn(e)?e:e+""}function Mn(t,e,r){return e=Nn(e),function(t,e){if(e&&("object"==jn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Dn()?Reflect.construct(e,r||[],Nn(t).constructor):e.apply(t,r))}function Dn(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Dn=function(){return!!t})()}function Nn(t){return Nn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Nn(t)}function Bn(t,e){return Bn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Bn(t,e)}var Fn=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Mn(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bn(t,e)}(e,t),r=e,(n=[{key:"createSkeleton",value:function(t){this.skeleton=new Dr(t),this.skeleton.updateWorldTransform(),this.stateData=new Te(t),this.state=new de(this.stateData)}}])&&In(r.prototype,n),i&&In(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i}(n.bJ)},44665264:(t,e,r)=>{"use strict";r.r(e),r.d(e,{AlphaTimeline:()=>he,Animation:()=>At,AnimationState:()=>Me,AnimationStateAdapter:()=>Le,AnimationStateData:()=>Ze,AtlasAttachmentLoader:()=>tr,Attachment:()=>p,AttachmentTimeline:()=>ye,Bone:()=>or,BoneData:()=>lr,BoundingBoxAttachment:()=>_,ClippingAttachment:()=>j,ConstraintData:()=>yr,CurveTimeline:()=>Kt,CurveTimeline1:()=>$t,CurveTimeline2:()=>Jt,DeformTimeline:()=>ve,DrawOrderTimeline:()=>we,Event:()=>wr,EventData:()=>Tr,EventQueue:()=>Be,EventTimeline:()=>be,EventType:()=>Fe,IkConstraint:()=>Ar,IkConstraintData:()=>Br,IkConstraintTimeline:()=>Se,MeshAttachment:()=>U,PathAttachment:()=>z,PathConstraint:()=>Kr,PathConstraintData:()=>qr,PathConstraintMixTimeline:()=>Te,PathConstraintPositionTimeline:()=>_e,PathConstraintSpacingTimeline:()=>Ee,PointAttachment:()=>rt,RGB2Timeline:()=>de,RGBA2Timeline:()=>pe,RGBATimeline:()=>le,RGBTimeline:()=>fe,RegionAttachment:()=>ft,RotateTimeline:()=>te,ScaleTimeline:()=>ie,ScaleXTimeline:()=>oe,ScaleYTimeline:()=>ae,Sequence:()=>vt,SequenceMode:()=>mt,SequenceModeValues:()=>bt,SequenceTimeline:()=>Pe,ShearTimeline:()=>se,ShearXTimeline:()=>ue,ShearYTimeline:()=>ce,Skeleton:()=>fn,SkeletonBinary:()=>Vn,SkeletonBounds:()=>_i,SkeletonData:()=>yn,SkeletonJson:()=>Ai,Skin:()=>Dn,SkinEntry:()=>Mn,Slot:()=>en,SlotData:()=>wn,SpacingMode:()=>Wr,Spine:()=>Xi,Timeline:()=>Zt,TrackEntry:()=>Ne,TransformConstraint:()=>an,TransformConstraintData:()=>On,TransformConstraintTimeline:()=>xe,TranslateTimeline:()=>ee,TranslateXTimeline:()=>re,TranslateYTimeline:()=>ne,VertexAttachment:()=>y});r(29204099),r(53375191),r(73503923),r(35669252),r(44381336),r(62951728),r(17522308),r(4421388),r(69994507),r(1906035),r(41624185),r(32570708),r(74018857);var n=r(26664026);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function o(t,e,r){return e=s(e),function(t,e){if(e&&("object"==i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,a()?Reflect.construct(e,r||[],s(t).constructor):e.apply(t,r))}function a(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(a=function(){return!!t})()}function s(t){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},s(t)}function u(t,e){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},u(t,e)}function c(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,f(n.key),n)}}function l(t,e,r){return e&&c(t.prototype,e),r&&c(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function f(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==i(e)?e:e+""}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var p=l(function t(e){if(h(this,t),!e)throw new Error("name cannot be null.");this.name=e}),d=function(t){function e(t){var r;return h(this,e),(r=o(this,e,[t])).id=d.nextID++,r.bones=null,r.vertices=[],r.worldVerticesLength=0,r.timelineAttachment=r,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e)}(e,t),l(e,[{key:"computeWorldVerticesOld",value:function(t,e){this.computeWorldVertices(t,0,this.worldVerticesLength,e,0,2)}},{key:"computeWorldVertices",value:function(t,e,r,n,i,o){r=i+(r>>1)*o;var a=t.bone.skeleton,s=t.deform,u=this.vertices,c=this.bones;if(c){for(var l=0,f=0,h=0;h<e;h+=2){var p=c[l];l+=p+1,f+=p}var d=a.bones;if(0==s.length)for(var y=i,v=3*f;y<r;y+=o){var m=0,b=0,g=c[l++];for(g+=l;l<g;l++,v+=3){var w=d[c[l]].matrix,S=u[v],x=u[v+1],_=u[v+2];m+=(S*w.a+x*w.c+w.tx)*_,b+=(S*w.b+x*w.d+w.ty)*_}n[y]=m,n[y+1]=b}else for(var E=s,T=i,k=3*f,P=f<<1;T<r;T+=o){var O=0,A=0,R=c[l++];for(R+=l;l<R;l++,k+=3,P+=2){var j=d[c[l]].matrix,I=u[k]+E[P],C=u[k+1]+E[P+1],M=u[k+2];O+=(I*j.a+C*j.c+j.tx)*M,A+=(I*j.b+C*j.d+j.ty)*M}n[T]=O,n[T+1]=A}}else{s.length>0&&(u=s);for(var D=t.bone.matrix,N=D.tx,B=D.ty,F=D.a,L=D.c,U=D.b,V=D.d,X=e,G=i;G<r;X+=2,G+=o){var Y=u[X],q=u[X+1];n[G]=Y*F+q*L+N,n[G+1]=Y*U+q*V+B}}}},{key:"copyTo",value:function(t){this.bones?(t.bones=new Array(this.bones.length),n.Aq.arrayCopy(this.bones,0,t.bones,0,this.bones.length)):t.bones=null,this.vertices&&(t.vertices=n.Aq.newFloatArray(this.vertices.length),n.Aq.arrayCopy(this.vertices,0,t.vertices,0,this.vertices.length)),t.worldVerticesLength=this.worldVerticesLength,t.timelineAttachment=this.timelineAttachment}}])}(p),y=d;function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function m(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,b(n.key),n)}}function b(t){var e=function(t,e){if("object"!=v(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=v(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==v(e)?e:e+""}function g(t,e,r){return e=S(e),function(t,e){if(e&&("object"==v(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,w()?Reflect.construct(e,r||[],S(t).constructor):e.apply(t,r))}function w(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(w=function(){return!!t})()}function S(t){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},S(t)}function x(t,e){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},x(t,e)}y.nextID=0;var _=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=g(this,e,[t])).type=n.wh.BoundingBox,r.color=new n.Q1(1,1,1,1),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&x(t,e)}(e,t),r=e,(i=[{key:"copy",value:function(){var t=new e(this.name);return this.copyTo(t),t.color.setFromColor(this.color),t}}])&&m(r.prototype,i),o&&m(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(y);function E(t){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E(t)}function T(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,k(n.key),n)}}function k(t){var e=function(t,e){if("object"!=E(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=E(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==E(e)?e:e+""}function P(t,e,r){return e=A(e),function(t,e){if(e&&("object"==E(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,O()?Reflect.construct(e,r||[],A(t).constructor):e.apply(t,r))}function O(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(O=function(){return!!t})()}function A(t){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},A(t)}function R(t,e){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},R(t,e)}var j=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=P(this,e,[t])).type=n.wh.Clipping,r.endSlot=null,r.color=new n.Q1(.2275,.2275,.8078,1),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&R(t,e)}(e,t),r=e,(i=[{key:"copy",value:function(){var t=new e(this.name);return this.copyTo(t),t.endSlot=this.endSlot,t.color.setFromColor(this.color),t}}])&&T(r.prototype,i),o&&T(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(y);r(41904727),r(33688577),r(95440747),r(86965080),r(54497072),r(89766562),r(20211116),r(6224830),r(18501354),r(49912228),r(29762787),r(87324110),r(31353187),r(49433423),r(7405150),r(76679030),r(19352784),r(283227),r(39512023),r(11753769),r(9404124),r(89875075),r(40993271),r(18381800),r(69967115),r(23549037),r(49032015),r(17179093),r(28253461),r(55692573),r(52899355),r(89433276),r(7478740),r(40707609),r(78027336),r(26098537),r(47326777);function I(t){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I(t)}function C(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,M(n.key),n)}}function M(t){var e=function(t,e){if("object"!=I(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=I(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==I(e)?e:e+""}function D(t,e,r){return e=F(e),function(t,e){if(e&&("object"==I(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,N()?Reflect.construct(e,r||[],F(t).constructor):e.apply(t,r))}function N(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(N=function(){return!!t})()}function B(){return B="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=F(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},B.apply(null,arguments)}function F(t){return F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},F(t)}function L(t,e){return L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},L(t,e)}var U=function(t){function e(t,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=D(this,e,[t])).type=n.wh.Mesh,i.region=null,i.triangles=[],i.color=new n.Q1(1,1,1,1),i.width=0,i.height=0,i.hullLength=0,i.edges=[],i.parentMesh=null,i.sequence=null,i.tempColor=new n.Q1(0,0,0,0),i.path=r,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&L(t,e)}(e,t),r=e,i=[{key:"getParentMesh",value:function(){return this.parentMesh}},{key:"setParentMesh",value:function(t){this.parentMesh=t,t&&(this.bones=t.bones,this.vertices=t.vertices,this.worldVerticesLength=t.worldVerticesLength,this.regionUVs=t.regionUVs,this.triangles=t.triangles,this.hullLength=t.hullLength,this.worldVerticesLength=t.worldVerticesLength)}},{key:"copy",value:function(){if(this.parentMesh)return this.newLinkedMesh();var t=new e(this.name,this.path);return t.region=this.region,t.color.setFromColor(this.color),this.copyTo(t),t.regionUVs=new Float32Array(this.regionUVs.length),n.Aq.arrayCopy(this.regionUVs,0,t.regionUVs,0,this.regionUVs.length),t.triangles=new Array(this.triangles.length),n.Aq.arrayCopy(this.triangles,0,t.triangles,0,this.triangles.length),t.hullLength=this.hullLength,t.sequence=null!=this.sequence?this.sequence.copy():null,this.edges&&(t.edges=new Array(this.edges.length),n.Aq.arrayCopy(this.edges,0,t.edges,0,this.edges.length)),t.width=this.width,t.height=this.height,t}},{key:"computeWorldVertices",value:function(t,r,n,i,o,a){var s,u,c,l,f;null!=this.sequence&&this.sequence.apply(t,this),(s=e,u="computeWorldVertices",c=this,f=B(F(1&(l=3)?s.prototype:s),u,c),2&l&&"function"==typeof f?function(t){return f.apply(c,t)}:f)([t,r,n,i,o,a])}},{key:"newLinkedMesh",value:function(){var t=new e(this.name,this.path);return t.region=this.region,t.color.setFromColor(this.color),t.timelineAttachment=this.timelineAttachment,t.setParentMesh(this.parentMesh?this.parentMesh:this),t}}],i&&C(r.prototype,i),o&&C(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(y);function V(t){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V(t)}function X(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,G(n.key),n)}}function G(t){var e=function(t,e){if("object"!=V(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=V(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==V(e)?e:e+""}function Y(t,e,r){return e=W(e),function(t,e){if(e&&("object"==V(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,q()?Reflect.construct(e,r||[],W(t).constructor):e.apply(t,r))}function q(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(q=function(){return!!t})()}function W(t){return W=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},W(t)}function H(t,e){return H=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},H(t,e)}var z=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=Y(this,e,[t])).type=n.wh.Path,r.lengths=[],r.closed=!1,r.constantSpeed=!1,r.color=new n.Q1(1,1,1,1),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&H(t,e)}(e,t),r=e,(i=[{key:"copy",value:function(){var t=new e(this.name);return this.copyTo(t),t.lengths=new Array(this.lengths.length),n.Aq.arrayCopy(this.lengths,0,t.lengths,0,this.lengths.length),t.closed=closed,t.constantSpeed=this.constantSpeed,t.color.setFromColor(this.color),t}}])&&X(r.prototype,i),o&&X(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(y);function Q(t){return Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Q(t)}function Z(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,K(n.key),n)}}function K(t){var e=function(t,e){if("object"!=Q(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Q(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Q(e)?e:e+""}function $(t,e,r){return e=tt(e),function(t,e){if(e&&("object"==Q(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,J()?Reflect.construct(e,r||[],tt(t).constructor):e.apply(t,r))}function J(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(J=function(){return!!t})()}function tt(t){return tt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},tt(t)}function et(t,e){return et=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},et(t,e)}var rt=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=$(this,e,[t])).type=n.wh.Point,r.x=0,r.y=0,r.rotation=0,r.color=new n.Q1(.38,.94,0,1),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&et(t,e)}(e,t),r=e,(i=[{key:"computeWorldPosition",value:function(t,e){var r=t.matrix;return e.x=this.x*r.a+this.y*r.c+t.worldX,e.y=this.x*r.b+this.y*r.d+t.worldY,e}},{key:"computeWorldRotation",value:function(t){var e=t.matrix,r=n.cj.cosDeg(this.rotation),i=n.cj.sinDeg(this.rotation),o=r*e.a+i*e.c,a=r*e.b+i*e.d;return Math.atan2(a,o)*n.cj.radDeg}},{key:"copy",value:function(){var t=new e(this.name);return t.x=this.x,t.y=this.y,t.rotation=this.rotation,t.color.setFromColor(this.color),t}}])&&Z(r.prototype,i),o&&Z(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(y);function nt(t){return nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nt(t)}function it(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ot(n.key),n)}}function ot(t){var e=function(t,e){if("object"!=nt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=nt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==nt(e)?e:e+""}function at(t,e,r){return e=ut(e),function(t,e){if(e&&("object"==nt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,st()?Reflect.construct(e,r||[],ut(t).constructor):e.apply(t,r))}function st(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(st=function(){return!!t})()}function ut(t){return ut=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ut(t)}function ct(t,e){return ct=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ct(t,e)}var lt=function(t){function e(t,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=at(this,e,[t])).type=n.wh.Region,i.x=0,i.y=0,i.scaleX=1,i.scaleY=1,i.rotation=0,i.width=0,i.height=0,i.color=new n.Q1(1,1,1,1),i.rendererObject=null,i.region=null,i.sequence=null,i.offset=n.Aq.newFloatArray(8),i.uvs=n.Aq.newFloatArray(8),i.tempColor=new n.Q1(1,1,1,1),i.path=r,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ct(t,e)}(e,t),r=e,(i=[{key:"updateRegion",value:function(){if(!this.region)throw new Error("Region not set.");var t=this.region,e=this.width/this.region.originalWidth*this.scaleX,r=this.height/this.region.originalHeight*this.scaleY,n=-this.width/2*this.scaleX+this.region.offsetX*e,i=-this.height/2*this.scaleY+this.region.offsetY*r,o=n+this.region.width*e,a=i+this.region.height*r,s=this.rotation*Math.PI/180,u=Math.cos(s),c=Math.sin(s),l=this.x,f=this.y,h=n*u+l,p=n*c,d=i*u+f,y=i*c,v=o*u+l,m=o*c,b=a*u+f,g=a*c,w=this.offset;w[0]=h-y,w[1]=d+p,w[2]=h-g,w[3]=b+p,w[4]=v-g,w[5]=b+m,w[6]=v-y,w[7]=d+m;var S=this.uvs;90==t.degrees?(S[2]=t.u,S[3]=t.v2,S[4]=t.u,S[5]=t.v,S[6]=t.u2,S[7]=t.v,S[0]=t.u2,S[1]=t.v2):(S[0]=t.u,S[1]=t.v2,S[2]=t.u,S[3]=t.v,S[4]=t.u2,S[5]=t.v,S[6]=t.u2,S[7]=t.v2)}},{key:"computeWorldVertices",value:function(t,e,r,n){null!=this.sequence&&this.sequence.apply(t,this);var i=t.bone,o=this.offset,a=i.matrix,s=a.tx,u=a.ty,c=a.a,l=a.c,f=a.b,h=a.d,p=0,d=0;p=o[0],d=o[1],e[r]=p*c+d*l+s,e[r+1]=p*f+d*h+u,r+=n,p=o[2],d=o[3],e[r]=p*c+d*l+s,e[r+1]=p*f+d*h+u,r+=n,p=o[4],d=o[5],e[r]=p*c+d*l+s,e[r+1]=p*f+d*h+u,r+=n,p=o[6],d=o[7],e[r]=p*c+d*l+s,e[r+1]=p*f+d*h+u}},{key:"copy",value:function(){var t=new lt(this.name,this.path);return t.region=this.region,t.rendererObject=this.rendererObject,t.x=this.x,t.y=this.y,t.scaleX=this.scaleX,t.scaleY=this.scaleY,t.rotation=this.rotation,t.width=this.width,t.height=this.height,n.Aq.arrayCopy(this.uvs,0,t.uvs,0,8),n.Aq.arrayCopy(this.offset,0,t.offset,0,8),t.color.setFromColor(this.color),t.sequence=null!=this.sequence?this.sequence.copy():null,t}}])&&it(r.prototype,i),o&&it(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(p),ft=lt;ft.X1=0,ft.Y1=1,ft.C1R=2,ft.C1G=3,ft.C1B=4,ft.C1A=5,ft.U1=6,ft.V1=7,ft.X2=8,ft.Y2=9,ft.C2R=10,ft.C2G=11,ft.C2B=12,ft.C2A=13,ft.U2=14,ft.V2=15,ft.X3=16,ft.Y3=17,ft.C3R=18,ft.C3G=19,ft.C3B=20,ft.C3A=21,ft.U3=22,ft.V3=23,ft.X4=24,ft.Y4=25,ft.C4R=26,ft.C4G=27,ft.C4B=28,ft.C4A=29,ft.U4=30,ft.V4=31;r(57886333);function ht(t){return ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ht(t)}function pt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dt(n.key),n)}}function dt(t){var e=function(t,e){if("object"!=ht(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=ht(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ht(e)?e:e+""}var yt=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=yt.nextID(),this.start=0,this.digits=0,this.setupIndex=0,this.regions=new Array(e)},r=[{key:"nextID",value:function(){return yt._nextID++}}],(e=[{key:"copy",value:function(){var t=new yt(this.regions.length);return n.Aq.arrayCopy(this.regions,0,t.regions,0,this.regions.length),t.start=this.start,t.digits=this.digits,t.setupIndex=this.setupIndex,t}},{key:"apply",value:function(t,e){var r=t.sequenceIndex;-1==r&&(r=this.setupIndex),r>=this.regions.length&&(r=this.regions.length-1);var n=this.regions[r];e.region!=n&&(e.region=n)}},{key:"getPath",value:function(t,e){for(var r=t,n=(this.start+e).toString(),i=this.digits-n.length;i>0;i--)r+="0";return r+=n}}])&&pt(t.prototype,e),r&&pt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}(),vt=yt;vt._nextID=0;var mt=function(t){return t[t.hold=0]="hold",t[t.once=1]="once",t[t.loop=2]="loop",t[t.pingpong=3]="pingpong",t[t.onceReverse=4]="onceReverse",t[t.loopReverse=5]="loopReverse",t[t.pingpongReverse=6]="pingpongReverse",t}(mt||{}),bt=[0,1,2,3,4,5,6];r(95723650),r(97200626),r(47138695),r(27015936),r(1657330);function gt(t,e,r){return e=St(e),function(t,e){if(e&&("object"==Et(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,wt()?Reflect.construct(e,r||[],St(t).constructor):e.apply(t,r))}function wt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(wt=function(){return!!t})()}function St(t){return St=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},St(t)}function xt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_t(t,e)}function _t(t,e){return _t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_t(t,e)}function Et(t){return Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Et(t)}function Tt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ot(n.key),n)}}function Pt(t,e,r){return e&&kt(t.prototype,e),r&&kt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ot(t){var e=function(t,e){if("object"!=Et(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Et(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Et(e)?e:e+""}var At=function(){return Pt(function t(e,r,i){if(Tt(this,t),this.timelines=[],this.timelineIds=new n.eE,!e)throw new Error("name cannot be null.");this.name=e,this.setTimelines(r),this.duration=i},[{key:"setTimelines",value:function(t){if(!t)throw new Error("timelines cannot be null.");this.timelines=t,this.timelineIds.clear();for(var e=0;e<t.length;e++)this.timelineIds.addAll(t[e].getPropertyIds())}},{key:"hasTimeline",value:function(t){for(var e=0;e<t.length;e++)if(this.timelineIds.contains(t[e]))return!0;return!1}},{key:"apply",value:function(t,e,r,n,i,o,a,s){if(!t)throw new Error("skeleton cannot be null.");n&&0!=this.duration&&(r%=this.duration,e>0&&(e%=this.duration));for(var u=this.timelines,c=0,l=u.length;c<l;c++)u[c].apply(t,e,r,i,o,a,s)}}])}(),Rt=0,jt=1,It=2,Ct=3,Mt=4,Dt=5,Nt=6,Bt=7,Ft=8,Lt=9,Ut=10,Vt=11,Xt=12,Gt=13,Yt=14,qt=15,Wt=16,Ht=17,zt=18,Qt=19,Zt=function(){return Pt(function t(e,r){Tt(this,t),this.propertyIds=r,this.frames=n.Aq.newFloatArray(e*this.getFrameEntries())},[{key:"getPropertyIds",value:function(){return this.propertyIds}},{key:"getFrameEntries",value:function(){return 1}},{key:"getFrameCount",value:function(){return this.frames.length/this.getFrameEntries()}},{key:"getDuration",value:function(){return this.frames[this.frames.length-this.getFrameEntries()]}}],[{key:"search1",value:function(t,e){for(var r=t.length,n=1;n<r;n++)if(t[n]>e)return n-1;return r-1}},{key:"search",value:function(t,e,r){for(var n=t.length,i=r;i<n;i+=r)if(t[i]>e)return i-r;return n-r}}])}(),Kt=function(t){function e(t,r,i){var o;return Tt(this,e),(o=gt(this,e,[t,i])).curves=n.Aq.newFloatArray(t+18*r),o.curves[t-1]=1,o}return xt(e,t),Pt(e,[{key:"setLinear",value:function(t){this.curves[t]=0}},{key:"setStepped",value:function(t){this.curves[t]=1}},{key:"shrink",value:function(t){var e=this.getFrameCount()+18*t;if(this.curves.length>e){var r=n.Aq.newFloatArray(e);n.Aq.arrayCopy(this.curves,0,r,0,e),this.curves=r}}},{key:"setBezier",value:function(t,e,r,n,i,o,a,s,u,c,l){var f=this.curves,h=this.getFrameCount()+18*t;0==r&&(f[e]=2+h);for(var p=.03*(n-2*o+s),d=.03*(i-2*a+u),y=.006*(3*(o-s)-n+c),v=.006*(3*(a-u)-i+l),m=2*p+y,b=2*d+v,g=.3*(o-n)+p+.16666667*y,w=.3*(a-i)+d+.16666667*v,S=n+g,x=i+w,_=h+18;h<_;h+=2)f[h]=S,f[h+1]=x,g+=m,w+=b,m+=y,b+=v,S+=g,x+=w}},{key:"getBezierValue",value:function(t,e,r,n){var i=this.curves;if(i[n]>t){var o=this.frames[e],a=this.frames[e+r];return a+(t-o)/(i[n]-o)*(i[n+1]-a)}var s=n+18;for(n+=2;n<s;n+=2)if(i[n]>=t){var u=i[n-2],c=i[n-1];return c+(t-u)/(i[n]-u)*(i[n+1]-c)}e+=this.getFrameEntries();var l=i[s-2],f=i[s-1];return f+(t-l)/(this.frames[e]-l)*(this.frames[e+r]-f)}}])}(Zt),$t=function(t){function e(t,r,n){return Tt(this,e),gt(this,e,[t,r,[n]])}return xt(e,t),Pt(e,[{key:"getFrameEntries",value:function(){return 2}},{key:"setFrame",value:function(t,e,r){t<<=1,this.frames[t]=e,this.frames[t+1]=r}},{key:"getCurveValue",value:function(t){for(var e=this.frames,r=e.length-2,n=2;n<=r;n+=2)if(e[n]>t){r=n-2;break}var i=this.curves[r>>1];switch(i){case 0:var o=e[r],a=e[r+1];return a+(t-o)/(e[r+2]-o)*(e[r+2+1]-a);case 1:return e[r+1]}return this.getBezierValue(t,r,1,i-2)}}])}(Kt),Jt=function(t){function e(t,r,n,i){return Tt(this,e),gt(this,e,[t,r,[n,i]])}return xt(e,t),Pt(e,[{key:"getFrameEntries",value:function(){return 3}},{key:"setFrame",value:function(t,e,r,n){t*=3,this.frames[t]=e,this.frames[t+1]=r,this.frames[t+2]=n}}])}(Kt),te=function(t){function e(t,r,n){var i;return Tt(this,e),(i=gt(this,e,[t,r,"".concat(Rt,"|").concat(n)])).boneIndex=0,i.boneIndex=n,i}return xt(e,t),Pt(e,[{key:"apply",value:function(t,e,r,i,o,a,s){var u=t.bones[this.boneIndex];if(u.active)if(r<this.frames[0])switch(a){case n.qU.setup:return void(u.rotation=u.data.rotation);case n.qU.first:u.rotation+=(u.data.rotation-u.rotation)*o}else{var c=this.getCurveValue(r);switch(a){case n.qU.setup:u.rotation=u.data.rotation+c*o;break;case n.qU.first:case n.qU.replace:c+=u.data.rotation-u.rotation;case n.qU.add:u.rotation+=c*o}}}}])}($t),ee=function(t){function e(t,r,n){var i;return Tt(this,e),(i=gt(this,e,[t,r,"".concat(jt,"|").concat(n),"".concat(It,"|").concat(n)])).boneIndex=0,i.boneIndex=n,i}return xt(e,t),Pt(e,[{key:"apply",value:function(t,e,r,i,o,a,s){var u=t.bones[this.boneIndex];if(u.active){var c=this.frames;if(r<c[0])switch(a){case n.qU.setup:return u.x=u.data.x,void(u.y=u.data.y);case n.qU.first:u.x+=(u.data.x-u.x)*o,u.y+=(u.data.y-u.y)*o}else{var l=0,f=0,h=Zt.search(c,r,3),p=this.curves[h/3];switch(p){case 0:var d=c[h];l=c[h+1],f=c[h+2];var y=(r-d)/(c[h+3]-d);l+=(c[h+3+1]-l)*y,f+=(c[h+3+2]-f)*y;break;case 1:l=c[h+1],f=c[h+2];break;default:l=this.getBezierValue(r,h,1,p-2),f=this.getBezierValue(r,h,2,p+18-2)}switch(a){case n.qU.setup:u.x=u.data.x+l*o,u.y=u.data.y+f*o;break;case n.qU.first:case n.qU.replace:u.x+=(u.data.x+l-u.x)*o,u.y+=(u.data.y+f-u.y)*o;break;case n.qU.add:u.x+=l*o,u.y+=f*o}}}}}])}(Jt),re=function(t){function e(t,r,n){var i;return Tt(this,e),(i=gt(this,e,[t,r,"".concat(jt,"|").concat(n)])).boneIndex=0,i.boneIndex=n,i}return xt(e,t),Pt(e,[{key:"apply",value:function(t,e,r,i,o,a,s){var u=t.bones[this.boneIndex];if(u.active)if(r<this.frames[0])switch(a){case n.qU.setup:return void(u.x=u.data.x);case n.qU.first:u.x+=(u.data.x-u.x)*o}else{var c=this.getCurveValue(r);switch(a){case n.qU.setup:u.x=u.data.x+c*o;break;case n.qU.first:case n.qU.replace:u.x+=(u.data.x+c-u.x)*o;break;case n.qU.add:u.x+=c*o}}}}])}($t),ne=function(t){function e(t,r,n){var i;return Tt(this,e),(i=gt(this,e,[t,r,"".concat(It,"|").concat(n)])).boneIndex=0,i.boneIndex=n,i}return xt(e,t),Pt(e,[{key:"apply",value:function(t,e,r,i,o,a,s){var u=t.bones[this.boneIndex];if(u.active)if(r<this.frames[0])switch(a){case n.qU.setup:return void(u.y=u.data.y);case n.qU.first:u.y+=(u.data.y-u.y)*o}else{var c=this.getCurveValue(r);switch(a){case n.qU.setup:u.y=u.data.y+c*o;break;case n.qU.first:case n.qU.replace:u.y+=(u.data.y+c-u.y)*o;break;case n.qU.add:u.y+=c*o}}}}])}($t),ie=function(t){function e(t,r,n){var i;return Tt(this,e),(i=gt(this,e,[t,r,"".concat(Ct,"|").concat(n),"".concat(Mt,"|").concat(n)])).boneIndex=0,i.boneIndex=n,i}return xt(e,t),Pt(e,[{key:"apply",value:function(t,e,r,i,o,a,s){var u=t.bones[this.boneIndex];if(u.active){var c=this.frames;if(r<c[0])switch(a){case n.qU.setup:return u.scaleX=u.data.scaleX,void(u.scaleY=u.data.scaleY);case n.qU.first:u.scaleX+=(u.data.scaleX-u.scaleX)*o,u.scaleY+=(u.data.scaleY-u.scaleY)*o}else{var l,f,h=Zt.search(c,r,3),p=this.curves[h/3];switch(p){case 0:var d=c[h];l=c[h+1],f=c[h+2];var y=(r-d)/(c[h+3]-d);l+=(c[h+3+1]-l)*y,f+=(c[h+3+2]-f)*y;break;case 1:l=c[h+1],f=c[h+2];break;default:l=this.getBezierValue(r,h,1,p-2),f=this.getBezierValue(r,h,2,p+18-2)}if(l*=u.data.scaleX,f*=u.data.scaleY,1==o)a==n.qU.add?(u.scaleX+=l-u.data.scaleX,u.scaleY+=f-u.data.scaleY):(u.scaleX=l,u.scaleY=f);else{var v=0,m=0;if(s==n.mj.mixOut)switch(a){case n.qU.setup:v=u.data.scaleX,m=u.data.scaleY,u.scaleX=v+(Math.abs(l)*n.cj.signum(v)-v)*o,u.scaleY=m+(Math.abs(f)*n.cj.signum(m)-m)*o;break;case n.qU.first:case n.qU.replace:v=u.scaleX,m=u.scaleY,u.scaleX=v+(Math.abs(l)*n.cj.signum(v)-v)*o,u.scaleY=m+(Math.abs(f)*n.cj.signum(m)-m)*o;break;case n.qU.add:u.scaleX+=(l-u.data.scaleX)*o,u.scaleY+=(f-u.data.scaleY)*o}else switch(a){case n.qU.setup:v=Math.abs(u.data.scaleX)*n.cj.signum(l),m=Math.abs(u.data.scaleY)*n.cj.signum(f),u.scaleX=v+(l-v)*o,u.scaleY=m+(f-m)*o;break;case n.qU.first:case n.qU.replace:v=Math.abs(u.scaleX)*n.cj.signum(l),m=Math.abs(u.scaleY)*n.cj.signum(f),u.scaleX=v+(l-v)*o,u.scaleY=m+(f-m)*o;break;case n.qU.add:u.scaleX+=(l-u.data.scaleX)*o,u.scaleY+=(f-u.data.scaleY)*o}}}}}}])}(Jt),oe=function(t){function e(t,r,n){var i;return Tt(this,e),(i=gt(this,e,[t,r,"".concat(Ct,"|").concat(n)])).boneIndex=0,i.boneIndex=n,i}return xt(e,t),Pt(e,[{key:"apply",value:function(t,e,r,i,o,a,s){var u=t.bones[this.boneIndex];if(u.active)if(r<this.frames[0])switch(a){case n.qU.setup:return void(u.scaleX=u.data.scaleX);case n.qU.first:u.scaleX+=(u.data.scaleX-u.scaleX)*o}else{var c=this.getCurveValue(r)*u.data.scaleX;if(1==o)a==n.qU.add?u.scaleX+=c-u.data.scaleX:u.scaleX=c;else{var l=0;if(s==n.mj.mixOut)switch(a){case n.qU.setup:l=u.data.scaleX,u.scaleX=l+(Math.abs(c)*n.cj.signum(l)-l)*o;break;case n.qU.first:case n.qU.replace:l=u.scaleX,u.scaleX=l+(Math.abs(c)*n.cj.signum(l)-l)*o;break;case n.qU.add:u.scaleX+=(c-u.data.scaleX)*o}else switch(a){case n.qU.setup:l=Math.abs(u.data.scaleX)*n.cj.signum(c),u.scaleX=l+(c-l)*o;break;case n.qU.first:case n.qU.replace:l=Math.abs(u.scaleX)*n.cj.signum(c),u.scaleX=l+(c-l)*o;break;case n.qU.add:u.scaleX+=(c-u.data.scaleX)*o}}}}}])}($t),ae=function(t){function e(t,r,n){var i;return Tt(this,e),(i=gt(this,e,[t,r,"".concat(Mt,"|").concat(n)])).boneIndex=0,i.boneIndex=n,i}return xt(e,t),Pt(e,[{key:"apply",value:function(t,e,r,i,o,a,s){var u=t.bones[this.boneIndex];if(u.active)if(r<this.frames[0])switch(a){case n.qU.setup:return void(u.scaleY=u.data.scaleY);case n.qU.first:u.scaleY+=(u.data.scaleY-u.scaleY)*o}else{var c=this.getCurveValue(r)*u.data.scaleY;if(1==o)a==n.qU.add?u.scaleY+=c-u.data.scaleY:u.scaleY=c;else{var l=0;if(s==n.mj.mixOut)switch(a){case n.qU.setup:l=u.data.scaleY,u.scaleY=l+(Math.abs(c)*n.cj.signum(l)-l)*o;break;case n.qU.first:case n.qU.replace:l=u.scaleY,u.scaleY=l+(Math.abs(c)*n.cj.signum(l)-l)*o;break;case n.qU.add:u.scaleY+=(c-u.data.scaleY)*o}else switch(a){case n.qU.setup:l=Math.abs(u.data.scaleY)*n.cj.signum(c),u.scaleY=l+(c-l)*o;break;case n.qU.first:case n.qU.replace:l=Math.abs(u.scaleY)*n.cj.signum(c),u.scaleY=l+(c-l)*o;break;case n.qU.add:u.scaleY+=(c-u.data.scaleY)*o}}}}}])}($t),se=function(t){function e(t,r,n){var i;return Tt(this,e),(i=gt(this,e,[t,r,"".concat(Dt,"|").concat(n),"".concat(Nt,"|").concat(n)])).boneIndex=0,i.boneIndex=n,i}return xt(e,t),Pt(e,[{key:"apply",value:function(t,e,r,i,o,a,s){var u=t.bones[this.boneIndex];if(u.active){var c=this.frames;if(r<c[0])switch(a){case n.qU.setup:return u.shearX=u.data.shearX,void(u.shearY=u.data.shearY);case n.qU.first:u.shearX+=(u.data.shearX-u.shearX)*o,u.shearY+=(u.data.shearY-u.shearY)*o}else{var l=0,f=0,h=Zt.search(c,r,3),p=this.curves[h/3];switch(p){case 0:var d=c[h];l=c[h+1],f=c[h+2];var y=(r-d)/(c[h+3]-d);l+=(c[h+3+1]-l)*y,f+=(c[h+3+2]-f)*y;break;case 1:l=c[h+1],f=c[h+2];break;default:l=this.getBezierValue(r,h,1,p-2),f=this.getBezierValue(r,h,2,p+18-2)}switch(a){case n.qU.setup:u.shearX=u.data.shearX+l*o,u.shearY=u.data.shearY+f*o;break;case n.qU.first:case n.qU.replace:u.shearX+=(u.data.shearX+l-u.shearX)*o,u.shearY+=(u.data.shearY+f-u.shearY)*o;break;case n.qU.add:u.shearX+=l*o,u.shearY+=f*o}}}}}])}(Jt),ue=function(t){function e(t,r,n){var i;return Tt(this,e),(i=gt(this,e,[t,r,"".concat(Dt,"|").concat(n)])).boneIndex=0,i.boneIndex=n,i}return xt(e,t),Pt(e,[{key:"apply",value:function(t,e,r,i,o,a,s){var u=t.bones[this.boneIndex];if(u.active)if(r<this.frames[0])switch(a){case n.qU.setup:return void(u.shearX=u.data.shearX);case n.qU.first:u.shearX+=(u.data.shearX-u.shearX)*o}else{var c=this.getCurveValue(r);switch(a){case n.qU.setup:u.shearX=u.data.shearX+c*o;break;case n.qU.first:case n.qU.replace:u.shearX+=(u.data.shearX+c-u.shearX)*o;break;case n.qU.add:u.shearX+=c*o}}}}])}($t),ce=function(t){function e(t,r,n){var i;return Tt(this,e),(i=gt(this,e,[t,r,"".concat(Nt,"|").concat(n)])).boneIndex=0,i.boneIndex=n,i}return xt(e,t),Pt(e,[{key:"apply",value:function(t,e,r,i,o,a,s){var u=t.bones[this.boneIndex];if(u.active)if(r<this.frames[0])switch(a){case n.qU.setup:return void(u.shearY=u.data.shearY);case n.qU.first:u.shearY+=(u.data.shearY-u.shearY)*o}else{var c=this.getCurveValue(r);switch(a){case n.qU.setup:u.shearY=u.data.shearY+c*o;break;case n.qU.first:case n.qU.replace:u.shearY+=(u.data.shearY+c-u.shearY)*o;break;case n.qU.add:u.shearY+=c*o}}}}])}($t),le=function(t){function e(t,r,n){var i;return Tt(this,e),(i=gt(this,e,[t,r,["".concat(Bt,"|").concat(n),"".concat(Ft,"|").concat(n)]])).slotIndex=0,i.slotIndex=n,i}return xt(e,t),Pt(e,[{key:"getFrameEntries",value:function(){return 5}},{key:"setFrame",value:function(t,e,r,n,i,o){t*=5,this.frames[t]=e,this.frames[t+1]=r,this.frames[t+2]=n,this.frames[t+3]=i,this.frames[t+4]=o}},{key:"apply",value:function(t,e,r,i,o,a,s){var u=t.slots[this.slotIndex];if(u.bone.active){var c=this.frames,l=u.color;if(r<c[0]){var f=u.data.color;switch(a){case n.qU.setup:return void l.setFromColor(f);case n.qU.first:l.add((f.r-l.r)*o,(f.g-l.g)*o,(f.b-l.b)*o,(f.a-l.a)*o)}}else{var h=0,p=0,d=0,y=0,v=Zt.search(c,r,5),m=this.curves[v/5];switch(m){case 0:var b=c[v];h=c[v+1],p=c[v+2],d=c[v+3],y=c[v+4];var g=(r-b)/(c[v+5]-b);h+=(c[v+5+1]-h)*g,p+=(c[v+5+2]-p)*g,d+=(c[v+5+3]-d)*g,y+=(c[v+5+4]-y)*g;break;case 1:h=c[v+1],p=c[v+2],d=c[v+3],y=c[v+4];break;default:h=this.getBezierValue(r,v,1,m-2),p=this.getBezierValue(r,v,2,m+18-2),d=this.getBezierValue(r,v,3,m+36-2),y=this.getBezierValue(r,v,4,m+54-2)}1==o?l.set(h,p,d,y):(a==n.qU.setup&&l.setFromColor(u.data.color),l.add((h-l.r)*o,(p-l.g)*o,(d-l.b)*o,(y-l.a)*o))}}}}])}(Kt),fe=function(t){function e(t,r,n){var i;return Tt(this,e),(i=gt(this,e,[t,r,["".concat(Bt,"|").concat(n)]])).slotIndex=0,i.slotIndex=n,i}return xt(e,t),Pt(e,[{key:"getFrameEntries",value:function(){return 4}},{key:"setFrame",value:function(t,e,r,n,i){t<<=2,this.frames[t]=e,this.frames[t+1]=r,this.frames[t+2]=n,this.frames[t+3]=i}},{key:"apply",value:function(t,e,r,i,o,a,s){var u=t.slots[this.slotIndex];if(u.bone.active){var c=this.frames,l=u.color;if(r<c[0]){var f=u.data.color;switch(a){case n.qU.setup:return l.r=f.r,l.g=f.g,void(l.b=f.b);case n.qU.first:l.r+=(f.r-l.r)*o,l.g+=(f.g-l.g)*o,l.b+=(f.b-l.b)*o}}else{var h=0,p=0,d=0,y=Zt.search(c,r,4),v=this.curves[y>>2];switch(v){case 0:var m=c[y];h=c[y+1],p=c[y+2],d=c[y+3];var b=(r-m)/(c[y+4]-m);h+=(c[y+4+1]-h)*b,p+=(c[y+4+2]-p)*b,d+=(c[y+4+3]-d)*b;break;case 1:h=c[y+1],p=c[y+2],d=c[y+3];break;default:h=this.getBezierValue(r,y,1,v-2),p=this.getBezierValue(r,y,2,v+18-2),d=this.getBezierValue(r,y,3,v+36-2)}if(1==o)l.r=h,l.g=p,l.b=d;else{if(a==n.qU.setup){var g=u.data.color;l.r=g.r,l.g=g.g,l.b=g.b}l.r+=(h-l.r)*o,l.g+=(p-l.g)*o,l.b+=(d-l.b)*o}}}}}])}(Kt),he=function(t){function e(t,r,n){var i;return Tt(this,e),(i=gt(this,e,[t,r,"".concat(Ft,"|").concat(n)])).slotIndex=0,i.slotIndex=n,i}return xt(e,t),Pt(e,[{key:"apply",value:function(t,e,r,i,o,a,s){var u=t.slots[this.slotIndex];if(u.bone.active){var c=u.color;if(r<this.frames[0]){var l=u.data.color;switch(a){case n.qU.setup:return void(c.a=l.a);case n.qU.first:c.a+=(l.a-c.a)*o}}else{var f=this.getCurveValue(r);1==o?c.a=f:(a==n.qU.setup&&(c.a=u.data.color.a),c.a+=(f-c.a)*o)}}}}])}($t),pe=function(t){function e(t,r,n){var i;return Tt(this,e),(i=gt(this,e,[t,r,["".concat(Bt,"|").concat(n),"".concat(Ft,"|").concat(n),"".concat(Lt,"|").concat(n)]])).slotIndex=0,i.slotIndex=n,i}return xt(e,t),Pt(e,[{key:"getFrameEntries",value:function(){return 8}},{key:"setFrame",value:function(t,e,r,n,i,o,a,s,u){t<<=3,this.frames[t]=e,this.frames[t+1]=r,this.frames[t+2]=n,this.frames[t+3]=i,this.frames[t+4]=o,this.frames[t+5]=a,this.frames[t+6]=s,this.frames[t+7]=u}},{key:"apply",value:function(t,e,r,i,o,a,s){var u=t.slots[this.slotIndex];if(u.bone.active){var c=this.frames,l=u.color,f=u.darkColor;if(r<c[0]){var h=u.data.color,p=u.data.darkColor;switch(a){case n.qU.setup:return l.setFromColor(h),f.r=p.r,f.g=p.g,void(f.b=p.b);case n.qU.first:l.add((h.r-l.r)*o,(h.g-l.g)*o,(h.b-l.b)*o,(h.a-l.a)*o),f.r+=(p.r-f.r)*o,f.g+=(p.g-f.g)*o,f.b+=(p.b-f.b)*o}}else{var d=0,y=0,v=0,m=0,b=0,g=0,w=0,S=Zt.search(c,r,8),x=this.curves[S>>3];switch(x){case 0:var _=c[S];d=c[S+1],y=c[S+2],v=c[S+3],m=c[S+4],b=c[S+5],g=c[S+6],w=c[S+7];var E=(r-_)/(c[S+8]-_);d+=(c[S+8+1]-d)*E,y+=(c[S+8+2]-y)*E,v+=(c[S+8+3]-v)*E,m+=(c[S+8+4]-m)*E,b+=(c[S+8+5]-b)*E,g+=(c[S+8+6]-g)*E,w+=(c[S+8+7]-w)*E;break;case 1:d=c[S+1],y=c[S+2],v=c[S+3],m=c[S+4],b=c[S+5],g=c[S+6],w=c[S+7];break;default:d=this.getBezierValue(r,S,1,x-2),y=this.getBezierValue(r,S,2,x+18-2),v=this.getBezierValue(r,S,3,x+36-2),m=this.getBezierValue(r,S,4,x+54-2),b=this.getBezierValue(r,S,5,x+72-2),g=this.getBezierValue(r,S,6,x+90-2),w=this.getBezierValue(r,S,7,x+108-2)}if(1==o)l.set(d,y,v,m),f.r=b,f.g=g,f.b=w;else{if(a==n.qU.setup){l.setFromColor(u.data.color);var T=u.data.darkColor;f.r=T.r,f.g=T.g,f.b=T.b}l.add((d-l.r)*o,(y-l.g)*o,(v-l.b)*o,(m-l.a)*o),f.r+=(b-f.r)*o,f.g+=(g-f.g)*o,f.b+=(w-f.b)*o}}}}}])}(Kt),de=function(t){function e(t,r,n){var i;return Tt(this,e),(i=gt(this,e,[t,r,["".concat(Bt,"|").concat(n),"".concat(Lt,"|").concat(n)]])).slotIndex=0,i.slotIndex=n,i}return xt(e,t),Pt(e,[{key:"getFrameEntries",value:function(){return 7}},{key:"setFrame",value:function(t,e,r,n,i,o,a,s){t*=7,this.frames[t]=e,this.frames[t+1]=r,this.frames[t+2]=n,this.frames[t+3]=i,this.frames[t+4]=o,this.frames[t+5]=a,this.frames[t+6]=s}},{key:"apply",value:function(t,e,r,i,o,a,s){var u=t.slots[this.slotIndex];if(u.bone.active){var c=this.frames,l=u.color,f=u.darkColor;if(r<c[0]){var h=u.data.color,p=u.data.darkColor;switch(a){case n.qU.setup:return l.r=h.r,l.g=h.g,l.b=h.b,f.r=p.r,f.g=p.g,void(f.b=p.b);case n.qU.first:l.r+=(h.r-l.r)*o,l.g+=(h.g-l.g)*o,l.b+=(h.b-l.b)*o,f.r+=(p.r-f.r)*o,f.g+=(p.g-f.g)*o,f.b+=(p.b-f.b)*o}}else{var d=0,y=0,v=0,m=0,b=0,g=0,w=Zt.search(c,r,7),S=this.curves[w/7];switch(S){case 0:var x=c[w];d=c[w+1],y=c[w+2],v=c[w+3],m=c[w+4],b=c[w+5],g=c[w+6];var _=(r-x)/(c[w+7]-x);d+=(c[w+7+1]-d)*_,y+=(c[w+7+2]-y)*_,v+=(c[w+7+3]-v)*_,m+=(c[w+7+4]-m)*_,b+=(c[w+7+5]-b)*_,g+=(c[w+7+6]-g)*_;break;case 1:d=c[w+1],y=c[w+2],v=c[w+3],m=c[w+4],b=c[w+5],g=c[w+6];break;default:d=this.getBezierValue(r,w,1,S-2),y=this.getBezierValue(r,w,2,S+18-2),v=this.getBezierValue(r,w,3,S+36-2),m=this.getBezierValue(r,w,4,S+54-2),b=this.getBezierValue(r,w,5,S+72-2),g=this.getBezierValue(r,w,6,S+90-2)}if(1==o)l.r=d,l.g=y,l.b=v,f.r=m,f.g=b,f.b=g;else{if(a==n.qU.setup){var E=u.data.color,T=u.data.darkColor;l.r=E.r,l.g=E.g,l.b=E.b,f.r=T.r,f.g=T.g,f.b=T.b}l.r+=(d-l.r)*o,l.g+=(y-l.g)*o,l.b+=(v-l.b)*o,f.r+=(m-f.r)*o,f.g+=(b-f.g)*o,f.b+=(g-f.b)*o}}}}}])}(Kt),ye=function(t){function e(t,r){var n;return Tt(this,e),(n=gt(this,e,[t,["".concat(Ut,"|").concat(r)]])).slotIndex=0,n.slotIndex=r,n.attachmentNames=new Array(t),n}return xt(e,t),Pt(e,[{key:"getFrameCount",value:function(){return this.frames.length}},{key:"setFrame",value:function(t,e,r){this.frames[t]=e,this.attachmentNames[t]=r}},{key:"apply",value:function(t,e,r,i,o,a,s){var u=t.slots[this.slotIndex];u.bone.active&&(s!=n.mj.mixOut?r<this.frames[0]?a!=n.qU.setup&&a!=n.qU.first||this.setAttachment(t,u,u.data.attachmentName):this.setAttachment(t,u,this.attachmentNames[Zt.search1(this.frames,r)]):a==n.qU.setup&&this.setAttachment(t,u,u.data.attachmentName))}},{key:"setAttachment",value:function(t,e,r){e.setAttachment(r?t.getAttachment(this.slotIndex,r):null)}}])}(Zt),ve=function(t){function e(t,r,n,i){var o;return Tt(this,e),(o=gt(this,e,[t,r,["".concat(Vt,"|").concat(n,"|").concat(i.id)]])).slotIndex=0,o.slotIndex=n,o.attachment=i,o.vertices=new Array(t),o}return xt(e,t),Pt(e,[{key:"getFrameCount",value:function(){return this.frames.length}},{key:"setFrame",value:function(t,e,r){this.frames[t]=e,this.vertices[t]=r}},{key:"setBezier",value:function(t,e,r,n,i,o,a,s,u,c,l){var f=this.curves,h=this.getFrameCount()+18*t;0==r&&(f[e]=2+h);for(var p=.03*(n-2*o+s),d=.03*u-.06*a,y=.006*(3*(o-s)-n+c),v=.018*(a-u+.33333333),m=2*p+y,b=2*d+v,g=.3*(o-n)+p+.16666667*y,w=.3*a+d+.16666667*v,S=n+g,x=w,_=h+18;h<_;h+=2)f[h]=S,f[h+1]=x,g+=m,w+=b,m+=y,b+=v,S+=g,x+=w}},{key:"getCurvePercent",value:function(t,e){var r=this.curves,n=r[e];switch(n){case 0:var i=this.frames[e];return(t-i)/(this.frames[e+this.getFrameEntries()]-i);case 1:return 0}if(r[n-=2]>t){var o=this.frames[e];return r[n+1]*(t-o)/(r[n]-o)}var a=n+18;for(n+=2;n<a;n+=2)if(r[n]>=t){var s=r[n-2],u=r[n-1];return u+(t-s)/(r[n]-s)*(r[n+1]-u)}var c=r[a-2],l=r[a-1];return l+(1-l)*(t-c)/(this.frames[e+this.getFrameEntries()]-c)}},{key:"apply",value:function(t,e,r,i,o,a,s){var u=t.slots[this.slotIndex];if(u.bone.active){var c=u.getAttachment();if(c&&c instanceof y&&c.timelineAttachment==this.attachment){var l=u.deform;0==l.length&&(a=n.qU.setup);var f=this.vertices,h=f[0].length,p=this.frames;if(r<p[0])switch(a){case n.qU.setup:return void(l.length=0);case n.qU.first:if(1==o)return void(l.length=0);l.length=h;var d=c;if(d.bones){o=1-o;for(var v=0;v<h;v++)l[v]*=o}else for(var m=d.vertices,b=0;b<h;b++)l[b]+=(m[b]-l[b])*o}else if(l.length=h,r>=p[p.length-1]){var g=f[p.length-1];if(1==o)if(a==n.qU.add){var w=c;if(w.bones)for(var S=0;S<h;S++)l[S]+=g[S];else for(var x=w.vertices,_=0;_<h;_++)l[_]+=g[_]-x[_]}else n.Aq.arrayCopy(g,0,l,0,h);else switch(a){case n.qU.setup:var E=c;if(E.bones)for(var T=0;T<h;T++)l[T]=g[T]*o;else for(var k=E.vertices,P=0;P<h;P++){var O=k[P];l[P]=O+(g[P]-O)*o}break;case n.qU.first:case n.qU.replace:for(var A=0;A<h;A++)l[A]+=(g[A]-l[A])*o;break;case n.qU.add:var R=c;if(R.bones)for(var j=0;j<h;j++)l[j]+=g[j]*o;else for(var I=R.vertices,C=0;C<h;C++)l[C]+=(g[C]-I[C])*o}}else{var M=Zt.search1(p,r),D=this.getCurvePercent(r,M),N=f[M],B=f[M+1];if(1==o)if(a==n.qU.add){var F=c;if(F.bones)for(var L=0;L<h;L++){var U=N[L];l[L]+=U+(B[L]-U)*D}else for(var V=F.vertices,X=0;X<h;X++){var G=N[X];l[X]+=G+(B[X]-G)*D-V[X]}}else for(var Y=0;Y<h;Y++){var q=N[Y];l[Y]=q+(B[Y]-q)*D}else switch(a){case n.qU.setup:var W=c;if(W.bones)for(var H=0;H<h;H++){var z=N[H];l[H]=(z+(B[H]-z)*D)*o}else for(var Q=W.vertices,Z=0;Z<h;Z++){var K=N[Z],$=Q[Z];l[Z]=$+(K+(B[Z]-K)*D-$)*o}break;case n.qU.first:case n.qU.replace:for(var J=0;J<h;J++){var tt=N[J];l[J]+=(tt+(B[J]-tt)*D-l[J])*o}break;case n.qU.add:var et=c;if(et.bones)for(var rt=0;rt<h;rt++){var nt=N[rt];l[rt]+=(nt+(B[rt]-nt)*D)*o}else for(var it=et.vertices,ot=0;ot<h;ot++){var at=N[ot];l[ot]+=(at+(B[ot]-at)*D-it[ot])*o}}}}}}}])}(Kt),me=function(t){function e(t){var r;return Tt(this,e),(r=gt(this,e,[t,me.propertyIds])).events=new Array(t),r}return xt(e,t),Pt(e,[{key:"getFrameCount",value:function(){return this.frames.length}},{key:"setFrame",value:function(t,e){this.frames[t]=e.time,this.events[t]=e}},{key:"apply",value:function(t,e,r,n,i,o,a){if(n){var s=this.frames,u=this.frames.length;if(e>r)this.apply(t,e,Number.MAX_VALUE,n,i,o,a),e=-1;else if(e>=s[u-1])return;if(!(r<s[0])){var c=0;if(e<s[0])c=0;else for(var l=s[c=Zt.search1(s,e)+1];c>0&&s[c-1]==l;)c--;for(;c<u&&r>=s[c];c++)n.push(this.events[c])}}}}])}(Zt),be=me;be.propertyIds=["".concat(Xt)];var ge=function(t){function e(t){var r;return Tt(this,e),(r=gt(this,e,[t,ge.propertyIds])).drawOrders=new Array(t),r}return xt(e,t),Pt(e,[{key:"getFrameCount",value:function(){return this.frames.length}},{key:"setFrame",value:function(t,e,r){this.frames[t]=e,this.drawOrders[t]=r}},{key:"apply",value:function(t,e,r,i,o,a,s){if(s!=n.mj.mixOut)if(r<this.frames[0])a!=n.qU.setup&&a!=n.qU.first||n.Aq.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length);else{var u=Zt.search1(this.frames,r),c=this.drawOrders[u];if(c)for(var l=t.drawOrder,f=t.slots,h=0,p=c.length;h<p;h++)l[h]=f[c[h]];else n.Aq.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length)}else a==n.qU.setup&&n.Aq.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length)}}])}(Zt),we=ge;we.propertyIds=["".concat(Gt)];var Se=function(t){function e(t,r,n){var i;return Tt(this,e),(i=gt(this,e,[t,r,["".concat(Yt,"|").concat(n)]])).ikConstraintIndex=0,i.ikConstraintIndex=n,i}return xt(e,t),Pt(e,[{key:"getFrameEntries",value:function(){return 6}},{key:"setFrame",value:function(t,e,r,n,i,o,a){t*=6,this.frames[t]=e,this.frames[t+1]=r,this.frames[t+2]=n,this.frames[t+3]=i,this.frames[t+4]=o?1:0,this.frames[t+5]=a?1:0}},{key:"apply",value:function(t,e,r,i,o,a,s){var u=t.ikConstraints[this.ikConstraintIndex];if(u.active){var c=this.frames;if(r<c[0])switch(a){case n.qU.setup:return u.mix=u.data.mix,u.softness=u.data.softness,u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,void(u.stretch=u.data.stretch);case n.qU.first:u.mix+=(u.data.mix-u.mix)*o,u.softness+=(u.data.softness-u.softness)*o,u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch}else{var l=0,f=0,h=Zt.search(c,r,6),p=this.curves[h/6];switch(p){case 0:var d=c[h];l=c[h+1],f=c[h+2];var y=(r-d)/(c[h+6]-d);l+=(c[h+6+1]-l)*y,f+=(c[h+6+2]-f)*y;break;case 1:l=c[h+1],f=c[h+2];break;default:l=this.getBezierValue(r,h,1,p-2),f=this.getBezierValue(r,h,2,p+18-2)}a==n.qU.setup?(u.mix=u.data.mix+(l-u.data.mix)*o,u.softness=u.data.softness+(f-u.data.softness)*o,s==n.mj.mixOut?(u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch):(u.bendDirection=c[h+3],u.compress=0!=c[h+4],u.stretch=0!=c[h+5])):(u.mix+=(l-u.mix)*o,u.softness+=(f-u.softness)*o,s==n.mj.mixIn&&(u.bendDirection=c[h+3],u.compress=0!=c[h+4],u.stretch=0!=c[h+5]))}}}}])}(Kt),xe=function(t){function e(t,r,n){var i;return Tt(this,e),(i=gt(this,e,[t,r,["".concat(qt,"|").concat(n)]])).transformConstraintIndex=0,i.transformConstraintIndex=n,i}return xt(e,t),Pt(e,[{key:"getFrameEntries",value:function(){return 7}},{key:"setFrame",value:function(t,e,r,n,i,o,a,s){var u=this.frames;u[t*=7]=e,u[t+1]=r,u[t+2]=n,u[t+3]=i,u[t+4]=o,u[t+5]=a,u[t+6]=s}},{key:"apply",value:function(t,e,r,i,o,a,s){var u=t.transformConstraints[this.transformConstraintIndex];if(u.active){var c=this.frames;if(r<c[0]){var l=u.data;switch(a){case n.qU.setup:return u.mixRotate=l.mixRotate,u.mixX=l.mixX,u.mixY=l.mixY,u.mixScaleX=l.mixScaleX,u.mixScaleY=l.mixScaleY,void(u.mixShearY=l.mixShearY);case n.qU.first:u.mixRotate+=(l.mixRotate-u.mixRotate)*o,u.mixX+=(l.mixX-u.mixX)*o,u.mixY+=(l.mixY-u.mixY)*o,u.mixScaleX+=(l.mixScaleX-u.mixScaleX)*o,u.mixScaleY+=(l.mixScaleY-u.mixScaleY)*o,u.mixShearY+=(l.mixShearY-u.mixShearY)*o}}else{var f,h,p,d,y,v,m=Zt.search(c,r,7),b=this.curves[m/7];switch(b){case 0:var g=c[m];f=c[m+1],h=c[m+2],p=c[m+3],d=c[m+4],y=c[m+5],v=c[m+6];var w=(r-g)/(c[m+7]-g);f+=(c[m+7+1]-f)*w,h+=(c[m+7+2]-h)*w,p+=(c[m+7+3]-p)*w,d+=(c[m+7+4]-d)*w,y+=(c[m+7+5]-y)*w,v+=(c[m+7+6]-v)*w;break;case 1:f=c[m+1],h=c[m+2],p=c[m+3],d=c[m+4],y=c[m+5],v=c[m+6];break;default:f=this.getBezierValue(r,m,1,b-2),h=this.getBezierValue(r,m,2,b+18-2),p=this.getBezierValue(r,m,3,b+36-2),d=this.getBezierValue(r,m,4,b+54-2),y=this.getBezierValue(r,m,5,b+72-2),v=this.getBezierValue(r,m,6,b+90-2)}if(a==n.qU.setup){var S=u.data;u.mixRotate=S.mixRotate+(f-S.mixRotate)*o,u.mixX=S.mixX+(h-S.mixX)*o,u.mixY=S.mixY+(p-S.mixY)*o,u.mixScaleX=S.mixScaleX+(d-S.mixScaleX)*o,u.mixScaleY=S.mixScaleY+(y-S.mixScaleY)*o,u.mixShearY=S.mixShearY+(v-S.mixShearY)*o}else u.mixRotate+=(f-u.mixRotate)*o,u.mixX+=(h-u.mixX)*o,u.mixY+=(p-u.mixY)*o,u.mixScaleX+=(d-u.mixScaleX)*o,u.mixScaleY+=(y-u.mixScaleY)*o,u.mixShearY+=(v-u.mixShearY)*o}}}}])}(Kt),_e=function(t){function e(t,r,n){var i;return Tt(this,e),(i=gt(this,e,[t,r,"".concat(Wt,"|").concat(n)])).pathConstraintIndex=0,i.pathConstraintIndex=n,i}return xt(e,t),Pt(e,[{key:"apply",value:function(t,e,r,i,o,a,s){var u=t.pathConstraints[this.pathConstraintIndex];if(u.active)if(r<this.frames[0])switch(a){case n.qU.setup:return void(u.position=u.data.position);case n.qU.first:u.position+=(u.data.position-u.position)*o}else{var c=this.getCurveValue(r);a==n.qU.setup?u.position=u.data.position+(c-u.data.position)*o:u.position+=(c-u.position)*o}}}])}($t),Ee=function(t){function e(t,r,n){var i;return Tt(this,e),(i=gt(this,e,[t,r,"".concat(Ht,"|").concat(n)])).pathConstraintIndex=0,i.pathConstraintIndex=n,i}return xt(e,t),Pt(e,[{key:"apply",value:function(t,e,r,i,o,a,s){var u=t.pathConstraints[this.pathConstraintIndex];if(u.active)if(r<this.frames[0])switch(a){case n.qU.setup:return void(u.spacing=u.data.spacing);case n.qU.first:u.spacing+=(u.data.spacing-u.spacing)*o}else{var c=this.getCurveValue(r);a==n.qU.setup?u.spacing=u.data.spacing+(c-u.data.spacing)*o:u.spacing+=(c-u.spacing)*o}}}])}($t),Te=function(t){function e(t,r,n){var i;return Tt(this,e),(i=gt(this,e,[t,r,["".concat(zt,"|").concat(n)]])).pathConstraintIndex=0,i.pathConstraintIndex=n,i}return xt(e,t),Pt(e,[{key:"getFrameEntries",value:function(){return 4}},{key:"setFrame",value:function(t,e,r,n,i){var o=this.frames;o[t<<=2]=e,o[t+1]=r,o[t+2]=n,o[t+3]=i}},{key:"apply",value:function(t,e,r,i,o,a,s){var u=t.pathConstraints[this.pathConstraintIndex];if(u.active){var c=this.frames;if(r<c[0])switch(a){case n.qU.setup:return u.mixRotate=u.data.mixRotate,u.mixX=u.data.mixX,void(u.mixY=u.data.mixY);case n.qU.first:u.mixRotate+=(u.data.mixRotate-u.mixRotate)*o,u.mixX+=(u.data.mixX-u.mixX)*o,u.mixY+=(u.data.mixY-u.mixY)*o}else{var l,f,h,p=Zt.search(c,r,4),d=this.curves[p>>2];switch(d){case 0:var y=c[p];l=c[p+1],f=c[p+2],h=c[p+3];var v=(r-y)/(c[p+4]-y);l+=(c[p+4+1]-l)*v,f+=(c[p+4+2]-f)*v,h+=(c[p+4+3]-h)*v;break;case 1:l=c[p+1],f=c[p+2],h=c[p+3];break;default:l=this.getBezierValue(r,p,1,d-2),f=this.getBezierValue(r,p,2,d+18-2),h=this.getBezierValue(r,p,3,d+36-2)}if(a==n.qU.setup){var m=u.data;u.mixRotate=m.mixRotate+(l-m.mixRotate)*o,u.mixX=m.mixX+(f-m.mixX)*o,u.mixY=m.mixY+(h-m.mixY)*o}else u.mixRotate+=(l-u.mixRotate)*o,u.mixX+=(f-u.mixX)*o,u.mixY+=(h-u.mixY)*o}}}}])}(Kt),ke=function(t){function e(t,r,n){var i;return Tt(this,e),(i=gt(this,e,[t,["".concat(Qt,"|").concat(r,"|").concat(n.sequence.id)]])).slotIndex=r,i.attachment=n,i}return xt(e,t),Pt(e,[{key:"getFrameEntries",value:function(){return ke.ENTRIES}},{key:"getSlotIndex",value:function(){return this.slotIndex}},{key:"getAttachment",value:function(){return this.attachment}},{key:"setFrame",value:function(t,e,r,n,i){var o=this.frames;o[t*=ke.ENTRIES]=e,o[t+ke.MODE]=r|n<<4,o[t+ke.DELAY]=i}},{key:"apply",value:function(t,e,r,i,o,a,s){var u=t.slots[this.slotIndex];if(u.bone.active){var c=u.attachment,l=this.attachment;if(c==l||c instanceof y&&c.timelineAttachment==l){var f=this.frames;if(r<f[0])a!=n.qU.setup&&a!=n.qU.first||(u.sequenceIndex=-1);else{var h=Zt.search(f,r,ke.ENTRIES),p=f[h],d=f[h+ke.MODE],v=f[h+ke.DELAY];if(this.attachment.sequence){var m=d>>4,b=this.attachment.sequence.regions.length,g=bt[15&d];if(g!=mt.hold)switch(m+=(r-p)/v+1e-5|0,g){case mt.once:m=Math.min(b-1,m);break;case mt.loop:m%=b;break;case mt.pingpong:var w=(b<<1)-2;(m=0==w?0:m%w)>=b&&(m=w-m);break;case mt.onceReverse:m=Math.max(b-1-m,0);break;case mt.loopReverse:m=b-1-m%b;break;case mt.pingpongReverse:var S=(b<<1)-2;(m=0==S?0:(m+b-1)%S)>=b&&(m=S-m)}u.sequenceIndex=m}}}}}}])}(Zt),Pe=ke;Pe.ENTRIES=3,Pe.MODE=1,Pe.DELAY=2;r(55705852),r(91931354),r(57180314);function Oe(t){return Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oe(t)}function Ae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Re(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ie(n.key),n)}}function je(t,e,r){return e&&Re(t.prototype,e),r&&Re(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ie(t){var e=function(t,e){if("object"!=Oe(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Oe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Oe(e)?e:e+""}var Ce=function(){return je(function t(e){Ae(this,t),this.tracks=new Array,this.timeScale=1,this.unkeyedState=0,this.events=new Array,this.listeners=new Array,this.queue=new Be(this),this.propertyIDs=new n.eE,this.animationsChanged=!1,this.trackEntryPool=new n.bC(function(){return new Ne}),this.data=e},[{key:"update",value:function(t){t*=this.timeScale;for(var e=this.tracks,r=0,n=e.length;r<n;r++){var i=e[r];if(i){i.animationLast=i.nextAnimationLast,i.trackLast=i.nextTrackLast;var o=t*i.timeScale;if(i.delay>0){if(i.delay-=o,i.delay>0)continue;o=-i.delay,i.delay=0}var a=i.next;if(a){var s=i.trackLast-a.delay;if(s>=0){for(a.delay=0,a.trackTime+=0==i.timeScale?0:(s/i.timeScale+t)*a.timeScale,i.trackTime+=o,this.setCurrent(r,a,!0);a.mixingFrom;)a.mixTime+=t,a=a.mixingFrom;continue}}else if(i.trackLast>=i.trackEnd&&!i.mixingFrom){e[r]=null,this.queue.end(i),this.clearNext(i);continue}if(i.mixingFrom&&this.updateMixingFrom(i,t)){var u=i.mixingFrom;for(i.mixingFrom=null,u&&(u.mixingTo=null);u;)this.queue.end(u),u=u.mixingFrom}i.trackTime+=o}}this.queue.drain()}},{key:"updateMixingFrom",value:function(t,e){var r=t.mixingFrom;if(!r)return!0;var n=this.updateMixingFrom(r,e);return r.animationLast=r.nextAnimationLast,r.trackLast=r.nextTrackLast,t.mixTime>0&&t.mixTime>=t.mixDuration?(0!=r.totalAlpha&&0!=t.mixDuration||(t.mixingFrom=r.mixingFrom,r.mixingFrom&&(r.mixingFrom.mixingTo=t),t.interruptAlpha=r.interruptAlpha,this.queue.end(r)),n):(r.trackTime+=e*r.timeScale,t.mixTime+=e,!1)}},{key:"apply",value:function(t){if(!t)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var e=this.events,r=this.tracks,i=!1,o=0,a=r.length;o<a;o++){var s=r[o];if(s&&!(s.delay>0)){i=!0;var u=0==o?n.qU.first:s.mixBlend,c=s.alpha;s.mixingFrom?c*=this.applyMixingFrom(s,t,u):s.trackTime>=s.trackEnd&&!s.next&&(c=0);var l=s.animationLast,f=s.getAnimationTime(),h=f,p=e;s.reverse&&(h=s.animation.duration-h,p=null);var d=s.animation.timelines,y=d.length;if(0==o&&1==c||u==n.qU.add)for(var v=0;v<y;v++){n.Aq.webkit602BugfixHelper(c,u);var m=d[v];m instanceof ye?this.applyAttachmentTimeline(m,t,h,u,!0):m.apply(t,l,h,p,c,u,n.mj.mixIn)}else{var b=s.timelineMode,g=s.shortestRotation,w=!g&&s.timelinesRotation.length!=y<<1;w&&(s.timelinesRotation.length=y<<1);for(var S=0;S<y;S++){var x=d[S],_=b[S]==Ue?u:n.qU.setup;!g&&x instanceof te?this.applyRotateTimeline(x,t,h,c,_,s.timelinesRotation,S<<1,w):x instanceof ye?this.applyAttachmentTimeline(x,t,h,u,!0):(n.Aq.webkit602BugfixHelper(c,u),x.apply(t,l,h,p,c,_,n.mj.mixIn))}}this.queueEvents(s,f),e.length=0,s.nextAnimationLast=f,s.nextTrackLast=s.trackTime}}for(var E=this.unkeyedState+qe,T=t.slots,k=0,P=t.slots.length;k<P;k++){var O=T[k];if(O.attachmentState==E){var A=O.data.attachmentName;O.setAttachment(A?t.getAttachment(O.data.index,A):null)}}return this.unkeyedState+=2,this.queue.drain(),i}},{key:"applyMixingFrom",value:function(t,e,r){var i=t.mixingFrom;i.mixingFrom&&this.applyMixingFrom(i,e,r);var o=0;0==t.mixDuration?(o=1,r==n.qU.first&&(r=n.qU.setup)):((o=t.mixTime/t.mixDuration)>1&&(o=1),r!=n.qU.first&&(r=i.mixBlend));var a=o<i.attachmentThreshold,s=o<i.drawOrderThreshold,u=i.animation.timelines,c=u.length,l=i.alpha*t.interruptAlpha,f=l*(1-o),h=i.animationLast,p=i.getAnimationTime(),d=p,y=null;if(i.reverse?d=i.animation.duration-d:o<i.eventThreshold&&(y=this.events),r==n.qU.add)for(var v=0;v<c;v++)u[v].apply(e,h,d,y,f,r,n.mj.mixOut);else{var m=i.timelineMode,b=i.timelineHoldMix,g=i.shortestRotation,w=!g&&i.timelinesRotation.length!=c<<1;w&&(i.timelinesRotation.length=c<<1),i.totalAlpha=0;for(var S=0;S<c;S++){var x=u[S],_=n.mj.mixOut,E=void 0,T=0;switch(m[S]){case Ue:if(!s&&x instanceof we)continue;E=r,T=f;break;case Ve:E=n.qU.setup,T=f;break;case Xe:E=r,T=l;break;case Ge:E=n.qU.setup,T=l;break;default:E=n.qU.setup;var k=b[S];T=l*Math.max(0,1-k.mixTime/k.mixDuration)}i.totalAlpha+=T,!g&&x instanceof te?this.applyRotateTimeline(x,e,d,T,E,i.timelinesRotation,S<<1,w):x instanceof ye?this.applyAttachmentTimeline(x,e,d,E,a):(n.Aq.webkit602BugfixHelper(T,r),s&&x instanceof we&&E==n.qU.setup&&(_=n.mj.mixIn),x.apply(e,h,d,y,T,E,_))}}return t.mixDuration>0&&this.queueEvents(i,p),this.events.length=0,i.nextAnimationLast=p,i.nextTrackLast=i.trackTime,o}},{key:"applyAttachmentTimeline",value:function(t,e,r,i,o){var a=e.slots[t.slotIndex];a.bone.active&&(r<t.frames[0]?i!=n.qU.setup&&i!=n.qU.first||this.setAttachment(e,a,a.data.attachmentName,o):this.setAttachment(e,a,t.attachmentNames[Zt.search1(t.frames,r)],o),a.attachmentState<=this.unkeyedState&&(a.attachmentState=this.unkeyedState+qe))}},{key:"setAttachment",value:function(t,e,r,n){e.setAttachment(r?t.getAttachment(e.data.index,r):null),n&&(e.attachmentState=this.unkeyedState+We)}},{key:"applyRotateTimeline",value:function(t,e,r,i,o,a,s,u){if(u&&(a[s]=0),1!=i){var c=e.bones[t.boneIndex];if(c.active){var l=0,f=0;if(r<t.frames[0])switch(o){case n.qU.setup:c.rotation=c.data.rotation;default:return;case n.qU.first:l=c.rotation,f=c.data.rotation}else l=o==n.qU.setup?c.data.rotation:c.rotation,f=c.data.rotation+t.getCurveValue(r);var h=0,p=f-l;if(0==(p-=360*(16384-(16384.499999999996-p/360|0))))h=a[s];else{var d=0,y=0;u?(d=0,y=p):(d=a[s],y=a[s+1]);var v=p>0,m=d>=0;n.cj.signum(y)!=n.cj.signum(p)&&Math.abs(y)<=90&&(Math.abs(d)>180&&(d+=360*n.cj.signum(d)),m=v),h=p+d-d%360,m!=v&&(h+=360*n.cj.signum(d)),a[s]=h}a[s+1]=p,c.rotation=l+h*i}}else t.apply(e,0,r,null,1,o,n.mj.mixIn)}},{key:"queueEvents",value:function(t,e){for(var r=t.animationStart,n=t.animationEnd,i=n-r,o=t.trackLast%i,a=this.events,s=0,u=a.length;s<u;s++){var c=a[s];if(c.time<o)break;c.time>n||this.queue.event(t,c)}for((t.loop?0==i||o>t.trackTime%i:e>=n&&t.animationLast<n)&&this.queue.complete(t);s<u;s++){var l=a[s];l.time<r||this.queue.event(t,l)}}},{key:"clearTracks",value:function(){var t=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var e=0,r=this.tracks.length;e<r;e++)this.clearTrack(e);this.tracks.length=0,this.queue.drainDisabled=t,this.queue.drain()}},{key:"clearTrack",value:function(t){if(!(t>=this.tracks.length)){var e=this.tracks[t];if(e){this.queue.end(e),this.clearNext(e);for(var r=e;;){var n=r.mixingFrom;if(!n)break;this.queue.end(n),r.mixingFrom=null,r.mixingTo=null,r=n}this.tracks[e.trackIndex]=null,this.queue.drain()}}}},{key:"setCurrent",value:function(t,e,r){var n=this.expandToIndex(t);this.tracks[t]=e,e.previous=null,n&&(r&&this.queue.interrupt(n),e.mixingFrom=n,n.mixingTo=e,e.mixTime=0,n.mixingFrom&&n.mixDuration>0&&(e.interruptAlpha*=Math.min(1,n.mixTime/n.mixDuration)),n.timelinesRotation.length=0),this.queue.start(e)}},{key:"setAnimation",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this.data.skeletonData.findAnimation(e);if(!n)throw new Error("Animation not found: ".concat(e));return this.setAnimationWith(t,n,r)}},{key:"setAnimationWith",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e)throw new Error("animation cannot be null.");var n=!0,i=this.expandToIndex(t);i&&(-1==i.nextTrackLast?(this.tracks[t]=i.mixingFrom,this.queue.interrupt(i),this.queue.end(i),this.clearNext(i),i=i.mixingFrom,n=!1):this.clearNext(i));var o=this.trackEntry(t,e,r,i);return this.setCurrent(t,o,n),this.queue.drain(),o}},{key:"addAnimation",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=this.data.skeletonData.findAnimation(e);if(!i)throw new Error("Animation not found: ".concat(e));return this.addAnimationWith(t,i,r,n)}},{key:"addAnimationWith",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(!e)throw new Error("animation cannot be null.");var i=this.expandToIndex(t);if(i)for(;i.next;)i=i.next;var o=this.trackEntry(t,e,r,i);return i?(i.next=o,o.previous=i,n<=0&&(n+=i.getTrackComplete()-o.mixDuration)):(this.setCurrent(t,o,!0),this.queue.drain()),o.delay=n,o}},{key:"setEmptyAnimation",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this.setAnimationWith(t,Ce.emptyAnimation(),!1);return r.mixDuration=e,r.trackEnd=e,r}},{key:"addEmptyAnimation",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=this.addAnimationWith(t,Ce.emptyAnimation(),!1,r);return r<=0&&(n.delay+=n.mixDuration-e),n.mixDuration=e,n.trackEnd=e,n}},{key:"setEmptyAnimations",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var r=0,n=this.tracks.length;r<n;r++){var i=this.tracks[r];i&&this.setEmptyAnimation(i.trackIndex,t)}this.queue.drainDisabled=e,this.queue.drain()}},{key:"expandToIndex",value:function(t){return t<this.tracks.length?this.tracks[t]:(n.Aq.ensureArrayCapacity(this.tracks,t+1,null),this.tracks.length=t+1,null)}},{key:"trackEntry",value:function(t,e,r,i){var o=this.trackEntryPool.obtain();return o.reset(),o.trackIndex=t,o.animation=e,o.loop=r,o.holdPrevious=!1,o.reverse=!1,o.shortestRotation=!1,o.eventThreshold=0,o.attachmentThreshold=0,o.drawOrderThreshold=0,o.animationStart=0,o.animationEnd=e.duration,o.animationLast=-1,o.nextAnimationLast=-1,o.delay=0,o.trackTime=0,o.trackLast=-1,o.nextTrackLast=-1,o.trackEnd=Number.MAX_VALUE,o.timeScale=1,o.alpha=1,o.mixTime=0,o.mixDuration=i?this.data.getMix(i.animation,e):0,o.interruptAlpha=1,o.totalAlpha=0,o.mixBlend=n.qU.replace,o}},{key:"clearNext",value:function(t){for(var e=t.next;e;)this.queue.dispose(e),e=e.next;t.next=null}},{key:"_animationsChanged",value:function(){this.animationsChanged=!1,this.propertyIDs.clear();for(var t=this.tracks,e=0,r=t.length;e<r;e++){var i=t[e];if(i){for(;i.mixingFrom;)i=i.mixingFrom;do{i.mixingTo&&i.mixBlend==n.qU.add||this.computeHold(i),i=i.mixingTo}while(i)}}}},{key:"computeHold",value:function(t){var e=t.mixingTo,r=t.animation.timelines,n=t.animation.timelines.length,i=t.timelineMode;i.length=n;var o=t.timelineHoldMix;o.length=0;var a=this.propertyIDs;if(e&&e.holdPrevious)for(var s=0;s<n;s++)i[s]=a.addAll(r[s].getPropertyIds())?Ge:Xe;else t:for(var u=0;u<n;u++){var c=r[u],l=c.getPropertyIds();if(a.addAll(l))if(!e||c instanceof ye||c instanceof we||c instanceof be||!e.animation.hasTimeline(l))i[u]=Ve;else{for(var f=e.mixingTo;f;f=f.mixingTo)if(!f.animation.hasTimeline(l)){if(t.mixDuration>0){i[u]=Ye,o[u]=f;continue t}break}i[u]=Ge}else i[u]=Ue}}},{key:"getCurrent",value:function(t){return t>=this.tracks.length?null:this.tracks[t]}},{key:"addListener",value:function(t){if(!t)throw new Error("listener cannot be null.");this.listeners.push(t)}},{key:"removeListener",value:function(t){var e=this.listeners.indexOf(t);e>=0&&this.listeners.splice(e,1)}},{key:"clearListeners",value:function(){this.listeners.length=0}},{key:"clearListenerNotifications",value:function(){this.queue.clear()}},{key:"setAnimationByName",value:function(t,e,r){Ce.deprecatedWarning1||(Ce.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: AnimationState.setAnimationByName is deprecated, please use setAnimation from now on.")),this.setAnimation(t,e,r)}},{key:"addAnimationByName",value:function(t,e,r,n){Ce.deprecatedWarning2||(Ce.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: AnimationState.addAnimationByName is deprecated, please use addAnimation from now on.")),this.addAnimation(t,e,r,n)}},{key:"hasAnimation",value:function(t){return null!==this.data.skeletonData.findAnimation(t)}},{key:"hasAnimationByName",value:function(t){return Ce.deprecatedWarning3||(Ce.deprecatedWarning3=!0,console.warn("Spine Deprecation Warning: AnimationState.hasAnimationByName is deprecated, please use hasAnimation from now on.")),this.hasAnimation(t)}}],[{key:"emptyAnimation",value:function(){return Ce._emptyAnimation}}])}(),Me=Ce;Me._emptyAnimation=new At("<empty>",[],0),Me.deprecatedWarning1=!1,Me.deprecatedWarning2=!1,Me.deprecatedWarning3=!1;var De=function(){return je(function t(){Ae(this,t),this.animation=null,this.previous=null,this.next=null,this.mixingFrom=null,this.mixingTo=null,this.listener=null,this.trackIndex=0,this.loop=!1,this.holdPrevious=!1,this.reverse=!1,this.shortestRotation=!1,this.eventThreshold=0,this.attachmentThreshold=0,this.drawOrderThreshold=0,this.animationStart=0,this.animationEnd=0,this.animationLast=0,this.nextAnimationLast=0,this.delay=0,this.trackTime=0,this.trackLast=0,this.nextTrackLast=0,this.trackEnd=0,this.timeScale=0,this.alpha=0,this.mixTime=0,this.mixDuration=0,this.interruptAlpha=0,this.totalAlpha=0,this.mixBlend=n.qU.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array},[{key:"reset",value:function(){this.next=null,this.previous=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0}},{key:"getAnimationTime",value:function(){if(this.loop){var t=this.animationEnd-this.animationStart;return 0==t?this.animationStart:this.trackTime%t+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)}},{key:"setAnimationLast",value:function(t){this.animationLast=t,this.nextAnimationLast=t}},{key:"isComplete",value:function(){return this.trackTime>=this.animationEnd-this.animationStart}},{key:"resetRotationDirections",value:function(){this.timelinesRotation.length=0}},{key:"getTrackComplete",value:function(){var t=this.animationEnd-this.animationStart;if(0!=t){if(this.loop)return t*(1+(this.trackTime/t|0));if(this.trackTime<t)return t}return this.trackTime}},{key:"time",get:function(){return De.deprecatedWarning1||(De.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime},set:function(t){De.deprecatedWarning1||(De.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime=t}},{key:"endTime",get:function(){return De.deprecatedWarning2||(De.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime},set:function(t){De.deprecatedWarning2||(De.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime=t}},{key:"loopsCount",value:function(){return Math.floor(this.trackTime/this.trackEnd)}}])}(),Ne=De;Ne.deprecatedWarning1=!1,Ne.deprecatedWarning2=!1;var Be=function(){return je(function t(e){Ae(this,t),this.objects=[],this.drainDisabled=!1,this.animState=e},[{key:"start",value:function(t){this.objects.push(Fe.start),this.objects.push(t),this.animState.animationsChanged=!0}},{key:"interrupt",value:function(t){this.objects.push(Fe.interrupt),this.objects.push(t)}},{key:"end",value:function(t){this.objects.push(Fe.end),this.objects.push(t),this.animState.animationsChanged=!0}},{key:"dispose",value:function(t){this.objects.push(Fe.dispose),this.objects.push(t)}},{key:"complete",value:function(t){this.objects.push(Fe.complete),this.objects.push(t)}},{key:"event",value:function(t,e){this.objects.push(Fe.event),this.objects.push(t),this.objects.push(e)}},{key:"drain",value:function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var t=this.objects,e=this.animState.listeners,r=0;r<t.length;r+=2){var n=t[r],i=t[r+1];switch(n){case Fe.start:i.listener&&i.listener.start&&i.listener.start(i);for(var o=0;o<e.length;o++){var a=e[o];a.start&&a.start(i)}break;case Fe.interrupt:i.listener&&i.listener.interrupt&&i.listener.interrupt(i);for(var s=0;s<e.length;s++){var u=e[s];u.interrupt&&u.interrupt(i)}break;case Fe.end:i.listener&&i.listener.end&&i.listener.end(i);for(var c=0;c<e.length;c++){var l=e[c];l.end&&l.end(i)}case Fe.dispose:i.listener&&i.listener.dispose&&i.listener.dispose(i);for(var f=0;f<e.length;f++){var h=e[f];h.dispose&&h.dispose(i)}this.animState.trackEntryPool.free(i);break;case Fe.complete:i.listener&&i.listener.complete&&i.listener.complete(i);for(var p=0;p<e.length;p++){var d=e[p];d.complete&&d.complete(i)}break;case Fe.event:var y=t[2+r++];i.listener&&i.listener.event&&i.listener.event(i,y);for(var v=0;v<e.length;v++){var m=e[v];m.event&&m.event(i,y)}}}this.clear(),this.drainDisabled=!1}}},{key:"clear",value:function(){this.objects.length=0}}])}(),Fe=function(t){return t[t.start=0]="start",t[t.interrupt=1]="interrupt",t[t.end=2]="end",t[t.dispose=3]="dispose",t[t.complete=4]="complete",t[t.event=5]="event",t}(Fe||{}),Le=function(){return je(function t(){Ae(this,t)},[{key:"start",value:function(t){}},{key:"interrupt",value:function(t){}},{key:"end",value:function(t){}},{key:"dispose",value:function(t){}},{key:"complete",value:function(t){}},{key:"event",value:function(t,e){}}])}(),Ue=0,Ve=1,Xe=2,Ge=3,Ye=4,qe=1,We=2;function He(t){return He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},He(t)}function ze(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Qe(n.key),n)}}function Qe(t){var e=function(t,e){if("object"!=He(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=He(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==He(e)?e:e+""}var Ze=function(){return t=function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.animationToMixTime={},this.defaultMix=0,!e)throw new Error("skeletonData cannot be null.");this.skeletonData=e},(e=[{key:"setMix",value:function(t,e,r){var n=this.skeletonData.findAnimation(t);if(!n)throw new Error("Animation not found: ".concat(t));var i=this.skeletonData.findAnimation(e);if(!i)throw new Error("Animation not found: ".concat(e));this.setMixWith(n,i,r)}},{key:"setMixWith",value:function(t,e,r){if(!t)throw new Error("from cannot be null.");if(!e)throw new Error("to cannot be null.");var n="".concat(t.name,".").concat(e.name);this.animationToMixTime[n]=r}},{key:"getMix",value:function(t,e){var r="".concat(t.name,".").concat(e.name),n=this.animationToMixTime[r];return void 0===n?this.defaultMix:n}}])&&ze(t.prototype,e),r&&ze(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();function Ke(t){return Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ke(t)}function $e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Je(n.key),n)}}function Je(t){var e=function(t,e){if("object"!=Ke(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Ke(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ke(e)?e:e+""}var tr=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.atlas=e},(e=[{key:"loadSequence",value:function(t,e,r){for(var n=r.regions,i=0,o=n.length;i<o;i++){var a=r.getPath(e,i),s=this.atlas.findRegion(a);if(null==s)throw new Error("Region not found in atlas: ".concat(a," (sequence: ").concat(t,")"));n[i]=s,n[i].renderObject=n[i]}}},{key:"newRegionAttachment",value:function(t,e,r,n){var i=new ft(e,r);if(null!=n)this.loadSequence(e,r,n);else{var o=this.atlas.findRegion(r);if(!o)throw new Error("Region not found in atlas: ".concat(r," (region attachment: ").concat(e,")"));o.renderObject=o,i.region=o}return i}},{key:"newMeshAttachment",value:function(t,e,r,n){var i=new U(e,r);if(null!=n)this.loadSequence(e,r,n);else{var o=this.atlas.findRegion(r);if(!o)throw new Error("Region not found in atlas: ".concat(r," (mesh attachment: ").concat(e,")"));o.renderObject=o,i.region=o}return i}},{key:"newBoundingBoxAttachment",value:function(t,e){return new _(e)}},{key:"newPathAttachment",value:function(t,e){return new z(e)}},{key:"newPointAttachment",value:function(t,e){return new rt(e)}},{key:"newClippingAttachment",value:function(t,e){return new j(e)}}])&&$e(t.prototype,e),r&&$e(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}(),er=r(55039106);function rr(t){return rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rr(t)}function nr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ir(n.key),n)}}function ir(t){var e=function(t,e){if("object"!=rr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=rr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==rr(e)?e:e+""}var or=function(){return t=function t(e,r,n){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.matrix=new er.uq,this.parent=null,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.sorted=!1,this.active=!1,!e)throw new Error("data cannot be null.");if(!r)throw new Error("skeleton cannot be null.");this.data=e,this.skeleton=r,this.parent=n,this.setToSetupPose()},(e=[{key:"worldX",get:function(){return this.matrix.tx}},{key:"worldY",get:function(){return this.matrix.ty}},{key:"isActive",value:function(){return this.active}},{key:"update",value:function(){this.updateWorldTransformWith(this.ax,this.ay,this.arotation,this.ascaleX,this.ascaleY,this.ashearX,this.ashearY)}},{key:"updateWorldTransform",value:function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)}},{key:"updateWorldTransformWith",value:function(t,e,r,i,o,a,s){this.ax=t,this.ay=e,this.arotation=r,this.ascaleX=i,this.ascaleY=o,this.ashearX=a,this.ashearY=s;var u=this.parent,c=this.matrix,l=this.skeleton.scaleX,f=n.W0.yDown?-this.skeleton.scaleY:this.skeleton.scaleY;if(!u){var h=this.skeleton,p=r+90+s;return c.a=n.cj.cosDeg(r+a)*i*l,c.c=n.cj.cosDeg(p)*o*l,c.b=n.cj.sinDeg(r+a)*i*f,c.d=n.cj.sinDeg(p)*o*f,c.tx=t*l+h.x,void(c.ty=e*f+h.y)}var d=u.matrix.a,y=u.matrix.c,v=u.matrix.b,m=u.matrix.d;switch(c.tx=d*t+y*e+u.matrix.tx,c.ty=v*t+m*e+u.matrix.ty,this.data.transformMode){case n._C.Normal:var b=r+90+s,g=n.cj.cosDeg(r+a)*i,w=n.cj.cosDeg(b)*o,S=n.cj.sinDeg(r+a)*i,x=n.cj.sinDeg(b)*o;return c.a=d*g+y*S,c.c=d*w+y*x,c.b=v*g+m*S,void(c.d=v*w+m*x);case n._C.OnlyTranslation:var _=r+90+s;c.a=n.cj.cosDeg(r+a)*i,c.c=n.cj.cosDeg(_)*o,c.b=n.cj.sinDeg(r+a)*i,c.d=n.cj.sinDeg(_)*o;break;case n._C.NoRotationOrReflection:var E=d*d+v*v,T=0;E>1e-4?(E=Math.abs(d*m-y*v)/E,y=(v/=f)*E,m=(d/=l)*E,T=Math.atan2(v,d)*n.cj.radDeg):(d=0,v=0,T=90-Math.atan2(m,y)*n.cj.radDeg);var k=r+a-T,P=r+s-T+90,O=n.cj.cosDeg(k)*i,A=n.cj.cosDeg(P)*o,R=n.cj.sinDeg(k)*i,j=n.cj.sinDeg(P)*o;c.a=d*O-y*R,c.c=d*A-y*j,c.b=v*O+m*R,c.d=v*A+m*j;break;case n._C.NoScale:case n._C.NoScaleOrReflection:var I=n.cj.cosDeg(r),C=n.cj.sinDeg(r),M=(d*I+y*C)/l,D=(v*I+m*C)/f,N=Math.sqrt(M*M+D*D);N>1e-5&&(N=1/N),M*=N,D*=N,N=Math.sqrt(M*M+D*D),this.data.transformMode==n._C.NoScale&&d*m-y*v<0!=(l<0!=f<0)&&(N=-N);var B=Math.PI/2+Math.atan2(D,M),F=Math.cos(B)*N,L=Math.sin(B)*N,U=n.cj.cosDeg(a)*i,V=n.cj.cosDeg(90+s)*o,X=n.cj.sinDeg(a)*i,G=n.cj.sinDeg(90+s)*o;c.a=M*U+F*X,c.c=M*V+F*G,c.b=D*U+L*X,c.d=D*V+L*G}c.a*=l,c.c*=l,c.b*=f,c.d*=f}},{key:"setToSetupPose",value:function(){var t=this.data;this.x=t.x,this.y=t.y,this.rotation=t.rotation,this.scaleX=t.scaleX,this.scaleY=t.scaleY,this.shearX=t.shearX,this.shearY=t.shearY}},{key:"getWorldRotationX",value:function(){return Math.atan2(this.matrix.b,this.matrix.a)*n.cj.radDeg}},{key:"getWorldRotationY",value:function(){return Math.atan2(this.matrix.d,this.matrix.c)*n.cj.radDeg}},{key:"getWorldScaleX",value:function(){var t=this.matrix;return Math.sqrt(t.a*t.a+t.b*t.b)}},{key:"getWorldScaleY",value:function(){var t=this.matrix;return Math.sqrt(t.c*t.c+t.d*t.d)}},{key:"updateAppliedTransform",value:function(){var t=this.parent,e=this.matrix;if(!t)return this.ax=e.tx-this.skeleton.x,this.ay=e.ty-this.skeleton.y,this.arotation=Math.atan2(e.b,e.a)*n.cj.radDeg,this.ascaleX=Math.sqrt(e.a*e.a+e.b*e.b),this.ascaleY=Math.sqrt(e.c*e.c+e.d*e.d),this.ashearX=0,void(this.ashearY=Math.atan2(e.a*e.c+e.b*e.d,e.a*e.d-e.b*e.c)*n.cj.radDeg);var r=t.matrix,i=1/(r.a*r.d-r.b*r.c),o=e.tx-r.tx,a=e.ty-r.ty;this.ax=o*r.d*i-a*r.c*i,this.ay=a*r.a*i-o*r.b*i;var s=i*r.d,u=i*r.a,c=i*r.c,l=i*r.b,f=s*e.a-c*e.b,h=s*e.c-c*e.d,p=u*e.b-l*e.a,d=u*e.d-l*e.c;if(this.ashearX=0,this.ascaleX=Math.sqrt(f*f+p*p),this.ascaleX>1e-4){var y=f*d-h*p;this.ascaleY=y/this.ascaleX,this.ashearY=Math.atan2(f*h+p*d,y)*n.cj.radDeg,this.arotation=Math.atan2(p,f)*n.cj.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(h*h+d*d),this.ashearY=0,this.arotation=90-Math.atan2(d,h)*n.cj.radDeg}},{key:"worldToLocal",value:function(t){var e=this.matrix,r=e.a,n=e.c,i=e.b,o=e.d,a=1/(r*o-n*i),s=t.x-e.tx,u=t.y-e.ty;return t.x=s*o*a-u*n*a,t.y=u*r*a-s*i*a,t}},{key:"localToWorld",value:function(t){var e=this.matrix,r=t.x,n=t.y;return t.x=r*e.a+n*e.c+e.tx,t.y=r*e.b+n*e.d+e.ty,t}},{key:"worldToLocalRotation",value:function(t){var e=n.cj.sinDeg(t),r=n.cj.cosDeg(t),i=this.matrix;return Math.atan2(i.a*e-i.b*r,i.d*r-i.c*e)*n.cj.radDeg}},{key:"localToWorldRotation",value:function(t){t-=this.rotation-this.shearX;var e=n.cj.sinDeg(t),r=n.cj.cosDeg(t),i=this.matrix;return Math.atan2(r*i.b+e*i.d,r*i.a+e*i.c)*n.cj.radDeg}},{key:"rotateWorld",value:function(t){var e=this.matrix,r=e.a,i=e.c,o=e.b,a=e.d,s=n.cj.cosDeg(t),u=n.cj.sinDeg(t);e.a=s*r-u*o,e.c=s*i-u*a,e.b=u*r+s*o,e.d=u*i+s*a}}])&&nr(t.prototype,e),r&&nr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();function ar(t){return ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ar(t)}function sr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,cr(n.key),n)}}function ur(t,e,r){return e&&sr(t.prototype,e),r&&sr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function cr(t){var e=function(t,e){if("object"!=ar(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=ar(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ar(e)?e:e+""}var lr=ur(function t(e,r,i){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.index=0,this.parent=null,this.length=0,this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=n._C.Normal,this.skinRequired=!1,this.color=new n.Q1,e<0)throw new Error("index must be >= 0.");if(!r)throw new Error("name cannot be null.");this.index=e,this.name=r,this.parent=i});function fr(t){return fr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fr(t)}function hr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dr(n.key),n)}}function pr(t,e,r){return e&&hr(t.prototype,e),r&&hr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function dr(t){var e=function(t,e){if("object"!=fr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=fr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==fr(e)?e:e+""}var yr=pr(function t(e,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.name=e,this.order=r,this.skinRequired=n});function vr(t){return vr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vr(t)}function mr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gr(n.key),n)}}function br(t,e,r){return e&&mr(t.prototype,e),r&&mr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function gr(t){var e=function(t,e){if("object"!=vr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=vr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==vr(e)?e:e+""}var wr=br(function t(e,r){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.intValue=0,this.floatValue=0,this.stringValue=null,this.time=0,this.volume=0,this.balance=0,!r)throw new Error("data cannot be null.");this.time=e,this.data=r});function Sr(t){return Sr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sr(t)}function xr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Er(n.key),n)}}function _r(t,e,r){return e&&xr(t.prototype,e),r&&xr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Er(t){var e=function(t,e){if("object"!=Sr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Sr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Sr(e)?e:e+""}var Tr=_r(function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.intValue=0,this.floatValue=0,this.stringValue=null,this.audioPath=null,this.volume=0,this.balance=0,this.name=e});function kr(t){return kr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kr(t)}function Pr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Or(n.key),n)}}function Or(t){var e=function(t,e){if("object"!=kr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=kr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==kr(e)?e:e+""}var Ar=function(){return t=function t(e,r){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,this.softness=0,this.active=!1,!e)throw new Error("data cannot be null.");if(!r)throw new Error("skeleton cannot be null.");this.data=e,this.mix=e.mix,this.softness=e.softness,this.bendDirection=e.bendDirection,this.compress=e.compress,this.stretch=e.stretch,this.bones=new Array;for(var n=0;n<e.bones.length;n++){var i=r.findBone(e.bones[n].name);if(!i)throw new Error("Couldn't find bone ".concat(e.bones[n].name));this.bones.push(i)}var o=r.findBone(e.target.name);if(!o)throw new Error("Couldn't find bone ".concat(e.target.name));this.target=o},(e=[{key:"isActive",value:function(){return this.active}},{key:"update",value:function(){if(0!=this.mix){var t=this.target,e=this.bones;switch(e.length){case 1:this.apply1(e[0],t.worldX,t.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(e[0],e[1],t.worldX,t.worldY,this.bendDirection,this.stretch,this.data.uniform,this.softness,this.mix)}}}},{key:"apply1",value:function(t,e,r,i,o,a,s){var u=t.parent.matrix;if(!u)throw new Error("IK bone must have parent.");var c=u.a,l=u.c,f=u.b,h=u.d,p=-t.ashearX-t.arotation,d=0,y=0,v=t.skeleton.scaleX,m=n.W0.yDown?-t.skeleton.scaleY:t.skeleton.scaleY;switch(t.data.transformMode){case n._C.OnlyTranslation:d=(e-t.worldX)*n.cj.signum(v),y=(r-t.worldY)*n.cj.signum(m);break;case n._C.NoRotationOrReflection:var b=Math.abs(c*h-l*f)/(c*c+f*f),g=c/v,w=f/m;l=-w*b*v,h=g*b*m,p+=Math.atan2(w,g)*n.cj.radDeg;default:var S=e-u.tx,x=r-u.ty,_=c*h-l*f;d=(S*h-x*l)/_-t.ax,y=(x*c-S*f)/_-t.ay}p+=Math.atan2(y,d)*n.cj.radDeg,t.ascaleX<0&&(p+=180),p>180?p-=360:p<-180&&(p+=360);var E=t.ascaleX,T=t.ascaleY;if(i||o){switch(t.data.transformMode){case n._C.NoScale:case n._C.NoScaleOrReflection:d=e-t.worldX,y=r-t.worldY}var k=t.data.length*E,P=Math.sqrt(d*d+y*y);if(i&&P<k||o&&P>k&&k>1e-4){var O=(P/k-1)*s+1;E*=O,a&&(T*=O)}}t.updateWorldTransformWith(t.ax,t.ay,t.arotation+p*s,E,T,t.ashearX,t.ashearY)}},{key:"apply2",value:function(t,e,r,i,o,a,s,u,c){var l=t.ax,f=t.ay,h=t.ascaleX,p=t.ascaleY,d=h,y=p,v=e.ascaleX,m=t.matrix,b=0,g=0,w=0;h<0?(h=-h,b=180,w=-1):(b=0,w=1),p<0&&(p=-p,w=-w),v<0?(v=-v,g=180):g=0;var S=e.ax,x=0,_=0,E=0,T=m.a,k=m.c,P=m.b,O=m.d,A=Math.abs(h-p)<=1e-4;!A||a?(x=0,_=T*S+m.tx,E=P*S+m.ty):(_=T*S+k*(x=e.ay)+m.tx,E=P*S+O*x+m.ty);var R=t.parent.matrix;if(!R)throw new Error("IK parent must itself have a parent.");T=R.a,k=R.c,P=R.b;var j,I,C=1/(T*(O=R.d)-k*P),M=_-R.tx,D=E-R.ty,N=(M*O-D*k)*C-l,B=(D*T-M*P)*C-f,F=Math.sqrt(N*N+B*B),L=e.data.length*v;if(F<1e-4)return this.apply1(t,r,i,!1,a,!1,c),void e.updateWorldTransformWith(S,x,0,e.ascaleX,e.ascaleY,e.ashearX,e.ashearY);var U=((M=r-R.tx)*O-(D=i-R.ty)*k)*C-l,V=(D*T-M*P)*C-f,X=U*U+V*V;if(0!=u){u*=h*(v+1)*.5;var G=Math.sqrt(X),Y=G-F-L*h+u;if(Y>0){var q=Math.min(1,Y/(2*u))-1;X=(U-=(q=(Y-u*(1-q*q))/G)*U)*U+(V-=q*V)*V}}t:if(A){var W=(X-F*F-(L*=h)*L)/(2*F*L);W<-1?(W=-1,I=Math.PI*o):W>1?(W=1,I=0,a&&(d*=T=(Math.sqrt(X)/(F+L)-1)*c+1,s&&(y*=T))):I=Math.acos(W)*o,T=F+L*W,k=L*Math.sin(I),j=Math.atan2(V*T-U*k,U*T+V*k)}else{var H=(T=h*L)*T,z=(k=p*L)*k,Q=Math.atan2(V,U),Z=-2*z*F,K=z-H;if((O=Z*Z-4*K*(P=z*F*F+H*X-H*z))>=0){var $=Math.sqrt(O);Z<0&&($=-$);var J=($=.5*-(Z+$))/K,tt=P/$,et=Math.abs(J)<Math.abs(tt)?J:tt;if(et*et<=X){D=Math.sqrt(X-et*et)*o,j=Q-Math.atan2(D,et),I=Math.atan2(D/p,(et-F)/h);break t}}var rt=n.cj.PI,nt=F-T,it=nt*nt,ot=0,at=0,st=F+T,ut=st*st,ct=0;(P=-T*F/(H-z))>=-1&&P<=1&&(P=Math.acos(P),(O=(M=T*Math.cos(P)+F)*M+(D=k*Math.sin(P))*D)<it&&(rt=P,it=O,nt=M,ot=D),O>ut&&(at=P,ut=O,st=M,ct=D)),X<=.5*(it+ut)?(j=Q-Math.atan2(ot*o,nt),I=rt*o):(j=Q-Math.atan2(ct*o,st),I=at*o)}var lt=Math.atan2(x,S)*w,ft=t.arotation;(j=(j-lt)*n.cj.radDeg+b-ft)>180?j-=360:j<-180&&(j+=360),t.updateWorldTransformWith(l,f,ft+j*c,d,y,0,0),ft=e.arotation,(I=((I+lt)*n.cj.radDeg-e.ashearX)*w+g-ft)>180?I-=360:I<-180&&(I+=360),e.updateWorldTransformWith(S,x,ft+I*c,e.ascaleX,e.ascaleY,e.ashearX,e.ashearY)}}])&&Pr(t.prototype,e),r&&Pr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();function Rr(t){return Rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rr(t)}function jr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ir(n.key),n)}}function Ir(t){var e=function(t,e){if("object"!=Rr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Rr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Rr(e)?e:e+""}function Cr(t,e,r){return e=Dr(e),function(t,e){if(e&&("object"==Rr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Mr()?Reflect.construct(e,r||[],Dr(t).constructor):e.apply(t,r))}function Mr(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Mr=function(){return!!t})()}function Dr(t){return Dr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Dr(t)}function Nr(t,e){return Nr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Nr(t,e)}var Br=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=Cr(this,e,[t,0,!1])).bones=new Array,r._target=null,r.bendDirection=1,r.compress=!1,r.stretch=!1,r.uniform=!1,r.mix=1,r.softness=0,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Nr(t,e)}(e,t),r=e,(n=[{key:"target",get:function(){if(this._target)return this._target;throw new Error("BoneData not set.")},set:function(t){this._target=t}}])&&jr(r.prototype,n),i&&jr(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i}(yr);function Fr(t){return Fr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fr(t)}function Lr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ur(n.key),n)}}function Ur(t){var e=function(t,e){if("object"!=Fr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Fr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Fr(e)?e:e+""}function Vr(t,e,r){return e=Gr(e),function(t,e){if(e&&("object"==Fr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Xr()?Reflect.construct(e,r||[],Gr(t).constructor):e.apply(t,r))}function Xr(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Xr=function(){return!!t})()}function Gr(t){return Gr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Gr(t)}function Yr(t,e){return Yr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Yr(t,e)}var qr=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=Vr(this,e,[t,0,!1])).bones=new Array,r._target=null,r.positionMode=n.pw.Fixed,r.spacingMode=Wr.Fixed,r.rotateMode=n.Dr.Chain,r.offsetRotation=0,r.position=0,r.spacing=0,r.mixRotate=0,r.mixX=0,r.mixY=0,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yr(t,e)}(e,t),r=e,(i=[{key:"target",get:function(){if(this._target)return this._target;throw new Error("SlotData not set.")},set:function(t){this._target=t}}])&&Lr(r.prototype,i),o&&Lr(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(yr),Wr=function(t){return t[t.Length=0]="Length",t[t.Fixed=1]="Fixed",t[t.Percent=2]="Percent",t[t.Proportional=3]="Proportional",t}(Wr||{});function Hr(t){return Hr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hr(t)}function zr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Qr(n.key),n)}}function Qr(t){var e=function(t,e){if("object"!=Hr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Hr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Hr(e)?e:e+""}var Zr=function(){return t=function t(e,r){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.position=0,this.spacing=0,this.mixRotate=0,this.mixX=0,this.mixY=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,this.active=!1,!e)throw new Error("data cannot be null.");if(!r)throw new Error("skeleton cannot be null.");this.data=e,this.bones=new Array;for(var n=0,i=e.bones.length;n<i;n++){var o=r.findBone(e.bones[n].name);if(!o)throw new Error("Couldn't find bone ".concat(e.bones[n].name,"."));this.bones.push(o)}var a=r.findSlot(e.target.name);if(!a)throw new Error("Couldn't find target bone ".concat(e.target.name));this.target=a,this.position=e.position,this.spacing=e.spacing,this.mixRotate=e.mixRotate,this.mixX=e.mixX,this.mixY=e.mixY},(e=[{key:"isActive",value:function(){return this.active}},{key:"update",value:function(){var t=this.target.getAttachment();if(t instanceof z){var e=this.mixRotate,r=this.mixX,i=this.mixY;if(0!=e||0!=r||0!=i){var o=this.data,a=o.rotateMode==n.Dr.Tangent,s=o.rotateMode==n.Dr.ChainScale,u=this.bones,c=u.length,l=a?c:c+1,f=n.Aq.setArraySize(this.spaces,l),h=s?this.lengths=n.Aq.setArraySize(this.lengths,c):[],p=this.spacing;switch(o.spacingMode){case Wr.Percent:if(s)for(var d=0,y=l-1;d<y;d++){var v=u[d],m=v.data.length;if(m<Zr.epsilon)h[d]=0;else{var b=m*v.matrix.a,g=m*v.matrix.b;h[d]=Math.sqrt(b*b+g*g)}}n.Aq.arrayFill(f,1,l,p);break;case Wr.Proportional:for(var w=0,S=0,x=l-1;S<x;){var _=u[S],E=_.data.length;if(E<Zr.epsilon)s&&(h[S]=0),f[++S]=p;else{var T=E*_.matrix.a,k=E*_.matrix.b,P=Math.sqrt(T*T+k*k);s&&(h[S]=P),f[++S]=P,w+=P}}if(w>0){w=l/w*p;for(var O=1;O<l;O++)f[O]*=w}break;default:for(var A=o.spacingMode==Wr.Length,R=0,j=l-1;R<j;){var I=u[R],C=I.data.length;if(C<Zr.epsilon)s&&(h[R]=0),f[++R]=p;else{var M=C*I.matrix.a,D=C*I.matrix.b,N=Math.sqrt(M*M+D*D);s&&(h[R]=N),f[++R]=(A?C+p:p)*N/C}}}var B=this.computeWorldPositions(t,l,a),F=B[0],L=B[1],U=o.offsetRotation,V=!1;if(0==U)V=o.rotateMode==n.Dr.Chain;else{V=!1;var X=this.target.bone.matrix;U*=X.a*X.d-X.b*X.c>0?n.cj.degRad:-n.cj.degRad}for(var G=0,Y=3;G<c;G++,Y+=3){var q=u[G],W=q.matrix;W.tx+=(F-W.tx)*r,W.ty+=(L-W.ty)*i;var H=B[Y],Q=B[Y+1],Z=H-F,K=Q-L;if(s){var $=h[G];if(0!=$){var J=(Math.sqrt(Z*Z+K*K)/$-1)*e+1;W.a*=J,W.b*=J}}if(F=H,L=Q,e>0){var tt=W.a,et=W.c,rt=W.b,nt=W.d,it=0,ot=0,at=0;if(it=a?B[Y-1]:0==f[G+1]?B[Y+2]:Math.atan2(K,Z),it-=Math.atan2(rt,tt),V){ot=Math.cos(it),at=Math.sin(it);var st=q.data.length;F+=(st*(ot*tt-at*rt)-Z)*e,L+=(st*(at*tt+ot*rt)-K)*e}else it+=U;it>n.cj.PI?it-=n.cj.PI2:it<-n.cj.PI&&(it+=n.cj.PI2),it*=e,ot=Math.cos(it),at=Math.sin(it),W.a=ot*tt-at*rt,W.c=ot*et-at*nt,W.b=at*tt+ot*rt,W.d=at*et+ot*nt}q.updateAppliedTransform()}}}}},{key:"computeWorldPositions",value:function(t,e,r){var i=this.target,o=this.position,a=this.spaces,s=n.Aq.setArraySize(this.positions,3*e+2),u=this.world,c=t.closed,l=t.worldVerticesLength,f=l/6,h=Zr.NONE;if(!t.constantSpeed){var p,d=t.lengths,y=d[f-=c?1:2];switch(this.data.positionMode==n.pw.Percent&&(o*=y),this.data.spacingMode){case Wr.Percent:p=y;break;case Wr.Proportional:p=y/e;break;default:p=1}u=n.Aq.setArraySize(this.world,8);for(var v=0,m=0,b=0;v<e;v++,m+=3){var g=a[v]*p,w=o+=g;if(c)(w%=y)<0&&(w+=y),b=0;else{if(w<0){h!=Zr.BEFORE&&(h=Zr.BEFORE,t.computeWorldVertices(i,2,4,u,0,2)),this.addBeforePosition(w,u,0,s,m);continue}if(w>y){h!=Zr.AFTER&&(h=Zr.AFTER,t.computeWorldVertices(i,l-6,4,u,0,2)),this.addAfterPosition(w-y,u,0,s,m);continue}}for(;;b++){var S=d[b];if(!(w>S)){if(0==b)w/=S;else{var x=d[b-1];w=(w-x)/(S-x)}break}}b!=h&&(h=b,c&&b==f?(t.computeWorldVertices(i,l-4,4,u,0,2),t.computeWorldVertices(i,0,4,u,4,2)):t.computeWorldVertices(i,6*b+2,8,u,0,2)),this.addCurvePosition(w,u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],s,m,r||v>0&&0==g)}return s}c?(l+=2,u=n.Aq.setArraySize(this.world,l),t.computeWorldVertices(i,2,l-4,u,0,2),t.computeWorldVertices(i,0,2,u,l-4,2),u[l-2]=u[0],u[l-1]=u[1]):(f--,l-=4,u=n.Aq.setArraySize(this.world,l),t.computeWorldVertices(i,2,l,u,0,2));for(var _,E=n.Aq.setArraySize(this.curves,f),T=0,k=u[0],P=u[1],O=0,A=0,R=0,j=0,I=0,C=0,M=0,D=0,N=0,B=0,F=0,L=0,U=0,V=0,X=0,G=2;X<f;X++,G+=6)O=u[G],A=u[G+1],R=u[G+2],j=u[G+3],F=2*(M=.1875*(k-2*O+R))+(N=.09375*(3*(O-R)-k+(I=u[G+4]))),L=2*(D=.1875*(P-2*A+j))+(B=.09375*(3*(A-j)-P+(C=u[G+5]))),U=.75*(O-k)+M+.16666667*N,V=.75*(A-P)+D+.16666667*B,T+=Math.sqrt(U*U+V*V),U+=F,V+=L,F+=N,L+=B,T+=Math.sqrt(U*U+V*V),U+=F,V+=L,T+=Math.sqrt(U*U+V*V),U+=F+N,V+=L+B,T+=Math.sqrt(U*U+V*V),E[X]=T,k=I,P=C;switch(this.data.positionMode==n.pw.Percent&&(o*=T),this.data.spacingMode){case Wr.Percent:_=T;break;case Wr.Proportional:_=T/e;break;default:_=1}for(var Y=this.segments,q=0,W=0,H=0,z=0,Q=0;W<e;W++,H+=3){var Z=a[W]*_,K=o+=Z;if(c)(K%=T)<0&&(K+=T),z=0;else{if(K<0){this.addBeforePosition(K,u,0,s,H);continue}if(K>T){this.addAfterPosition(K-T,u,l-4,s,H);continue}}for(;;z++){var $=E[z];if(!(K>$)){if(0==z)K/=$;else{var J=E[z-1];K=(K-J)/($-J)}break}}if(z!=h){h=z;var tt=6*z;for(k=u[tt],P=u[tt+1],O=u[tt+2],A=u[tt+3],R=u[tt+4],j=u[tt+5],F=2*(M=.03*(k-2*O+R))+(N=.006*(3*(O-R)-k+(I=u[tt+6]))),L=2*(D=.03*(P-2*A+j))+(B=.006*(3*(A-j)-P+(C=u[tt+7]))),U=.3*(O-k)+M+.16666667*N,V=.3*(A-P)+D+.16666667*B,q=Math.sqrt(U*U+V*V),Y[0]=q,tt=1;tt<8;tt++)U+=F,V+=L,F+=N,L+=B,q+=Math.sqrt(U*U+V*V),Y[tt]=q;U+=F,V+=L,q+=Math.sqrt(U*U+V*V),Y[8]=q,U+=F+N,V+=L+B,q+=Math.sqrt(U*U+V*V),Y[9]=q,Q=0}for(K*=q;;Q++){var et=Y[Q];if(!(K>et)){if(0==Q)K/=et;else{var rt=Y[Q-1];K=Q+(K-rt)/(et-rt)}break}}this.addCurvePosition(.1*K,k,P,O,A,R,j,I,C,s,H,r||W>0&&0==Z)}return s}},{key:"addBeforePosition",value:function(t,e,r,n,i){var o=e[r],a=e[r+1],s=e[r+2]-o,u=e[r+3]-a,c=Math.atan2(u,s);n[i]=o+t*Math.cos(c),n[i+1]=a+t*Math.sin(c),n[i+2]=c}},{key:"addAfterPosition",value:function(t,e,r,n,i){var o=e[r+2],a=e[r+3],s=o-e[r],u=a-e[r+1],c=Math.atan2(u,s);n[i]=o+t*Math.cos(c),n[i+1]=a+t*Math.sin(c),n[i+2]=c}},{key:"addCurvePosition",value:function(t,e,r,n,i,o,a,s,u,c,l,f){if(0==t||isNaN(t))return c[l]=e,c[l+1]=r,void(c[l+2]=Math.atan2(i-r,n-e));var h=t*t,p=h*t,d=1-t,y=d*d,v=y*d,m=d*t,b=3*m,g=d*b,w=b*t,S=e*v+n*g+o*w+s*p,x=r*v+i*g+a*w+u*p;c[l]=S,c[l+1]=x,f&&(c[l+2]=t<.001?Math.atan2(i-r,n-e):Math.atan2(x-(r*y+i*m*2+a*h),S-(e*y+n*m*2+o*h)))}}])&&zr(t.prototype,e),r&&zr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}(),Kr=Zr;function $r(t){return $r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$r(t)}function Jr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,tn(n.key),n)}}function tn(t){var e=function(t,e){if("object"!=$r(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=$r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==$r(e)?e:e+""}Kr.NONE=-1,Kr.BEFORE=-2,Kr.AFTER=-3,Kr.epsilon=1e-5;var en=function(){return t=function t(e,r){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.darkColor=null,this.attachment=null,this.attachmentState=0,this.sequenceIndex=-1,this.deform=new Array,!e)throw new Error("data cannot be null.");if(!r)throw new Error("bone cannot be null.");this.data=e,this.bone=r,this.color=new n.Q1,this.darkColor=e.darkColor?new n.Q1:null,this.setToSetupPose(),this.blendMode=this.data.blendMode},(e=[{key:"getSkeleton",value:function(){return this.bone.skeleton}},{key:"getAttachment",value:function(){return this.attachment}},{key:"setAttachment",value:function(t){this.attachment!=t&&(t instanceof y&&this.attachment instanceof y&&t.timelineAttachment==this.attachment.timelineAttachment||(this.deform.length=0),this.attachment=t,this.sequenceIndex=-1)}},{key:"setToSetupPose",value:function(){this.color.setFromColor(this.data.color),this.darkColor&&this.darkColor.setFromColor(this.data.darkColor),this.data.attachmentName?(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName))):this.attachment=null}}])&&Jr(t.prototype,e),r&&Jr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();function rn(t){return rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rn(t)}function nn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,on(n.key),n)}}function on(t){var e=function(t,e){if("object"!=rn(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=rn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==rn(e)?e:e+""}var an=function(){return t=function t(e,r){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.mixRotate=0,this.mixX=0,this.mixY=0,this.mixScaleX=0,this.mixScaleY=0,this.mixShearY=0,this.temp=new n.I9,this.active=!1,!e)throw new Error("data cannot be null.");if(!r)throw new Error("skeleton cannot be null.");this.data=e,this.mixRotate=e.mixRotate,this.mixX=e.mixX,this.mixY=e.mixY,this.mixScaleX=e.mixScaleX,this.mixScaleY=e.mixScaleY,this.mixShearY=e.mixShearY,this.bones=new Array;for(var i=0;i<e.bones.length;i++){var o=r.findBone(e.bones[i].name);if(!o)throw new Error("Couldn't find bone ".concat(e.bones[i].name,"."));this.bones.push(o)}var a=r.findBone(e.target.name);if(!a)throw new Error("Couldn't find target bone ".concat(e.target.name,"."));this.target=a},(e=[{key:"isActive",value:function(){return this.active}},{key:"update",value:function(){0==this.mixRotate&&0==this.mixX&&0==this.mixY&&0==this.mixScaleX&&0==this.mixScaleX&&0==this.mixShearY||(this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld())}},{key:"applyAbsoluteWorld",value:function(){for(var t=this.mixRotate,e=this.mixX,r=this.mixY,i=this.mixScaleX,o=this.mixScaleY,a=this.mixShearY,s=0!=e||0!=r,u=this.target,c=u.matrix,l=c.a,f=c.c,h=c.b,p=c.d,d=l*p-f*h>0?n.cj.degRad:-n.cj.degRad,y=this.data.offsetRotation*d,v=this.data.offsetShearY*d,m=this.bones,b=0,g=m.length;b<g;b++){var w=m[b],S=w.matrix;if(0!=t){var x=S.a,_=S.c,E=S.b,T=S.d,k=Math.atan2(h,l)-Math.atan2(E,x)+y;k>n.cj.PI?k-=n.cj.PI2:k<-n.cj.PI&&(k+=n.cj.PI2),k*=t;var P=Math.cos(k),O=Math.sin(k);S.a=P*x-O*E,S.c=P*_-O*T,S.b=O*x+P*E,S.d=O*_+P*T}if(s){var A=this.temp;u.localToWorld(A.set(this.data.offsetX,this.data.offsetY)),S.tx+=(A.x-S.tx)*e,S.ty+=(A.y-S.ty)*r}if(0!=i){var R=Math.sqrt(S.a*S.a+S.b*S.b);0!=R&&(R=(R+(Math.sqrt(l*l+h*h)-R+this.data.offsetScaleX)*i)/R),S.a*=R,S.b*=R}if(0!=o){var j=Math.sqrt(S.c*S.c+S.d*S.d);0!=j&&(j=(j+(Math.sqrt(f*f+p*p)-j+this.data.offsetScaleY)*o)/j),S.c*=j,S.d*=j}if(a>0){var I=S.c,C=S.d,M=Math.atan2(C,I),D=Math.atan2(p,f)-Math.atan2(h,l)-(M-Math.atan2(S.b,S.a));D>n.cj.PI?D-=n.cj.PI2:D<-n.cj.PI&&(D+=n.cj.PI2),D=M+(D+v)*a;var N=Math.sqrt(I*I+C*C);S.c=Math.cos(D)*N,S.d=Math.sin(D)*N}w.updateAppliedTransform()}}},{key:"applyRelativeWorld",value:function(){for(var t=this.mixRotate,e=this.mixX,r=this.mixY,i=this.mixScaleX,o=this.mixScaleY,a=this.mixShearY,s=0!=e||0!=r,u=this.target,c=u.matrix,l=c.a,f=c.c,h=c.b,p=c.d,d=l*p-f*h>0?n.cj.degRad:-n.cj.degRad,y=this.data.offsetRotation*d,v=this.data.offsetShearY*d,m=this.bones,b=0,g=m.length;b<g;b++){var w=m[b],S=w.matrix;if(0!=t){var x=S.a,_=S.c,E=S.b,T=S.d,k=Math.atan2(h,l)+y;k>n.cj.PI?k-=n.cj.PI2:k<-n.cj.PI&&(k+=n.cj.PI2),k*=t;var P=Math.cos(k),O=Math.sin(k);S.a=P*x-O*E,S.c=P*_-O*T,S.b=O*x+P*E,S.d=O*_+P*T}if(s){var A=this.temp;u.localToWorld(A.set(this.data.offsetX,this.data.offsetY)),S.tx+=A.x*e,S.ty+=A.y*r}if(0!=i){var R=(Math.sqrt(l*l+h*h)-1+this.data.offsetScaleX)*i+1;S.a*=R,S.b*=R}if(0!=o){var j=(Math.sqrt(f*f+p*p)-1+this.data.offsetScaleY)*o+1;S.c*=j,S.d*=j}if(a>0){var I=Math.atan2(p,f)-Math.atan2(h,l);I>n.cj.PI?I-=n.cj.PI2:I<-n.cj.PI&&(I+=n.cj.PI2);var C=S.c,M=S.d;I=Math.atan2(M,C)+(I-n.cj.PI/2+v)*a;var D=Math.sqrt(C*C+M*M);S.c=Math.cos(I)*D,S.d=Math.sin(I)*D}w.updateAppliedTransform()}}},{key:"applyAbsoluteLocal",value:function(){for(var t=this.mixRotate,e=this.mixX,r=this.mixY,n=this.mixScaleX,i=this.mixScaleY,o=this.mixShearY,a=this.target,s=this.bones,u=0,c=s.length;u<c;u++){var l=s[u],f=l.arotation;if(0!=t){var h=a.arotation-f+this.data.offsetRotation;f+=(h-=360*(16384-(16384.499999999996-h/360|0)))*t}var p=l.ax,d=l.ay;p+=(a.ax-p+this.data.offsetX)*e,d+=(a.ay-d+this.data.offsetY)*r;var y=l.ascaleX,v=l.ascaleY;0!=n&&0!=y&&(y=(y+(a.ascaleX-y+this.data.offsetScaleX)*n)/y),0!=i&&0!=v&&(v=(v+(a.ascaleY-v+this.data.offsetScaleY)*i)/v);var m=l.ashearY;if(0!=o){var b=a.ashearY-m+this.data.offsetShearY;m+=(b-=360*(16384-(16384.499999999996-b/360|0)))*o}l.updateWorldTransformWith(p,d,f,y,v,l.ashearX,m)}}},{key:"applyRelativeLocal",value:function(){for(var t=this.mixRotate,e=this.mixX,r=this.mixY,n=this.mixScaleX,i=this.mixScaleY,o=this.mixShearY,a=this.target,s=this.bones,u=0,c=s.length;u<c;u++){var l=s[u],f=l.arotation+(a.arotation+this.data.offsetRotation)*t,h=l.ax+(a.ax+this.data.offsetX)*e,p=l.ay+(a.ay+this.data.offsetY)*r,d=l.ascaleX*((a.ascaleX-1+this.data.offsetScaleX)*n+1),y=l.ascaleY*((a.ascaleY-1+this.data.offsetScaleY)*i+1),v=l.ashearY+(a.ashearY+this.data.offsetShearY)*o;l.updateWorldTransformWith(h,p,f,d,y,l.ashearX,v)}}}])&&nn(t.prototype,e),r&&nn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();function sn(t){return sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sn(t)}function un(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,cn(n.key),n)}}function cn(t){var e=function(t,e){if("object"!=sn(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=sn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==sn(e)?e:e+""}var ln=function(){return t=function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._updateCache=new Array,this.skin=null,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,!e)throw new Error("data cannot be null.");this.data=e,this.bones=new Array;for(var r=0;r<e.bones.length;r++){var i=e.bones[r],o=void 0;if(i.parent){var a=this.bones[i.parent.index];o=new or(i,this,a),a.children.push(o)}else o=new or(i,this,null);this.bones.push(o)}this.slots=new Array,this.drawOrder=new Array;for(var s=0;s<e.slots.length;s++){var u=e.slots[s],c=this.bones[u.boneData.index],l=new en(u,c);this.slots.push(l),this.drawOrder.push(l)}this.ikConstraints=new Array;for(var f=0;f<e.ikConstraints.length;f++){var h=e.ikConstraints[f];this.ikConstraints.push(new Ar(h,this))}this.transformConstraints=new Array;for(var p=0;p<e.transformConstraints.length;p++){var d=e.transformConstraints[p];this.transformConstraints.push(new an(d,this))}this.pathConstraints=new Array;for(var y=0;y<e.pathConstraints.length;y++){var v=e.pathConstraints[y];this.pathConstraints.push(new Kr(v,this))}this.color=new n.Q1(1,1,1,1),this.updateCache()},e=[{key:"updateCache",value:function(){var t=this._updateCache;t.length=0;for(var e=this.bones,r=0,n=e.length;r<n;r++){var i=e[r];i.sorted=i.data.skinRequired,i.active=!i.sorted}if(this.skin)for(var o=this.skin.bones,a=0,s=this.skin.bones.length;a<s;a++){var u=this.bones[o[a].index];do{u.sorted=!1,u.active=!0,u=u.parent}while(u)}var c=this.ikConstraints,l=this.transformConstraints,f=this.pathConstraints,h=c.length,p=l.length,d=f.length,y=h+p+d;t:for(var v=0;v<y;v++){for(var m=0;m<h;m++){var b=c[m];if(b.data.order==v){this.sortIkConstraint(b);continue t}}for(var g=0;g<p;g++){var w=l[g];if(w.data.order==v){this.sortTransformConstraint(w);continue t}}for(var S=0;S<d;S++){var x=f[S];if(x.data.order==v){this.sortPathConstraint(x);continue t}}}for(var _=0,E=e.length;_<E;_++)this.sortBone(e[_])}},{key:"sortIkConstraint",value:function(t){if(t.active=t.target.isActive()&&(!t.data.skinRequired||this.skin&&n.Aq.contains(this.skin.constraints,t.data,!0)),t.active){var e=t.target;this.sortBone(e);var r=t.bones,i=r[0];if(this.sortBone(i),1==r.length)this._updateCache.push(t),this.sortReset(i.children);else{var o=r[r.length-1];this.sortBone(o),this._updateCache.push(t),this.sortReset(i.children),o.sorted=!0}}}},{key:"sortPathConstraint",value:function(t){if(t.active=t.target.bone.isActive()&&(!t.data.skinRequired||this.skin&&n.Aq.contains(this.skin.constraints,t.data,!0)),t.active){var e=t.target,r=e.data.index,i=e.bone;this.skin&&this.sortPathConstraintAttachment(this.skin,r,i),this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,r,i);for(var o=0,a=this.data.skins.length;o<a;o++)this.sortPathConstraintAttachment(this.data.skins[o],r,i);var s=e.getAttachment();s instanceof z&&this.sortPathConstraintAttachmentWith(s,i);for(var u=t.bones,c=u.length,l=0;l<c;l++)this.sortBone(u[l]);this._updateCache.push(t);for(var f=0;f<c;f++)this.sortReset(u[f].children);for(var h=0;h<c;h++)u[h].sorted=!0}}},{key:"sortTransformConstraint",value:function(t){if(t.active=t.target.isActive()&&(!t.data.skinRequired||this.skin&&n.Aq.contains(this.skin.constraints,t.data,!0)),t.active){this.sortBone(t.target);var e=t.bones,r=e.length;if(t.data.local)for(var i=0;i<r;i++){var o=e[i];this.sortBone(o.parent),this.sortBone(o)}else for(var a=0;a<r;a++)this.sortBone(e[a]);this._updateCache.push(t);for(var s=0;s<r;s++)this.sortReset(e[s].children);for(var u=0;u<r;u++)e[u].sorted=!0}}},{key:"sortPathConstraintAttachment",value:function(t,e,r){var n=t.attachments[e];if(n)for(var i in n)this.sortPathConstraintAttachmentWith(n[i],r)}},{key:"sortPathConstraintAttachmentWith",value:function(t,e){if(t instanceof z){var r=t.bones;if(r)for(var n=this.bones,i=0,o=r.length;i<o;){var a=r[i++];for(a+=i;i<a;)this.sortBone(n[r[i++]])}else this.sortBone(e)}}},{key:"sortBone",value:function(t){if(t&&!t.sorted){var e=t.parent;e&&this.sortBone(e),t.sorted=!0,this._updateCache.push(t)}}},{key:"sortReset",value:function(t){for(var e=0,r=t.length;e<r;e++){var n=t[e];n.active&&(n.sorted&&this.sortReset(n.children),n.sorted=!1)}}},{key:"updateWorldTransform",value:function(){for(var t=this.bones,e=0,r=t.length;e<r;e++){var n=t[e];n.ax=n.x,n.ay=n.y,n.arotation=n.rotation,n.ascaleX=n.scaleX,n.ascaleY=n.scaleY,n.ashearX=n.shearX,n.ashearY=n.shearY}for(var i=this._updateCache,o=0,a=i.length;o<a;o++)i[o].update()}},{key:"updateWorldTransformWith",value:function(t){var e=this.getRootBone(),r=t.matrix.a,i=t.matrix.c,o=t.matrix.b,a=t.matrix.d;e.matrix.tx=r*this.x+i*this.y+t.worldX,e.matrix.ty=o*this.x+a*this.y+t.worldY;var s=e.rotation+90+e.shearY,u=n.cj.cosDeg(e.rotation+e.shearX)*e.scaleX,c=n.cj.cosDeg(s)*e.scaleY,l=n.cj.sinDeg(e.rotation+e.shearX)*e.scaleX,f=n.cj.sinDeg(s)*e.scaleY,h=this.scaleX,p=n.W0.yDown?-this.scaleY:this.scaleY;e.matrix.a=(r*u+i*l)*h,e.matrix.c=(r*c+i*f)*h,e.matrix.b=(o*u+a*l)*p,e.matrix.d=(o*c+a*f)*p;for(var d=this._updateCache,y=0,v=d.length;y<v;y++){var m=d[y];m!=e&&m.update()}}},{key:"setToSetupPose",value:function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()}},{key:"setBonesToSetupPose",value:function(){for(var t=this.bones,e=0,r=t.length;e<r;e++)t[e].setToSetupPose();for(var n=this.ikConstraints,i=0,o=n.length;i<o;i++){var a=n[i];a.mix=a.data.mix,a.softness=a.data.softness,a.bendDirection=a.data.bendDirection,a.compress=a.data.compress,a.stretch=a.data.stretch}for(var s=this.transformConstraints,u=0,c=s.length;u<c;u++){var l=s[u],f=l.data;l.mixRotate=f.mixRotate,l.mixX=f.mixX,l.mixY=f.mixY,l.mixScaleX=f.mixScaleX,l.mixScaleY=f.mixScaleY,l.mixShearY=f.mixShearY}for(var h=this.pathConstraints,p=0,d=h.length;p<d;p++){var y=h[p],v=y.data;y.position=v.position,y.spacing=v.spacing,y.mixRotate=v.mixRotate,y.mixX=v.mixX,y.mixY=v.mixY}}},{key:"setSlotsToSetupPose",value:function(){var t=this.slots;n.Aq.arrayCopy(t,0,this.drawOrder,0,t.length);for(var e=0,r=t.length;e<r;e++)t[e].setToSetupPose()}},{key:"getRootBone",value:function(){return 0==this.bones.length?null:this.bones[0]}},{key:"findBone",value:function(t){if(!t)throw new Error("boneName cannot be null.");for(var e=this.bones,r=0,n=e.length;r<n;r++){var i=e[r];if(i.data.name==t)return i}return null}},{key:"findBoneIndex",value:function(t){if(!t)throw new Error("boneName cannot be null.");for(var e=this.bones,r=0,n=e.length;r<n;r++)if(e[r].data.name==t)return r;return-1}},{key:"findSlot",value:function(t){if(!t)throw new Error("slotName cannot be null.");for(var e=this.slots,r=0,n=e.length;r<n;r++){var i=e[r];if(i.data.name==t)return i}return null}},{key:"findSlotIndex",value:function(t){if(!t)throw new Error("slotName cannot be null.");for(var e=this.slots,r=0,n=e.length;r<n;r++)if(e[r].data.name==t)return r;return-1}},{key:"setSkinByName",value:function(t){var e=this.data.findSkin(t);if(!e)throw new Error("Skin not found: ".concat(t));this.setSkin(e)}},{key:"setSkin",value:function(t){if(t!=this.skin){if(t)if(this.skin)t.attachAll(this,this.skin);else for(var e=this.slots,r=0,n=e.length;r<n;r++){var i=e[r],o=i.data.attachmentName;if(o){var a=t.getAttachment(r,o);a&&i.setAttachment(a)}}this.skin=t,this.updateCache()}}},{key:"getAttachmentByName",value:function(t,e){var r=this.data.findSlot(t);if(!r)throw new Error("Can't find slot with name ".concat(t));return this.getAttachment(r.index,e)}},{key:"getAttachment",value:function(t,e){if(!e)throw new Error("attachmentName cannot be null.");if(this.skin){var r=this.skin.getAttachment(t,e);if(r)return r}return this.data.defaultSkin?this.data.defaultSkin.getAttachment(t,e):null}},{key:"setAttachment",value:function(t,e){if(!t)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++){var o=r[n];if(o.data.name==t){var a=null;if(e&&!(a=this.getAttachment(n,e)))throw new Error("Attachment not found: ".concat(e,", for slot: ").concat(t));return void o.setAttachment(a)}}throw new Error("Slot not found: ".concat(t))}},{key:"findIkConstraint",value:function(t){if(!t)throw new Error("constraintName cannot be null.");for(var e=this.ikConstraints,r=0,n=e.length;r<n;r++){var i=e[r];if(i.data.name==t)return i}return null}},{key:"findTransformConstraint",value:function(t){if(!t)throw new Error("constraintName cannot be null.");for(var e=this.transformConstraints,r=0,n=e.length;r<n;r++){var i=e[r];if(i.data.name==t)return i}return null}},{key:"findPathConstraint",value:function(t){if(!t)throw new Error("constraintName cannot be null.");for(var e=this.pathConstraints,r=0,n=e.length;r<n;r++){var i=e[r];if(i.data.name==t)return i}return null}},{key:"getBoundsRect",value:function(){var t=new n.I9,e=new n.I9;return this.getBounds(t,e),{x:t.x,y:t.y,width:e.x,height:e.y}}},{key:"getBounds",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Array(2);if(!t)throw new Error("offset cannot be null.");if(!e)throw new Error("size cannot be null.");for(var i=this.drawOrder,o=Number.POSITIVE_INFINITY,a=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,u=Number.NEGATIVE_INFINITY,c=0,l=i.length;c<l;c++){var f=i[c];if(f.bone.active){var h=0,p=null,d=f.getAttachment();if(d instanceof ft)h=8,p=n.Aq.setArraySize(r,h,0),d.computeWorldVertices(f,p,0,2);else if(d instanceof U){var y=d;h=y.worldVerticesLength,p=n.Aq.setArraySize(r,h,0),y.computeWorldVertices(f,0,h,p,0,2)}if(p)for(var v=0,m=p.length;v<m;v+=2){var b=p[v],g=p[v+1];o=Math.min(o,b),a=Math.min(a,g),s=Math.max(s,b),u=Math.max(u,g)}}}t.set(o,a),e.set(s-o,u-a)}},{key:"flipX",get:function(){return-1==this.scaleX},set:function(t){ln.deprecatedWarning1||(ln.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleX=t?1:-1}},{key:"flipY",get:function(){return-1==this.scaleY},set:function(t){ln.deprecatedWarning1||(ln.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleY=t?1:-1}}],e&&un(t.prototype,e),r&&un(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}(),fn=ln;function hn(t){return hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hn(t)}function pn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dn(n.key),n)}}function dn(t){var e=function(t,e){if("object"!=hn(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=hn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==hn(e)?e:e+""}fn.deprecatedWarning1=!1;var yn=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.name=null,this.bones=new Array,this.slots=new Array,this.skins=new Array,this.defaultSkin=null,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.x=0,this.y=0,this.width=0,this.height=0,this.version=null,this.hash=null,this.fps=0,this.imagesPath=null,this.audioPath=null},(e=[{key:"findBone",value:function(t){if(!t)throw new Error("boneName cannot be null.");for(var e=this.bones,r=0,n=e.length;r<n;r++){var i=e[r];if(i.name==t)return i}return null}},{key:"findBoneIndex",value:function(t){if(!t)throw new Error("boneName cannot be null.");for(var e=this.bones,r=0,n=e.length;r<n;r++)if(e[r].name==t)return r;return-1}},{key:"findSlot",value:function(t){if(!t)throw new Error("slotName cannot be null.");for(var e=this.slots,r=0,n=e.length;r<n;r++){var i=e[r];if(i.name==t)return i}return null}},{key:"findSlotIndex",value:function(t){if(!t)throw new Error("slotName cannot be null.");for(var e=this.slots,r=0,n=e.length;r<n;r++)if(e[r].name==t)return r;return-1}},{key:"findSkin",value:function(t){if(!t)throw new Error("skinName cannot be null.");for(var e=this.skins,r=0,n=e.length;r<n;r++){var i=e[r];if(i.name==t)return i}return null}},{key:"findEvent",value:function(t){if(!t)throw new Error("eventDataName cannot be null.");for(var e=this.events,r=0,n=e.length;r<n;r++){var i=e[r];if(i.name==t)return i}return null}},{key:"findAnimation",value:function(t){if(!t)throw new Error("animationName cannot be null.");for(var e=this.animations,r=0,n=e.length;r<n;r++){var i=e[r];if(i.name==t)return i}return null}},{key:"findIkConstraint",value:function(t){if(!t)throw new Error("constraintName cannot be null.");for(var e=this.ikConstraints,r=0,n=e.length;r<n;r++){var i=e[r];if(i.name==t)return i}return null}},{key:"findTransformConstraint",value:function(t){if(!t)throw new Error("constraintName cannot be null.");for(var e=this.transformConstraints,r=0,n=e.length;r<n;r++){var i=e[r];if(i.name==t)return i}return null}},{key:"findPathConstraint",value:function(t){if(!t)throw new Error("constraintName cannot be null.");for(var e=this.pathConstraints,r=0,n=e.length;r<n;r++){var i=e[r];if(i.name==t)return i}return null}},{key:"findPathConstraintIndex",value:function(t){if(null==t)throw new Error("pathConstraintName cannot be null.");for(var e=this.pathConstraints,r=0,n=e.length;r<n;r++)if(e[r].name==t)return r;return-1}}])&&pn(t.prototype,e),r&&pn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();function vn(t){return vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vn(t)}function mn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gn(n.key),n)}}function bn(t,e,r){return e&&mn(t.prototype,e),r&&mn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function gn(t){var e=function(t,e){if("object"!=vn(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=vn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==vn(e)?e:e+""}var wn=bn(function t(e,r,i){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.index=0,this.color=new n.Q1(1,1,1,1),this.darkColor=null,this.attachmentName=null,this.blendMode=er.B9.NORMAL,e<0)throw new Error("index must be >= 0.");if(!r)throw new Error("name cannot be null.");if(!i)throw new Error("boneData cannot be null.");this.index=e,this.name=r,this.boneData=i});function Sn(t){return Sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sn(t)}function xn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_n(n.key),n)}}function _n(t){var e=function(t,e){if("object"!=Sn(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Sn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Sn(e)?e:e+""}function En(t,e,r){return e=kn(e),function(t,e){if(e&&("object"==Sn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Tn()?Reflect.construct(e,r||[],kn(t).constructor):e.apply(t,r))}function Tn(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Tn=function(){return!!t})()}function kn(t){return kn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},kn(t)}function Pn(t,e){return Pn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Pn(t,e)}var On=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=En(this,e,[t,0,!1])).bones=new Array,r._target=null,r.mixRotate=0,r.mixX=0,r.mixY=0,r.mixScaleX=0,r.mixScaleY=0,r.mixShearY=0,r.offsetRotation=0,r.offsetX=0,r.offsetY=0,r.offsetScaleX=0,r.offsetScaleY=0,r.offsetShearY=0,r.relative=!1,r.local=!1,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pn(t,e)}(e,t),r=e,(n=[{key:"target",get:function(){if(this._target)return this._target;throw new Error("BoneData not set.")},set:function(t){this._target=t}}])&&xn(r.prototype,n),i&&xn(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i}(yr);function An(t){return An="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},An(t)}function Rn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,In(n.key),n)}}function jn(t,e,r){return e&&Rn(t.prototype,e),r&&Rn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function In(t){var e=function(t,e){if("object"!=An(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=An(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==An(e)?e:e+""}function Cn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Mn=jn(function t(e,r,n){Cn(this,t),this.slotIndex=e,this.name=r,this.attachment=n}),Dn=function(){return jn(function t(e){if(Cn(this,t),this.attachments=new Array,this.bones=Array(),this.constraints=new Array,!e)throw new Error("name cannot be null.");this.name=e},[{key:"setAttachment",value:function(t,e,r){if(!r)throw new Error("attachment cannot be null.");var n=this.attachments;t>=n.length&&(n.length=t+1),n[t]||(n[t]={}),n[t][e]=r}},{key:"addSkin",value:function(t){for(var e=0;e<t.bones.length;e++){for(var r=t.bones[e],n=!1,i=0;i<this.bones.length;i++)if(this.bones[i]==r){n=!0;break}n||this.bones.push(r)}for(var o=0;o<t.constraints.length;o++){for(var a=t.constraints[o],s=!1,u=0;u<this.constraints.length;u++)if(this.constraints[u]==a){s=!0;break}s||this.constraints.push(a)}for(var c=t.getAttachments(),l=0;l<c.length;l++){var f=c[l];this.setAttachment(f.slotIndex,f.name,f.attachment)}}},{key:"copySkin",value:function(t){for(var e=0;e<t.bones.length;e++){for(var r=t.bones[e],n=!1,i=0;i<this.bones.length;i++)if(this.bones[i]==r){n=!0;break}n||this.bones.push(r)}for(var o=0;o<t.constraints.length;o++){for(var a=t.constraints[o],s=!1,u=0;u<this.constraints.length;u++)if(this.constraints[u]==a){s=!0;break}s||this.constraints.push(a)}for(var c=t.getAttachments(),l=0;l<c.length;l++){var f=c[l];f.attachment&&(f.attachment instanceof U?(f.attachment=f.attachment.newLinkedMesh(),this.setAttachment(f.slotIndex,f.name,f.attachment)):(f.attachment=f.attachment.copy(),this.setAttachment(f.slotIndex,f.name,f.attachment)))}}},{key:"getAttachment",value:function(t,e){var r=this.attachments[t];return r?r[e]:null}},{key:"removeAttachment",value:function(t,e){var r=this.attachments[t];r&&delete r[e]}},{key:"getAttachments",value:function(){for(var t=new Array,e=0;e<this.attachments.length;e++){var r=this.attachments[e];if(r)for(var n in r){var i=r[n];i&&t.push(new Mn(e,n,i))}}return t}},{key:"getAttachmentsForSlot",value:function(t,e){var r=this.attachments[t];if(r)for(var n in r){var i=r[n];i&&e.push(new Mn(t,n,i))}}},{key:"clear",value:function(){this.attachments.length=0,this.bones.length=0,this.constraints.length=0}},{key:"attachAll",value:function(t,e){for(var r=0,n=0;n<t.slots.length;n++){var i=t.slots[n],o=i.getAttachment();if(o&&r<e.attachments.length){var a=e.attachments[r];for(var s in a){if(o==a[s]){var u=this.getAttachment(r,s);u&&i.setAttachment(u);break}}}r++}}}])}();function Nn(t){return Nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nn(t)}function Bn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Un(n.key),n)}}function Ln(t,e,r){return e&&Fn(t.prototype,e),r&&Fn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Un(t){var e=function(t,e){if("object"!=Nn(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Nn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Nn(e)?e:e+""}var Vn=function(){return Ln(function t(e){Bn(this,t),this.ver40=!1,this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e},[{key:"readSkeletonData",value:function(t){var e=this.scale,r=new yn;r.name="";var i=new n.aG(t),o=i.readInt32(),a=i.readInt32();r.hash=0==a&&0==o?null:a.toString(16)+o.toString(16),r.version=i.readString();var s=r.version.substr(0,3);if("4.0"!==s&&"4.1"!==s){var u="Spine 4.1 loader cant load version ".concat(r.version,". Please configure your pixi-spine bundle");console.error(u)}this.ver40="4.0"===s,r.x=i.readFloat(),r.y=i.readFloat(),r.width=i.readFloat(),r.height=i.readFloat();var c=i.readBoolean();c&&(r.fps=i.readFloat(),r.imagesPath=i.readString(),r.audioPath=i.readString());var l=0;l=i.readInt(!0);for(var f=0;f<l;f++){var h=i.readString();if(!h)throw new Error("String in string table must not be null.");i.strings.push(h)}l=i.readInt(!0);for(var p=0;p<l;p++){var d=i.readString();if(!d)throw new Error("Bone name must not be null.");var y=0==p?null:r.bones[i.readInt(!0)],v=new lr(p,d,y);v.rotation=i.readFloat(),v.x=i.readFloat()*e,v.y=i.readFloat()*e,v.scaleX=i.readFloat(),v.scaleY=i.readFloat(),v.shearX=i.readFloat(),v.shearY=i.readFloat(),v.length=i.readFloat()*e,v.transformMode=i.readInt(!0),v.skinRequired=i.readBoolean(),c&&n.Q1.rgba8888ToColor(v.color,i.readInt32()),r.bones.push(v)}l=i.readInt(!0);for(var m=0;m<l;m++){var b=i.readString();if(!b)throw new Error("Slot name must not be null.");var g=r.bones[i.readInt(!0)],w=new wn(m,b,g);n.Q1.rgba8888ToColor(w.color,i.readInt32());var S=i.readInt32();-1!=S&&n.Q1.rgb888ToColor(w.darkColor=new n.Q1,S),w.attachmentName=i.readStringRef(),w.blendMode=i.readInt(!0),r.slots.push(w)}l=i.readInt(!0);for(var x,_=0;_<l;_++){var E=i.readString();if(!E)throw new Error("IK constraint data name must not be null.");var T=new Br(E);T.order=i.readInt(!0),T.skinRequired=i.readBoolean(),x=i.readInt(!0);for(var k=0;k<x;k++)T.bones.push(r.bones[i.readInt(!0)]);T.target=r.bones[i.readInt(!0)],T.mix=i.readFloat(),T.softness=i.readFloat()*e,T.bendDirection=i.readByte(),T.compress=i.readBoolean(),T.stretch=i.readBoolean(),T.uniform=i.readBoolean(),r.ikConstraints.push(T)}l=i.readInt(!0);for(var P,O=0;O<l;O++){var A=i.readString();if(!A)throw new Error("Transform constraint data name must not be null.");var R=new On(A);R.order=i.readInt(!0),R.skinRequired=i.readBoolean(),P=i.readInt(!0);for(var j=0;j<P;j++)R.bones.push(r.bones[i.readInt(!0)]);R.target=r.bones[i.readInt(!0)],R.local=i.readBoolean(),R.relative=i.readBoolean(),R.offsetRotation=i.readFloat(),R.offsetX=i.readFloat()*e,R.offsetY=i.readFloat()*e,R.offsetScaleX=i.readFloat(),R.offsetScaleY=i.readFloat(),R.offsetShearY=i.readFloat(),R.mixRotate=i.readFloat(),R.mixX=i.readFloat(),R.mixY=i.readFloat(),R.mixScaleX=i.readFloat(),R.mixScaleY=i.readFloat(),R.mixShearY=i.readFloat(),r.transformConstraints.push(R)}l=i.readInt(!0);for(var I,C=0;C<l;C++){var M=i.readString();if(!M)throw new Error("Path constraint data name must not be null.");var D=new qr(M);D.order=i.readInt(!0),D.skinRequired=i.readBoolean(),I=i.readInt(!0);for(var N=0;N<I;N++)D.bones.push(r.bones[i.readInt(!0)]);D.target=r.slots[i.readInt(!0)],D.positionMode=i.readInt(!0),D.spacingMode=i.readInt(!0),D.rotateMode=i.readInt(!0),D.offsetRotation=i.readFloat(),D.position=i.readFloat(),D.positionMode==n.pw.Fixed&&(D.position*=e),D.spacing=i.readFloat(),D.spacingMode!=Wr.Length&&D.spacingMode!=Wr.Fixed||(D.spacing*=e),D.mixRotate=i.readFloat(),D.mixX=i.readFloat(),D.mixY=i.readFloat(),r.pathConstraints.push(D)}var B=this.readSkin(i,r,!0,c);B&&(r.defaultSkin=B,r.skins.push(B));var F=r.skins.length;for(n.Aq.setArraySize(r.skins,l=F+i.readInt(!0));F<l;F++){var L=this.readSkin(i,r,!1,c);if(!L)throw new Error("readSkin() should not have returned null.");r.skins[F]=L}l=this.linkedMeshes.length;for(var U=0;U<l;U++){var V=this.linkedMeshes[U],X=V.skin?r.findSkin(V.skin):r.defaultSkin;if(!X)throw new Error("Not skin found for linked mesh.");if(!V.parent)throw new Error("Linked mesh parent must not be null");var G=X.getAttachment(V.slotIndex,V.parent);if(!G)throw new Error("Parent mesh not found: ".concat(V.parent));V.mesh.timelineAttachment=V.inheritTimeline?G:V.mesh,V.mesh.setParentMesh(G)}this.linkedMeshes.length=0,l=i.readInt(!0);for(var Y=0;Y<l;Y++){var q=i.readStringRef();if(!q)throw new Error;var W=new Tr(q);W.intValue=i.readInt(!1),W.floatValue=i.readFloat(),W.stringValue=i.readString(),W.audioPath=i.readString(),W.audioPath&&(W.volume=i.readFloat(),W.balance=i.readFloat()),r.events.push(W)}l=i.readInt(!0);for(var H=0;H<l;H++){var z=i.readString();if(!z)throw new Error("Animatio name must not be null.");r.animations.push(this.readAnimation(i,z,r))}return r}},{key:"readSkin",value:function(t,e,r,n){var i=null,o=0;if(r){if(0==(o=t.readInt(!0)))return null;i=new Dn("default")}else{var a=t.readStringRef();if(!a)throw new Error("Skin name must not be null.");(i=new Dn(a)).bones.length=t.readInt(!0);for(var s=0,u=i.bones.length;s<u;s++)i.bones[s]=e.bones[t.readInt(!0)];for(var c=0,l=t.readInt(!0);c<l;c++)i.constraints.push(e.ikConstraints[t.readInt(!0)]);for(var f=0,h=t.readInt(!0);f<h;f++)i.constraints.push(e.transformConstraints[t.readInt(!0)]);for(var p=0,d=t.readInt(!0);p<d;p++)i.constraints.push(e.pathConstraints[t.readInt(!0)]);o=t.readInt(!0)}for(var y=0;y<o;y++)for(var v=t.readInt(!0),m=0,b=t.readInt(!0);m<b;m++){var g=t.readStringRef();if(!g)throw new Error("Attachment name must not be null");var w=this.readAttachment(t,e,i,v,g,n);w&&i.setAttachment(v,g,w)}return i}},{key:"readAttachment",value:function(t,e,r,i,o,a){var s=this.scale,u=t.readStringRef();switch(u||(u=o),t.readByte()){case n.wh.Region:var c=t.readStringRef(),l=t.readFloat(),f=t.readFloat(),h=t.readFloat(),p=t.readFloat(),d=t.readFloat(),y=t.readFloat(),v=t.readFloat(),m=t.readInt32(),b=this.readSequence(t);c||(c=u);var g=this.attachmentLoader.newRegionAttachment(r,u,c,b);return g?(g.path=c,g.x=f*s,g.y=h*s,g.scaleX=p,g.scaleY=d,g.rotation=l,g.width=y*s,g.height=v*s,n.Q1.rgba8888ToColor(g.color,m),g.sequence=b,null==b&&g.updateRegion(),g):null;case n.wh.BoundingBox:var w=t.readInt(!0),S=this.readVertices(t,w),x=a?t.readInt32():0,_=this.attachmentLoader.newBoundingBoxAttachment(r,u);return _?(_.worldVerticesLength=w<<1,_.vertices=S.vertices,_.bones=S.bones,a&&n.Q1.rgba8888ToColor(_.color,x),_):null;case n.wh.Mesh:var E=t.readStringRef(),T=t.readInt32(),k=t.readInt(!0),P=this.readFloatArray(t,k<<1,1),O=this.readShortArray(t),A=this.readVertices(t,k),R=t.readInt(!0),j=this.readSequence(t),I=[],C=0,M=0;a&&(I=this.readShortArray(t),C=t.readFloat(),M=t.readFloat()),E||(E=u);var D=this.attachmentLoader.newMeshAttachment(r,u,E,j);return D?(D.path=E,n.Q1.rgba8888ToColor(D.color,T),D.bones=A.bones,D.vertices=A.vertices,D.worldVerticesLength=k<<1,D.triangles=O,D.regionUVs=new Float32Array(P),D.hullLength=R<<1,D.sequence=j,a&&(D.edges=I,D.width=C*s,D.height=M*s),D):null;case n.wh.LinkedMesh:var N=t.readStringRef(),B=t.readInt32(),F=t.readStringRef(),L=t.readStringRef(),U=t.readBoolean(),V=this.readSequence(t),X=0,G=0;a&&(X=t.readFloat(),G=t.readFloat()),N||(N=u);var Y=this.attachmentLoader.newMeshAttachment(r,u,N,V);return Y?(Y.path=N,n.Q1.rgba8888ToColor(Y.color,B),Y.sequence=V,a&&(Y.width=X*s,Y.height=G*s),this.linkedMeshes.push(new Xn(Y,F,i,L,U)),Y):null;case n.wh.Path:for(var q=t.readBoolean(),W=t.readBoolean(),H=t.readInt(!0),z=this.readVertices(t,H),Q=n.Aq.newArray(H/3,0),Z=0,K=Q.length;Z<K;Z++)Q[Z]=t.readFloat()*s;var $=a?t.readInt32():0,J=this.attachmentLoader.newPathAttachment(r,u);return J?(J.closed=q,J.constantSpeed=W,J.worldVerticesLength=H<<1,J.vertices=z.vertices,J.bones=z.bones,J.lengths=Q,a&&n.Q1.rgba8888ToColor(J.color,$),J):null;case n.wh.Point:var tt=t.readFloat(),et=t.readFloat(),rt=t.readFloat(),nt=a?t.readInt32():0,it=this.attachmentLoader.newPointAttachment(r,u);return it?(it.x=et*s,it.y=rt*s,it.rotation=tt,a&&n.Q1.rgba8888ToColor(it.color,nt),it):null;case n.wh.Clipping:var ot=t.readInt(!0),at=t.readInt(!0),st=this.readVertices(t,at),ut=a?t.readInt32():0,ct=this.attachmentLoader.newClippingAttachment(r,u);return ct?(ct.endSlot=e.slots[ot],ct.worldVerticesLength=at<<1,ct.vertices=st.vertices,ct.bones=st.bones,a&&n.Q1.rgba8888ToColor(ct.color,ut),ct):null}return null}},{key:"readSequence",value:function(t){if(this.ver40||!t.readBoolean())return null;var e=new vt(t.readInt(!0));return e.start=t.readInt(!0),e.digits=t.readInt(!0),e.setupIndex=t.readInt(!0),e}},{key:"readDeformTimelineType",value:function(t){return this.ver40?ci:t.readByte()}},{key:"readVertices",value:function(t,e){var r=this.scale,i=e<<1,o=new Gn;if(!t.readBoolean())return o.vertices=this.readFloatArray(t,i,r),o;for(var a=new Array,s=new Array,u=0;u<e;u++){var c=t.readInt(!0);s.push(c);for(var l=0;l<c;l++)s.push(t.readInt(!0)),a.push(t.readFloat()*r),a.push(t.readFloat()*r),a.push(t.readFloat())}return o.vertices=n.Aq.toFloatArray(a),o.bones=s,o}},{key:"readFloatArray",value:function(t,e,r){var n=new Array(e);if(1==r)for(var i=0;i<e;i++)n[i]=t.readFloat();else for(var o=0;o<e;o++)n[o]=t.readFloat()*r;return n}},{key:"readShortArray",value:function(t){for(var e=t.readInt(!0),r=new Array(e),n=0;n<e;n++)r[n]=t.readShort();return r}},{key:"readAnimation",value:function(t,e,r){t.readInt(!0);for(var i=new Array,o=this.scale,a=0,s=t.readInt(!0);a<s;a++)for(var u=t.readInt(!0),c=0,l=t.readInt(!0);c<l;c++){var f=t.readByte(),h=t.readInt(!0),p=h-1;switch(f){case ni:for(var d=new ye(h,u),y=0;y<h;y++)d.setFrame(y,t.readFloat(),t.readStringRef());i.push(d);break;case ii:for(var v=t.readInt(!0),m=new le(h,v,u),b=t.readFloat(),g=t.readUnsignedByte()/255,w=t.readUnsignedByte()/255,S=t.readUnsignedByte()/255,x=t.readUnsignedByte()/255,_=0,E=0;m.setFrame(_,b,g,w,S,x),_!=p;_++){var T=t.readFloat(),k=t.readUnsignedByte()/255,P=t.readUnsignedByte()/255,O=t.readUnsignedByte()/255,A=t.readUnsignedByte()/255;switch(t.readByte()){case di:m.setStepped(_);break;case yi:Wn(t,m,E++,_,0,b,T,g,k,1),Wn(t,m,E++,_,1,b,T,w,P,1),Wn(t,m,E++,_,2,b,T,S,O,1),Wn(t,m,E++,_,3,b,T,x,A,1)}b=T,g=k,w=P,S=O,x=A}i.push(m);break;case oi:for(var R=t.readInt(!0),j=new fe(h,R,u),I=t.readFloat(),C=t.readUnsignedByte()/255,M=t.readUnsignedByte()/255,D=t.readUnsignedByte()/255,N=0,B=0;j.setFrame(N,I,C,M,D),N!=p;N++){var F=t.readFloat(),L=t.readUnsignedByte()/255,U=t.readUnsignedByte()/255,V=t.readUnsignedByte()/255;switch(t.readByte()){case di:j.setStepped(N);break;case yi:Wn(t,j,B++,N,0,I,F,C,L,1),Wn(t,j,B++,N,1,I,F,M,U,1),Wn(t,j,B++,N,2,I,F,D,V,1)}I=F,C=L,M=U,D=V}i.push(j);break;case ai:for(var X=t.readInt(!0),G=new pe(h,X,u),Y=t.readFloat(),q=t.readUnsignedByte()/255,W=t.readUnsignedByte()/255,H=t.readUnsignedByte()/255,z=t.readUnsignedByte()/255,Q=t.readUnsignedByte()/255,Z=t.readUnsignedByte()/255,K=t.readUnsignedByte()/255,$=0,J=0;G.setFrame($,Y,q,W,H,z,Q,Z,K),$!=p;$++){var tt=t.readFloat(),et=t.readUnsignedByte()/255,rt=t.readUnsignedByte()/255,nt=t.readUnsignedByte()/255,it=t.readUnsignedByte()/255,ot=t.readUnsignedByte()/255,at=t.readUnsignedByte()/255,st=t.readUnsignedByte()/255;switch(t.readByte()){case di:G.setStepped($);break;case yi:Wn(t,G,J++,$,0,Y,tt,q,et,1),Wn(t,G,J++,$,1,Y,tt,W,rt,1),Wn(t,G,J++,$,2,Y,tt,H,nt,1),Wn(t,G,J++,$,3,Y,tt,z,it,1),Wn(t,G,J++,$,4,Y,tt,Q,ot,1),Wn(t,G,J++,$,5,Y,tt,Z,at,1),Wn(t,G,J++,$,6,Y,tt,K,st,1)}Y=tt,q=et,W=rt,H=nt,z=it,Q=ot,Z=at,K=st}i.push(G);break;case si:for(var ut=t.readInt(!0),ct=new de(h,ut,u),lt=t.readFloat(),ft=t.readUnsignedByte()/255,ht=t.readUnsignedByte()/255,pt=t.readUnsignedByte()/255,dt=t.readUnsignedByte()/255,yt=t.readUnsignedByte()/255,vt=t.readUnsignedByte()/255,mt=0,gt=0;ct.setFrame(mt,lt,ft,ht,pt,dt,yt,vt),mt!=p;mt++){var wt=t.readFloat(),St=t.readUnsignedByte()/255,xt=t.readUnsignedByte()/255,_t=t.readUnsignedByte()/255,Et=t.readUnsignedByte()/255,Tt=t.readUnsignedByte()/255,kt=t.readUnsignedByte()/255;switch(t.readByte()){case di:ct.setStepped(mt);break;case yi:Wn(t,ct,gt++,mt,0,lt,wt,ft,St,1),Wn(t,ct,gt++,mt,1,lt,wt,ht,xt,1),Wn(t,ct,gt++,mt,2,lt,wt,pt,_t,1),Wn(t,ct,gt++,mt,3,lt,wt,dt,Et,1),Wn(t,ct,gt++,mt,4,lt,wt,yt,Tt,1),Wn(t,ct,gt++,mt,5,lt,wt,vt,kt,1)}lt=wt,ft=St,ht=xt,pt=_t,dt=Et,yt=Tt,vt=kt}i.push(ct);break;case ui:for(var Pt=new he(h,t.readInt(!0),u),Ot=t.readFloat(),Rt=t.readUnsignedByte()/255,jt=0,It=0;Pt.setFrame(jt,Ot,Rt),jt!=p;jt++){var Ct=t.readFloat(),Mt=t.readUnsignedByte()/255;switch(t.readByte()){case di:Pt.setStepped(jt);break;case yi:Wn(t,Pt,It++,jt,0,Ot,Ct,Rt,Mt,1)}Ot=Ct,Rt=Mt}i.push(Pt)}}for(var Dt=0,Nt=t.readInt(!0);Dt<Nt;Dt++)for(var Bt=t.readInt(!0),Ft=0,Lt=t.readInt(!0);Ft<Lt;Ft++){var Ut=t.readByte(),Vt=t.readInt(!0),Xt=t.readInt(!0);switch(Ut){case Hn:i.push(Yn(t,new te(Vt,Xt,Bt),1));break;case zn:i.push(qn(t,new ee(Vt,Xt,Bt),o));break;case Qn:i.push(Yn(t,new re(Vt,Xt,Bt),o));break;case Zn:i.push(Yn(t,new ne(Vt,Xt,Bt),o));break;case Kn:i.push(qn(t,new ie(Vt,Xt,Bt),1));break;case $n:i.push(Yn(t,new oe(Vt,Xt,Bt),1));break;case Jn:i.push(Yn(t,new ae(Vt,Xt,Bt),1));break;case ti:i.push(qn(t,new se(Vt,Xt,Bt),1));break;case ei:i.push(Yn(t,new ue(Vt,Xt,Bt),1));break;case ri:i.push(Yn(t,new ce(Vt,Xt,Bt),1))}}for(var Gt=0,Yt=t.readInt(!0);Gt<Yt;Gt++){for(var qt=t.readInt(!0),Wt=t.readInt(!0),Ht=Wt-1,zt=new Se(Wt,t.readInt(!0),qt),Qt=t.readFloat(),Zt=t.readFloat(),Kt=t.readFloat()*o,$t=0,Jt=0;zt.setFrame($t,Qt,Zt,Kt,t.readByte(),t.readBoolean(),t.readBoolean()),$t!=Ht;$t++){var me=t.readFloat(),ge=t.readFloat(),ke=t.readFloat()*o;switch(t.readByte()){case di:zt.setStepped($t);break;case yi:Wn(t,zt,Jt++,$t,0,Qt,me,Zt,ge,1),Wn(t,zt,Jt++,$t,1,Qt,me,Kt,ke,o)}Qt=me,Zt=ge,Kt=ke}i.push(zt)}for(var Oe=0,Ae=t.readInt(!0);Oe<Ae;Oe++){for(var Re=t.readInt(!0),je=t.readInt(!0),Ie=je-1,Ce=new xe(je,t.readInt(!0),Re),Me=t.readFloat(),De=t.readFloat(),Ne=t.readFloat(),Be=t.readFloat(),Fe=t.readFloat(),Le=t.readFloat(),Ue=t.readFloat(),Ve=0,Xe=0;Ce.setFrame(Ve,Me,De,Ne,Be,Fe,Le,Ue),Ve!=Ie;Ve++){var Ge=t.readFloat(),Ye=t.readFloat(),qe=t.readFloat(),We=t.readFloat(),He=t.readFloat(),ze=t.readFloat(),Qe=t.readFloat();switch(t.readByte()){case di:Ce.setStepped(Ve);break;case yi:Wn(t,Ce,Xe++,Ve,0,Me,Ge,De,Ye,1),Wn(t,Ce,Xe++,Ve,1,Me,Ge,Ne,qe,1),Wn(t,Ce,Xe++,Ve,2,Me,Ge,Be,We,1),Wn(t,Ce,Xe++,Ve,3,Me,Ge,Fe,He,1),Wn(t,Ce,Xe++,Ve,4,Me,Ge,Le,ze,1),Wn(t,Ce,Xe++,Ve,5,Me,Ge,Ue,Qe,1)}Me=Ge,De=Ye,Ne=qe,Be=We,Fe=He,Le=ze,Ue=Qe}i.push(Ce)}for(var Ze=0,Ke=t.readInt(!0);Ze<Ke;Ze++)for(var $e=t.readInt(!0),Je=r.pathConstraints[$e],tr=0,er=t.readInt(!0);tr<er;tr++)switch(t.readByte()){case fi:i.push(Yn(t,new _e(t.readInt(!0),t.readInt(!0),$e),Je.positionMode==n.pw.Fixed?o:1));break;case hi:i.push(Yn(t,new Ee(t.readInt(!0),t.readInt(!0),$e),Je.spacingMode==Wr.Length||Je.spacingMode==Wr.Fixed?o:1));break;case pi:for(var rr=new Te(t.readInt(!0),t.readInt(!0),$e),nr=t.readFloat(),ir=t.readFloat(),or=t.readFloat(),ar=t.readFloat(),sr=0,ur=0,cr=rr.getFrameCount()-1;rr.setFrame(sr,nr,ir,or,ar),sr!=cr;sr++){var lr=t.readFloat(),fr=t.readFloat(),hr=t.readFloat(),pr=t.readFloat();switch(t.readByte()){case di:rr.setStepped(sr);break;case yi:Wn(t,rr,ur++,sr,0,nr,lr,ir,fr,1),Wn(t,rr,ur++,sr,1,nr,lr,or,hr,1),Wn(t,rr,ur++,sr,2,nr,lr,ar,pr,1)}nr=lr,ir=fr,or=hr,ar=pr}i.push(rr)}for(var dr=0,yr=t.readInt(!0);dr<yr;dr++)for(var vr=r.skins[t.readInt(!0)],mr=0,br=t.readInt(!0);mr<br;mr++)for(var gr=t.readInt(!0),Sr=0,xr=t.readInt(!0);Sr<xr;Sr++){var _r=t.readStringRef();if(!_r)throw new Error("attachmentName must not be null.");var Er=vr.getAttachment(gr,_r),Tr=this.readDeformTimelineType(t),kr=t.readInt(!0),Pr=kr-1;switch(Tr){case ci:for(var Or=Er,Ar=Or.bones,Rr=Or.vertices,jr=Ar?Rr.length/3*2:Rr.length,Ir=t.readInt(!0),Cr=new ve(kr,Ir,gr,Or),Mr=t.readFloat(),Dr=0,Nr=0;;Dr++){var Br=void 0,Fr=t.readInt(!0);if(0==Fr)Br=Ar?n.Aq.newFloatArray(jr):Rr;else{Br=n.Aq.newFloatArray(jr);var Lr=t.readInt(!0);if(Fr+=Lr,1==o)for(var Ur=Lr;Ur<Fr;Ur++)Br[Ur]=t.readFloat();else for(var Vr=Lr;Vr<Fr;Vr++)Br[Vr]=t.readFloat()*o;if(!Ar)for(var Xr=0,Gr=Br.length;Xr<Gr;Xr++)Br[Xr]+=Rr[Xr]}if(Cr.setFrame(Dr,Mr,Br),Dr==Pr)break;var Yr=t.readFloat();switch(t.readByte()){case di:Cr.setStepped(Dr);break;case yi:Wn(t,Cr,Nr++,Dr,0,Mr,Yr,0,1,1)}Mr=Yr}i.push(Cr);break;case li:for(var qr=new Pe(kr,gr,Er),Hr=0;Hr<kr;Hr++){var zr=t.readFloat(),Qr=t.readInt32();qr.setFrame(Hr,zr,bt[15&Qr],Qr>>4,t.readFloat())}i.push(qr)}}var Zr=t.readInt(!0);if(Zr>0){for(var Kr=new we(Zr),$r=r.slots.length,Jr=0;Jr<Zr;Jr++){for(var tn=t.readFloat(),en=t.readInt(!0),rn=n.Aq.newArray($r,0),nn=$r-1;nn>=0;nn--)rn[nn]=-1;for(var on=n.Aq.newArray($r-en,0),an=0,sn=0,un=0;un<en;un++){for(var cn=t.readInt(!0);an!=cn;)on[sn++]=an++;rn[an+t.readInt(!0)]=an++}for(;an<$r;)on[sn++]=an++;for(var ln=$r-1;ln>=0;ln--)-1==rn[ln]&&(rn[ln]=on[--sn]);Kr.setFrame(Jr,tn,rn)}i.push(Kr)}var fn=t.readInt(!0);if(fn>0){for(var hn=new be(fn),pn=0;pn<fn;pn++){var dn=t.readFloat(),yn=r.events[t.readInt(!0)],vn=new wr(dn,yn);vn.intValue=t.readInt(!1),vn.floatValue=t.readFloat(),vn.stringValue=t.readBoolean()?t.readString():yn.stringValue,vn.data.audioPath&&(vn.volume=t.readFloat(),vn.balance=t.readFloat()),hn.setFrame(pn,vn)}i.push(hn)}for(var mn=0,bn=0,gn=i.length;bn<gn;bn++)mn=Math.max(mn,i[bn].getDuration());return new At(e,i,mn)}}])}();Vn.BlendModeValues=[er.B9.NORMAL,er.B9.ADD,er.B9.MULTIPLY,er.B9.SCREEN];var Xn=Ln(function t(e,r,n,i,o){Bn(this,t),this.mesh=e,this.skin=r,this.slotIndex=n,this.parent=i,this.inheritTimeline=o}),Gn=Ln(function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Bn(this,t),this.bones=e,this.vertices=r});function Yn(t,e,r){for(var n=t.readFloat(),i=t.readFloat()*r,o=0,a=0,s=e.getFrameCount()-1;e.setFrame(o,n,i),o!=s;o++){var u=t.readFloat(),c=t.readFloat()*r;switch(t.readByte()){case di:e.setStepped(o);break;case yi:Wn(t,e,a++,o,0,n,u,i,c,r)}n=u,i=c}return e}function qn(t,e,r){for(var n=t.readFloat(),i=t.readFloat()*r,o=t.readFloat()*r,a=0,s=0,u=e.getFrameCount()-1;e.setFrame(a,n,i,o),a!=u;a++){var c=t.readFloat(),l=t.readFloat()*r,f=t.readFloat()*r;switch(t.readByte()){case di:e.setStepped(a);break;case yi:Wn(t,e,s++,a,0,n,c,i,l,r),Wn(t,e,s++,a,1,n,c,o,f,r)}n=c,i=l,o=f}return e}function Wn(t,e,r,n,i,o,a,s,u,c){e.setBezier(r,n,i,o,s,t.readFloat(),t.readFloat()*c,t.readFloat(),t.readFloat()*c,a,u)}var Hn=0,zn=1,Qn=2,Zn=3,Kn=4,$n=5,Jn=6,ti=7,ei=8,ri=9,ni=0,ii=1,oi=2,ai=3,si=4,ui=5,ci=0,li=1,fi=0,hi=1,pi=2,di=1,yi=2;function vi(t){return vi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vi(t)}function mi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,bi(n.key),n)}}function bi(t){var e=function(t,e){if("object"!=vi(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=vi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==vi(e)?e:e+""}function gi(t,e,r){return e=Si(e),function(t,e){if(e&&("object"==vi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,wi()?Reflect.construct(e,r||[],Si(t).constructor):e.apply(t,r))}function wi(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(wi=function(){return!!t})()}function Si(t){return Si=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Si(t)}function xi(t,e){return xi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},xi(t,e)}var _i=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),gi(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xi(t,e)}(e,t),r=e,n&&mi(r.prototype,n),i&&mi(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i}(n.S3);r(53083784);function Ei(t){return Ei="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ei(t)}function Ti(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ki(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Oi(n.key),n)}}function Pi(t,e,r){return e&&ki(t.prototype,e),r&&ki(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Oi(t){var e=function(t,e){if("object"!=Ei(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Ei(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ei(e)?e:e+""}var Ai=function(){function t(e){Ti(this,t),this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}return Pi(t,[{key:"readSkeletonData",value:function(e){var r=this.scale,i=new yn,o="string"==typeof e?JSON.parse(e):e,a=o.skeleton;if(a){i.hash=a.hash,i.version=a.spine;var s=i.version.substr(0,3);if("4.0"!==s&&"4.1"!==s){var u="Spine 4.1 loader cant load version ".concat(a.spine,". Please configure your pixi-spine bundle");console.error(u)}i.x=a.x,i.y=a.y,i.width=a.width,i.height=a.height,i.fps=a.fps,i.imagesPath=a.images}if(o.bones)for(var c=0;c<o.bones.length;c++){var l=o.bones[c],f=null,h=Mi(l,"parent",null);if(null!=h&&null==(f=i.findBone(h)))throw new Error("Parent bone not found: ".concat(h));var p=new lr(i.bones.length,l.name,f);p.length=Mi(l,"length",0)*r,p.x=Mi(l,"x",0)*r,p.y=Mi(l,"y",0)*r,p.rotation=Mi(l,"rotation",0),p.scaleX=Mi(l,"scaleX",1),p.scaleY=Mi(l,"scaleY",1),p.shearX=Mi(l,"shearX",0),p.shearY=Mi(l,"shearY",0),p.transformMode=n.Aq.enumValue(n._C,Mi(l,"transform","Normal")),p.skinRequired=Mi(l,"skin",!1);var d=Mi(l,"color",null);d&&p.color.setFromString(d),i.bones.push(p)}if(o.slots)for(var y=0;y<o.slots.length;y++){var v=o.slots[y],m=i.findBone(v.bone);if(!m)throw new Error("Couldn't find bone ".concat(v.bone," for slot ").concat(v.name));var b=new wn(i.slots.length,v.name,m),g=Mi(v,"color",null);g&&b.color.setFromString(g);var w=Mi(v,"dark",null);w&&(b.darkColor=n.Q1.fromString(w)),b.attachmentName=Mi(v,"attachment",null),b.blendMode=t.blendModeFromString(Mi(v,"blend","normal")),i.slots.push(b)}if(o.ik)for(var S=0;S<o.ik.length;S++){var x=o.ik[S],_=new Br(x.name);_.order=Mi(x,"order",0),_.skinRequired=Mi(x,"skin",!1);for(var E=0;E<x.bones.length;E++){var T=x.bones[E],k=i.findBone(T);if(null==k)throw new Error("IK bone not found: ".concat(T));_.bones.push(k)}_.target=i.findBone(x.target),_.mix=Mi(x,"mix",1),_.softness=Mi(x,"softness",0)*r,_.bendDirection=Mi(x,"bendPositive",!0)?1:-1,_.compress=Mi(x,"compress",!1),_.stretch=Mi(x,"stretch",!1),_.uniform=Mi(x,"uniform",!1),i.ikConstraints.push(_)}if(o.transform)for(var P=0;P<o.transform.length;P++){var O=o.transform[P],A=new On(O.name);A.order=Mi(O,"order",0),A.skinRequired=Mi(O,"skin",!1);for(var R=0;R<O.bones.length;R++){var j=O.bones[R],I=i.findBone(j);if(!I)throw new Error("Couldn't find bone ".concat(j," for transform constraint ").concat(O.name,"."));A.bones.push(I)}var C=O.target,M=i.findBone(C);if(!M)throw new Error("Couldn't find target bone ".concat(C," for transform constraint ").concat(O.name,"."));A.target=M,A.local=Mi(O,"local",!1),A.relative=Mi(O,"relative",!1),A.offsetRotation=Mi(O,"rotation",0),A.offsetX=Mi(O,"x",0)*r,A.offsetY=Mi(O,"y",0)*r,A.offsetScaleX=Mi(O,"scaleX",0),A.offsetScaleY=Mi(O,"scaleY",0),A.offsetShearY=Mi(O,"shearY",0),A.mixRotate=Mi(O,"mixRotate",1),A.mixX=Mi(O,"mixX",1),A.mixY=Mi(O,"mixY",A.mixX),A.mixScaleX=Mi(O,"mixScaleX",1),A.mixScaleY=Mi(O,"mixScaleY",A.mixScaleX),A.mixShearY=Mi(O,"mixShearY",1),i.transformConstraints.push(A)}if(o.path)for(var D=0;D<o.path.length;D++){var N=o.path[D],B=new qr(N.name);B.order=Mi(N,"order",0),B.skinRequired=Mi(N,"skin",!1);for(var F=0;F<N.bones.length;F++){var L=N.bones[F],U=i.findBone(L);if(!U)throw new Error("Couldn't find bone ".concat(L," for path constraint ").concat(N.name,"."));B.bones.push(U)}var V=N.target,X=i.findSlot(V);if(!X)throw new Error("Couldn't find target slot ".concat(V," for path constraint ").concat(N.name,"."));B.target=X,B.positionMode=n.Aq.enumValue(n.pw,Mi(N,"positionMode","Percent")),B.spacingMode=n.Aq.enumValue(Wr,Mi(N,"spacingMode","Length")),B.rotateMode=n.Aq.enumValue(n.Dr,Mi(N,"rotateMode","Tangent")),B.offsetRotation=Mi(N,"rotation",0),B.position=Mi(N,"position",0),B.positionMode==n.pw.Fixed&&(B.position*=r),B.spacing=Mi(N,"spacing",0),B.spacingMode!=Wr.Length&&B.spacingMode!=Wr.Fixed||(B.spacing*=r),B.mixRotate=Mi(N,"mixRotate",1),B.mixX=Mi(N,"mixX",1),B.mixY=Mi(N,"mixY",B.mixX),i.pathConstraints.push(B)}if(o.skins)for(var G=0;G<o.skins.length;G++){var Y=o.skins[G],q=new Dn(Y.name);if(Y.bones)for(var W=0;W<Y.bones.length;W++){var H=Y.bones[W],z=i.findBone(H);if(!z)throw new Error("Couldn't find bone ".concat(H," for skin ").concat(Y.name,"."));q.bones.push(z)}if(Y.ik)for(var Q=0;Q<Y.ik.length;Q++){var Z=Y.ik[Q],K=i.findIkConstraint(Z);if(!K)throw new Error("Couldn't find IK constraint ".concat(Z," for skin ").concat(Y.name,"."));q.constraints.push(K)}if(Y.transform)for(var $=0;$<Y.transform.length;$++){var J=Y.transform[$],tt=i.findTransformConstraint(J);if(!tt)throw new Error("Couldn't find transform constraint ".concat(J," for skin ").concat(Y.name,"."));q.constraints.push(tt)}if(Y.path)for(var et=0;et<Y.path.length;et++){var rt=Y.path[et],nt=i.findPathConstraint(rt);if(!nt)throw new Error("Couldn't find path constraint ".concat(rt," for skin ").concat(Y.name,"."));q.constraints.push(nt)}for(var it in Y.attachments){var ot=i.findSlot(it);if(!ot)throw new Error("Couldn't find slot ".concat(it," for skin ").concat(Y.name,"."));var at=Y.attachments[it];for(var st in at){var ut=this.readAttachment(at[st],q,ot.index,st,i);ut&&q.setAttachment(ot.index,st,ut)}}i.skins.push(q),"default"==q.name&&(i.defaultSkin=q)}for(var ct=0,lt=this.linkedMeshes.length;ct<lt;ct++){var ft=this.linkedMeshes[ct],ht=ft.skin?i.findSkin(ft.skin):i.defaultSkin;if(!ht)throw new Error("Skin not found: ".concat(ft.skin));var pt=ht.getAttachment(ft.slotIndex,ft.parent);if(!pt)throw new Error("Parent mesh not found: ".concat(ft.parent));ft.mesh.timelineAttachment=ft.inheritTimeline?pt:ft.mesh,ft.mesh.setParentMesh(pt)}if(this.linkedMeshes.length=0,o.events)for(var dt in o.events){var yt=o.events[dt],vt=new Tr(dt);vt.intValue=Mi(yt,"int",0),vt.floatValue=Mi(yt,"float",0),vt.stringValue=Mi(yt,"string",""),vt.audioPath=Mi(yt,"audio",null),vt.audioPath&&(vt.volume=Mi(yt,"volume",1),vt.balance=Mi(yt,"balance",0)),i.events.push(vt)}if(o.animations)for(var mt in o.animations){var bt=o.animations[mt];this.readAnimation(bt,mt,i)}return i}},{key:"readAttachment",value:function(t,e,r,i,o){var a=this.scale;switch(i=Mi(t,"name",i),Mi(t,"type","region")){case"region":var s=Mi(t,"path",i),u=this.readSequence(Mi(t,"sequence",null)),c=this.attachmentLoader.newRegionAttachment(e,i,s,u);if(!c)return null;c.path=s,c.x=Mi(t,"x",0)*a,c.y=Mi(t,"y",0)*a,c.scaleX=Mi(t,"scaleX",1),c.scaleY=Mi(t,"scaleY",1),c.rotation=Mi(t,"rotation",0),c.width=t.width*a,c.height=t.height*a,c.sequence=u;var l=Mi(t,"color",null);return l&&c.color.setFromString(l),c;case"boundingbox":var f=this.attachmentLoader.newBoundingBoxAttachment(e,i);if(!f)return null;this.readVertices(t,f,t.vertexCount<<1);var h=Mi(t,"color",null);return h&&f.color.setFromString(h),f;case"mesh":case"linkedmesh":var p=Mi(t,"path",i),d=this.readSequence(Mi(t,"sequence",null)),y=this.attachmentLoader.newMeshAttachment(e,i,p,d);if(!y)return null;y.path=p;var v=Mi(t,"color",null);v&&y.color.setFromString(v),y.width=Mi(t,"width",0)*a,y.height=Mi(t,"height",0)*a,y.sequence=d;var m=Mi(t,"parent",null);if(m)return this.linkedMeshes.push(new Ri(y,Mi(t,"skin",null),r,m,Mi(t,"timelines",!0))),y;var b=t.uvs;return this.readVertices(t,y,b.length),y.triangles=t.triangles,y.regionUVs=new Float32Array(b),y.edges=Mi(t,"edges",null),y.hullLength=2*Mi(t,"hull",0),y;case"path":var g=this.attachmentLoader.newPathAttachment(e,i);if(!g)return null;g.closed=Mi(t,"closed",!1),g.constantSpeed=Mi(t,"constantSpeed",!0);var w=t.vertexCount;this.readVertices(t,g,w<<1);for(var S=n.Aq.newArray(w/3,0),x=0;x<t.lengths.length;x++)S[x]=t.lengths[x]*a;g.lengths=S;var _=Mi(t,"color",null);return _&&g.color.setFromString(_),g;case"point":var E=this.attachmentLoader.newPointAttachment(e,i);if(!E)return null;E.x=Mi(t,"x",0)*a,E.y=Mi(t,"y",0)*a,E.rotation=Mi(t,"rotation",0);var T=Mi(t,"color",null);return T&&E.color.setFromString(T),E;case"clipping":var k=this.attachmentLoader.newClippingAttachment(e,i);if(!k)return null;var P=Mi(t,"end",null);if(null!=P){var O=o.findSlot(P);if(null==O)throw new Error("Clipping end slot not found: ".concat(P));k.endSlot=O}var A=t.vertexCount;this.readVertices(t,k,A<<1);var R=Mi(t,"color",null);return R&&k.color.setFromString(R),k}return null}},{key:"readSequence",value:function(t){if(null==t)return null;var e=new vt(Mi(t,"count",0));return e.start=Mi(t,"start",1),e.digits=Mi(t,"digits",0),e.setupIndex=Mi(t,"setup",0),e}},{key:"readVertices",value:function(t,e,r){var i=this.scale;e.worldVerticesLength=r;var o=t.vertices;if(r!=o.length){for(var a=new Array,s=new Array,u=0,c=o.length;u<c;){var l=o[u++];s.push(l);for(var f=u+4*l;u<f;u+=4)s.push(o[u]),a.push(o[u+1]*i),a.push(o[u+2]*i),a.push(o[u+3])}e.bones=s,e.vertices=n.Aq.toFloatArray(a)}else{var h=n.Aq.toFloatArray(o);if(1!=i)for(var p=0,d=o.length;p<d;p++)h[p]*=i;e.vertices=h}}},{key:"readAnimation",value:function(t,e,r){var i=this.scale,o=new Array;if(t.slots)for(var a in t.slots){var s=t.slots[a],u=r.findSlot(a);if(!u)throw new Error("Slot not found: ".concat(a));var c=u.index;for(var l in s){var f=s[l];if(f){var h=f.length;if("attachment"==l){for(var p=new ye(h,c),d=0;d<h;d++){var y=f[d];p.setFrame(d,Mi(y,"time",0),Mi(y,"name",null))}o.push(p)}else if("rgba"==l){for(var v=new le(h,h<<2,c),m=f[0],b=Mi(m,"time",0),g=n.Q1.fromString(m.color),w=0,S=0;;w++){v.setFrame(w,b,g.r,g.g,g.b,g.a);var x=f[w+1];if(!x){v.shrink(S);break}var _=Mi(x,"time",0),E=n.Q1.fromString(x.color),T=m.curve;T&&(S=Ci(T,v,S,w,0,b,_,g.r,E.r,1),S=Ci(T,v,S,w,1,b,_,g.g,E.g,1),S=Ci(T,v,S,w,2,b,_,g.b,E.b,1),S=Ci(T,v,S,w,3,b,_,g.a,E.a,1)),b=_,g=E,m=x}o.push(v)}else if("rgb"==l){for(var k=new fe(h,3*h,c),P=f[0],O=Mi(P,"time",0),A=n.Q1.fromString(P.color),R=0,j=0;;R++){k.setFrame(R,O,A.r,A.g,A.b);var I=f[R+1];if(!I){k.shrink(j);break}var C=Mi(I,"time",0),M=n.Q1.fromString(I.color),D=P.curve;D&&(j=Ci(D,k,j,R,0,O,C,A.r,M.r,1),j=Ci(D,k,j,R,1,O,C,A.g,M.g,1),j=Ci(D,k,j,R,2,O,C,A.b,M.b,1)),O=C,A=M,P=I}o.push(k)}else if("alpha"==l)o.push(ji(f,new he(h,h,c),0,1));else if("rgba2"==l){for(var N=new pe(h,7*h,c),B=f[0],F=Mi(B,"time",0),L=n.Q1.fromString(B.light),U=n.Q1.fromString(B.dark),V=0,X=0;;V++){N.setFrame(V,F,L.r,L.g,L.b,L.a,U.r,U.g,U.b);var G=f[V+1];if(!G){N.shrink(X);break}var Y=Mi(G,"time",0),q=n.Q1.fromString(G.light),W=n.Q1.fromString(G.dark),H=B.curve;H&&(X=Ci(H,N,X,V,0,F,Y,L.r,q.r,1),X=Ci(H,N,X,V,1,F,Y,L.g,q.g,1),X=Ci(H,N,X,V,2,F,Y,L.b,q.b,1),X=Ci(H,N,X,V,3,F,Y,L.a,q.a,1),X=Ci(H,N,X,V,4,F,Y,U.r,W.r,1),X=Ci(H,N,X,V,5,F,Y,U.g,W.g,1),X=Ci(H,N,X,V,6,F,Y,U.b,W.b,1)),F=Y,L=q,U=W,B=G}o.push(N)}else if("rgb2"==l){for(var z=new de(h,6*h,c),Q=f[0],Z=Mi(Q,"time",0),K=n.Q1.fromString(Q.light),$=n.Q1.fromString(Q.dark),J=0,tt=0;;J++){z.setFrame(J,Z,K.r,K.g,K.b,$.r,$.g,$.b);var et=f[J+1];if(!et){z.shrink(tt);break}var rt=Mi(et,"time",0),nt=n.Q1.fromString(et.light),it=n.Q1.fromString(et.dark),ot=Q.curve;ot&&(tt=Ci(ot,z,tt,J,0,Z,rt,K.r,nt.r,1),tt=Ci(ot,z,tt,J,1,Z,rt,K.g,nt.g,1),tt=Ci(ot,z,tt,J,2,Z,rt,K.b,nt.b,1),tt=Ci(ot,z,tt,J,3,Z,rt,$.r,it.r,1),tt=Ci(ot,z,tt,J,4,Z,rt,$.g,it.g,1),tt=Ci(ot,z,tt,J,5,Z,rt,$.b,it.b,1)),Z=rt,K=nt,$=it,Q=et}o.push(z)}}}}if(t.bones)for(var at in t.bones){var st=t.bones[at],ut=r.findBone(at);if(!ut)throw new Error("Bone not found: ".concat(at));var ct=ut.index;for(var lt in st){var ft=st[lt],ht=ft.length;if(0!=ht)if("rotate"===lt)o.push(ji(ft,new te(ht,ht,ct),0,1));else if("translate"===lt){var pt=new ee(ht,ht<<1,ct);o.push(Ii(ft,pt,"x","y",0,i))}else if("translatex"===lt){var dt=new re(ht,ht,ct);o.push(ji(ft,dt,0,i))}else if("translatey"===lt){var yt=new ne(ht,ht,ct);o.push(ji(ft,yt,0,i))}else if("scale"===lt){var vt=new ie(ht,ht<<1,ct);o.push(Ii(ft,vt,"x","y",1,1))}else if("scalex"===lt){var bt=new oe(ht,ht,ct);o.push(ji(ft,bt,1,1))}else if("scaley"===lt){var gt=new ae(ht,ht,ct);o.push(ji(ft,gt,1,1))}else if("shear"===lt){var wt=new se(ht,ht<<1,ct);o.push(Ii(ft,wt,"x","y",0,1))}else if("shearx"===lt){var St=new ue(ht,ht,ct);o.push(ji(ft,St,0,1))}else if("sheary"===lt){var xt=new ce(ht,ht,ct);o.push(ji(ft,xt,0,1))}}}if(t.ik)for(var _t in t.ik){var Et=t.ik[_t],Tt=Et[0];if(Tt){var kt=r.findIkConstraint(_t);if(!kt)throw new Error("IK Constraint not found: ".concat(_t));for(var Pt=r.ikConstraints.indexOf(kt),Ot=new Se(Et.length,Et.length<<1,Pt),Rt=Mi(Tt,"time",0),jt=Mi(Tt,"mix",1),It=Mi(Tt,"softness",0)*i,Ct=0,Mt=0;;Ct++){Ot.setFrame(Ct,Rt,jt,It,Mi(Tt,"bendPositive",!0)?1:-1,Mi(Tt,"compress",!1),Mi(Tt,"stretch",!1));var Dt=Et[Ct+1];if(!Dt){Ot.shrink(Mt);break}var Nt=Mi(Dt,"time",0),Bt=Mi(Dt,"mix",1),Ft=Mi(Dt,"softness",0)*i,Lt=Tt.curve;Lt&&(Mt=Ci(Lt,Ot,Mt,Ct,0,Rt,Nt,jt,Bt,1),Mt=Ci(Lt,Ot,Mt,Ct,1,Rt,Nt,It,Ft,i)),Rt=Nt,jt=Bt,It=Ft,Tt=Dt}o.push(Ot)}}if(t.transform)for(var Ut in t.transform){var Vt=t.transform[Ut],Xt=Vt[0];if(Xt){var Gt=r.findTransformConstraint(Ut);if(!Gt)throw new Error("Transform constraint not found: ".concat(Ut));for(var Yt=r.transformConstraints.indexOf(Gt),qt=new xe(Vt.length,6*Vt.length,Yt),Wt=Mi(Xt,"time",0),Ht=Mi(Xt,"mixRotate",1),zt=Mi(Xt,"mixX",1),Qt=Mi(Xt,"mixY",zt),Zt=Mi(Xt,"mixScaleX",1),Kt=Mi(Xt,"mixScaleY",Zt),$t=Mi(Xt,"mixShearY",1),Jt=0,me=0;;Jt++){qt.setFrame(Jt,Wt,Ht,zt,Qt,Zt,Kt,$t);var ge=Vt[Jt+1];if(!ge){qt.shrink(me);break}var ke=Mi(ge,"time",0),Oe=Mi(ge,"mixRotate",1),Ae=Mi(ge,"mixX",1),Re=Mi(ge,"mixY",Ae),je=Mi(ge,"mixScaleX",1),Ie=Mi(ge,"mixScaleY",je),Ce=Mi(ge,"mixShearY",1),Me=Xt.curve;Me&&(me=Ci(Me,qt,me,Jt,0,Wt,ke,Ht,Oe,1),me=Ci(Me,qt,me,Jt,1,Wt,ke,zt,Ae,1),me=Ci(Me,qt,me,Jt,2,Wt,ke,Qt,Re,1),me=Ci(Me,qt,me,Jt,3,Wt,ke,Zt,je,1),me=Ci(Me,qt,me,Jt,4,Wt,ke,Kt,Ie,1),me=Ci(Me,qt,me,Jt,5,Wt,ke,$t,Ce,1)),Wt=ke,Ht=Oe,zt=Ae,Qt=Re,Zt=je,Kt=Ie,Zt=je,Xt=ge}o.push(qt)}}if(t.path)for(var De in t.path){var Ne=t.path[De],Be=r.findPathConstraint(De);if(!Be)throw new Error("Path constraint not found: ".concat(De));var Fe=r.pathConstraints.indexOf(Be);for(var Le in Ne){var Ue=Ne[Le],Ve=Ue[0];if(Ve){var Xe=Ue.length;if("position"===Le){var Ge=new _e(Xe,Xe,Fe);o.push(ji(Ue,Ge,0,Be.positionMode==n.pw.Fixed?i:1))}else if("spacing"===Le){var Ye=new Ee(Xe,Xe,Fe);o.push(ji(Ue,Ye,0,Be.spacingMode==Wr.Length||Be.spacingMode==Wr.Fixed?i:1))}else if("mix"===Le){for(var qe=new Te(Xe,3*Xe,Fe),We=Mi(Ve,"time",0),He=Mi(Ve,"mixRotate",1),ze=Mi(Ve,"mixX",1),Qe=Mi(Ve,"mixY",ze),Ze=0,Ke=0;;Ze++){qe.setFrame(Ze,We,He,ze,Qe);var $e=Ue[Ze+1];if(!$e){qe.shrink(Ke);break}var Je=Mi($e,"time",0),tr=Mi($e,"mixRotate",1),er=Mi($e,"mixX",1),rr=Mi($e,"mixY",er),nr=Ve.curve;nr&&(Ke=Ci(nr,qe,Ke,Ze,0,We,Je,He,tr,1),Ke=Ci(nr,qe,Ke,Ze,1,We,Je,ze,er,1),Ke=Ci(nr,qe,Ke,Ze,2,We,Je,Qe,rr,1)),We=Je,He=tr,ze=er,Qe=rr,Ve=$e}o.push(qe)}}}}if(t.deform)for(var ir in t.attachments={},t.deform){var or=t.deform[ir],ar=t.attachments[ir]={};for(var sr in or){var ur=or[sr],cr=ar[sr]={};for(var lr in ur)cr[lr]={deform:ur[lr]}}}if(t.attachments)for(var fr in t.attachments){var hr=t.attachments[fr],pr=r.findSkin(fr);if(null!=pr)for(var dr in hr){var yr=hr[dr],vr=r.findSlot(dr);if(!vr)throw new Error("Slot not found: ".concat(dr));var mr=vr.index;for(var br in yr){var gr=yr[br],Sr=pr.getAttachment(mr,br);for(var xr in gr){var _r=gr[xr],Er=_r[0];if(Er)if("deform"==xr){for(var Tr=Sr.bones,kr=Sr.vertices,Pr=Tr?kr.length/3*2:kr.length,Or=new ve(_r.length,_r.length,mr,Sr),Ar=Mi(Er,"time",0),Rr=0,jr=0;;Rr++){var Ir=void 0,Cr=Mi(Er,"vertices",null);if(Cr){Ir=n.Aq.newFloatArray(Pr);var Mr=Mi(Er,"offset",0);if(n.Aq.arrayCopy(Cr,0,Ir,Mr,Cr.length),1!=i)for(var Dr=Mr,Nr=Dr+Cr.length;Dr<Nr;Dr++)Ir[Dr]*=i;if(!Tr)for(var Br=0;Br<Pr;Br++)Ir[Br]+=kr[Br]}else Ir=Tr?n.Aq.newFloatArray(Pr):kr;Or.setFrame(Rr,Ar,Ir);var Fr=_r[Rr+1];if(!Fr){Or.shrink(jr);break}var Lr=Mi(Fr,"time",0),Ur=Er.curve;Ur&&(jr=Ci(Ur,Or,jr,Rr,0,Ar,Lr,0,1,1)),Ar=Lr,Er=Fr}o.push(Or)}else if("sequence"==xr){for(var Vr=new Pe(_r.length,mr,Sr),Xr=0,Gr=0;Gr<_r.length;Gr++){var Yr=Mi(Er,"delay",Xr),qr=Mi(Er,"time",0),Hr=mt[Mi(Er,"mode","hold")],zr=Mi(Er,"index",0);Vr.setFrame(Gr,qr,Hr,zr,Yr),Xr=Yr,Er=_r[Gr+1]}o.push(Vr)}}}}else if(n.W0.FAIL_ON_NON_EXISTING_SKIN)throw new Error("Skin not found: ".concat(fr))}if(t.drawOrder){for(var Qr=new we(t.drawOrder.length),Zr=r.slots.length,Kr=0,$r=0;$r<t.drawOrder.length;$r++,Kr++){var Jr=t.drawOrder[$r],tn=null,en=Mi(Jr,"offsets",null);if(en){tn=n.Aq.newArray(Zr,-1);for(var rn=n.Aq.newArray(Zr-en.length,0),nn=0,on=0,an=0;an<en.length;an++){var sn=en[an],un=r.findSlot(sn.slot);if(!un)throw new Error("Slot not found: ".concat(un));for(var cn=un.index;nn!=cn;)rn[on++]=nn++;tn[nn+sn.offset]=nn++}for(;nn<Zr;)rn[on++]=nn++;for(var ln=Zr-1;ln>=0;ln--)-1==tn[ln]&&(tn[ln]=rn[--on])}Qr.setFrame(Kr,Mi(Jr,"time",0),tn)}o.push(Qr)}if(t.events){for(var fn=new be(t.events.length),hn=0,pn=0;pn<t.events.length;pn++,hn++){var dn=t.events[pn],yn=r.findEvent(dn.name);if(!yn)throw new Error("Event not found: ".concat(dn.name));var vn=new wr(n.Aq.toSinglePrecision(Mi(dn,"time",0)),yn);vn.intValue=Mi(dn,"int",yn.intValue),vn.floatValue=Mi(dn,"float",yn.floatValue),vn.stringValue=Mi(dn,"string",yn.stringValue),vn.data.audioPath&&(vn.volume=Mi(dn,"volume",1),vn.balance=Mi(dn,"balance",0)),fn.setFrame(hn,vn)}o.push(fn)}for(var mn=0,bn=0,gn=o.length;bn<gn;bn++)mn=Math.max(mn,o[bn].getDuration());if(isNaN(mn))throw new Error("Error while parsing animation, duration is NaN");r.animations.push(new At(e,o,mn))}}],[{key:"blendModeFromString",value:function(t){if("normal"==(t=t.toLowerCase()))return er.B9.NORMAL;if("additive"==t)return er.B9.ADD;if("multiply"==t)return er.B9.MULTIPLY;if("screen"==t)return er.B9.SCREEN;throw new Error("Unknown blend mode: ".concat(t))}}])}(),Ri=Pi(function t(e,r,n,i,o){Ti(this,t),this.mesh=e,this.skin=r,this.slotIndex=n,this.parent=i,this.inheritTimeline=o});function ji(t,e,r,n){for(var i=t[0],o=Mi(i,"time",0),a=Mi(i,"value",r)*n,s=0,u=0;;u++){e.setFrame(u,o,a);var c=t[u+1];if(!c)return e.shrink(s),e;var l=Mi(c,"time",0),f=Mi(c,"value",r)*n;i.curve&&(s=Ci(i.curve,e,s,u,0,o,l,a,f,n)),o=l,a=f,i=c}}function Ii(t,e,r,n,i,o){for(var a=t[0],s=Mi(a,"time",0),u=Mi(a,r,i)*o,c=Mi(a,n,i)*o,l=0,f=0;;f++){e.setFrame(f,s,u,c);var h=t[f+1];if(!h)return e.shrink(l),e;var p=Mi(h,"time",0),d=Mi(h,r,i)*o,y=Mi(h,n,i)*o,v=a.curve;v&&(l=Ci(v,e,l,f,0,s,p,u,d,o),l=Ci(v,e,l,f,1,s,p,c,y,o)),s=p,u=d,c=y,a=h}}function Ci(t,e,r,n,i,o,a,s,u,c){if("stepped"==t)return e.setStepped(n),r;var l=i<<2,f=t[l],h=t[l+1]*c,p=t[l+2],d=t[l+3]*c;return e.setBezier(r,n,i,o,s,f,h,p,d,a,u),r+1}function Mi(t,e,r){return void 0!==t[e]?t[e]:r}function Di(t){return Di="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Di(t)}function Ni(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Bi(n.key),n)}}function Bi(t){var e=function(t,e){if("object"!=Di(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Di(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Di(e)?e:e+""}function Fi(t,e,r){return e=Ui(e),function(t,e){if(e&&("object"==Di(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Li()?Reflect.construct(e,r||[],Ui(t).constructor):e.apply(t,r))}function Li(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Li=function(){return!!t})()}function Ui(t){return Ui=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ui(t)}function Vi(t,e){return Vi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Vi(t,e)}var Xi=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Fi(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vi(t,e)}(e,t),r=e,(n=[{key:"createSkeleton",value:function(t){this.skeleton=new fn(t),this.skeleton.updateWorldTransform(),this.stateData=new Ze(t),this.state=new Me(this.stateData)}}])&&Ni(r.prototype,n),i&&Ni(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i}(n.bJ)},48817614:(t,e,r)=>{"use strict";r.d(e,{sP:()=>Re,l2:()=>E,T9:()=>B,WO:()=>m,Y8:()=>Ir,sZ:()=>jt,Pp:()=>Yt});r(29204099),r(53375191),r(73503923),r(44381336),r(54660056),r(68090010),r(62951728),r(97200626),r(50473502),r(32767805),r(29896034),r(53083784),r(1906035),r(47138695),r(92631386),r(57886333),r(32570708),r(10827376),r(83722648),r(21313645),r(49684748),r(74018857);var n=r(55039106);function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,c=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return o(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var a={loader:n.Ag.LoadParser,resolver:n.Ag.ResolveParser,cache:n.Ag.CacheParser,detection:n.Ag.DetectionParser};n.XO.handle(n.Ag.Asset,function(t){var e=t.ref;Object.entries(a).filter(function(t){var r=i(t,1)[0];return!!e[r]}).forEach(function(t){var r,o=i(t,2),a=o[0],s=o[1];return n.XO.add(Object.assign(e[a],{extension:null!==(r=e[a].extension)&&void 0!==r?r:s}))})},function(t){var e=t.ref;Object.keys(a).filter(function(t){return!!e[t]}).forEach(function(t){return n.XO.remove(e[t])})});r(35669252),r(55705852),r(48158254),r(17522308),r(4421388),r(69994507),r(96949634),r(18515682),r(13223918),r(58074670);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function u(){var t,e,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function o(r,n,i,o){var u=n&&n.prototype instanceof s?n:s,l=Object.create(u.prototype);return c(l,"_invoke",function(r,n,i){var o,s,u,c=0,l=i||[],f=!1,h={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,r){return o=e,s=0,u=t,h.n=r,a}};function p(r,n){for(s=r,u=n,e=0;!f&&c&&!i&&e<l.length;e++){var i,o=l[e],p=h.p,d=o[2];r>3?(i=d===n)&&(u=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=t):o[0]<=p&&((i=r<2&&p<o[1])?(s=0,h.v=n,h.n=o[1]):p<d&&(i=r<3||o[0]>n||n>d)&&(o[4]=r,o[5]=n,h.n=d,s=0))}if(i||r>1)return a;throw f=!0,n}return function(i,l,d){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,d),s=l,u=d;(e=s<2?t:u)||!f;){o||(s?s<3?(s>1&&(h.n=-1),p(s,u)):h.n=u:h.v=u);try{if(c=2,o){if(s||(i="next"),e=o[i]){if(!(e=e.call(o,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,s<2&&(s=0)}else 1===s&&(e=o.return)&&e.call(o),s<2&&(u=TypeError("The iterator does not provide a '"+i+"' method"),s=1);o=t}else if((e=(f=h.n<0)?u:r.call(n,h))!==a)break}catch(e){o=t,s=1,u=e}finally{c=1}}return{value:e,done:f}}}(r,i,o),!0),l}var a={};function s(){}function l(){}function f(){}e=Object.getPrototypeOf;var h=[][n]?e(e([][n]())):(c(e={},n,function(){return this}),e),p=f.prototype=s.prototype=Object.create(h);function d(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,c(t,i,"GeneratorFunction")),t.prototype=Object.create(p),t}return l.prototype=f,c(p,"constructor",f),c(f,"constructor",l),l.displayName="GeneratorFunction",c(f,i,"GeneratorFunction"),c(p),c(p,i,"Generator"),c(p,n,function(){return this}),c(p,"toString",function(){return"[object Generator]"}),(u=function(){return{w:o,m:d}})()}function c(t,e,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}c=function(t,e,r,n){function o(e,r){c(t,e,function(t){return this._invoke(e,r,t)})}e?i?i(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n}):t[e]=r:(o("next",0),o("throw",1),o("return",2))},c(t,e,r,n)}function l(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function f(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,h(n.key),n)}}function h(t){var e=function(t,e){if("object"!=s(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==s(e)?e:e+""}var p=function(){return t=function t(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=r},e=[{key:"add",value:function(t){var e=this;t.forEach(function(t){e._assetList.push(t)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}},{key:"_next",value:(n=u().m(function t(){var e,r,n;return u().w(function(t){for(;;)switch(t.n){case 0:if(!this._assetList.length||!this._isActive){t.n=2;break}for(this._isLoading=!0,e=[],r=Math.min(this._assetList.length,this._maxConcurrent),n=0;n<r;n++)e.push(this._assetList.pop());return t.n=1,this._loader.load(e);case 1:this._isLoading=!1,this._next();case 2:return t.a(2)}},t,this)}),i=function(){var t=this,e=arguments;return new Promise(function(r,i){var o=n.apply(t,e);function a(t){l(o,r,i,a,s,"next",t)}function s(t){l(o,r,i,a,s,"throw",t)}a(void 0)})},function(){return i.apply(this,arguments)})},{key:"active",get:function(){return this._isActive},set:function(t){this._isActive!==t&&(this._isActive=t,t&&!this._isLoading&&this._next())}}],e&&f(t.prototype,e),r&&f(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r,n,i}();r(71459841),r(40921472);function d(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return y(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?y(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function v(t,e){if(Array.isArray(e)){var r,n=d(e);try{for(n.s();!(r=n.n()).done;){var i=r.value;if(t.startsWith("data:".concat(i)))return!0}}catch(o){n.e(o)}finally{n.f()}return!1}return t.startsWith("data:".concat(e))}r(5320247),r(51524099);function m(t,e){var r=t.split("?")[0],i=n.Wp.path.extname(r).toLowerCase();return Array.isArray(e)?e.includes(i):i===e}var b=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Array.isArray(t)||(t=[t]),e?t.map(function(t){return"string"==typeof t||r?e(t):t}):t};r(14112305),r(27015936);function g(t,e,r,n,i){for(var o=e[r],a=0;a<o.length;a++){var s=o[a];r<e.length-1?g(t.replace(n[r],s),e,r+1,n,i):i.push(t.replace(n[r],s))}}function w(t){var e=t.match(/\{(.*?)\}/g),r=[];if(e){var n=[];e.forEach(function(t){var e=t.substring(1,t.length-1).split(",");n.push(e)}),g(t,n,0,e,r)}else r.push(t);return r}function S(t){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S(t)}function x(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_(n.key),n)}}function _(t){var e=function(t,e){if("object"!=S(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=S(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==S(e)?e:e+""}var E=new(function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._parsers=[],this._cache=new Map,this._cacheMap=new Map},(e=[{key:"reset",value:function(){this._cacheMap.clear(),this._cache.clear()}},{key:"has",value:function(t){return this._cache.has(t)}},{key:"get",value:function(t){var e=this._cache.get(t);return e||console.warn("[Assets] Asset id ".concat(t," was not found in the Cache")),e}},{key:"set",value:function(t,e){for(var r,i=this,o=b(t),a=0;a<this.parsers.length;a++){var s=this.parsers[a];if(s.test(e)){r=s.getCacheableAssets(o,e);break}}r||(r={},o.forEach(function(t){r[t]=e}));var u=Object.keys(r),c={cacheKeys:u,keys:o};if(o.forEach(function(t){i._cacheMap.set(t,c)}),u.forEach(function(t){var n=r?r[t]:e;i._cache.has(t)&&i._cache.get(t)!==n&&console.warn("[Cache] already has key:",t),i._cache.set(t,r[t])}),e instanceof n.gP){var l=e;o.forEach(function(t){l.baseTexture!==n.gP.EMPTY.baseTexture&&n.t5.addToCache(l.baseTexture,t),n.gP.addToCache(l,t)})}}},{key:"remove",value:function(t){var e=this;if(this._cacheMap.has(t)){var r=this._cacheMap.get(t);r.cacheKeys.forEach(function(t){e._cache.delete(t)}),r.keys.forEach(function(t){e._cacheMap.delete(t)})}else console.warn("[Assets] Asset id ".concat(t," was not found in the Cache"))}},{key:"parsers",get:function(){return this._parsers}}])&&x(t.prototype,e),r&&x(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}()),T=(r(95723650),r(6137992),r(95440747),r(20037566),r(34318408),function(t){return!Array.isArray(t)});function k(t){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k(t)}function P(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function O(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?P(Object(r),!0).forEach(function(e){A(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function A(t,e,r){return(e=D(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function R(){var t,e,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function o(r,n,i,o){var u=n&&n.prototype instanceof s?n:s,c=Object.create(u.prototype);return j(c,"_invoke",function(r,n,i){var o,s,u,c=0,l=i||[],f=!1,h={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,r){return o=e,s=0,u=t,h.n=r,a}};function p(r,n){for(s=r,u=n,e=0;!f&&c&&!i&&e<l.length;e++){var i,o=l[e],p=h.p,d=o[2];r>3?(i=d===n)&&(u=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=t):o[0]<=p&&((i=r<2&&p<o[1])?(s=0,h.v=n,h.n=o[1]):p<d&&(i=r<3||o[0]>n||n>d)&&(o[4]=r,o[5]=n,h.n=d,s=0))}if(i||r>1)return a;throw f=!0,n}return function(i,l,d){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,d),s=l,u=d;(e=s<2?t:u)||!f;){o||(s?s<3?(s>1&&(h.n=-1),p(s,u)):h.n=u:h.v=u);try{if(c=2,o){if(s||(i="next"),e=o[i]){if(!(e=e.call(o,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,s<2&&(s=0)}else 1===s&&(e=o.return)&&e.call(o),s<2&&(u=TypeError("The iterator does not provide a '"+i+"' method"),s=1);o=t}else if((e=(f=h.n<0)?u:r.call(n,h))!==a)break}catch(e){o=t,s=1,u=e}finally{c=1}}return{value:e,done:f}}}(r,i,o),!0),c}var a={};function s(){}function u(){}function c(){}e=Object.getPrototypeOf;var l=[][n]?e(e([][n]())):(j(e={},n,function(){return this}),e),f=c.prototype=s.prototype=Object.create(l);function h(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,j(t,i,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=c,j(f,"constructor",c),j(c,"constructor",u),u.displayName="GeneratorFunction",j(c,i,"GeneratorFunction"),j(f),j(f,i,"Generator"),j(f,n,function(){return this}),j(f,"toString",function(){return"[object Generator]"}),(R=function(){return{w:o,m:h}})()}function j(t,e,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}j=function(t,e,r,n){function o(e,r){j(t,e,function(t){return this._invoke(e,r,t)})}e?i?i(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n}):t[e]=r:(o("next",0),o("throw",1),o("return",2))},j(t,e,r,n)}function I(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function C(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function a(t){I(o,n,i,a,s,"next",t)}function s(t){I(o,n,i,a,s,"throw",t)}a(void 0)})}}function M(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,D(n.key),n)}}function D(t){var e=function(t,e){if("object"!=k(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=k(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==k(e)?e:e+""}var N=function(){return t=function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:function(t,r,n){return e._parsersValidated=!1,t[r]=n,!0}}),this.promiseCache={}},e=[{key:"reset",value:function(){this._parsersValidated=!1,this.promiseCache={}}},{key:"_getLoadPromiseAndParser",value:function(t,e){var r=this,n={promise:null,parser:null};return n.promise=C(R().m(function i(){var o,a,s,u,c,l,f,h,p,d;return R().w(function(i){for(;;)switch(i.n){case 0:if(o=null,a=null,e.loadParser&&((a=r._parserHash[e.loadParser])||console.warn('[Assets] specified load parser "'.concat(e.loadParser,'" not found while loading ').concat(t))),a){i.n=4;break}s=0;case 1:if(!(s<r.parsers.length)){i.n=3;break}if(!(c=r.parsers[s]).load||null===(u=c.test)||void 0===u||!u.call(c,t,e,r)){i.n=2;break}return a=c,i.a(3,3);case 2:s++,i.n=1;break;case 3:if(a){i.n=4;break}return i.a(2,(console.warn("[Assets] ".concat(t," could not be loaded as we don't know how to parse it, ensure the correct parser has been added")),null));case 4:return i.n=5,a.load(t,e,r);case 5:o=i.v,n.parser=a,l=0;case 6:if(!(l<r.parsers.length)){i.n=12;break}if(h=r.parsers[l],!(p=h.parse&&h.parse)){i.n=8;break}return i.n=7,null===(f=h.testParse)||void 0===f?void 0:f.call(h,o,e,r);case 7:p=i.v;case 8:if(!p){i.n=11;break}return i.n=9,h.parse(o,e,r);case 9:if(d=i.v){i.n=10;break}d=o;case 10:o=d,n.parser=h;case 11:l++,i.n=6;break;case 12:return i.a(2,o)}},i)}))(),n}},{key:"load",value:(o=C(R().m(function t(e,r){var i,o,a,s,u,c,l=this;return R().w(function(t){for(;;)switch(t.n){case 0:return this._parsersValidated||this._validateParsers(),i=0,o={},a=T(e),s=b(e,function(t){return{alias:[t],src:t}}),u=s.length,c=s.map(function(){var t=C(R().m(function t(e){var a,s;return R().w(function(t){for(;;)switch(t.p=t.n){case 0:if(a=n.Wp.path.toAbsolute(e.src),o[e.src]){t.n=4;break}return t.p=1,l.promiseCache[a]||(l.promiseCache[a]=l._getLoadPromiseAndParser(a,e)),t.n=2,l.promiseCache[a].promise;case 2:o[e.src]=t.v,r&&r(++i/u),t.n=4;break;case 3:throw t.p=3,s=t.v,delete l.promiseCache[a],delete o[e.src],new Error("[Loader.load] Failed to load ".concat(a,".\n").concat(s));case 4:return t.a(2)}},t,null,[[1,3]])}));return function(e){return t.apply(this,arguments)}}()),t.n=1,Promise.all(c);case 1:return t.a(2,a?o[s[0].src]:o)}},t,this)})),function(t,e){return o.apply(this,arguments)})},{key:"unload",value:(i=C(R().m(function t(e){var r,i=this;return R().w(function(t){for(;;)switch(t.n){case 0:return r=b(e,function(t){return{alias:[t],src:t}}).map(function(){var t=C(R().m(function t(e){var r,o,a,s,u;return R().w(function(t){for(;;)switch(t.n){case 0:if(r=n.Wp.path.toAbsolute(e.src),!(o=i.promiseCache[r])){t.n=2;break}return t.n=1,o.promise;case 1:u=t.v,delete i.promiseCache[r],null===(a=o.parser)||void 0===a||null===(s=a.unload)||void 0===s||s.call(a,u,e,i);case 2:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}()),t.n=1,Promise.all(r);case 1:return t.a(2)}},t)})),function(t){return i.apply(this,arguments)})},{key:"_validateParsers",value:function(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(function(t){return t.name}).reduce(function(t,e){return t[e.name]&&console.warn('[Assets] loadParser name conflict "'.concat(e.name,'"')),O(O({},t),{},A({},e.name,e))},{})}}],e&&M(t.prototype,e),r&&M(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r,i,o}(),B=function(t){return t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t}(B||{});function F(){var t,e,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function o(r,n,i,o){var u=n&&n.prototype instanceof s?n:s,c=Object.create(u.prototype);return L(c,"_invoke",function(r,n,i){var o,s,u,c=0,l=i||[],f=!1,h={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,r){return o=e,s=0,u=t,h.n=r,a}};function p(r,n){for(s=r,u=n,e=0;!f&&c&&!i&&e<l.length;e++){var i,o=l[e],p=h.p,d=o[2];r>3?(i=d===n)&&(u=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=t):o[0]<=p&&((i=r<2&&p<o[1])?(s=0,h.v=n,h.n=o[1]):p<d&&(i=r<3||o[0]>n||n>d)&&(o[4]=r,o[5]=n,h.n=d,s=0))}if(i||r>1)return a;throw f=!0,n}return function(i,l,d){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,d),s=l,u=d;(e=s<2?t:u)||!f;){o||(s?s<3?(s>1&&(h.n=-1),p(s,u)):h.n=u:h.v=u);try{if(c=2,o){if(s||(i="next"),e=o[i]){if(!(e=e.call(o,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,s<2&&(s=0)}else 1===s&&(e=o.return)&&e.call(o),s<2&&(u=TypeError("The iterator does not provide a '"+i+"' method"),s=1);o=t}else if((e=(f=h.n<0)?u:r.call(n,h))!==a)break}catch(e){o=t,s=1,u=e}finally{c=1}}return{value:e,done:f}}}(r,i,o),!0),c}var a={};function s(){}function u(){}function c(){}e=Object.getPrototypeOf;var l=[][n]?e(e([][n]())):(L(e={},n,function(){return this}),e),f=c.prototype=s.prototype=Object.create(l);function h(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,L(t,i,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=c,L(f,"constructor",c),L(c,"constructor",u),u.displayName="GeneratorFunction",L(c,i,"GeneratorFunction"),L(f),L(f,i,"Generator"),L(f,n,function(){return this}),L(f,"toString",function(){return"[object Generator]"}),(F=function(){return{w:o,m:h}})()}function L(t,e,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}L=function(t,e,r,n){function o(e,r){L(t,e,function(t){return this._invoke(e,r,t)})}e?i?i(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n}):t[e]=r:(o("next",0),o("throw",1),o("return",2))},L(t,e,r,n)}function U(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}var V={extension:{type:n.Ag.LoadParser,priority:B.Low},name:"loadJson",test:function(t){return v(t,"application/json")||m(t,".json")},load:function(t){return(e=F().m(function e(){return F().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,n.W0.ADAPTER.fetch(t);case 1:return e.n=2,e.v.json();case 2:return e.a(2,e.v)}},e)}),function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(t){U(o,n,i,a,s,"next",t)}function s(t){U(o,n,i,a,s,"throw",t)}a(void 0)})})();var e}};function X(){var t,e,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function o(r,n,i,o){var u=n&&n.prototype instanceof s?n:s,c=Object.create(u.prototype);return G(c,"_invoke",function(r,n,i){var o,s,u,c=0,l=i||[],f=!1,h={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,r){return o=e,s=0,u=t,h.n=r,a}};function p(r,n){for(s=r,u=n,e=0;!f&&c&&!i&&e<l.length;e++){var i,o=l[e],p=h.p,d=o[2];r>3?(i=d===n)&&(u=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=t):o[0]<=p&&((i=r<2&&p<o[1])?(s=0,h.v=n,h.n=o[1]):p<d&&(i=r<3||o[0]>n||n>d)&&(o[4]=r,o[5]=n,h.n=d,s=0))}if(i||r>1)return a;throw f=!0,n}return function(i,l,d){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,d),s=l,u=d;(e=s<2?t:u)||!f;){o||(s?s<3?(s>1&&(h.n=-1),p(s,u)):h.n=u:h.v=u);try{if(c=2,o){if(s||(i="next"),e=o[i]){if(!(e=e.call(o,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,s<2&&(s=0)}else 1===s&&(e=o.return)&&e.call(o),s<2&&(u=TypeError("The iterator does not provide a '"+i+"' method"),s=1);o=t}else if((e=(f=h.n<0)?u:r.call(n,h))!==a)break}catch(e){o=t,s=1,u=e}finally{c=1}}return{value:e,done:f}}}(r,i,o),!0),c}var a={};function s(){}function u(){}function c(){}e=Object.getPrototypeOf;var l=[][n]?e(e([][n]())):(G(e={},n,function(){return this}),e),f=c.prototype=s.prototype=Object.create(l);function h(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,G(t,i,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=c,G(f,"constructor",c),G(c,"constructor",u),u.displayName="GeneratorFunction",G(c,i,"GeneratorFunction"),G(f),G(f,i,"Generator"),G(f,n,function(){return this}),G(f,"toString",function(){return"[object Generator]"}),(X=function(){return{w:o,m:h}})()}function G(t,e,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}G=function(t,e,r,n){function o(e,r){G(t,e,function(t){return this._invoke(e,r,t)})}e?i?i(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n}):t[e]=r:(o("next",0),o("throw",1),o("return",2))},G(t,e,r,n)}function Y(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}n.XO.add(V);var q={name:"loadTxt",extension:{type:n.Ag.LoadParser,priority:B.Low},test:function(t){return v(t,"text/plain")||m(t,".txt")},load:function(t){return(e=X().m(function e(){return X().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,n.W0.ADAPTER.fetch(t);case 1:return e.n=2,e.v.text();case 2:return e.a(2,e.v)}},e)}),function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(t){Y(o,n,i,a,s,"next",t)}function s(t){Y(o,n,i,a,s,"throw",t)}a(void 0)})})();var e}};function W(t){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W(t)}function H(){var t,e,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function o(r,n,i,o){var u=n&&n.prototype instanceof s?n:s,c=Object.create(u.prototype);return z(c,"_invoke",function(r,n,i){var o,s,u,c=0,l=i||[],f=!1,h={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,r){return o=e,s=0,u=t,h.n=r,a}};function p(r,n){for(s=r,u=n,e=0;!f&&c&&!i&&e<l.length;e++){var i,o=l[e],p=h.p,d=o[2];r>3?(i=d===n)&&(u=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=t):o[0]<=p&&((i=r<2&&p<o[1])?(s=0,h.v=n,h.n=o[1]):p<d&&(i=r<3||o[0]>n||n>d)&&(o[4]=r,o[5]=n,h.n=d,s=0))}if(i||r>1)return a;throw f=!0,n}return function(i,l,d){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,d),s=l,u=d;(e=s<2?t:u)||!f;){o||(s?s<3?(s>1&&(h.n=-1),p(s,u)):h.n=u:h.v=u);try{if(c=2,o){if(s||(i="next"),e=o[i]){if(!(e=e.call(o,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,s<2&&(s=0)}else 1===s&&(e=o.return)&&e.call(o),s<2&&(u=TypeError("The iterator does not provide a '"+i+"' method"),s=1);o=t}else if((e=(f=h.n<0)?u:r.call(n,h))!==a)break}catch(e){o=t,s=1,u=e}finally{c=1}}return{value:e,done:f}}}(r,i,o),!0),c}var a={};function s(){}function u(){}function c(){}e=Object.getPrototypeOf;var l=[][n]?e(e([][n]())):(z(e={},n,function(){return this}),e),f=c.prototype=s.prototype=Object.create(l);function h(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,z(t,i,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=c,z(f,"constructor",c),z(c,"constructor",u),u.displayName="GeneratorFunction",z(c,i,"GeneratorFunction"),z(f),z(f,i,"Generator"),z(f,n,function(){return this}),z(f,"toString",function(){return"[object Generator]"}),(H=function(){return{w:o,m:h}})()}function z(t,e,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}z=function(t,e,r,n){function o(e,r){z(t,e,function(t){return this._invoke(e,r,t)})}e?i?i(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n}):t[e]=r:(o("next",0),o("throw",1),o("return",2))},z(t,e,r,n)}function Q(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function Z(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Q(Object(r),!0).forEach(function(e){K(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Q(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function K(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=W(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=W(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==W(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function J(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return tt(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?tt(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function tt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}n.XO.add(q);var et=["normal","bold","100","200","300","400","500","600","700","800","900"],rt=[".ttf",".otf",".woff",".woff2"],nt=["font/ttf","font/otf","font/woff","font/woff2"],it=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function ot(t){var e,r=n.Wp.path.extname(t),i=n.Wp.path.basename(t,r).replace(/(-|_)/g," ").toLowerCase().split(" ").map(function(t){return t.charAt(0).toUpperCase()+t.slice(1)}),o=i.length>0,a=J(i);try{for(a.s();!(e=a.n()).done;){if(!e.value.match(it)){o=!1;break}}}catch(u){a.e(u)}finally{a.f()}var s=i.join(" ");return o||(s='"'.concat(s.replace(/[\\"]/g,"\\$&"),'"')),s}var at=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function st(t){return at.test(t)?t:encodeURI(t)}var ut={extension:{type:n.Ag.LoadParser,priority:B.Low},name:"loadWebFont",test:function(t){return v(t,nt)||m(t,rt)},load:function(t,e){return(r=H().m(function r(){var i,o,a,s,u,c,l,f,h,p,d,y,v;return H().w(function(r){for(;;)switch(r.n){case 0:if(!(i=n.W0.ADAPTER.getFontFaceSet())){r.n=5;break}l=[],f=null!==(o=null===(a=e.data)||void 0===a?void 0:a.family)&&void 0!==o?o:ot(t),h=null!==(s=null===(u=e.data)||void 0===u||null===(u=u.weights)||void 0===u?void 0:u.filter(function(t){return et.includes(t)}))&&void 0!==s?s:["normal"],p=null!==(c=e.data)&&void 0!==c?c:{},d=0;case 1:if(!(d<h.length)){r.n=4;break}return y=h[d],v=new FontFace(f,"url(".concat(st(t),")"),Z(Z({},p),{},{weight:y})),r.n=2,v.load();case 2:i.add(v),l.push(v);case 3:d++,r.n=1;break;case 4:return r.a(2,1===l.length?l[0]:l);case 5:return r.a(2,(console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null))}},r)}),function(){var t=this,e=arguments;return new Promise(function(n,i){var o=r.apply(t,e);function a(t){$(o,n,i,a,s,"next",t)}function s(t){$(o,n,i,a,s,"throw",t)}a(void 0)})})();var r},unload:function(t){(Array.isArray(t)?t:[t]).forEach(function(t){return n.W0.ADAPTER.getFontFaceSet().delete(t)})}};n.XO.add(ut);r(76824265),r(26246976),r(87910984),r(27045624),r(76138123),r(41181582),r(60645153);function ct(t){return ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ct(t)}function lt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ht(n.key),n)}}function ft(t,e,r){return e&&lt(t.prototype,e),r&&lt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ht(t){var e=function(t,e){if("object"!=ct(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=ct(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ct(e)?e:e+""}var pt=null,dt=ft(function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),pt||(pt=URL.createObjectURL(new Blob(['(function() {\n  "use strict";\n  const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";\n  async function checkImageBitmap() {\n    try {\n      if (typeof createImageBitmap != "function")\n        return !1;\n      const imageBlob = await (await fetch(WHITE_PNG)).blob(), imageBitmap = await createImageBitmap(imageBlob);\n      return imageBitmap.width === 1 && imageBitmap.height === 1;\n    } catch {\n      return !1;\n    }\n  }\n  checkImageBitmap().then((result) => {\n    self.postMessage(result);\n  });\n})();\n'],{type:"application/javascript"}))),this.worker=new Worker(pt)});function yt(t){return yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yt(t)}function vt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,bt(n.key),n)}}function mt(t,e,r){return e&&vt(t.prototype,e),r&&vt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function bt(t){var e=function(t,e){if("object"!=yt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=yt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==yt(e)?e:e+""}dt.revokeObjectURL=function(){pt&&(URL.revokeObjectURL(pt),pt=null)};var gt=null,wt=mt(function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),gt||(gt=URL.createObjectURL(new Blob(['(function() {\n  "use strict";\n  async function loadImageBitmap(url) {\n    const response = await fetch(url);\n    if (!response.ok)\n      throw new Error(`[WorkerManager.loadImageBitmap] Failed to fetch ${url}: ${response.status} ${response.statusText}`);\n    const imageBlob = await response.blob();\n    return await createImageBitmap(imageBlob);\n  }\n  self.onmessage = async (event) => {\n    try {\n      const imageBitmap = await loadImageBitmap(event.data.data[0]);\n      self.postMessage({\n        data: imageBitmap,\n        uuid: event.data.uuid,\n        id: event.data.id\n      }, [imageBitmap]);\n    } catch (e) {\n      self.postMessage({\n        error: e,\n        uuid: event.data.uuid,\n        id: event.data.id\n      });\n    }\n  };\n})();\n'],{type:"application/javascript"}))),this.worker=new Worker(gt)});function St(t){return St="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},St(t)}function xt(){var t,e,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function o(r,n,i,o){var u=n&&n.prototype instanceof s?n:s,c=Object.create(u.prototype);return _t(c,"_invoke",function(r,n,i){var o,s,u,c=0,l=i||[],f=!1,h={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,r){return o=e,s=0,u=t,h.n=r,a}};function p(r,n){for(s=r,u=n,e=0;!f&&c&&!i&&e<l.length;e++){var i,o=l[e],p=h.p,d=o[2];r>3?(i=d===n)&&(u=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=t):o[0]<=p&&((i=r<2&&p<o[1])?(s=0,h.v=n,h.n=o[1]):p<d&&(i=r<3||o[0]>n||n>d)&&(o[4]=r,o[5]=n,h.n=d,s=0))}if(i||r>1)return a;throw f=!0,n}return function(i,l,d){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,d),s=l,u=d;(e=s<2?t:u)||!f;){o||(s?s<3?(s>1&&(h.n=-1),p(s,u)):h.n=u:h.v=u);try{if(c=2,o){if(s||(i="next"),e=o[i]){if(!(e=e.call(o,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,s<2&&(s=0)}else 1===s&&(e=o.return)&&e.call(o),s<2&&(u=TypeError("The iterator does not provide a '"+i+"' method"),s=1);o=t}else if((e=(f=h.n<0)?u:r.call(n,h))!==a)break}catch(e){o=t,s=1,u=e}finally{c=1}}return{value:e,done:f}}}(r,i,o),!0),c}var a={};function s(){}function u(){}function c(){}e=Object.getPrototypeOf;var l=[][n]?e(e([][n]())):(_t(e={},n,function(){return this}),e),f=c.prototype=s.prototype=Object.create(l);function h(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,_t(t,i,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=c,_t(f,"constructor",c),_t(c,"constructor",u),u.displayName="GeneratorFunction",_t(c,i,"GeneratorFunction"),_t(f),_t(f,i,"Generator"),_t(f,n,function(){return this}),_t(f,"toString",function(){return"[object Generator]"}),(xt=function(){return{w:o,m:h}})()}function _t(t,e,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}_t=function(t,e,r,n){function o(e,r){_t(t,e,function(t){return this._invoke(e,r,t)})}e?i?i(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n}):t[e]=r:(o("next",0),o("throw",1),o("return",2))},_t(t,e,r,n)}function Et(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function Tt(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function a(t){Et(o,n,i,a,s,"next",t)}function s(t){Et(o,n,i,a,s,"throw",t)}a(void 0)})}}function kt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Pt(n.key),n)}}function Pt(t){var e=function(t,e){if("object"!=St(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=St(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==St(e)?e:e+""}wt.revokeObjectURL=function(){gt&&(URL.revokeObjectURL(gt),gt=null)};var Ot,At=0,Rt=new(function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}},e=[{key:"isImageBitmapSupported",value:function(){return void 0!==this._isImageBitmapSupported||(this._isImageBitmapSupported=new Promise(function(t){var e=(new dt).worker;e.addEventListener("message",function(r){e.terminate(),dt.revokeObjectURL(),t(r.data)})})),this._isImageBitmapSupported}},{key:"loadImageBitmap",value:function(t){return this._run("loadImageBitmap",[t])}},{key:"_initWorkers",value:(i=Tt(xt().m(function t(){return xt().w(function(t){for(;;)switch(t.n){case 0:this._initialized||(this._initialized=!0);case 1:return t.a(2)}},t,this)})),function(){return i.apply(this,arguments)})},{key:"getWorker",value:function(){var t=this;void 0===Ot&&(Ot=navigator.hardwareConcurrency||4);var e=this.workerPool.pop();return!e&&this._createdWorkers<Ot&&(this._createdWorkers++,(e=(new wt).worker).addEventListener("message",function(e){t.complete(e.data),t.returnWorker(e.target),t.next()})),e}},{key:"returnWorker",value:function(t){this.workerPool.push(t)}},{key:"complete",value:function(t){void 0!==t.error?this.resolveHash[t.uuid].reject(t.error):this.resolveHash[t.uuid].resolve(t.data),this.resolveHash[t.uuid]=null}},{key:"_run",value:(n=Tt(xt().m(function t(e,r){var n,i=this;return xt().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,this._initWorkers();case 1:return n=new Promise(function(t,n){i.queue.push({id:e,arguments:r,resolve:t,reject:n})}),t.a(2,(this.next(),n))}},t,this)})),function(t,e){return n.apply(this,arguments)})},{key:"next",value:function(){if(this.queue.length){var t=this.getWorker();if(t){var e=this.queue.pop(),r=e.id;this.resolveHash[At]={resolve:e.resolve,reject:e.reject},t.postMessage({data:e.arguments,uuid:At++,id:r})}}}}],e&&kt(t.prototype,e),r&&kt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r,n,i}());function jt(t,e,r){t.resource.internal=!0;var i=new n.gP(t),o=function(){delete e.promiseCache[r],E.has(r)&&E.remove(r)};return i.baseTexture.once("destroyed",function(){r in e.promiseCache&&(console.warn("[Assets] A BaseTexture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the BaseTexture."),o())}),i.once("destroyed",function(){t.destroyed||(console.warn("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),o())}),i}function It(t){return It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},It(t)}function Ct(){var t,e,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function o(r,n,i,o){var u=n&&n.prototype instanceof s?n:s,c=Object.create(u.prototype);return Mt(c,"_invoke",function(r,n,i){var o,s,u,c=0,l=i||[],f=!1,h={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,r){return o=e,s=0,u=t,h.n=r,a}};function p(r,n){for(s=r,u=n,e=0;!f&&c&&!i&&e<l.length;e++){var i,o=l[e],p=h.p,d=o[2];r>3?(i=d===n)&&(u=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=t):o[0]<=p&&((i=r<2&&p<o[1])?(s=0,h.v=n,h.n=o[1]):p<d&&(i=r<3||o[0]>n||n>d)&&(o[4]=r,o[5]=n,h.n=d,s=0))}if(i||r>1)return a;throw f=!0,n}return function(i,l,d){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,d),s=l,u=d;(e=s<2?t:u)||!f;){o||(s?s<3?(s>1&&(h.n=-1),p(s,u)):h.n=u:h.v=u);try{if(c=2,o){if(s||(i="next"),e=o[i]){if(!(e=e.call(o,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,s<2&&(s=0)}else 1===s&&(e=o.return)&&e.call(o),s<2&&(u=TypeError("The iterator does not provide a '"+i+"' method"),s=1);o=t}else if((e=(f=h.n<0)?u:r.call(n,h))!==a)break}catch(e){o=t,s=1,u=e}finally{c=1}}return{value:e,done:f}}}(r,i,o),!0),c}var a={};function s(){}function u(){}function c(){}e=Object.getPrototypeOf;var l=[][n]?e(e([][n]())):(Mt(e={},n,function(){return this}),e),f=c.prototype=s.prototype=Object.create(l);function h(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,Mt(t,i,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=c,Mt(f,"constructor",c),Mt(c,"constructor",u),u.displayName="GeneratorFunction",Mt(c,i,"GeneratorFunction"),Mt(f),Mt(f,i,"Generator"),Mt(f,n,function(){return this}),Mt(f,"toString",function(){return"[object Generator]"}),(Ct=function(){return{w:o,m:h}})()}function Mt(t,e,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}Mt=function(t,e,r,n){function o(e,r){Mt(t,e,function(t){return this._invoke(e,r,t)})}e?i?i(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n}):t[e]=r:(o("next",0),o("throw",1),o("return",2))},Mt(t,e,r,n)}function Dt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function Nt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Dt(Object(r),!0).forEach(function(e){Bt(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Dt(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function Bt(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=It(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=It(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==It(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ft(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function Lt(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function a(t){Ft(o,n,i,a,s,"next",t)}function s(t){Ft(o,n,i,a,s,"throw",t)}a(void 0)})}}var Ut=[".jpeg",".jpg",".png",".webp",".avif"],Vt=["image/jpeg","image/png","image/webp","image/avif"];function Xt(t){return Gt.apply(this,arguments)}function Gt(){return(Gt=Lt(Ct().m(function t(e){var r,i;return Ct().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,n.W0.ADAPTER.fetch(e);case 1:if((r=t.v).ok){t.n=2;break}throw new Error("[loadImageBitmap] Failed to fetch ".concat(e,": ").concat(r.status," ").concat(r.statusText));case 2:return t.n=3,r.blob();case 3:return i=t.v,t.n=4,createImageBitmap(i);case 4:return t.a(2,t.v)}},t)}))).apply(this,arguments)}var Yt={name:"loadTextures",extension:{type:n.Ag.LoadParser,priority:B.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test:function(t){return v(t,Vt)||m(t,Ut)},load:function(t,e,r){var i=this;return Lt(Ct().m(function o(){var a,s,u,c,l,f,h;return Ct().w(function(o){for(;;)switch(o.n){case 0:if(!(u=globalThis.createImageBitmap&&i.config.preferCreateImageBitmap)){o.n=7;break}if(!(h=i.config.preferWorkers)){o.n=2;break}return o.n=1,Rt.isImageBitmapSupported();case 1:h=o.v;case 2:if(!h){o.n=4;break}return o.n=3,Rt.loadImageBitmap(t);case 3:c=o.v,o.n=6;break;case 4:return o.n=5,Xt(t);case 5:c=o.v;case 6:o.n=9;break;case 7:return o.n=8,new Promise(function(e,r){var n=new Image;n.crossOrigin=i.config.crossOrigin,n.src=t,n.complete?e(n):(n.onload=function(){return e(n)},n.onerror=function(t){return r(t)})});case 8:c=o.v;case 9:return l=Nt({},e.data),null!==(a=l.resolution)&&void 0!==a||(l.resolution=n.Wp.getResolutionOfUrl(t)),u&&void 0===(null===(s=l.resourceOptions)||void 0===s?void 0:s.ownsImageBitmap)&&(l.resourceOptions=Nt({},l.resourceOptions),l.resourceOptions.ownsImageBitmap=!0),f=new n.t5(c,l),o.a(2,(f.resource.src=t,jt(f,r,t)))}},o)}))()},unload:function(t){t.destroy(!0)}};function qt(t){return qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qt(t)}function Wt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function Ht(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Wt(Object(r),!0).forEach(function(e){zt(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Wt(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function zt(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=qt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=qt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==qt(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qt(){var t,e,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function o(r,n,i,o){var u=n&&n.prototype instanceof s?n:s,c=Object.create(u.prototype);return Zt(c,"_invoke",function(r,n,i){var o,s,u,c=0,l=i||[],f=!1,h={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,r){return o=e,s=0,u=t,h.n=r,a}};function p(r,n){for(s=r,u=n,e=0;!f&&c&&!i&&e<l.length;e++){var i,o=l[e],p=h.p,d=o[2];r>3?(i=d===n)&&(u=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=t):o[0]<=p&&((i=r<2&&p<o[1])?(s=0,h.v=n,h.n=o[1]):p<d&&(i=r<3||o[0]>n||n>d)&&(o[4]=r,o[5]=n,h.n=d,s=0))}if(i||r>1)return a;throw f=!0,n}return function(i,l,d){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,d),s=l,u=d;(e=s<2?t:u)||!f;){o||(s?s<3?(s>1&&(h.n=-1),p(s,u)):h.n=u:h.v=u);try{if(c=2,o){if(s||(i="next"),e=o[i]){if(!(e=e.call(o,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,s<2&&(s=0)}else 1===s&&(e=o.return)&&e.call(o),s<2&&(u=TypeError("The iterator does not provide a '"+i+"' method"),s=1);o=t}else if((e=(f=h.n<0)?u:r.call(n,h))!==a)break}catch(e){o=t,s=1,u=e}finally{c=1}}return{value:e,done:f}}}(r,i,o),!0),c}var a={};function s(){}function u(){}function c(){}e=Object.getPrototypeOf;var l=[][n]?e(e([][n]())):(Zt(e={},n,function(){return this}),e),f=c.prototype=s.prototype=Object.create(l);function h(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,Zt(t,i,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=c,Zt(f,"constructor",c),Zt(c,"constructor",u),u.displayName="GeneratorFunction",Zt(c,i,"GeneratorFunction"),Zt(f),Zt(f,i,"Generator"),Zt(f,n,function(){return this}),Zt(f,"toString",function(){return"[object Generator]"}),(Qt=function(){return{w:o,m:h}})()}function Zt(t,e,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}Zt=function(t,e,r,n){function o(e,r){Zt(t,e,function(t){return this._invoke(e,r,t)})}e?i?i(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n}):t[e]=r:(o("next",0),o("throw",1),o("return",2))},Zt(t,e,r,n)}function Kt(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function $t(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function a(t){Kt(o,n,i,a,s,"next",t)}function s(t){Kt(o,n,i,a,s,"throw",t)}a(void 0)})}}n.XO.add(Yt);var Jt={extension:{type:n.Ag.LoadParser,priority:B.High},name:"loadSVG",test:function(t){return v(t,"image/svg+xml")||m(t,".svg")},testParse:function(t){return $t(Qt().m(function e(){return Qt().w(function(e){for(;;)if(0===e.n)return e.a(2,n.$f.test(t))},e)}))()},parse:function(t,e,r){return $t(Qt().m(function i(){var o,a,s;return Qt().w(function(i){for(;;)switch(i.n){case 0:return a=new n.$f(t,null==e||null===(o=e.data)||void 0===o?void 0:o.resourceOptions),i.n=1,a.load();case 1:return s=new n.t5(a,Ht({resolution:n.Wp.getResolutionOfUrl(t)},null==e?void 0:e.data)),i.a(2,(s.resource.src=e.src,jt(s,r,e.src)))}},i)}))()},load:function(t,e){return $t(Qt().m(function e(){return Qt().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,n.W0.ADAPTER.fetch(t);case 1:return e.a(2,e.v.text())}},e)}))()},unload:Yt.unload};function te(t){return te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},te(t)}function ee(){var t,e,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function o(r,n,i,o){var u=n&&n.prototype instanceof s?n:s,c=Object.create(u.prototype);return re(c,"_invoke",function(r,n,i){var o,s,u,c=0,l=i||[],f=!1,h={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,r){return o=e,s=0,u=t,h.n=r,a}};function p(r,n){for(s=r,u=n,e=0;!f&&c&&!i&&e<l.length;e++){var i,o=l[e],p=h.p,d=o[2];r>3?(i=d===n)&&(u=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=t):o[0]<=p&&((i=r<2&&p<o[1])?(s=0,h.v=n,h.n=o[1]):p<d&&(i=r<3||o[0]>n||n>d)&&(o[4]=r,o[5]=n,h.n=d,s=0))}if(i||r>1)return a;throw f=!0,n}return function(i,l,d){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,d),s=l,u=d;(e=s<2?t:u)||!f;){o||(s?s<3?(s>1&&(h.n=-1),p(s,u)):h.n=u:h.v=u);try{if(c=2,o){if(s||(i="next"),e=o[i]){if(!(e=e.call(o,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,s<2&&(s=0)}else 1===s&&(e=o.return)&&e.call(o),s<2&&(u=TypeError("The iterator does not provide a '"+i+"' method"),s=1);o=t}else if((e=(f=h.n<0)?u:r.call(n,h))!==a)break}catch(e){o=t,s=1,u=e}finally{c=1}}return{value:e,done:f}}}(r,i,o),!0),c}var a={};function s(){}function u(){}function c(){}e=Object.getPrototypeOf;var l=[][n]?e(e([][n]())):(re(e={},n,function(){return this}),e),f=c.prototype=s.prototype=Object.create(l);function h(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,re(t,i,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=c,re(f,"constructor",c),re(c,"constructor",u),u.displayName="GeneratorFunction",re(c,i,"GeneratorFunction"),re(f),re(f,i,"Generator"),re(f,n,function(){return this}),re(f,"toString",function(){return"[object Generator]"}),(ee=function(){return{w:o,m:h}})()}function re(t,e,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}re=function(t,e,r,n){function o(e,r){re(t,e,function(t){return this._invoke(e,r,t)})}e?i?i(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n}):t[e]=r:(o("next",0),o("throw",1),o("return",2))},re(t,e,r,n)}function ne(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function ie(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ne(Object(r),!0).forEach(function(e){oe(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ne(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function oe(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=te(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=te(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==te(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ae(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}n.XO.add(Jt);var se=[".mp4",".m4v",".webm",".ogv"],ue=["video/mp4","video/webm","video/ogg"],ce={name:"loadVideo",extension:{type:n.Ag.LoadParser,priority:B.High},config:{defaultAutoPlay:!0,defaultUpdateFPS:0,defaultLoop:!1,defaultMuted:!1,defaultPlaysinline:!0},test:function(t){return v(t,ue)||m(t,se)},load:function(t,e,r){var i,o=this;return(i=ee().m(function i(){var a,s,u,c,l,f,h,p,d,y,v,m,b,g;return ee().w(function(i){for(;;)switch(i.p=i.n){case 0:return i.n=1,n.W0.ADAPTER.fetch(t);case 1:return i.n=2,i.v.blob();case 2:return s=i.v,u=URL.createObjectURL(s),i.p=3,l=ie(ie({autoPlay:o.config.defaultAutoPlay,updateFPS:o.config.defaultUpdateFPS,loop:o.config.defaultLoop,muted:o.config.defaultMuted,playsinline:o.config.defaultPlaysinline},null==e||null===(c=e.data)||void 0===c?void 0:c.resourceOptions),{},{autoLoad:!0}),f=new n.A5(u,l),i.n=4,f.load();case 4:return p=n.t5,d=f,y=ie,i.n=5,n.Wp.detectVideoAlphaMode();case 5:v=i.v,m=n.Wp.getResolutionOfUrl(t),b=y({alphaMode:v,resolution:m},null==e?void 0:e.data),(h=new p(d,b)).resource.src=t,(a=jt(h,r,t)).baseTexture.once("destroyed",function(){URL.revokeObjectURL(u)}),i.n=7;break;case 6:throw i.p=6,g=i.v,URL.revokeObjectURL(u),g;case 7:return i.a(2,a)}},i,null,[[3,6]])}),function(){var t=this,e=arguments;return new Promise(function(r,n){var o=i.apply(t,e);function a(t){ae(o,r,n,a,s,"next",t)}function s(t){ae(o,r,n,a,s,"throw",t)}a(void 0)})})()},unload:function(t){t.destroy(!0)}};n.XO.add(ce);r(4835009),r(69616513);function le(t){return le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},le(t)}function fe(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function he(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?fe(Object(r),!0).forEach(function(e){pe(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fe(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function pe(t,e,r){return(e=me(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function de(t){return function(t){if(Array.isArray(t))return ye(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return ye(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ye(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ye(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function ve(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,me(n.key),n)}}function me(t){var e=function(t,e){if("object"!=le(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=le(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==le(e)?e:e+""}var be=function(){return t=function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:function(t,r){return"".concat(t).concat(e._bundleIdConnector).concat(r)},extractAssetIdFromBundle:function(t,r){return r.replace("".concat(t).concat(e._bundleIdConnector),"")}},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}},e=[{key:"setBundleIdentifier",value:function(t){var e,r,n;if(this._bundleIdConnector=null!==(e=t.connector)&&void 0!==e?e:this._bundleIdConnector,this._createBundleAssetId=null!==(r=t.createBundleAssetId)&&void 0!==r?r:this._createBundleAssetId,this._extractAssetIdFromBundle=null!==(n=t.extractAssetIdFromBundle)&&void 0!==n?n:this._extractAssetIdFromBundle,"bar"!==this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar")))throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}},{key:"prefer",value:function(){for(var t=this,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];r.forEach(function(e){t._preferredOrder.push(e),e.priority||(e.priority=Object.keys(e.params))}),this._resolverHash={}}},{key:"basePath",get:function(){return this._basePath},set:function(t){this._basePath=t}},{key:"rootPath",get:function(){return this._rootPath},set:function(t){this._rootPath=t}},{key:"parsers",get:function(){return this._parsers}},{key:"reset",value:function(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}},{key:"setDefaultSearchParams",value:function(t){if("string"==typeof t)this._defaultSearchParams=t;else{var e=t;this._defaultSearchParams=Object.keys(e).map(function(t){return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(e[t]))}).join("&")}}},{key:"getAlias",value:function(t){var e=t.alias,r=t.name,n=t.src,i=t.srcs;return b(e||r||n||i,function(t){var e;return"string"==typeof t?t:Array.isArray(t)?t.map(function(t){var e,r;return null!==(e=null!==(r=null==t?void 0:t.src)&&void 0!==r?r:null==t?void 0:t.srcs)&&void 0!==e?e:t}):null!=t&&t.src||null!=t&&t.srcs?null!==(e=t.src)&&void 0!==e?e:t.srcs:t},!0)}},{key:"addManifest",value:function(t){var e=this;this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=t,t.bundles.forEach(function(t){e.addBundle(t.name,t.assets)})}},{key:"addBundle",value:function(t,e){var r=this,n=[];Array.isArray(e)?e.forEach(function(e){var i,o,a,s=null!==(i=e.src)&&void 0!==i?i:e.srcs,u=null!==(o=e.alias)&&void 0!==o?o:e.name;if("string"==typeof u){var c=r._createBundleAssetId(t,u);n.push(c),a=[u,c]}else{var l=u.map(function(e){return r._createBundleAssetId(t,e)});n.push.apply(n,de(l)),a=[].concat(de(u),de(l))}r.add(he(he({},e),{},{alias:a,src:s}))}):Object.keys(e).forEach(function(i){var o=[i,r._createBundleAssetId(t,i)];if("string"==typeof e[i])r.add({alias:o,src:e[i]});else if(Array.isArray(e[i]))r.add({alias:o,src:e[i]});else{var a,s=e[i],u=null!==(a=s.src)&&void 0!==a?a:s.srcs;r.add(he(he({},s),{},{alias:o,src:Array.isArray(u)?u:[u]}))}n.push.apply(n,o)}),this._bundles[t]=n}},{key:"add",value:function(t,e,r,i,o){var a,s=this,u=[];"string"==typeof t||Array.isArray(t)&&"string"==typeof t[0]?(n.Wp.deprecation("7.2.0","Assets.add now uses an object instead of individual parameters.\nPlease use Assets.add({ alias, src, data, format, loadParser }) instead."),u.push({alias:t,src:e,data:r,format:i,loadParser:o})):Array.isArray(t)?u.push.apply(u,de(t)):u.push(t),a=function(t){s.hasKey(t)&&console.warn("[Resolver] already has key: ".concat(t," overwriting"))},b(u).forEach(function(t){var e=t.src,r=t.srcs,n=t.data,i=t.format,o=t.loadParser,u=b(e||r).map(function(t){return"string"==typeof t?w(t):Array.isArray(t)?t:[t]}),c=s.getAlias(t);Array.isArray(c)?c.forEach(a):a(c);var l=[];u.forEach(function(t){t.forEach(function(t){var e,r,a,u={};if("object"!=le(t)){u.src=t;for(var f=0;f<s._parsers.length;f++){var h=s._parsers[f];if(h.test(t)){u=h.parse(t);break}}}else n=null!==(e=t.data)&&void 0!==e?e:n,i=null!==(r=t.format)&&void 0!==r?r:i,o=null!==(a=t.loadParser)&&void 0!==a?a:o,u=he(he({},u),t);if(!c)throw new Error("[Resolver] alias is undefined for this asset: ".concat(u.src));u=s.buildResolvedAsset(u,{aliases:c,data:n,format:i,loadParser:o}),l.push(u)})}),c.forEach(function(t){s._assetMap[t]=l})})}},{key:"resolveBundle",value:function(t){var e=this,r=T(t);t=b(t);var n={};return t.forEach(function(t){var r=e._bundles[t];if(r){var i=e.resolve(r),o={};for(var a in i){var s=i[a];o[e._extractAssetIdFromBundle(t,a)]=s}n[t]=o}}),r?n[t[0]]:n}},{key:"resolveUrl",value:function(t){var e=this.resolve(t);if("string"!=typeof t){var r={};for(var n in e)r[n]=e[n].src;return r}return e.src}},{key:"resolve",value:function(t){var e=this,r=T(t);t=b(t);var n={};return t.forEach(function(t){if(!e._resolverHash[t])if(e._assetMap[t]){var r,i=e._assetMap[t],o=i[0],a=e._getPreferredOrder(i);null!=a&&a.priority.forEach(function(t){a.params[t].forEach(function(e){var r=i.filter(function(r){return!!r[t]&&r[t]===e});r.length&&(i=r)})}),e._resolverHash[t]=null!==(r=i[0])&&void 0!==r?r:o}else e._resolverHash[t]=e.buildResolvedAsset({alias:[t],src:t},{});n[t]=e._resolverHash[t]}),r?n[t[0]]:n}},{key:"hasKey",value:function(t){return!!this._assetMap[t]}},{key:"hasBundle",value:function(t){return!!this._bundles[t]}},{key:"_getPreferredOrder",value:function(t){for(var e,r=this,n=function(){var e=t[0],n=r._preferredOrder.find(function(t){return t.params.format.includes(e.format)});if(n)return{v:n}},i=0;i<t.length;i++)if(e=n())return e.v;return this._preferredOrder[0]}},{key:"_appendDefaultSearchParams",value:function(t){if(!this._defaultSearchParams)return t;var e=/\?/.test(t)?"&":"?";return"".concat(t).concat(e).concat(this._defaultSearchParams)}},{key:"buildResolvedAsset",value:function(t,e){var r,i,o=e.aliases,a=e.data,s=e.loadParser,u=e.format;return(this._basePath||this._rootPath)&&(t.src=n.Wp.path.toAbsolute(t.src,this._basePath,this._rootPath)),t.alias=null!==(r=null!=o?o:t.alias)&&void 0!==r?r:[t.src],t.src=this._appendDefaultSearchParams(t.src),t.data=he(he({},a||{}),t.data),t.loadParser=null!=s?s:t.loadParser,t.format=null!==(i=null!=u?u:t.format)&&void 0!==i?i:n.Wp.path.extname(t.src).slice(1),t.srcs=t.src,t.name=t.alias,t}}],e&&ve(t.prototype,e),r&&ve(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();function ge(t){return ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ge(t)}function we(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=xe(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function Se(t){return function(t){if(Array.isArray(t))return _e(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||xe(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xe(t,e){if(t){if("string"==typeof t)return _e(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_e(t,e):void 0}}function _e(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Ee(){var t,e,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function o(r,n,i,o){var u=n&&n.prototype instanceof s?n:s,c=Object.create(u.prototype);return Te(c,"_invoke",function(r,n,i){var o,s,u,c=0,l=i||[],f=!1,h={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,r){return o=e,s=0,u=t,h.n=r,a}};function p(r,n){for(s=r,u=n,e=0;!f&&c&&!i&&e<l.length;e++){var i,o=l[e],p=h.p,d=o[2];r>3?(i=d===n)&&(u=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=t):o[0]<=p&&((i=r<2&&p<o[1])?(s=0,h.v=n,h.n=o[1]):p<d&&(i=r<3||o[0]>n||n>d)&&(o[4]=r,o[5]=n,h.n=d,s=0))}if(i||r>1)return a;throw f=!0,n}return function(i,l,d){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,d),s=l,u=d;(e=s<2?t:u)||!f;){o||(s?s<3?(s>1&&(h.n=-1),p(s,u)):h.n=u:h.v=u);try{if(c=2,o){if(s||(i="next"),e=o[i]){if(!(e=e.call(o,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,s<2&&(s=0)}else 1===s&&(e=o.return)&&e.call(o),s<2&&(u=TypeError("The iterator does not provide a '"+i+"' method"),s=1);o=t}else if((e=(f=h.n<0)?u:r.call(n,h))!==a)break}catch(e){o=t,s=1,u=e}finally{c=1}}return{value:e,done:f}}}(r,i,o),!0),c}var a={};function s(){}function u(){}function c(){}e=Object.getPrototypeOf;var l=[][n]?e(e([][n]())):(Te(e={},n,function(){return this}),e),f=c.prototype=s.prototype=Object.create(l);function h(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,Te(t,i,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=c,Te(f,"constructor",c),Te(c,"constructor",u),u.displayName="GeneratorFunction",Te(c,i,"GeneratorFunction"),Te(f),Te(f,i,"Generator"),Te(f,n,function(){return this}),Te(f,"toString",function(){return"[object Generator]"}),(Ee=function(){return{w:o,m:h}})()}function Te(t,e,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}Te=function(t,e,r,n){function o(e,r){Te(t,e,function(t){return this._invoke(e,r,t)})}e?i?i(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n}):t[e]=r:(o("next",0),o("throw",1),o("return",2))},Te(t,e,r,n)}function ke(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function Pe(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function a(t){ke(o,n,i,a,s,"next",t)}function s(t){ke(o,n,i,a,s,"throw",t)}a(void 0)})}}function Oe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ae(n.key),n)}}function Ae(t){var e=function(t,e){if("object"!=ge(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=ge(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ge(e)?e:e+""}var Re=new(function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._detections=[],this._initialized=!1,this.resolver=new be,this.loader=new N,this.cache=E,this._backgroundLoader=new p(this.loader),this._backgroundLoader.active=!0,this.reset()},e=[{key:"init",value:(d=Pe(Ee().m(function t(){var e,r,n,i,o,a,s,u,c=arguments;return Ee().w(function(t){for(;;)switch(t.n){case 0:if(i=c.length>0&&void 0!==c[0]?c[0]:{},!this._initialized){t.n=1;break}return console.warn("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?"),t.a(2);case 1:if(this._initialized=!0,i.defaultSearchParams&&this.resolver.setDefaultSearchParams(i.defaultSearchParams),i.basePath&&(this.resolver.basePath=i.basePath),i.bundleIdentifier&&this.resolver.setBundleIdentifier(i.bundleIdentifier),!i.manifest){t.n=4;break}if("string"!=typeof(o=i.manifest)){t.n=3;break}return t.n=2,this.load(o);case 2:o=t.v;case 3:this.resolver.addManifest(o);case 4:return a=null!==(e=null===(r=i.texturePreference)||void 0===r?void 0:r.resolution)&&void 0!==e?e:1,s="number"==typeof a?[a]:a,t.n=5,this._detectFormats({preferredFormats:null===(n=i.texturePreference)||void 0===n?void 0:n.format,skipDetections:i.skipDetections,detections:this._detections});case 5:u=t.v,this.resolver.prefer({params:{format:u,resolution:s}}),i.preferences&&this.setPreferences(i.preferences);case 6:return t.a(2)}},t,this)})),function(){return d.apply(this,arguments)})},{key:"add",value:function(t,e,r,n,i){this.resolver.add(t,e,r,n,i)}},{key:"load",value:(h=Pe(Ee().m(function t(e,r){var n,i,o,a,s=this;return Ee().w(function(t){for(;;)switch(t.n){case 0:if(this._initialized){t.n=1;break}return t.n=1,this.init();case 1:return n=T(e),i=b(e).map(function(t){if("string"!=typeof t){var e=s.resolver.getAlias(t);return e.some(function(t){return!s.resolver.hasKey(t)})&&s.add(t),Array.isArray(e)?e[0]:e}return s.resolver.hasKey(t)||s.add({alias:t,src:t}),t}),o=this.resolver.resolve(i),t.n=2,this._mapLoadToResolve(o,r);case 2:return a=t.v,t.a(2,n?a[i[0]]:a)}},t,this)})),function(t,e){return h.apply(this,arguments)})},{key:"addBundle",value:function(t,e){this.resolver.addBundle(t,e)}},{key:"loadBundle",value:(f=Pe(Ee().m(function t(e,r){var n,i,o,a,s,u,c,l,f=this;return Ee().w(function(t){for(;;)switch(t.n){case 0:if(this._initialized){t.n=1;break}return t.n=1,this.init();case 1:return n=!1,"string"==typeof e&&(n=!0,e=[e]),i=this.resolver.resolveBundle(e),o={},a=Object.keys(i),s=0,u=0,c=function(){null==r||r(++s/u)},l=a.map(function(t){var e=i[t];return u+=Object.keys(e).length,f._mapLoadToResolve(e,c).then(function(e){o[t]=e})}),t.n=2,Promise.all(l);case 2:return t.a(2,n?o[e[0]]:o)}},t,this)})),function(t,e){return f.apply(this,arguments)})},{key:"backgroundLoad",value:(l=Pe(Ee().m(function t(e){var r;return Ee().w(function(t){for(;;)switch(t.n){case 0:if(this._initialized){t.n=1;break}return t.n=1,this.init();case 1:"string"==typeof e&&(e=[e]),r=this.resolver.resolve(e),this._backgroundLoader.add(Object.values(r));case 2:return t.a(2)}},t,this)})),function(t){return l.apply(this,arguments)})},{key:"backgroundLoadBundle",value:(c=Pe(Ee().m(function t(e){var r,n=this;return Ee().w(function(t){for(;;)switch(t.n){case 0:if(this._initialized){t.n=1;break}return t.n=1,this.init();case 1:"string"==typeof e&&(e=[e]),r=this.resolver.resolveBundle(e),Object.values(r).forEach(function(t){n._backgroundLoader.add(Object.values(t))});case 2:return t.a(2)}},t,this)})),function(t){return c.apply(this,arguments)})},{key:"reset",value:function(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}},{key:"get",value:function(t){if("string"==typeof t)return E.get(t);for(var e={},r=0;r<t.length;r++)e[r]=E.get(t[r]);return e}},{key:"_mapLoadToResolve",value:(u=Pe(Ee().m(function t(e,r){var n,i,o,a;return Ee().w(function(t){for(;;)switch(t.n){case 0:return n=Object.values(e),i=Object.keys(e),this._backgroundLoader.active=!1,t.n=1,this.loader.load(n,r);case 1:return o=t.v,this._backgroundLoader.active=!0,a={},t.a(2,(n.forEach(function(t,e){var r=o[t.src],n=[t.src];t.alias&&n.push.apply(n,Se(t.alias)),a[i[e]]=r,E.set(n,r)}),a))}},t,this)})),function(t,e){return u.apply(this,arguments)})},{key:"unload",value:(s=Pe(Ee().m(function t(e){var r,n;return Ee().w(function(t){for(;;)switch(t.n){case 0:if(this._initialized){t.n=1;break}return t.n=1,this.init();case 1:return r=b(e).map(function(t){return"string"!=typeof t?t.src:t}),n=this.resolver.resolve(r),t.n=2,this._unloadFromResolved(n);case 2:return t.a(2)}},t,this)})),function(t){return s.apply(this,arguments)})},{key:"unloadBundle",value:(a=Pe(Ee().m(function t(e){var r,n,i=this;return Ee().w(function(t){for(;;)switch(t.n){case 0:if(this._initialized){t.n=1;break}return t.n=1,this.init();case 1:return e=b(e),r=this.resolver.resolveBundle(e),n=Object.keys(r).map(function(t){return i._unloadFromResolved(r[t])}),t.n=2,Promise.all(n);case 2:return t.a(2)}},t,this)})),function(t){return a.apply(this,arguments)})},{key:"_unloadFromResolved",value:(o=Pe(Ee().m(function t(e){var r;return Ee().w(function(t){for(;;)switch(t.n){case 0:return(r=Object.values(e)).forEach(function(t){E.remove(t.src)}),t.n=1,this.loader.unload(r);case 1:return t.a(2)}},t,this)})),function(t){return o.apply(this,arguments)})},{key:"_detectFormats",value:(i=Pe(Ee().m(function t(e){var r,n,i,o,a,s;return Ee().w(function(t){for(;;)switch(t.p=t.n){case 0:r=[],e.preferredFormats&&(r=Array.isArray(e.preferredFormats)?e.preferredFormats:[e.preferredFormats]),n=we(e.detections),t.p=1,n.s();case 2:if((i=n.n()).done){t.n=9;break}if(o=i.value,a=e.skipDetections){t.n=4;break}return t.n=3,o.test();case 3:a=t.v;case 4:if(!a){t.n=6;break}return t.n=5,o.add(r);case 5:r=t.v,t.n=8;break;case 6:if(e.skipDetections){t.n=8;break}return t.n=7,o.remove(r);case 7:r=t.v;case 8:t.n=2;break;case 9:t.n=11;break;case 10:t.p=10,s=t.v,n.e(s);case 11:return t.p=11,n.f(),t.f(11);case 12:return t.a(2,r=r.filter(function(t,e){return r.indexOf(t)===e}))}},t,null,[[1,10,11,12]])})),function(t){return i.apply(this,arguments)})},{key:"detections",get:function(){return this._detections}},{key:"preferWorkers",get:function(){return Yt.config.preferWorkers},set:function(t){n.Wp.deprecation("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:t})}},{key:"setPreferences",value:function(t){this.loader.parsers.forEach(function(e){e.config&&Object.keys(e.config).filter(function(e){return e in t}).forEach(function(r){e.config[r]=t[r]})})}}],e&&Oe(t.prototype,e),r&&Oe(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r,i,o,a,s,u,c,l,f,h,d}());n.XO.handleByList(n.Ag.LoadParser,Re.loader.parsers).handleByList(n.Ag.ResolveParser,Re.resolver.parsers).handleByList(n.Ag.CacheParser,Re.cache.parsers).handleByList(n.Ag.DetectionParser,Re.detections);r(98920207);var je={extension:n.Ag.CacheParser,test:function(t){return Array.isArray(t)&&t.every(function(t){return t instanceof n.gP})},getCacheableAssets:function(t,e){var r={};return t.forEach(function(t){e.forEach(function(e,n){r[t+(0===n?"":n+1)]=e})}),r}};function Ie(){var t,e,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function o(r,n,i,o){var u=n&&n.prototype instanceof s?n:s,c=Object.create(u.prototype);return Ce(c,"_invoke",function(r,n,i){var o,s,u,c=0,l=i||[],f=!1,h={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,r){return o=e,s=0,u=t,h.n=r,a}};function p(r,n){for(s=r,u=n,e=0;!f&&c&&!i&&e<l.length;e++){var i,o=l[e],p=h.p,d=o[2];r>3?(i=d===n)&&(u=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=t):o[0]<=p&&((i=r<2&&p<o[1])?(s=0,h.v=n,h.n=o[1]):p<d&&(i=r<3||o[0]>n||n>d)&&(o[4]=r,o[5]=n,h.n=d,s=0))}if(i||r>1)return a;throw f=!0,n}return function(i,l,d){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,d),s=l,u=d;(e=s<2?t:u)||!f;){o||(s?s<3?(s>1&&(h.n=-1),p(s,u)):h.n=u:h.v=u);try{if(c=2,o){if(s||(i="next"),e=o[i]){if(!(e=e.call(o,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,s<2&&(s=0)}else 1===s&&(e=o.return)&&e.call(o),s<2&&(u=TypeError("The iterator does not provide a '"+i+"' method"),s=1);o=t}else if((e=(f=h.n<0)?u:r.call(n,h))!==a)break}catch(e){o=t,s=1,u=e}finally{c=1}}return{value:e,done:f}}}(r,i,o),!0),c}var a={};function s(){}function u(){}function c(){}e=Object.getPrototypeOf;var l=[][n]?e(e([][n]())):(Ce(e={},n,function(){return this}),e),f=c.prototype=s.prototype=Object.create(l);function h(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,Ce(t,i,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=c,Ce(f,"constructor",c),Ce(c,"constructor",u),u.displayName="GeneratorFunction",Ce(c,i,"GeneratorFunction"),Ce(f),Ce(f,i,"Generator"),Ce(f,n,function(){return this}),Ce(f,"toString",function(){return"[object Generator]"}),(Ie=function(){return{w:o,m:h}})()}function Ce(t,e,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}Ce=function(t,e,r,n){function o(e,r){Ce(t,e,function(t){return this._invoke(e,r,t)})}e?i?i(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n}):t[e]=r:(o("next",0),o("throw",1),o("return",2))},Ce(t,e,r,n)}function Me(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function De(t){return Ne.apply(this,arguments)}function Ne(){var t;return t=Ie().m(function t(e){var r;return Ie().w(function(t){for(;;)switch(t.p=t.n){case 0:if(!("Image"in globalThis)){t.n=1;break}return t.a(2,new Promise(function(t){var r=new Image;r.onload=function(){t(!0)},r.onerror=function(){t(!1)},r.src=e}));case 1:if(!("createImageBitmap"in globalThis)||!("fetch"in globalThis)){t.n=8;break}return t.p=2,t.n=3,fetch(e);case 3:return t.n=4,t.v.blob();case 4:return r=t.v,t.n=5,createImageBitmap(r);case 5:t.n=7;break;case 6:return t.p=6,t.v,t.a(2,!1);case 7:return t.a(2,!0);case 8:return t.a(2,!1)}},t,null,[[2,6]])}),Ne=function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function a(t){Me(o,n,i,a,s,"next",t)}function s(t){Me(o,n,i,a,s,"throw",t)}a(void 0)})},Ne.apply(this,arguments)}function Be(t){return function(t){if(Array.isArray(t))return Fe(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Fe(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Fe(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fe(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Le(){var t,e,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function o(r,n,i,o){var u=n&&n.prototype instanceof s?n:s,c=Object.create(u.prototype);return Ue(c,"_invoke",function(r,n,i){var o,s,u,c=0,l=i||[],f=!1,h={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,r){return o=e,s=0,u=t,h.n=r,a}};function p(r,n){for(s=r,u=n,e=0;!f&&c&&!i&&e<l.length;e++){var i,o=l[e],p=h.p,d=o[2];r>3?(i=d===n)&&(u=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=t):o[0]<=p&&((i=r<2&&p<o[1])?(s=0,h.v=n,h.n=o[1]):p<d&&(i=r<3||o[0]>n||n>d)&&(o[4]=r,o[5]=n,h.n=d,s=0))}if(i||r>1)return a;throw f=!0,n}return function(i,l,d){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,d),s=l,u=d;(e=s<2?t:u)||!f;){o||(s?s<3?(s>1&&(h.n=-1),p(s,u)):h.n=u:h.v=u);try{if(c=2,o){if(s||(i="next"),e=o[i]){if(!(e=e.call(o,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,s<2&&(s=0)}else 1===s&&(e=o.return)&&e.call(o),s<2&&(u=TypeError("The iterator does not provide a '"+i+"' method"),s=1);o=t}else if((e=(f=h.n<0)?u:r.call(n,h))!==a)break}catch(e){o=t,s=1,u=e}finally{c=1}}return{value:e,done:f}}}(r,i,o),!0),c}var a={};function s(){}function u(){}function c(){}e=Object.getPrototypeOf;var l=[][n]?e(e([][n]())):(Ue(e={},n,function(){return this}),e),f=c.prototype=s.prototype=Object.create(l);function h(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,Ue(t,i,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=c,Ue(f,"constructor",c),Ue(c,"constructor",u),u.displayName="GeneratorFunction",Ue(c,i,"GeneratorFunction"),Ue(f),Ue(f,i,"Generator"),Ue(f,n,function(){return this}),Ue(f,"toString",function(){return"[object Generator]"}),(Le=function(){return{w:o,m:h}})()}function Ue(t,e,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}Ue=function(t,e,r,n){function o(e,r){Ue(t,e,function(t){return this._invoke(e,r,t)})}e?i?i(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n}):t[e]=r:(o("next",0),o("throw",1),o("return",2))},Ue(t,e,r,n)}function Ve(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function Xe(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function a(t){Ve(o,n,i,a,s,"next",t)}function s(t){Ve(o,n,i,a,s,"throw",t)}a(void 0)})}}n.XO.add(je);var Ge,Ye,qe,We={extension:{type:n.Ag.DetectionParser,priority:1},test:(qe=Xe(Le().m(function t(){return Le().w(function(t){for(;;)if(0===t.n)return t.a(2,De("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="))},t)})),function(){return qe.apply(this,arguments)}),add:(Ye=Xe(Le().m(function t(e){return Le().w(function(t){for(;;)if(0===t.n)return t.a(2,[].concat(Be(e),["avif"]))},t)})),function(t){return Ye.apply(this,arguments)}),remove:(Ge=Xe(Le().m(function t(e){return Le().w(function(t){for(;;)if(0===t.n)return t.a(2,e.filter(function(t){return"avif"!==t}))},t)})),function(t){return Ge.apply(this,arguments)})};function He(t){return function(t){if(Array.isArray(t))return ze(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return ze(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ze(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ze(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Qe(){var t,e,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function o(r,n,i,o){var u=n&&n.prototype instanceof s?n:s,c=Object.create(u.prototype);return Ze(c,"_invoke",function(r,n,i){var o,s,u,c=0,l=i||[],f=!1,h={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,r){return o=e,s=0,u=t,h.n=r,a}};function p(r,n){for(s=r,u=n,e=0;!f&&c&&!i&&e<l.length;e++){var i,o=l[e],p=h.p,d=o[2];r>3?(i=d===n)&&(u=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=t):o[0]<=p&&((i=r<2&&p<o[1])?(s=0,h.v=n,h.n=o[1]):p<d&&(i=r<3||o[0]>n||n>d)&&(o[4]=r,o[5]=n,h.n=d,s=0))}if(i||r>1)return a;throw f=!0,n}return function(i,l,d){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,d),s=l,u=d;(e=s<2?t:u)||!f;){o||(s?s<3?(s>1&&(h.n=-1),p(s,u)):h.n=u:h.v=u);try{if(c=2,o){if(s||(i="next"),e=o[i]){if(!(e=e.call(o,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,s<2&&(s=0)}else 1===s&&(e=o.return)&&e.call(o),s<2&&(u=TypeError("The iterator does not provide a '"+i+"' method"),s=1);o=t}else if((e=(f=h.n<0)?u:r.call(n,h))!==a)break}catch(e){o=t,s=1,u=e}finally{c=1}}return{value:e,done:f}}}(r,i,o),!0),c}var a={};function s(){}function u(){}function c(){}e=Object.getPrototypeOf;var l=[][n]?e(e([][n]())):(Ze(e={},n,function(){return this}),e),f=c.prototype=s.prototype=Object.create(l);function h(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,Ze(t,i,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=c,Ze(f,"constructor",c),Ze(c,"constructor",u),u.displayName="GeneratorFunction",Ze(c,i,"GeneratorFunction"),Ze(f),Ze(f,i,"Generator"),Ze(f,n,function(){return this}),Ze(f,"toString",function(){return"[object Generator]"}),(Qe=function(){return{w:o,m:h}})()}function Ze(t,e,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}Ze=function(t,e,r,n){function o(e,r){Ze(t,e,function(t){return this._invoke(e,r,t)})}e?i?i(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n}):t[e]=r:(o("next",0),o("throw",1),o("return",2))},Ze(t,e,r,n)}function Ke(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function $e(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function a(t){Ke(o,n,i,a,s,"next",t)}function s(t){Ke(o,n,i,a,s,"throw",t)}a(void 0)})}}n.XO.add(We);var Je={extension:{type:n.Ag.DetectionParser,priority:0},test:function(){var t=$e(Qe().m(function t(){return Qe().w(function(t){for(;;)if(0===t.n)return t.a(2,De("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="))},t)}));return function(){return t.apply(this,arguments)}}(),add:function(){var t=$e(Qe().m(function t(e){return Qe().w(function(t){for(;;)if(0===t.n)return t.a(2,[].concat(He(e),["webp"]))},t)}));return function(e){return t.apply(this,arguments)}}(),remove:function(){var t=$e(Qe().m(function t(e){return Qe().w(function(t){for(;;)if(0===t.n)return t.a(2,e.filter(function(t){return"webp"!==t}))},t)}));return function(e){return t.apply(this,arguments)}}()};function tr(){var t,e,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function o(r,n,i,o){var u=n&&n.prototype instanceof s?n:s,c=Object.create(u.prototype);return er(c,"_invoke",function(r,n,i){var o,s,u,c=0,l=i||[],f=!1,h={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,r){return o=e,s=0,u=t,h.n=r,a}};function p(r,n){for(s=r,u=n,e=0;!f&&c&&!i&&e<l.length;e++){var i,o=l[e],p=h.p,d=o[2];r>3?(i=d===n)&&(u=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=t):o[0]<=p&&((i=r<2&&p<o[1])?(s=0,h.v=n,h.n=o[1]):p<d&&(i=r<3||o[0]>n||n>d)&&(o[4]=r,o[5]=n,h.n=d,s=0))}if(i||r>1)return a;throw f=!0,n}return function(i,l,d){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,d),s=l,u=d;(e=s<2?t:u)||!f;){o||(s?s<3?(s>1&&(h.n=-1),p(s,u)):h.n=u:h.v=u);try{if(c=2,o){if(s||(i="next"),e=o[i]){if(!(e=e.call(o,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,s<2&&(s=0)}else 1===s&&(e=o.return)&&e.call(o),s<2&&(u=TypeError("The iterator does not provide a '"+i+"' method"),s=1);o=t}else if((e=(f=h.n<0)?u:r.call(n,h))!==a)break}catch(e){o=t,s=1,u=e}finally{c=1}}return{value:e,done:f}}}(r,i,o),!0),c}var a={};function s(){}function u(){}function c(){}e=Object.getPrototypeOf;var l=[][n]?e(e([][n]())):(er(e={},n,function(){return this}),e),f=c.prototype=s.prototype=Object.create(l);function h(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,er(t,i,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=c,er(f,"constructor",c),er(c,"constructor",u),u.displayName="GeneratorFunction",er(c,i,"GeneratorFunction"),er(f),er(f,i,"Generator"),er(f,n,function(){return this}),er(f,"toString",function(){return"[object Generator]"}),(tr=function(){return{w:o,m:h}})()}function er(t,e,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}er=function(t,e,r,n){function o(e,r){er(t,e,function(t){return this._invoke(e,r,t)})}e?i?i(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n}):t[e]=r:(o("next",0),o("throw",1),o("return",2))},er(t,e,r,n)}function rr(t){return function(t){if(Array.isArray(t))return nr(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return nr(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?nr(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nr(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function ir(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function or(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function a(t){ir(o,n,i,a,s,"next",t)}function s(t){ir(o,n,i,a,s,"throw",t)}a(void 0)})}}n.XO.add(Je);var ar=["png","jpg","jpeg"],sr={extension:{type:n.Ag.DetectionParser,priority:-1},test:function(){return Promise.resolve(!0)},add:function(){var t=or(tr().m(function t(e){return tr().w(function(t){for(;;)if(0===t.n)return t.a(2,[].concat(rr(e),ar))},t)}));return function(e){return t.apply(this,arguments)}}(),remove:function(){var t=or(tr().m(function t(e){return tr().w(function(t){for(;;)if(0===t.n)return t.a(2,e.filter(function(t){return!ar.includes(t)}))},t)}));return function(e){return t.apply(this,arguments)}}()};n.XO.add(sr);var ur="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function cr(t){return!ur&&""!==document.createElement("video").canPlayType(t)}function lr(t){return function(t){if(Array.isArray(t))return fr(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return fr(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?fr(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fr(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function hr(){var t,e,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function o(r,n,i,o){var u=n&&n.prototype instanceof s?n:s,c=Object.create(u.prototype);return pr(c,"_invoke",function(r,n,i){var o,s,u,c=0,l=i||[],f=!1,h={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,r){return o=e,s=0,u=t,h.n=r,a}};function p(r,n){for(s=r,u=n,e=0;!f&&c&&!i&&e<l.length;e++){var i,o=l[e],p=h.p,d=o[2];r>3?(i=d===n)&&(u=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=t):o[0]<=p&&((i=r<2&&p<o[1])?(s=0,h.v=n,h.n=o[1]):p<d&&(i=r<3||o[0]>n||n>d)&&(o[4]=r,o[5]=n,h.n=d,s=0))}if(i||r>1)return a;throw f=!0,n}return function(i,l,d){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,d),s=l,u=d;(e=s<2?t:u)||!f;){o||(s?s<3?(s>1&&(h.n=-1),p(s,u)):h.n=u:h.v=u);try{if(c=2,o){if(s||(i="next"),e=o[i]){if(!(e=e.call(o,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,s<2&&(s=0)}else 1===s&&(e=o.return)&&e.call(o),s<2&&(u=TypeError("The iterator does not provide a '"+i+"' method"),s=1);o=t}else if((e=(f=h.n<0)?u:r.call(n,h))!==a)break}catch(e){o=t,s=1,u=e}finally{c=1}}return{value:e,done:f}}}(r,i,o),!0),c}var a={};function s(){}function u(){}function c(){}e=Object.getPrototypeOf;var l=[][n]?e(e([][n]())):(pr(e={},n,function(){return this}),e),f=c.prototype=s.prototype=Object.create(l);function h(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,pr(t,i,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=c,pr(f,"constructor",c),pr(c,"constructor",u),u.displayName="GeneratorFunction",pr(c,i,"GeneratorFunction"),pr(f),pr(f,i,"Generator"),pr(f,n,function(){return this}),pr(f,"toString",function(){return"[object Generator]"}),(hr=function(){return{w:o,m:h}})()}function pr(t,e,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}pr=function(t,e,r,n){function o(e,r){pr(t,e,function(t){return this._invoke(e,r,t)})}e?i?i(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n}):t[e]=r:(o("next",0),o("throw",1),o("return",2))},pr(t,e,r,n)}function dr(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function yr(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function a(t){dr(o,n,i,a,s,"next",t)}function s(t){dr(o,n,i,a,s,"throw",t)}a(void 0)})}}var vr={extension:{type:n.Ag.DetectionParser,priority:0},test:function(){var t=yr(hr().m(function t(){return hr().w(function(t){for(;;)if(0===t.n)return t.a(2,cr("video/webm"))},t)}));return function(){return t.apply(this,arguments)}}(),add:function(){var t=yr(hr().m(function t(e){return hr().w(function(t){for(;;)if(0===t.n)return t.a(2,[].concat(lr(e),["webm"]))},t)}));return function(e){return t.apply(this,arguments)}}(),remove:function(){var t=yr(hr().m(function t(e){return hr().w(function(t){for(;;)if(0===t.n)return t.a(2,e.filter(function(t){return"webm"!==t}))},t)}));return function(e){return t.apply(this,arguments)}}()};function mr(t){return function(t){if(Array.isArray(t))return br(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return br(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?br(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function br(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function gr(){var t,e,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function o(r,n,i,o){var u=n&&n.prototype instanceof s?n:s,c=Object.create(u.prototype);return wr(c,"_invoke",function(r,n,i){var o,s,u,c=0,l=i||[],f=!1,h={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,r){return o=e,s=0,u=t,h.n=r,a}};function p(r,n){for(s=r,u=n,e=0;!f&&c&&!i&&e<l.length;e++){var i,o=l[e],p=h.p,d=o[2];r>3?(i=d===n)&&(u=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=t):o[0]<=p&&((i=r<2&&p<o[1])?(s=0,h.v=n,h.n=o[1]):p<d&&(i=r<3||o[0]>n||n>d)&&(o[4]=r,o[5]=n,h.n=d,s=0))}if(i||r>1)return a;throw f=!0,n}return function(i,l,d){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,d),s=l,u=d;(e=s<2?t:u)||!f;){o||(s?s<3?(s>1&&(h.n=-1),p(s,u)):h.n=u:h.v=u);try{if(c=2,o){if(s||(i="next"),e=o[i]){if(!(e=e.call(o,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,s<2&&(s=0)}else 1===s&&(e=o.return)&&e.call(o),s<2&&(u=TypeError("The iterator does not provide a '"+i+"' method"),s=1);o=t}else if((e=(f=h.n<0)?u:r.call(n,h))!==a)break}catch(e){o=t,s=1,u=e}finally{c=1}}return{value:e,done:f}}}(r,i,o),!0),c}var a={};function s(){}function u(){}function c(){}e=Object.getPrototypeOf;var l=[][n]?e(e([][n]())):(wr(e={},n,function(){return this}),e),f=c.prototype=s.prototype=Object.create(l);function h(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,wr(t,i,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=c,wr(f,"constructor",c),wr(c,"constructor",u),u.displayName="GeneratorFunction",wr(c,i,"GeneratorFunction"),wr(f),wr(f,i,"Generator"),wr(f,n,function(){return this}),wr(f,"toString",function(){return"[object Generator]"}),(gr=function(){return{w:o,m:h}})()}function wr(t,e,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}wr=function(t,e,r,n){function o(e,r){wr(t,e,function(t){return this._invoke(e,r,t)})}e?i?i(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n}):t[e]=r:(o("next",0),o("throw",1),o("return",2))},wr(t,e,r,n)}function Sr(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function xr(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function a(t){Sr(o,n,i,a,s,"next",t)}function s(t){Sr(o,n,i,a,s,"throw",t)}a(void 0)})}}n.XO.add(vr);var _r={extension:{type:n.Ag.DetectionParser,priority:0},test:function(){var t=xr(gr().m(function t(){return gr().w(function(t){for(;;)if(0===t.n)return t.a(2,cr("video/mp4"))},t)}));return function(){return t.apply(this,arguments)}}(),add:function(){var t=xr(gr().m(function t(e){return gr().w(function(t){for(;;)if(0===t.n)return t.a(2,[].concat(mr(e),["mp4","m4v"]))},t)}));return function(e){return t.apply(this,arguments)}}(),remove:function(){var t=xr(gr().m(function t(e){return gr().w(function(t){for(;;)if(0===t.n)return t.a(2,e.filter(function(t){return"mp4"!==t&&"m4v"!==t}))},t)}));return function(e){return t.apply(this,arguments)}}()};function Er(t){return function(t){if(Array.isArray(t))return Tr(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Tr(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Tr(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tr(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function kr(){var t,e,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function o(r,n,i,o){var u=n&&n.prototype instanceof s?n:s,c=Object.create(u.prototype);return Pr(c,"_invoke",function(r,n,i){var o,s,u,c=0,l=i||[],f=!1,h={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,r){return o=e,s=0,u=t,h.n=r,a}};function p(r,n){for(s=r,u=n,e=0;!f&&c&&!i&&e<l.length;e++){var i,o=l[e],p=h.p,d=o[2];r>3?(i=d===n)&&(u=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=t):o[0]<=p&&((i=r<2&&p<o[1])?(s=0,h.v=n,h.n=o[1]):p<d&&(i=r<3||o[0]>n||n>d)&&(o[4]=r,o[5]=n,h.n=d,s=0))}if(i||r>1)return a;throw f=!0,n}return function(i,l,d){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,d),s=l,u=d;(e=s<2?t:u)||!f;){o||(s?s<3?(s>1&&(h.n=-1),p(s,u)):h.n=u:h.v=u);try{if(c=2,o){if(s||(i="next"),e=o[i]){if(!(e=e.call(o,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,s<2&&(s=0)}else 1===s&&(e=o.return)&&e.call(o),s<2&&(u=TypeError("The iterator does not provide a '"+i+"' method"),s=1);o=t}else if((e=(f=h.n<0)?u:r.call(n,h))!==a)break}catch(e){o=t,s=1,u=e}finally{c=1}}return{value:e,done:f}}}(r,i,o),!0),c}var a={};function s(){}function u(){}function c(){}e=Object.getPrototypeOf;var l=[][n]?e(e([][n]())):(Pr(e={},n,function(){return this}),e),f=c.prototype=s.prototype=Object.create(l);function h(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,Pr(t,i,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=c,Pr(f,"constructor",c),Pr(c,"constructor",u),u.displayName="GeneratorFunction",Pr(c,i,"GeneratorFunction"),Pr(f),Pr(f,i,"Generator"),Pr(f,n,function(){return this}),Pr(f,"toString",function(){return"[object Generator]"}),(kr=function(){return{w:o,m:h}})()}function Pr(t,e,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}Pr=function(t,e,r,n){function o(e,r){Pr(t,e,function(t){return this._invoke(e,r,t)})}e?i?i(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n}):t[e]=r:(o("next",0),o("throw",1),o("return",2))},Pr(t,e,r,n)}function Or(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function Ar(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function a(t){Or(o,n,i,a,s,"next",t)}function s(t){Or(o,n,i,a,s,"throw",t)}a(void 0)})}}n.XO.add(_r);var Rr={extension:{type:n.Ag.DetectionParser,priority:0},test:function(){var t=Ar(kr().m(function t(){return kr().w(function(t){for(;;)if(0===t.n)return t.a(2,cr("video/ogg"))},t)}));return function(){return t.apply(this,arguments)}}(),add:function(){var t=Ar(kr().m(function t(e){return kr().w(function(t){for(;;)if(0===t.n)return t.a(2,[].concat(Er(e),["ogv"]))},t)}));return function(e){return t.apply(this,arguments)}}(),remove:function(){var t=Ar(kr().m(function t(e){return kr().w(function(t){for(;;)if(0===t.n)return t.a(2,e.filter(function(t){return"ogv"!==t}))},t)}));return function(e){return t.apply(this,arguments)}}()};n.XO.add(Rr);var jr={extension:n.Ag.ResolveParser,test:Yt.test,parse:function(t){var e,r;return{resolution:parseFloat(null!==(e=null===(r=n.W0.RETINA_PREFIX.exec(t))||void 0===r?void 0:r[1])&&void 0!==e?e:"1"),format:n.Wp.path.extname(t).slice(1),src:t}}};n.XO.add(jr);var Ir=function(t,e){var r=e.split("?")[1];return r&&(t+="?".concat(r)),t}},93054823:(t,e,r)=>{"use strict";r.d(e,{Q:()=>U});r(29204099),r(53375191),r(73503923),r(35669252),r(44381336),r(95723650),r(36907531),r(54660056),r(68090010),r(62951728),r(97200626),r(50473502),r(41904727),r(33688577),r(17522308),r(4421388),r(95440747),r(20037566),r(53083784),r(1906035),r(47138695),r(92631386),r(57886333),r(32570708),r(89766562),r(68168753),r(59364278),r(20211116),r(6224830),r(18501354),r(49912228),r(29762787),r(87324110),r(31353187),r(49433423),r(7405150),r(76679030),r(19352784),r(283227),r(39512023),r(11753769),r(9404124),r(89875075),r(40993271),r(18381800),r(69967115),r(23549037),r(49032015),r(17179093),r(28253461),r(55692573),r(52899355),r(89433276),r(7478740),r(40707609),r(78027336),r(26098537),r(47326777),r(10827376),r(98920207),r(83722648),r(21313645),r(49684748),r(74018857),r(55705852),r(94366282);function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var i={grad:.9,turn:360,rad:360/(2*Math.PI)},o=function(t){return"string"==typeof t?t.length>0:"number"==typeof t},a=function(t,e,r){return void 0===e&&(e=0),void 0===r&&(r=Math.pow(10,e)),Math.round(r*t)/r+0},s=function(t,e,r){return void 0===e&&(e=0),void 0===r&&(r=1),t>r?r:t>e?t:e},u=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},c=function(t){return{r:s(t.r,0,255),g:s(t.g,0,255),b:s(t.b,0,255),a:s(t.a)}},l=function(t){return{r:a(t.r),g:a(t.g),b:a(t.b),a:a(t.a,3)}},f=/^#([0-9a-f]{3,8})$/i,h=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},p=function(t){var e=t.r,r=t.g,n=t.b,i=t.a,o=Math.max(e,r,n),a=o-Math.min(e,r,n),s=a?o===e?(r-n)/a:o===r?2+(n-e)/a:4+(e-r)/a:0;return{h:60*(s<0?s+6:s),s:o?a/o*100:0,v:o/255*100,a:i}},d=function(t){var e=t.h,r=t.s,n=t.v,i=t.a;e=e/360*6,r/=100,n/=100;var o=Math.floor(e),a=n*(1-r),s=n*(1-(e-o)*r),u=n*(1-(1-e+o)*r),c=o%6;return{r:255*[n,s,a,a,u,n][c],g:255*[u,n,n,s,a,a][c],b:255*[a,a,u,n,n,s][c],a:i}},y=function(t){return{h:u(t.h),s:s(t.s,0,100),l:s(t.l,0,100),a:s(t.a)}},v=function(t){return{h:a(t.h),s:a(t.s),l:a(t.l),a:a(t.a,3)}},m=function(t){return d((r=(e=t).s,{h:e.h,s:(r*=((n=e.l)<50?n:100-n)/100)>0?2*r/(n+r)*100:0,v:n+r,a:e.a}));var e,r,n},b=function(t){return{h:(e=p(t)).h,s:(i=(200-(r=e.s))*(n=e.v)/100)>0&&i<200?r*n/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,r,n,i},g=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,w=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,S=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,x=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,_={string:[[function(t){var e=f.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:4===t.length?a(parseInt(t[3]+t[3],16)/255,2):1}:6===t.length||8===t.length?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:8===t.length?a(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=S.exec(t)||x.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:c({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:void 0===e[7]?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=g.exec(t)||w.exec(t);if(!e)return null;var r,n,o=y({h:(r=e[1],n=e[2],void 0===n&&(n="deg"),Number(r)*(i[n]||1)),s:Number(e[3]),l:Number(e[4]),a:void 0===e[5]?1:Number(e[5])/(e[6]?100:1)});return m(o)},"hsl"]],object:[[function(t){var e=t.r,r=t.g,n=t.b,i=t.a,a=void 0===i?1:i;return o(e)&&o(r)&&o(n)?c({r:Number(e),g:Number(r),b:Number(n),a:Number(a)}):null},"rgb"],[function(t){var e=t.h,r=t.s,n=t.l,i=t.a,a=void 0===i?1:i;if(!o(e)||!o(r)||!o(n))return null;var s=y({h:Number(e),s:Number(r),l:Number(n),a:Number(a)});return m(s)},"hsl"],[function(t){var e=t.h,r=t.s,n=t.v,i=t.a,a=void 0===i?1:i;if(!o(e)||!o(r)||!o(n))return null;var c=function(t){return{h:u(t.h),s:s(t.s,0,100),v:s(t.v,0,100),a:s(t.a)}}({h:Number(e),s:Number(r),v:Number(n),a:Number(a)});return d(c)},"hsv"]]},E=function(t,e){for(var r=0;r<e.length;r++){var n=e[r][0](t);if(n)return[n,e[r][1]]}return[null,void 0]},T=function(t){return"string"==typeof t?E(t.trim(),_.string):"object"==n(t)&&null!==t?E(t,_.object):[null,void 0]},k=function(t,e){var r=b(t);return{h:r.h,s:s(r.s+100*e,0,100),l:r.l,a:r.a}},P=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},O=function(t,e){var r=b(t);return{h:r.h,s:r.s,l:s(r.l+100*e,0,100),a:r.a}},A=function(){function t(t){this.parsed=T(t)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return null!==this.parsed},t.prototype.brightness=function(){return a(P(this.rgba),2)},t.prototype.isDark=function(){return P(this.rgba)<.5},t.prototype.isLight=function(){return P(this.rgba)>=.5},t.prototype.toHex=function(){return e=(t=l(this.rgba)).r,r=t.g,n=t.b,o=(i=t.a)<1?h(a(255*i)):"","#"+h(e)+h(r)+h(n)+o;var t,e,r,n,i,o},t.prototype.toRgb=function(){return l(this.rgba)},t.prototype.toRgbString=function(){return e=(t=l(this.rgba)).r,r=t.g,n=t.b,(i=t.a)<1?"rgba("+e+", "+r+", "+n+", "+i+")":"rgb("+e+", "+r+", "+n+")";var t,e,r,n,i},t.prototype.toHsl=function(){return v(b(this.rgba))},t.prototype.toHslString=function(){return e=(t=v(b(this.rgba))).h,r=t.s,n=t.l,(i=t.a)<1?"hsla("+e+", "+r+"%, "+n+"%, "+i+")":"hsl("+e+", "+r+"%, "+n+"%)";var t,e,r,n,i},t.prototype.toHsv=function(){return t=p(this.rgba),{h:a(t.h),s:a(t.s),v:a(t.v),a:a(t.a,3)};var t},t.prototype.invert=function(){return R({r:255-(t=this.rgba).r,g:255-t.g,b:255-t.b,a:t.a});var t},t.prototype.saturate=function(t){return void 0===t&&(t=.1),R(k(this.rgba,t))},t.prototype.desaturate=function(t){return void 0===t&&(t=.1),R(k(this.rgba,-t))},t.prototype.grayscale=function(){return R(k(this.rgba,-1))},t.prototype.lighten=function(t){return void 0===t&&(t=.1),R(O(this.rgba,t))},t.prototype.darken=function(t){return void 0===t&&(t=.1),R(O(this.rgba,-t))},t.prototype.rotate=function(t){return void 0===t&&(t=15),this.hue(this.hue()+t)},t.prototype.alpha=function(t){return"number"==typeof t?R({r:(e=this.rgba).r,g:e.g,b:e.b,a:t}):a(this.rgba.a,3);var e},t.prototype.hue=function(t){var e=b(this.rgba);return"number"==typeof t?R({h:t,s:e.s,l:e.l,a:e.a}):a(e.h)},t.prototype.isEqual=function(t){return this.toHex()===R(t).toHex()},t}(),R=function(t){return t instanceof A?t:new A(t)},j=[];function I(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,c=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return C(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?C(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function M(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function D(t,e,r){return(e=F(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function N(t){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N(t)}function B(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,F(n.key),n)}}function F(t){var e=function(t,e){if("object"!=N(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=N(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==N(e)?e:e+""}!function(t){t.forEach(function(t){j.indexOf(t)<0&&(t(A,_),j.push(t))})}([function(t,e){var r={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},n={};for(var i in r)n[r[i]]=i;var o={};t.prototype.toName=function(e){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var i,a,s=n[this.toHex()];if(s)return s;if(null==e?void 0:e.closest){var u=this.toRgb(),c=1/0,l="black";if(!o.length)for(var f in r)o[f]=new t(r[f]).toRgb();for(var h in r){var p=(i=u,a=o[h],Math.pow(i.r-a.r,2)+Math.pow(i.g-a.g,2)+Math.pow(i.b-a.b,2));p<c&&(c=p,l=h)}return l}},e.string.push([function(e){var n=e.toLowerCase(),i="transparent"===n?"#0000":r[n];return i?new t(i).toRgb():null},"name"])}]);var L=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16777215;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}return function(t,e,r){return e&&B(t.prototype,e),r&&B(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(t,[{key:"red",get:function(){return this._components[0]}},{key:"green",get:function(){return this._components[1]}},{key:"blue",get:function(){return this._components[2]}},{key:"alpha",get:function(){return this._components[3]}},{key:"setValue",value:function(t){return this.value=t,this}},{key:"value",get:function(){return this._value},set:function(e){if(e instanceof t)this._value=this.cloneSource(e._value),this._int=e._int,this._components.set(e._components);else{if(null===e)throw new Error("Cannot set PIXI.Color#value to null");(null===this._value||!this.isSourceEqual(this._value,e))&&(this.normalize(e),this._value=this.cloneSource(e))}}},{key:"cloneSource",value:function(t){return"string"==typeof t||"number"==typeof t||t instanceof Number||null===t?t:Array.isArray(t)||ArrayBuffer.isView(t)?t.slice(0):"object"==N(t)&&null!==t?function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?M(Object(r),!0).forEach(function(e){D(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({},t):t}},{key:"isSourceEqual",value:function(t,e){var r=N(t);if(r!==N(e))return!1;if("number"===r||"string"===r||t instanceof Number)return t===e;if(Array.isArray(t)&&Array.isArray(e)||ArrayBuffer.isView(t)&&ArrayBuffer.isView(e))return t.length===e.length&&t.every(function(t,r){return t===e[r]});if(null!==t&&null!==e){var n=Object.keys(t),i=Object.keys(e);return n.length===i.length&&n.every(function(r){return t[r]===e[r]})}return t===e}},{key:"toRgba",value:function(){var t=I(this._components,4);return{r:t[0],g:t[1],b:t[2],a:t[3]}}},{key:"toRgb",value:function(){var t=I(this._components,3);return{r:t[0],g:t[1],b:t[2]}}},{key:"toRgbaString",value:function(){var t=I(this.toUint8RgbArray(),3),e=t[0],r=t[1],n=t[2];return"rgba(".concat(e,",").concat(r,",").concat(n,",").concat(this.alpha,")")}},{key:"toUint8RgbArray",value:function(t){var e=I(this._components,3),r=e[0],n=e[1],i=e[2];return(t=null!=t?t:[])[0]=Math.round(255*r),t[1]=Math.round(255*n),t[2]=Math.round(255*i),t}},{key:"toRgbArray",value:function(t){t=null!=t?t:[];var e=I(this._components,3),r=e[0],n=e[1],i=e[2];return t[0]=r,t[1]=n,t[2]=i,t}},{key:"toNumber",value:function(){return this._int}},{key:"toLittleEndianNumber",value:function(){var t=this._int;return(t>>16)+(65280&t)+((255&t)<<16)}},{key:"multiply",value:function(e){var r=I(t.temp.setValue(e)._components,4),n=r[0],i=r[1],o=r[2],a=r[3];return this._components[0]*=n,this._components[1]*=i,this._components[2]*=o,this._components[3]*=a,this.refreshInt(),this._value=null,this}},{key:"premultiply",value:function(t){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(this._components[0]*=t,this._components[1]*=t,this._components[2]*=t),this._components[3]=t,this.refreshInt(),this._value=null,this}},{key:"toPremultiplied",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(1===t)return(255<<24)+this._int;if(0===t)return e?0:this._int;var r=this._int>>16&255,n=this._int>>8&255,i=255&this._int;return e&&(r=r*t+.5|0,n=n*t+.5|0,i=i*t+.5|0),(255*t<<24)+(r<<16)+(n<<8)+i}},{key:"toHex",value:function(){var t=this._int.toString(16);return"#".concat("000000".substring(0,6-t.length)+t)}},{key:"toHexa",value:function(){var t=Math.round(255*this._components[3]).toString(16);return this.toHex()+"00".substring(0,2-t.length)+t}},{key:"setAlpha",value:function(t){return this._components[3]=this._clamp(t),this}},{key:"round",value:function(t){var e=I(this._components,3),r=e[0],n=e[1],i=e[2];return this._components[0]=Math.round(r*t)/t,this._components[1]=Math.round(n*t)/t,this._components[2]=Math.round(i*t)/t,this.refreshInt(),this._value=null,this}},{key:"toArray",value:function(t){t=null!=t?t:[];var e=I(this._components,4),r=e[0],n=e[1],i=e[2],o=e[3];return t[0]=r,t[1]=n,t[2]=i,t[3]=o,t}},{key:"normalize",value:function(e){var r,n,i,o,a,s,u,c;if(("number"==typeof e||e instanceof Number)&&e>=0&&e<=16777215){a=(e>>16&255)/255,s=(e>>8&255)/255,u=(255&e)/255,c=1}else if((Array.isArray(e)||e instanceof Float32Array)&&e.length>=3&&e.length<=4)a=(r=I(e=this._clamp(e),4))[0],s=r[1],u=r[2],c=void 0===(n=r[3])?1:n;else if((e instanceof Uint8Array||e instanceof Uint8ClampedArray)&&e.length>=3&&e.length<=4)a=(i=I(e=this._clamp(e,0,255),4))[0],s=i[1],u=i[2],c=void 0===(o=i[3])?255:o,a/=255,s/=255,u/=255,c/=255;else if("string"==typeof e||"object"==N(e)){var l;if("string"==typeof e){var f=t.HEX_PATTERN.exec(e);f&&(e="#".concat(f[2]))}var h=R(e);h.isValid()&&(a=(l=h.rgba).r,s=l.g,u=l.b,c=l.a,a/=255,s/=255,u/=255)}if(void 0===a)throw new Error("Unable to convert color ".concat(e));this._components[0]=a,this._components[1]=s,this._components[2]=u,this._components[3]=c,this.refreshInt()}},{key:"refreshInt",value:function(){this._clamp(this._components);var t=I(this._components,3),e=t[0],r=t[1],n=t[2];this._int=(255*e<<16)+(255*r<<8)+(255*n|0)}},{key:"_clamp",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return"number"==typeof t?Math.min(Math.max(t,e),r):(t.forEach(function(n,i){t[i]=Math.min(Math.max(n,e),r)}),t)}}])}();L.shared=new L,L.temp=new L,L.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;var U=L},96734505:(t,e,r)=>{"use strict";r.d(e,{Jn:()=>D,Nx:()=>o});var n,i,o=function(t){return t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35987]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",t[t.COMPRESSED_RGBA_BPTC_UNORM_EXT=36492]="COMPRESSED_RGBA_BPTC_UNORM_EXT",t[t.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT=36493]="COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT",t[t.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT=36494]="COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT",t[t.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT=36495]="COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT",t}(o||{}),a={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35987:1,34798:1,37808:1,36492:1,36493:1,36494:1,36495:1},s=(r(29204099),r(53375191),r(73503923),r(44381336),r(95723650),r(54660056),r(68090010),r(62951728),r(97200626),r(50473502),r(69994507),r(1906035),r(18515682),r(47138695),r(92631386),r(57886333),r(32570708),r(10827376),r(83722648),r(74018857),r(55039106));function u(t){return function(t){if(Array.isArray(t))return c(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return c(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function l(){var t,e,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function o(r,n,i,o){var u=n&&n.prototype instanceof s?n:s,c=Object.create(u.prototype);return f(c,"_invoke",function(r,n,i){var o,s,u,c=0,l=i||[],f=!1,h={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,r){return o=e,s=0,u=t,h.n=r,a}};function p(r,n){for(s=r,u=n,e=0;!f&&c&&!i&&e<l.length;e++){var i,o=l[e],p=h.p,d=o[2];r>3?(i=d===n)&&(u=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=t):o[0]<=p&&((i=r<2&&p<o[1])?(s=0,h.v=n,h.n=o[1]):p<d&&(i=r<3||o[0]>n||n>d)&&(o[4]=r,o[5]=n,h.n=d,s=0))}if(i||r>1)return a;throw f=!0,n}return function(i,l,d){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,d),s=l,u=d;(e=s<2?t:u)||!f;){o||(s?s<3?(s>1&&(h.n=-1),p(s,u)):h.n=u:h.v=u);try{if(c=2,o){if(s||(i="next"),e=o[i]){if(!(e=e.call(o,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,s<2&&(s=0)}else 1===s&&(e=o.return)&&e.call(o),s<2&&(u=TypeError("The iterator does not provide a '"+i+"' method"),s=1);o=t}else if((e=(f=h.n<0)?u:r.call(n,h))!==a)break}catch(e){o=t,s=1,u=e}finally{c=1}}return{value:e,done:f}}}(r,i,o),!0),c}var a={};function s(){}function u(){}function c(){}e=Object.getPrototypeOf;var h=[][n]?e(e([][n]())):(f(e={},n,function(){return this}),e),p=c.prototype=s.prototype=Object.create(h);function d(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,f(t,i,"GeneratorFunction")),t.prototype=Object.create(p),t}return u.prototype=c,f(p,"constructor",c),f(c,"constructor",u),u.displayName="GeneratorFunction",f(c,i,"GeneratorFunction"),f(p),f(p,i,"Generator"),f(p,n,function(){return this}),f(p,"toString",function(){return"[object Generator]"}),(l=function(){return{w:o,m:d}})()}function f(t,e,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}f=function(t,e,r,n){function o(e,r){f(t,e,function(t){return this._invoke(e,r,t)})}e?i?i(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n}):t[e]=r:(o("next",0),o("throw",1),o("return",2))},f(t,e,r,n)}function h(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function p(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function a(t){h(o,n,i,a,s,"next",t)}function s(t){h(o,n,i,a,s,"throw",t)}a(void 0)})}}function d(){i={bptc:n.getExtension("EXT_texture_compression_bptc"),astc:n.getExtension("WEBGL_compressed_texture_astc"),etc:n.getExtension("WEBGL_compressed_texture_etc"),s3tc:n.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:n.getExtension("WEBGL_compressed_texture_s3tc_srgb"),pvrtc:n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),etc1:n.getExtension("WEBGL_compressed_texture_etc1"),atc:n.getExtension("WEBGL_compressed_texture_atc")}}var y,v,m,b={extension:{type:s.Ag.DetectionParser,priority:2},test:(m=p(l().m(function t(){var e;return l().w(function(t){for(;;)if(0===t.n)return e=s.W0.ADAPTER.createCanvas().getContext("webgl"),t.a(2,e?(n=e,!0):(console.warn("WebGL not available for compressed textures."),!1))},t)})),function(){return m.apply(this,arguments)}),add:(v=p(l().m(function t(e){var r,n;return l().w(function(t){for(;;)if(0===t.n){for(n in i||d(),r=[],i)i[n]&&r.push(n);return t.a(2,[].concat(r,u(e)))}},t)})),function(t){return v.apply(this,arguments)}),remove:(y=p(l().m(function t(e){return l().w(function(t){for(;;)if(0===t.n)return t.a(2,(i||d(),e.filter(function(t){return!(t in i)})))},t)})),function(t){return y.apply(this,arguments)})};s.XO.add(b);r(35669252),r(48158254),r(17522308),r(4421388),r(95440747),r(20037566),r(53083784),r(21313645),r(13223918),r(49684748);var g=r(48817614);r(41904727),r(33688577),r(68168753),r(39780940),r(20211116),r(6224830),r(18501354),r(49912228),r(29762787),r(87324110),r(31353187),r(49433423),r(7405150),r(76679030),r(19352784),r(283227),r(39512023),r(11753769),r(9404124),r(89875075),r(40993271),r(18381800),r(69967115),r(23549037),r(49032015),r(17179093),r(28253461),r(55692573),r(52899355),r(89433276),r(7478740),r(40707609),r(78027336),r(26098537),r(47326777),r(41624185);function w(t){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w(t)}function S(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,x(n.key),n)}}function x(t){var e=function(t,e){if("object"!=w(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=w(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==w(e)?e:e+""}function _(t,e,r){return e=k(e),function(t,e){if(e&&("object"==w(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return E(t)}(t,T()?Reflect.construct(e,r||[],k(t).constructor):e.apply(t,r))}function E(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function T(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(T=function(){return!!t})()}function k(t){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},k(t)}function P(t,e){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},P(t,e)}function O(t){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O(t)}function A(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,R(n.key),n)}}function R(t){var e=function(t,e){if("object"!=O(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=O(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==O(e)?e:e+""}function j(t,e,r){return e=C(e),function(t,e){if(e&&("object"==O(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,I()?Reflect.construct(e,r||[],C(t).constructor):e.apply(t,r))}function I(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(I=function(){return!!t})()}function C(t){return C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},C(t)}function M(t,e){return M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},M(t,e)}var D=function(t){function e(t,r){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=j(this,e,[t,r])).format=r.format,n.levels=r.levels||1,n._width=r.width,n._height=r.height,n._extension=e._formatToExtension(n.format),(r.levelBuffers||n.buffer)&&(n._levelBuffers=r.levelBuffers||e._createLevelBuffers(t instanceof Uint8Array?t:n.buffer.uint8View,n.format,n.levels,4,4,n.width,n.height)),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M(t,e)}(e,t),r=e,i=[{key:"_formatToExtension",value:function(t){if(t>=33776&&t<=33779)return"s3tc";if(t>=35916&&t<=35919)return"s3tc_sRGB";if(t>=37488&&t<=37497)return"etc";if(t>=35840&&t<=35843)return"pvrtc";if(36196===t)return"etc1";if(35986===t||35987===t||34798===t)return"atc";if(t>=36492&&t<=36495)return"bptc";if(37808===t)return"astc";throw new Error("Invalid (compressed) texture format given: ".concat(t))}},{key:"_createLevelBuffers",value:function(t,e,r,n,i,o,s){for(var u=new Array(r),c=t.byteOffset,l=o,f=s,h=l+n-1&~(n-1),p=f+i-1&~(i-1),d=h*p*a[e],y=0;y<r;y++)u[y]={levelID:y,levelWidth:r>1?l:h,levelHeight:r>1?f:p,levelBuffer:new Uint8Array(t.buffer,c,d)},c+=d,d=(h=(l=l>>1||1)+n-1&~(n-1))*(p=(f=f>>1||1)+i-1&~(i-1))*a[e];return u}}],(n=[{key:"upload",value:function(t,e,r){var n=t.gl;if(!t.context.extensions[this._extension])throw new Error("".concat(this._extension," textures are not supported on the current machine"));if(!this._levelBuffers)return!1;n.pixelStorei(n.UNPACK_ALIGNMENT,4);for(var i=0,o=this.levels;i<o;i++){var a=this._levelBuffers[i],s=a.levelID,u=a.levelWidth,c=a.levelHeight,l=a.levelBuffer;n.compressedTexImage2D(n.TEXTURE_2D,s,this.format,u,c,0,l)}return!0}},{key:"onBlobLoaded",value:function(){this._levelBuffers=e._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}}])&&A(r.prototype,n),i&&A(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i}(function(t){function e(t){var r,n,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{width:1,height:1,autoLoad:!0};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),"string"==typeof t?(n=t,i=new Uint8Array):(n=null,i=t),(r=_(this,e,[i,o])).origin=n,r.buffer=i?new s.u3(i):null,r._load=null,r.loaded=!1,null!==r.origin&&!1!==o.autoLoad&&r.load(),null===r.origin&&r.buffer&&(r._load=Promise.resolve(E(r)),r.loaded=!0,r.onBlobLoaded(r.buffer.rawBinaryData)),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P(t,e)}(e,t),r=e,(n=[{key:"onBlobLoaded",value:function(t){}},{key:"load",value:function(){var t=this;return this._load||(this._load=fetch(this.origin).then(function(t){return t.blob()}).then(function(t){return t.arrayBuffer()}).then(function(e){return t.data=new Uint32Array(e),t.buffer=new s.u3(e),t.loaded=!0,t.onBlobLoaded(e),t.update(),t})),this._load}}])&&S(r.prototype,n),i&&S(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i}(s.dZ));function N(t){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N(t)}function B(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=N(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=N(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==N(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var F=124,L=3,U=4,V=7,X=19,G=2,Y=0,q=1,W=2,H=3,z=B(B(B({},827611204,o.COMPRESSED_RGBA_S3TC_DXT1_EXT),861165636,o.COMPRESSED_RGBA_S3TC_DXT3_EXT),894720068,o.COMPRESSED_RGBA_S3TC_DXT5_EXT),Q={70:o.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:o.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:o.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:o.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:o.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:o.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,96:o.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT,95:o.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT,98:o.COMPRESSED_RGBA_BPTC_UNORM_EXT,99:o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT};function Z(t){var e=new Uint32Array(t);if(542327876!==e[0])throw new Error("Invalid DDS file magic word");var r=new Uint32Array(t,0,F/Uint32Array.BYTES_PER_ELEMENT),n=r[L],i=r[U],o=r[V],s=new Uint32Array(t,X*Uint32Array.BYTES_PER_ELEMENT,32/Uint32Array.BYTES_PER_ELEMENT),u=s[1];if(4&u){var c=s[G];if(808540228!==c){var l=z[c],f=new Uint8Array(t,128);return[new D(f,{format:l,width:i,height:n,levels:o})]}var h=new Uint32Array(e.buffer,128,20/Uint32Array.BYTES_PER_ELEMENT),p=h[Y],d=h[q],y=h[W],v=h[H],m=Q[p];if(void 0===m)throw new Error("DDSParser cannot parse texture data with DXGI format ".concat(p));if(4===y)throw new Error("DDSParser does not support cubemap textures");if(6===d)throw new Error("DDSParser does not supported 3D texture data");var b=new Array;if(1===v)b.push(new Uint8Array(t,148));else{for(var g=a[m],w=0,S=i,x=n,_=0;_<o;_++){w+=Math.max(1,S+3&-4)*Math.max(1,x+3&-4)*g,S>>>=1,x>>>=1}for(var E=148,T=0;T<v;T++)b.push(new Uint8Array(t,E,w)),E+=w}return b.map(function(t){return new D(t,{format:m,width:i,height:n,levels:o})})}throw 64&u?new Error("DDSParser does not support uncompressed texture data."):512&u?new Error("DDSParser does not supported YUV uncompressed texture data."):131072&u?new Error("DDSParser does not support single-channel (lumninance) texture data!"):2&u?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}r(71459841),r(89766562),r(29071061);function K(t){return K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},K(t)}function $(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=K(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=K(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==K(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var J=[171,75,84,88,32,49,49,187,13,10,26,10],tt=12,et=16,rt=24,nt=28,it=36,ot=40,at=44,st=48,ut=52,ct=56,lt=60,ft=$($($($($($({},s.QE.UNSIGNED_BYTE,1),s.QE.UNSIGNED_SHORT,2),s.QE.INT,4),s.QE.UNSIGNED_INT,4),s.QE.FLOAT,4),s.QE.HALF_FLOAT,8),ht=$($($($($($($({},s.hR.RGBA,4),s.hR.RGB,3),s.hR.RG,2),s.hR.RED,1),s.hR.LUMINANCE,1),s.hR.LUMINANCE_ALPHA,2),s.hR.ALPHA,1),pt=$($($({},s.QE.UNSIGNED_SHORT_4_4_4_4,2),s.QE.UNSIGNED_SHORT_5_5_5_1,2),s.QE.UNSIGNED_SHORT_5_6_5,2);function dt(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=new DataView(e);if(!function(t,e){for(var r=0;r<J.length;r++)if(e.getUint8(r)!==J[r])return console.error("".concat(t," is not a valid *.ktx file!")),!1;return!0}(t,n))return null;var i=67305985===n.getUint32(tt,!0),o=n.getUint32(et,i),u=n.getUint32(rt,i),c=n.getUint32(nt,i),l=n.getUint32(it,i),f=n.getUint32(ot,i)||1,h=n.getUint32(at,i)||1,p=n.getUint32(st,i)||1,d=n.getUint32(ut,i),y=n.getUint32(ct,i),v=n.getUint32(lt,i);if(0===f||1!==h)throw new Error("Only 2D textures are supported");if(1!==d)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(1!==p)throw new Error("WebGL does not support array textures");var m,b=l+3&-4,g=f+3&-4,w=new Array(p),S=l*f;if(0===o&&(S=b*g),void 0===(m=0!==o?ft[o]?ft[o]*ht[u]:pt[o]:a[c]))throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");for(var x=r?function(t,e,r){for(var n=new Map,i=0;i<e;){var o=t.getUint32(64+i,r),a=64+i+4,s=3-(o+3)%4;if(0===o||o>e-i){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}for(var u=0;u<o&&0!==t.getUint8(a+u);u++);if(-1===u){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}var c=(new TextDecoder).decode(new Uint8Array(t.buffer,a,u)),l=new DataView(t.buffer,a+u+1,o-u-1);n.set(c,l),i+=4+o+s}return n}(n,v,i):null,_=S*m,E=l,T=f,k=b,P=g,O=64+v,A=0;A<y;A++){for(var R=n.getUint32(O,i),j=O+4,I=0;I<p;I++){var C=w[I];C||(C=w[I]=new Array(y)),C[A]={levelID:A,levelWidth:y>1||0!==o?E:k,levelHeight:y>1||0!==o?T:P,levelBuffer:new Uint8Array(e,j,_)},j+=_}O=(O+=R+4)%4!=0?O+4-O%4:O,_=(k=(E=E>>1||1)+4-1&-4)*(P=(T=T>>1||1)+4-1&-4)*m}return 0!==o?{uncompressed:w.map(function(t){var e=t[0].levelBuffer,r=!1;return o===s.QE.FLOAT?e=new Float32Array(t[0].levelBuffer.buffer,t[0].levelBuffer.byteOffset,t[0].levelBuffer.byteLength/4):o===s.QE.UNSIGNED_INT?(r=!0,e=new Uint32Array(t[0].levelBuffer.buffer,t[0].levelBuffer.byteOffset,t[0].levelBuffer.byteLength/4)):o===s.QE.INT&&(r=!0,e=new Int32Array(t[0].levelBuffer.buffer,t[0].levelBuffer.byteOffset,t[0].levelBuffer.byteLength/4)),{resource:new s.dZ(e,{width:t[0].levelWidth,height:t[0].levelHeight}),type:o,format:r?yt(u):u}}),kvData:x}:{compressed:w.map(function(t){return new D(null,{format:c,width:l,height:f,levels:y,levelBuffers:t})}),kvData:x}}function yt(t){switch(t){case s.hR.RGBA:return s.hR.RGBA_INTEGER;case s.hR.RGB:return s.hR.RGB_INTEGER;case s.hR.RG:return s.hR.RG_INTEGER;case s.hR.RED:return s.hR.RED_INTEGER;default:return t}}function vt(t){return vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vt(t)}function mt(){var t,e,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function o(r,n,i,o){var u=n&&n.prototype instanceof s?n:s,c=Object.create(u.prototype);return bt(c,"_invoke",function(r,n,i){var o,s,u,c=0,l=i||[],f=!1,h={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,r){return o=e,s=0,u=t,h.n=r,a}};function p(r,n){for(s=r,u=n,e=0;!f&&c&&!i&&e<l.length;e++){var i,o=l[e],p=h.p,d=o[2];r>3?(i=d===n)&&(u=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=t):o[0]<=p&&((i=r<2&&p<o[1])?(s=0,h.v=n,h.n=o[1]):p<d&&(i=r<3||o[0]>n||n>d)&&(o[4]=r,o[5]=n,h.n=d,s=0))}if(i||r>1)return a;throw f=!0,n}return function(i,l,d){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,d),s=l,u=d;(e=s<2?t:u)||!f;){o||(s?s<3?(s>1&&(h.n=-1),p(s,u)):h.n=u:h.v=u);try{if(c=2,o){if(s||(i="next"),e=o[i]){if(!(e=e.call(o,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,s<2&&(s=0)}else 1===s&&(e=o.return)&&e.call(o),s<2&&(u=TypeError("The iterator does not provide a '"+i+"' method"),s=1);o=t}else if((e=(f=h.n<0)?u:r.call(n,h))!==a)break}catch(e){o=t,s=1,u=e}finally{c=1}}return{value:e,done:f}}}(r,i,o),!0),c}var a={};function s(){}function u(){}function c(){}e=Object.getPrototypeOf;var l=[][n]?e(e([][n]())):(bt(e={},n,function(){return this}),e),f=c.prototype=s.prototype=Object.create(l);function h(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,bt(t,i,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=c,bt(f,"constructor",c),bt(c,"constructor",u),u.displayName="GeneratorFunction",bt(c,i,"GeneratorFunction"),bt(f),bt(f,i,"Generator"),bt(f,n,function(){return this}),bt(f,"toString",function(){return"[object Generator]"}),(mt=function(){return{w:o,m:h}})()}function bt(t,e,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}bt=function(t,e,r,n){function o(e,r){bt(t,e,function(t){return this._invoke(e,r,t)})}e?i?i(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n}):t[e]=r:(o("next",0),o("throw",1),o("return",2))},bt(t,e,r,n)}function gt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function wt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?gt(Object(r),!0).forEach(function(e){St(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gt(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function St(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=vt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=vt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==vt(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xt(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}var _t={extension:{type:s.Ag.LoadParser,priority:g.T9.High},name:"loadDDS",test:function(t){return(0,g.WO)(t,".dds")},load:function(t,e,r){return(n=mt().m(function n(){var i,o;return mt().w(function(n){for(;;)switch(n.n){case 0:return n.n=1,s.W0.ADAPTER.fetch(t);case 1:return n.n=2,n.v.arrayBuffer();case 2:return i=n.v,o=Z(i).map(function(n){var i=new s.t5(n,wt({mipmap:s.E8.OFF,alphaMode:s.Gk.NO_PREMULTIPLIED_ALPHA,resolution:s.Wp.getResolutionOfUrl(t)},e.data));return(0,g.sZ)(i,r,t)}),n.a(2,1===o.length?o[0]:o)}},n)}),function(){var t=this,e=arguments;return new Promise(function(r,i){var o=n.apply(t,e);function a(t){xt(o,r,i,a,s,"next",t)}function s(t){xt(o,r,i,a,s,"throw",t)}a(void 0)})})();var n},unload:function(t){Array.isArray(t)?t.forEach(function(t){return t.destroy(!0)}):t.destroy(!0)}};s.XO.add(_t);r(32767805);function Et(t){return Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Et(t)}function Tt(){var t,e,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function o(r,n,i,o){var u=n&&n.prototype instanceof s?n:s,c=Object.create(u.prototype);return kt(c,"_invoke",function(r,n,i){var o,s,u,c=0,l=i||[],f=!1,h={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,r){return o=e,s=0,u=t,h.n=r,a}};function p(r,n){for(s=r,u=n,e=0;!f&&c&&!i&&e<l.length;e++){var i,o=l[e],p=h.p,d=o[2];r>3?(i=d===n)&&(u=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=t):o[0]<=p&&((i=r<2&&p<o[1])?(s=0,h.v=n,h.n=o[1]):p<d&&(i=r<3||o[0]>n||n>d)&&(o[4]=r,o[5]=n,h.n=d,s=0))}if(i||r>1)return a;throw f=!0,n}return function(i,l,d){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,d),s=l,u=d;(e=s<2?t:u)||!f;){o||(s?s<3?(s>1&&(h.n=-1),p(s,u)):h.n=u:h.v=u);try{if(c=2,o){if(s||(i="next"),e=o[i]){if(!(e=e.call(o,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,s<2&&(s=0)}else 1===s&&(e=o.return)&&e.call(o),s<2&&(u=TypeError("The iterator does not provide a '"+i+"' method"),s=1);o=t}else if((e=(f=h.n<0)?u:r.call(n,h))!==a)break}catch(e){o=t,s=1,u=e}finally{c=1}}return{value:e,done:f}}}(r,i,o),!0),c}var a={};function s(){}function u(){}function c(){}e=Object.getPrototypeOf;var l=[][n]?e(e([][n]())):(kt(e={},n,function(){return this}),e),f=c.prototype=s.prototype=Object.create(l);function h(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,kt(t,i,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=c,kt(f,"constructor",c),kt(c,"constructor",u),u.displayName="GeneratorFunction",kt(c,i,"GeneratorFunction"),kt(f),kt(f,i,"Generator"),kt(f,n,function(){return this}),kt(f,"toString",function(){return"[object Generator]"}),(Tt=function(){return{w:o,m:h}})()}function kt(t,e,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}kt=function(t,e,r,n){function o(e,r){kt(t,e,function(t){return this._invoke(e,r,t)})}e?i?i(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n}):t[e]=r:(o("next",0),o("throw",1),o("return",2))},kt(t,e,r,n)}function Pt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function Ot(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Pt(Object(r),!0).forEach(function(e){At(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Pt(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function At(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=Et(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Et(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Et(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Rt(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}var jt={extension:{type:s.Ag.LoadParser,priority:g.T9.High},name:"loadKTX",test:function(t){return(0,g.WO)(t,".ktx")},load:function(t,e,r){return(n=Tt().m(function n(){var i,o,a,u,c,l,f,h;return Tt().w(function(n){for(;;)switch(n.n){case 0:return n.n=1,s.W0.ADAPTER.fetch(t);case 1:return n.n=2,n.v.arrayBuffer();case 2:return i=n.v,o=dt(t,i),a=o.compressed,u=o.uncompressed,c=o.kvData,l=null!=a?a:u,f=Ot({mipmap:s.E8.OFF,alphaMode:s.Gk.NO_PREMULTIPLIED_ALPHA,resolution:s.Wp.getResolutionOfUrl(t)},e.data),h=l.map(function(e){var n;l===u&&Object.assign(f,{type:e.type,format:e.format});var i=null!==(n=e.resource)&&void 0!==n?n:e,o=new s.t5(i,f);return o.ktxKeyValueData=c,(0,g.sZ)(o,r,t)}),n.a(2,1===h.length?h[0]:h)}},n)}),function(){var t=this,e=arguments;return new Promise(function(r,i){var o=n.apply(t,e);function a(t){Rt(o,r,i,a,s,"next",t)}function s(t){Rt(o,r,i,a,s,"throw",t)}a(void 0)})})();var n},unload:function(t){Array.isArray(t)?t.forEach(function(t){return t.destroy(!0)}):t.destroy(!0)}};s.XO.add(jt);r(5320247);var It=["s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"],Ct={extension:s.Ag.ResolveParser,test:function(t){var e=s.Wp.path.extname(t).slice(1);return["basis","ktx","dds"].includes(e)},parse:function(t){var e,r,n=t.split("."),i=n.pop();if(["ktx","dds"].includes(i)){var o,a,u=n.pop();if(It.includes(u))return{resolution:parseFloat(null!==(o=null===(a=s.W0.RETINA_PREFIX.exec(t))||void 0===a?void 0:a[1])&&void 0!==o?o:"1"),format:u,src:t}}return{resolution:parseFloat(null!==(e=null===(r=s.W0.RETINA_PREFIX.exec(t))||void 0===r?void 0:r[1])&&void 0!==e?e:"1"),format:i,src:t}}};s.XO.add(Ct)},80021304:(t,e,r)=>{"use strict";r.d(e,{B9:()=>a,E8:()=>d,Gk:()=>y,Km:()=>n,M6:()=>h,OS:()=>m,Pk:()=>b,QE:()=>l,XZ:()=>f,_4:()=>s,dW:()=>c,fr:()=>v,h3:()=>i,hR:()=>u,he:()=>w,uR:()=>p,vg:()=>g,wn:()=>o,yw:()=>S});var n=function(t){return t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2",t}(n||{}),i=function(t){return t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS",t}(i||{}),o=function(t){return t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL",t}(o||{}),a=function(t){return t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR",t}(a||{}),s=function(t){return t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t}(s||{}),u=function(t){return t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t}(u||{}),c=function(t){return t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t}(c||{}),l=function(t){return t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT",t}(l||{}),f=function(t){return t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT",t}(f||{}),h=function(t){return t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR",t}(h||{}),p=function(t){return t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t}(p||{}),d=function(t){return t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL",t}(d||{}),y=function(t){return t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",t}(y||{}),v=function(t){return t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT",t}(v||{}),m=function(t){return t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL",t}(m||{}),b=function(t){return t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp",t}(b||{}),g=function(t){return t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR",t}(g||{}),w=function(t){return t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH",t}(w||{}),S=function(t){return t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t}(S||{})},55039106:(t,e,r)=>{"use strict";r.d(e,{Gk:()=>n.Gk,B9:()=>n.B9,t5:()=>H,hq:()=>$,JH:()=>_t,cc:()=>le,hp:()=>nt,dZ:()=>D,fr:()=>n.fr,jl:()=>Et.jl,Q1:()=>a.Q,Td:()=>Et.Td,_4:()=>n._4,Pp:()=>Et.Pp,Ag:()=>s.A,hR:()=>n.hR,dJ:()=>Me,V2:()=>yt,vg:()=>n.vg,E8:()=>n.E8,uq:()=>Et.uq,Pt:()=>de,oA:()=>Et.oA,TO:()=>Et.TO,bR:()=>Et.bR,tS:()=>Et.tS,BP:()=>Ht,X1:()=>vn,bO:()=>Et.bO,M_:()=>Et.M_,Y7:()=>Qr,TE:()=>Et.TE,M6:()=>n.M6,HY:()=>Et.HY,$f:()=>tu,Mt:()=>re,Uw:()=>m,QE:()=>n.QE,gP:()=>Vr,NW:()=>Wn,Rv:()=>ya.Rv,dL:()=>Et.dL,dQ:()=>ya.dQ,k2:()=>$t,A5:()=>wu,u3:()=>f,uR:()=>n.uR,q5:()=>ga,Eo:()=>Sa,MT:()=>wa,XO:()=>s.X,W0:()=>i.W0,Wp:()=>o});r(29204099),r(53375191),r(73503923),r(35669252),r(44381336),r(54660056),r(62951728),r(97200626),r(17522308),r(4421388),r(95440747),r(20037566),r(53083784),r(1906035),r(32570708),r(10827376),r(83722648),r(21313645),r(49684748),r(74018857);var n=r(80021304),i=r(22037416),o=r(44353758),a=(r(41904727),r(33688577),r(69994507),r(41624185),r(86965080),r(54497072),r(85890026),r(20211116),r(6224830),r(18501354),r(49912228),r(29762787),r(87324110),r(31353187),r(49433423),r(7405150),r(76679030),r(19352784),r(283227),r(39512023),r(11753769),r(9404124),r(89875075),r(40993271),r(18381800),r(69967115),r(23549037),r(49032015),r(17179093),r(28253461),r(55692573),r(52899355),r(89433276),r(7478740),r(40707609),r(78027336),r(26098537),r(47326777),r(93054823)),s=r(25052853);r(89766562),r(34522210),r(70558731),r(29071061),r(68168753),r(39780940);function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function c(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,l(n.key),n)}}function l(t){var e=function(t,e){if("object"!=u(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==u(e)?e:e+""}var f=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"number"==typeof e?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)},r=[{key:"sizeOf",value:function(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error("".concat(t," isn't a valid view type"))}}}],(e=[{key:"int8View",get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}},{key:"uint8View",get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}},{key:"int16View",get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}},{key:"uint16View",get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}},{key:"int32View",get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}},{key:"view",value:function(t){return this["".concat(t,"View")]}},{key:"destroy",value:function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}}])&&c(t.prototype,e),r&&c(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}(),h=(r(47138695),r(27015936),["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n"));function p(t){for(var e="",r=0;r<t;++r)r>0&&(e+="\nelse "),r<t-1&&(e+="if(test == ".concat(r,".0){}"));return e}r(95723650),r(57886333);function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function y(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,v(n.key),n)}}function v(t){var e=function(t,e){if("object"!=d(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==d(e)?e:e+""}var m=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.data=0,this.blendMode=n.B9.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}return e=t,i=[{key:"for2d",value:function(){var e=new t;return e.depthTest=!1,e.blend=!0,e}}],(r=[{key:"blend",get:function(){return!!(1&this.data)},set:function(t){!!(1&this.data)!==t&&(this.data^=1)}},{key:"offsets",get:function(){return!!(2&this.data)},set:function(t){!!(2&this.data)!==t&&(this.data^=2)}},{key:"culling",get:function(){return!!(4&this.data)},set:function(t){!!(4&this.data)!==t&&(this.data^=4)}},{key:"depthTest",get:function(){return!!(8&this.data)},set:function(t){!!(8&this.data)!==t&&(this.data^=8)}},{key:"depthMask",get:function(){return!!(32&this.data)},set:function(t){!!(32&this.data)!==t&&(this.data^=32)}},{key:"clockwiseFrontFace",get:function(){return!!(16&this.data)},set:function(t){!!(16&this.data)!==t&&(this.data^=16)}},{key:"blendMode",get:function(){return this._blendMode},set:function(t){this.blend=t!==n.B9.NONE,this._blendMode=t}},{key:"polygonOffset",get:function(){return this._polygonOffset},set:function(t){this.offsets=!!t,this._polygonOffset=t}}])&&y(e.prototype,r),i&&y(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,r,i}();m.prototype.toString=function(){return"[@pixi/core:State blendMode=".concat(this.blendMode," clockwiseFrontFace=").concat(this.clockwiseFrontFace," culling=").concat(this.culling," depthMask=").concat(this.depthMask," polygonOffset=").concat(this.polygonOffset,"]")};r(5320247),r(55705852),r(57180314),r(32767805),r(51524099),r(92631386);var b=[];function g(t,e){if(!t)return null;var r="";if("string"==typeof t){var n=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);n&&(r=n[1].toLowerCase())}for(var i=b.length-1;i>=0;--i){var o=b[i];if(o.test&&o.test(t,r))return new o(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}r(59364278),r(18515682),r(50473502);function w(t){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w(t)}function S(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,x(n.key),n)}}function x(t){var e=function(t,e){if("object"!=w(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=w(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==w(e)?e:e+""}var _=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.items=[],this._name=e,this._aliasCount=0},e=[{key:"emit",value:function(t,e,r,n,i,o,a,s){if(arguments.length>8)throw new Error("max arguments reached");var u=this.name,c=this.items;this._aliasCount++;for(var l=0,f=c.length;l<f;l++)c[l][u](t,e,r,n,i,o,a,s);return c===this.items&&this._aliasCount--,this}},{key:"ensureNonAliasedItems",value:function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}},{key:"add",value:function(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this}},{key:"remove",value:function(t){var e=this.items.indexOf(t);return-1!==e&&(this.ensureNonAliasedItems(),this.items.splice(e,1)),this}},{key:"contains",value:function(t){return this.items.includes(t)}},{key:"removeAll",value:function(){return this.ensureNonAliasedItems(),this.items.length=0,this}},{key:"destroy",value:function(){this.removeAll(),this.items.length=0,this._name=""}},{key:"empty",get:function(){return 0===this.items.length}},{key:"name",get:function(){return this._name}}],e&&S(t.prototype,e),r&&S(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();function E(t){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E(t)}function T(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,k(n.key),n)}}function k(t){var e=function(t,e){if("object"!=E(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=E(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==E(e)?e:e+""}Object.defineProperties(_.prototype,{dispatch:{value:_.prototype.emit},run:{value:_.prototype.emit}});var P=function(){return t=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._width=e,this._height=r,this.destroyed=!1,this.internal=!1,this.onResize=new _("setRealSize"),this.onUpdate=new _("update"),this.onError=new _("onError")},r=[{key:"test",value:function(t,e){return!1}}],(e=[{key:"bind",value:function(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}},{key:"unbind",value:function(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)}},{key:"resize",value:function(t,e){(t!==this._width||e!==this._height)&&(this._width=t,this._height=e,this.onResize.emit(t,e))}},{key:"valid",get:function(){return!!this._width&&!!this._height}},{key:"update",value:function(){this.destroyed||this.onUpdate.emit()}},{key:"load",value:function(){return Promise.resolve(this)}},{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}},{key:"style",value:function(t,e,r){return!1}},{key:"dispose",value:function(){}},{key:"destroy",value:function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}}])&&T(t.prototype,e),r&&T(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();function O(t){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O(t)}function A(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,R(n.key),n)}}function R(t){var e=function(t,e){if("object"!=O(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=O(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==O(e)?e:e+""}function j(t,e,r){return e=C(e),function(t,e){if(e&&("object"==O(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,I()?Reflect.construct(e,r||[],C(t).constructor):e.apply(t,r))}function I(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(I=function(){return!!t})()}function C(t){return C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},C(t)}function M(t,e){return M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},M(t,e)}var D=function(t){function e(t,r){var n,i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=r||{},a=o.width,s=o.height;if(!a||!s)throw new Error("BufferResource width or height invalid");return(i=j(this,e,[a,s])).data=t,i.unpackAlignment=null!==(n=r.unpackAlignment)&&void 0!==n?n:4,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M(t,e)}(e,t),r=e,o=[{key:"test",value:function(t){return null===t||t instanceof Int8Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array}}],(i=[{key:"upload",value:function(t,e,r){var i=t.gl;i.pixelStorei(i.UNPACK_ALIGNMENT,this.unpackAlignment),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===n.Gk.UNPACK);var o=e.realWidth,a=e.realHeight;return r.width===o&&r.height===a?i.texSubImage2D(e.target,0,0,0,o,a,e.format,r.type,this.data):(r.width=o,r.height=a,i.texImage2D(e.target,0,r.internalFormat,o,a,0,e.format,r.type,this.data)),!0}},{key:"dispose",value:function(){this.data=null}}])&&A(r.prototype,i),o&&A(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(P);function N(t){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N(t)}function B(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function F(t,e,r){return(e=U(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function L(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,U(n.key),n)}}function U(t){var e=function(t,e){if("object"!=N(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=N(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==N(e)?e:e+""}function V(t,e,r){return e=G(e),function(t,e){if(e&&("object"==N(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,X()?Reflect.construct(e,r||[],G(t).constructor):e.apply(t,r))}function X(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(X=function(){return!!t})()}function G(t){return G=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},G(t)}function Y(t,e){return Y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Y(t,e)}var q={scaleMode:n.M6.NEAREST,alphaMode:n.Gk.NPM},W=function(t){function e(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t=V(this,e);var a=n=Object.assign({},e.defaultOptions,n),s=a.alphaMode,u=a.mipmap,c=a.anisotropicLevel,l=a.scaleMode,f=a.width,h=a.height,p=a.wrapMode,d=a.format,y=a.type,v=a.target,m=a.resolution,b=a.resourceOptions;return r&&!(r instanceof P)&&((r=g(r,b)).internal=!0),t.resolution=m||i.W0.RESOLUTION,t.width=Math.round((f||0)*t.resolution)/t.resolution,t.height=Math.round((h||0)*t.resolution)/t.resolution,t._mipmap=u,t.anisotropicLevel=c,t._wrapMode=p,t._scaleMode=l,t.format=d,t.type=y,t.target=v,t.alphaMode=s,t.uid=(0,o.uid)(),t.touched=0,t.isPowerOfTwo=!1,t._refreshPOT(),t._glTextures={},t.dirtyId=0,t.dirtyStyleId=0,t.cacheId=null,t.valid=f>0&&h>0,t.textureCacheIds=[],t.destroyed=!1,t.resource=null,t._batchEnabled=0,t._batchLocation=0,t.parentTextureArray=null,t.setResource(r),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Y(t,e)}(e,t),r=e,s=[{key:"from",value:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.W0.STRICT_TEXTURE_CACHE,a="string"==typeof t,s=null;if(a)s=t;else{if(!t._pixiId){var u=(null==r?void 0:r.pixiIdPrefix)||"pixiid";t._pixiId="".concat(u,"_").concat((0,o.uid)())}s=t._pixiId}var c=o.BaseTextureCache[s];if(a&&n&&!c)throw new Error('The cacheId "'.concat(s,'" does not exist in BaseTextureCache.'));return c||((c=new e(t,r)).cacheId=s,e.addToCache(c,s)),c}},{key:"fromBuffer",value:function(t,r,i,o){t=t||new Float32Array(r*i*4);var a,s,u=new D(t,function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?B(Object(r),!0).forEach(function(e){F(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({width:r,height:i},null==o?void 0:o.resourceOptions));return t instanceof Float32Array?(a=n.hR.RGBA,s=n.QE.FLOAT):t instanceof Int32Array?(a=n.hR.RGBA_INTEGER,s=n.QE.INT):t instanceof Uint32Array?(a=n.hR.RGBA_INTEGER,s=n.QE.UNSIGNED_INT):t instanceof Int16Array?(a=n.hR.RGBA_INTEGER,s=n.QE.SHORT):t instanceof Uint16Array?(a=n.hR.RGBA_INTEGER,s=n.QE.UNSIGNED_SHORT):t instanceof Int8Array?(a=n.hR.RGBA,s=n.QE.BYTE):(a=n.hR.RGBA,s=n.QE.UNSIGNED_BYTE),u.internal=!0,new e(u,Object.assign({},q,{type:s,format:a},o))}},{key:"addToCache",value:function(t,e){e&&(t.textureCacheIds.includes(e)||t.textureCacheIds.push(e),o.BaseTextureCache[e]&&o.BaseTextureCache[e]!==t&&console.warn("BaseTexture added to the cache with an id [".concat(e,"] that already had an entry")),o.BaseTextureCache[e]=t)}},{key:"removeFromCache",value:function(t){if("string"==typeof t){var e=o.BaseTextureCache[t];if(e){var r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete o.BaseTextureCache[t],e}}else if(null!=t&&t.textureCacheIds){for(var n=0;n<t.textureCacheIds.length;++n)delete o.BaseTextureCache[t.textureCacheIds[n]];return t.textureCacheIds.length=0,t}return null}}],(a=[{key:"realWidth",get:function(){return Math.round(this.width*this.resolution)}},{key:"realHeight",get:function(){return Math.round(this.height*this.resolution)}},{key:"mipmap",get:function(){return this._mipmap},set:function(t){this._mipmap!==t&&(this._mipmap=t,this.dirtyStyleId++)}},{key:"scaleMode",get:function(){return this._scaleMode},set:function(t){this._scaleMode!==t&&(this._scaleMode=t,this.dirtyStyleId++)}},{key:"wrapMode",get:function(){return this._wrapMode},set:function(t){this._wrapMode!==t&&(this._wrapMode=t,this.dirtyStyleId++)}},{key:"setStyle",value:function(t,e){var r;return void 0!==t&&t!==this.scaleMode&&(this.scaleMode=t,r=!0),void 0!==e&&e!==this.mipmap&&(this.mipmap=e,r=!0),r&&this.dirtyStyleId++,this}},{key:"setSize",value:function(t,e,r){return r=r||this.resolution,this.setRealSize(t*r,e*r,r)}},{key:"setRealSize",value:function(t,e,r){return this.resolution=r||this.resolution,this.width=Math.round(t)/this.resolution,this.height=Math.round(e)/this.resolution,this._refreshPOT(),this.update(),this}},{key:"_refreshPOT",value:function(){this.isPowerOfTwo=(0,o.isPow2)(this.realWidth)&&(0,o.isPow2)(this.realHeight)}},{key:"setResolution",value:function(t){var e=this.resolution;return e===t||(this.resolution=t,this.valid&&(this.width=Math.round(this.width*e)/t,this.height=Math.round(this.height*e)/t,this.emit("update",this)),this._refreshPOT()),this}},{key:"setResource",value:function(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this}},{key:"update",value:function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}},{key:"onError",value:function(t){this.emit("error",this,t)}},{key:"destroy",value:function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete o.BaseTextureCache[this.cacheId],delete o.TextureCache[this.cacheId],this.cacheId=null),this.valid=!1,this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}},{key:"dispose",value:function(){this.emit("dispose",this)}},{key:"castToBaseTexture",value:function(){return this}}])&&L(r.prototype,a),s&&L(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,s}(o.EventEmitter);W.defaultOptions={mipmap:n.E8.POW2,anisotropicLevel:0,scaleMode:n.M6.LINEAR,wrapMode:n.uR.CLAMP,alphaMode:n.Gk.UNPACK,target:n.dW.TEXTURE_2D,format:n.hR.RGBA,type:n.QE.UNSIGNED_BYTE},W._globalBatch=0;var H=W;function z(t){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},z(t)}function Q(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,K(n.key),n)}}function Z(t,e,r){return e&&Q(t.prototype,e),r&&Q(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function K(t){var e=function(t,e){if("object"!=z(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=z(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==z(e)?e:e+""}var $=Z(function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.texArray=null,this.blend=0,this.type=n._4.TRIANGLES,this.start=0,this.size=0,this.data=null});function J(t){return J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},J(t)}function tt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,et(n.key),n)}}function et(t){var e=function(t,e){if("object"!=J(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=J(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==J(e)?e:e+""}var rt=0,nt=function(){function t(e){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=r,this.id=rt++,this.disposeRunner=new _("disposeBuffer")}return e=t,i=[{key:"from",value:function(e){return e instanceof Array&&(e=new Float32Array(e)),new t(e)}}],(r=[{key:"update",value:function(t){t instanceof Array&&(t=new Float32Array(t)),this.data=t||this.data,this._updateID++}},{key:"dispose",value:function(){this.disposeRunner.emit(this,!1)}},{key:"destroy",value:function(){this.dispose(),this.data=null}},{key:"index",get:function(){return this.type===n.yw.ELEMENT_ARRAY_BUFFER},set:function(t){this.type=t?n.yw.ELEMENT_ARRAY_BUFFER:n.yw.ARRAY_BUFFER}}])&&tt(e.prototype,r),i&&tt(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,r,i}();function it(t){return it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},it(t)}function ot(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,at(n.key),n)}}function at(t){var e=function(t,e){if("object"!=it(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=it(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==it(e)?e:e+""}var st=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n.QE.FLOAT,a=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0,u=arguments.length>6?arguments[6]:void 0,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:1;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.buffer=e,this.size=r,this.normalized=i,this.type=o,this.stride=a,this.start=s,this.instance=u,this.divisor=c}return e=t,i=[{key:"from",value:function(e,r,n,i,o){return new t(e,r,n,i,o)}}],(r=[{key:"destroy",value:function(){this.buffer=null}}])&&ot(e.prototype,r),i&&ot(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,r,i}(),ut={Float32Array,Uint32Array,Int32Array,Uint8Array};function ct(t){return ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ct(t)}function lt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ft(n.key),n)}}function ft(t){var e=function(t,e){if("object"!=ct(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=ct(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ct(e)?e:e+""}var ht={5126:4,5123:2,5121:1},pt=0,dt={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},yt=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.buffers=e,this.indexBuffer=null,this.attributes=r,this.glVertexArrayObjects={},this.id=pt++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new _("disposeGeometry"),this.refCount=0}return e=t,r=[{key:"addAttribute",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0,a=arguments.length>6?arguments[6]:void 0,s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];if(!e)throw new Error("You must pass a buffer when creating an attribute");e instanceof nt||(e instanceof Array&&(e=new Float32Array(e)),e=new nt(e));var u=t.split("|");if(u.length>1){for(var c=0;c<u.length;c++)this.addAttribute(u[c],e,r,n,i);return this}var l=this.buffers.indexOf(e);return-1===l&&(this.buffers.push(e),l=this.buffers.length-1),this.attributes[t]=new st(l,r,n,i,o,a,s),this.instanced=this.instanced||s,this}},{key:"getAttribute",value:function(t){return this.attributes[t]}},{key:"getBuffer",value:function(t){return this.buffers[this.getAttribute(t).buffer]}},{key:"addIndex",value:function(t){return t instanceof nt||(t instanceof Array&&(t=new Uint16Array(t)),t=new nt(t)),t.type=n.yw.ELEMENT_ARRAY_BUFFER,this.indexBuffer=t,this.buffers.includes(t)||this.buffers.push(t),this}},{key:"getIndex",value:function(){return this.indexBuffer}},{key:"interleave",value:function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var t,e=[],r=[],n=new nt;for(t in this.attributes){var i=this.attributes[t],a=this.buffers[i.buffer];e.push(a.data),r.push(i.size*ht[i.type]/4),i.buffer=0}for(n.data=function(t,e){for(var r=0,n=0,i={},a=0;a<t.length;a++)n+=e[a],r+=t[a].length;for(var s=new ArrayBuffer(4*r),u=null,c=0,l=0;l<t.length;l++){var f=e[l],h=t[l],p=(0,o.getBufferType)(h);i[p]||(i[p]=new ut[p](s)),u=i[p];for(var d=0;d<h.length;d++)u[(d/f|0)*n+c+d%f]=h[d];c+=f}return new Float32Array(s)}(e,r),t=0;t<this.buffers.length;t++)this.buffers[t]!==this.indexBuffer&&this.buffers[t].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}},{key:"getSize",value:function(){for(var t in this.attributes){var e=this.attributes[t];return this.buffers[e.buffer].data.length/(e.stride/4||e.size)}return 0}},{key:"dispose",value:function(){this.disposeRunner.emit(this,!1)}},{key:"destroy",value:function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}},{key:"clone",value:function(){for(var e=new t,r=0;r<this.buffers.length;r++)e.buffers[r]=new nt(this.buffers[r].data.slice(0));for(var i in this.attributes){var o=this.attributes[i];e.attributes[i]=new st(o.buffer,o.size,o.normalized,o.type,o.stride,o.start,o.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=n.yw.ELEMENT_ARRAY_BUFFER),e}}],i=[{key:"merge",value:function(e){for(var r,i=new t,a=[],s=[],u=[],c=0;c<e.length;c++){r=e[c];for(var l=0;l<r.buffers.length;l++)s[l]=s[l]||0,s[l]+=r.buffers[l].data.length,u[l]=0}for(var f=0;f<r.buffers.length;f++)a[f]=new(dt[(0,o.getBufferType)(r.buffers[f].data)])(s[f]),i.buffers[f]=new nt(a[f]);for(var h=0;h<e.length;h++){r=e[h];for(var p=0;p<r.buffers.length;p++)a[p].set(r.buffers[p].data,u[p]),u[p]+=r.buffers[p].data.length}if(i.attributes=r.attributes,r.indexBuffer){i.indexBuffer=i.buffers[r.buffers.indexOf(r.indexBuffer)],i.indexBuffer.type=n.yw.ELEMENT_ARRAY_BUFFER;for(var d=0,y=0,v=0,m=0,b=0;b<r.buffers.length;b++)if(r.buffers[b]!==r.indexBuffer){m=b;break}for(var g in r.attributes){var w=r.attributes[g];(0|w.buffer)===m&&(y+=w.size*ht[w.type]/4)}for(var S=0;S<e.length;S++){for(var x=e[S].indexBuffer.data,_=0;_<x.length;_++)i.indexBuffer.data[_+v]+=d;d+=e[S].buffers[m].data.length/y,v+=x.length}}return i}}],r&&lt(e.prototype,r),i&&lt(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,r,i}();function vt(t){return vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vt(t)}function mt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,bt(n.key),n)}}function bt(t){var e=function(t,e){if("object"!=vt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=vt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==vt(e)?e:e+""}function gt(t,e,r){return e=St(e),function(t,e){if(e&&("object"==vt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,wt()?Reflect.construct(e,r||[],St(t).constructor):e.apply(t,r))}function wt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(wt=function(){return!!t})()}function St(t){return St=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},St(t)}function xt(t,e){return xt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},xt(t,e)}var _t=function(t){function e(){var t,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=gt(this,e))._buffer=new nt(null,r,!1),t._indexBuffer=new nt(null,r,!0),t.addAttribute("aVertexPosition",t._buffer,2,!1,n.QE.FLOAT).addAttribute("aTextureCoord",t._buffer,2,!1,n.QE.FLOAT).addAttribute("aColor",t._buffer,4,!0,n.QE.UNSIGNED_BYTE).addAttribute("aTextureId",t._buffer,1,!0,n.QE.FLOAT).addIndex(t._indexBuffer),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xt(t,e)}(e,t),r=e,i&&mt(r.prototype,i),o&&mt(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(yt),Et=r(65701774);r(94366282);function Tt(t){for(var e=new Array(t),r=0;r<e.length;r++)e[r]=!1;return e}function kt(t,e){switch(t){case"float":case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return Tt(2*e);case"bvec3":return Tt(3*e);case"bvec4":return Tt(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var Pt=[{test:function(t){return"float"===t.type&&1===t.size&&!t.isArray},code:function(t){return'\n            if(uv["'.concat(t,'"] !== ud["').concat(t,'"].value)\n            {\n                ud["').concat(t,'"].value = uv["').concat(t,'"]\n                gl.uniform1f(ud["').concat(t,'"].location, uv["').concat(t,'"])\n            }\n            ')}},{test:function(t,e){return!("sampler2D"!==t.type&&"samplerCube"!==t.type&&"sampler2DArray"!==t.type||1!==t.size||t.isArray||null!=e&&void 0===e.castToBaseTexture)},code:function(t){return't = syncData.textureCount++;\n\n            renderer.texture.bind(uv["'.concat(t,'"], t);\n\n            if(ud["').concat(t,'"].value !== t)\n            {\n                ud["').concat(t,'"].value = t;\n                gl.uniform1i(ud["').concat(t,'"].location, t);\n; // eslint-disable-line max-len\n            }')}},{test:function(t,e){return"mat3"===t.type&&1===t.size&&!t.isArray&&void 0!==e.a},code:function(t){return'\n            gl.uniformMatrix3fv(ud["'.concat(t,'"].location, false, uv["').concat(t,'"].toArray(true));\n            ')},codeUbo:function(t){return"\n                var ".concat(t,"_matrix = uv.").concat(t,".toArray(true);\n\n                data[offset] = ").concat(t,"_matrix[0];\n                data[offset+1] = ").concat(t,"_matrix[1];\n                data[offset+2] = ").concat(t,"_matrix[2];\n        \n                data[offset + 4] = ").concat(t,"_matrix[3];\n                data[offset + 5] = ").concat(t,"_matrix[4];\n                data[offset + 6] = ").concat(t,"_matrix[5];\n        \n                data[offset + 8] = ").concat(t,"_matrix[6];\n                data[offset + 9] = ").concat(t,"_matrix[7];\n                data[offset + 10] = ").concat(t,"_matrix[8];\n            ")}},{test:function(t,e){return"vec2"===t.type&&1===t.size&&!t.isArray&&void 0!==e.x},code:function(t){return'\n                cv = ud["'.concat(t,'"].value;\n                v = uv["').concat(t,'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["').concat(t,'"].location, v.x, v.y);\n                }')},codeUbo:function(t){return"\n                v = uv.".concat(t,";\n\n                data[offset] = v.x;\n                data[offset+1] = v.y;\n            ")}},{test:function(t){return"vec2"===t.type&&1===t.size&&!t.isArray},code:function(t){return'\n                cv = ud["'.concat(t,'"].value;\n                v = uv["').concat(t,'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["').concat(t,'"].location, v[0], v[1]);\n                }\n            ')}},{test:function(t,e){return"vec4"===t.type&&1===t.size&&!t.isArray&&void 0!==e.width},code:function(t){return'\n                cv = ud["'.concat(t,'"].value;\n                v = uv["').concat(t,'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["').concat(t,'"].location, v.x, v.y, v.width, v.height)\n                }')},codeUbo:function(t){return"\n                    v = uv.".concat(t,";\n\n                    data[offset] = v.x;\n                    data[offset+1] = v.y;\n                    data[offset+2] = v.width;\n                    data[offset+3] = v.height;\n                ")}},{test:function(t,e){return"vec4"===t.type&&1===t.size&&!t.isArray&&void 0!==e.red},code:function(t){return'\n                cv = ud["'.concat(t,'"].value;\n                v = uv["').concat(t,'"];\n\n                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)\n                {\n                    cv[0] = v.red;\n                    cv[1] = v.green;\n                    cv[2] = v.blue;\n                    cv[3] = v.alpha;\n                    gl.uniform4f(ud["').concat(t,'"].location, v.red, v.green, v.blue, v.alpha)\n                }')},codeUbo:function(t){return"\n                    v = uv.".concat(t,";\n\n                    data[offset] = v.red;\n                    data[offset+1] = v.green;\n                    data[offset+2] = v.blue;\n                    data[offset+3] = v.alpha;\n                ")}},{test:function(t,e){return"vec3"===t.type&&1===t.size&&!t.isArray&&void 0!==e.red},code:function(t){return'\n                cv = ud["'.concat(t,'"].value;\n                v = uv["').concat(t,'"];\n\n                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)\n                {\n                    cv[0] = v.red;\n                    cv[1] = v.green;\n                    cv[2] = v.blue;\n    \n                    gl.uniform3f(ud["').concat(t,'"].location, v.red, v.green, v.blue)\n                }')},codeUbo:function(t){return"\n                    v = uv.".concat(t,";\n\n                    data[offset] = v.red;\n                    data[offset+1] = v.green;\n                    data[offset+2] = v.blue;\n                ")}},{test:function(t){return"vec4"===t.type&&1===t.size&&!t.isArray},code:function(t){return'\n                cv = ud["'.concat(t,'"].value;\n                v = uv["').concat(t,'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["').concat(t,'"].location, v[0], v[1], v[2], v[3])\n                }')}}],Ot={float:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1f(location, v);\n    }",vec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4f(location, v[0], v[1], v[2], v[3]);\n    }",int:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",ivec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",ivec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",ivec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",uint:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1ui(location, v);\n    }",uvec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2ui(location, v[0], v[1]);\n    }",uvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3ui(location, v[0], v[1], v[2]);\n    }",uvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);\n    }",bool:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1i(location, v);\n    }",bvec2:"\n    if (cv[0] != v[0] || cv[1] != v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",bvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",bvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",samplerCube:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",sampler2DArray:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }"},At={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};var Rt,jt={},It=jt;function Ct(){if(!Rt){Rt=n.Pk.MEDIUM;var t=function(){var t;if(It===jt||null!==(t=It)&&void 0!==t&&t.isContextLost()){var e,r=i.W0.ADAPTER.createCanvas();i.W0.PREFER_ENV>=n.Km.WEBGL2&&(e=r.getContext("webgl2",{})),e||((e=r.getContext("webgl",{})||r.getContext("experimental-webgl",{}))?e.getExtension("WEBGL_draw_buffers"):e=null),It=e}return It}();if(t&&t.getShaderPrecisionFormat){var e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);e&&(Rt=e.precision?n.Pk.HIGH:n.Pk.MEDIUM)}}return Rt}r(48158254),r(13223918);function Mt(t,e){var r,n=t.getShaderSource(e).split("\n").map(function(t,e){return"".concat(e,": ").concat(t)}),i=t.getShaderInfoLog(e),o=i.split("\n"),a={},s=o.map(function(t){return parseFloat(t.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))}).filter(function(t){return!(!t||a[t])&&(a[t]=!0,!0)}),u=[""];s.forEach(function(t){n[t-1]="%c".concat(n[t-1],"%c"),u.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});var c=n.join("\n");u[0]=c,console.error(i),console.groupCollapsed("click to view full shader code"),(r=console).warn.apply(r,u),console.groupEnd()}var Dt={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function Nt(t){return Dt[t]}var Bt=null,Ft={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function Lt(t,e){if(!Bt){var r=Object.keys(Ft);Bt={};for(var n=0;n<r.length;++n){var i=r[n];Bt[t[i]]=Ft[i]}}return Bt[e]}function Ut(t,e,r){if("precision"!==t.substring(0,9)){var i=e;return e===n.Pk.HIGH&&r!==n.Pk.HIGH&&(i=n.Pk.MEDIUM),"precision ".concat(i," float;\n").concat(t)}return r!==n.Pk.HIGH&&"precision highp"===t.substring(0,15)?t.replace("precision highp","precision mediump"):t}function Vt(t){return Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vt(t)}function Xt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Gt(n.key),n)}}function Gt(t){var e=function(t,e){if("object"!=Vt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Vt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Vt(e)?e:e+""}var Yt=0,qt={},Wt=function(){function t(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"pixi-shader",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.extra={},this.id=Yt++,this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=r||t.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=o,"#version"!==this.vertexSrc.substring(0,8)&&(i=i.replace(/\s+/g,"-"),qt[i]?(qt[i]++,i+="-".concat(qt[i])):qt[i]=1,this.vertexSrc="#define SHADER_NAME ".concat(i,"\n").concat(this.vertexSrc),this.fragmentSrc="#define SHADER_NAME ".concat(i,"\n").concat(this.fragmentSrc),this.vertexSrc=Ut(this.vertexSrc,t.defaultVertexPrecision,n.Pk.HIGH),this.fragmentSrc=Ut(this.fragmentSrc,t.defaultFragmentPrecision,Ct())),this.glPrograms={},this.syncUniforms=null}return e=t,i=[{key:"defaultVertexSrc",get:function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"}},{key:"defaultFragmentSrc",get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"}},{key:"from",value:function(e,r,n){var i=e+r,a=o.ProgramCache[i];return a||(o.ProgramCache[i]=a=new t(e,r,n)),a}}],(r=null)&&Xt(e.prototype,r),i&&Xt(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,r,i}();Wt.defaultVertexPrecision=n.Pk.HIGH,Wt.defaultFragmentPrecision=o.isMobile.apple.device?n.Pk.HIGH:n.Pk.MEDIUM;var Ht=Wt;function zt(t){return zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zt(t)}function Qt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Zt(n.key),n)}}function Zt(t){var e=function(t,e){if("object"!=zt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=zt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==zt(e)?e:e+""}var Kt=0,$t=function(){function t(e,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=Kt++,this.static=!!r,this.ubo=!!i,e instanceof nt?(this.buffer=e,this.buffer.type=n.yw.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new nt(new Float32Array(1)),this.buffer.type=n.yw.UNIFORM_BUFFER,this.autoManage=!0))}return e=t,i=[{key:"from",value:function(e,r,n){return new t(e,r,n)}},{key:"uboFrom",value:function(e,r){return new t(e,null==r||r,!0)}}],(r=[{key:"update",value:function(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}},{key:"add",value:function(e,r,n){if(this.ubo)throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them");this.uniforms[e]=new t(r,n)}}])&&Qt(e.prototype,r),i&&Qt(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,r,i}();function Jt(t){return Jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jt(t)}function te(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ee(n.key),n)}}function ee(t){var e=function(t,e){if("object"!=Jt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Jt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Jt(e)?e:e+""}var re=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.uniformBindCount=0,this.program=e,this.uniformGroup=r?r instanceof $t?r:new $t(r):new $t({}),this.disposeRunner=new _("disposeShader")}return e=t,n=[{key:"from",value:function(e,r,n){return new t(Ht.from(e,r),n)}}],(r=[{key:"checkUniformExists",value:function(t,e){if(e.uniforms[t])return!0;for(var r in e.uniforms){var n=e.uniforms[r];if(!0===n.group&&this.checkUniformExists(t,n))return!0}return!1}},{key:"destroy",value:function(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}},{key:"uniforms",get:function(){return this.uniformGroup.uniforms}}])&&te(e.prototype,r),n&&te(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,r,n}();function ne(t){return ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ne(t)}function ie(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,oe(n.key),n)}}function oe(t){var e=function(t,e){if("object"!=ne(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=ne(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ne(e)?e:e+""}var ae=function(){return t=function t(e,r){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.vertexSrc=e,this.fragTemplate=r,this.programCache={},this.defaultGroupCache={},!r.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!r.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')},(e=[{key:"generateShader",value:function(t){if(!this.programCache[t]){for(var e=new Int32Array(t),r=0;r<t;r++)e[r]=r;this.defaultGroupCache[t]=$t.from({uSamplers:e},!0);var n=this.fragTemplate;n=(n=n.replace(/%count%/gi,"".concat(t))).replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new Ht(this.vertexSrc,n)}var i={tint:new Float32Array([1,1,1,1]),translationMatrix:new Et.uq,default:this.defaultGroupCache[t]};return new re(this.programCache[t],i)}},{key:"generateSampleSrc",value:function(t){var e="";e+="\n",e+="\n";for(var r=0;r<t;r++)r>0&&(e+="\nelse "),r<t-1&&(e+="if(vTextureId < ".concat(r,".5)")),e+="\n{",e+="\n\tcolor = texture2D(uSamplers[".concat(r,"], vTextureCoord);"),e+="\n}";return e+="\n",e+="\n"}}])&&ie(t.prototype,e),r&&ie(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();function se(t){return se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},se(t)}function ue(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ce(n.key),n)}}function ce(t){var e=function(t,e){if("object"!=se(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=se(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==se(e)?e:e+""}var le=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.elements=[],this.ids=[],this.count=0},(e=[{key:"clear",value:function(){for(var t=0;t<this.count;t++)this.elements[t]=null;this.count=0}}])&&ue(t.prototype,e),r&&ue(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();r(14112305);function fe(t){return fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fe(t)}function he(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pe(n.key),n)}}function pe(t){var e=function(t,e){if("object"!=fe(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=fe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==fe(e)?e:e+""}var de=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e},(e=[{key:"flush",value:function(){}},{key:"destroy",value:function(){this.renderer=null}},{key:"start",value:function(){}},{key:"stop",value:function(){this.flush()}},{key:"render",value:function(t){}}])&&he(t.prototype,e),r&&he(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();function ye(t){return ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ye(t)}function ve(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,me(n.key),n)}}function me(t){var e=function(t,e){if("object"!=ye(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=ye(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ye(e)?e:e+""}function be(t,e,r){return e=xe(e),function(t,e){if(e&&("object"==ye(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ge(t)}(t,we()?Reflect.construct(e,r||[],xe(t).constructor):e.apply(t,r))}function ge(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function we(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(we=function(){return!!t})()}function Se(){return Se="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=xe(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},Se.apply(null,arguments)}function xe(t){return xe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},xe(t)}function _e(t,e){return _e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_e(t,e)}var Ee=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=be(this,e,[t])).setShaderGenerator(),r.geometryClass=_t,r.vertexSize=6,r.state=m.for2d(),r.size=4*e.defaultBatchSize,r._vertexCount=0,r._indexCount=0,r._bufferedElements=[],r._bufferedTextures=[],r._bufferSize=0,r._shader=null,r._packedGeometries=[],r._packedGeometryPoolSize=2,r._flushId=0,r._aBuffers={},r._iBuffers={},r.maxTextures=1,r.renderer.on("prerender",r.onPrerender,ge(r)),t.runners.contextChange.add(ge(r)),r._dcIndex=0,r._aIndex=0,r._iIndex=0,r._attributeBuffer=null,r._indexBuffer=null,r._tempBoundTextures=[],r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_e(t,e)}(e,t),r=e,s=[{key:"MAX_TEXTURES",get:function(){return(0,o.deprecation)("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}},{key:"setShaderGenerator",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.vertex,n=void 0===r?e.defaultVertexSrc:r,i=t.fragment,o=void 0===i?e.defaultFragmentTemplate:i;this.shaderGenerator=new ae(n,o)}},{key:"contextChange",value:function(){var t=this.renderer.gl;i.W0.PREFER_ENV===n.Km.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),e.defaultMaxTextures),this.maxTextures=function(t,e){if(0===t)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var r=e.createShader(e.FRAGMENT_SHADER);;){var n=h.replace(/%forloop%/gi,p(t));if(e.shaderSource(r,n),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS))break;t=t/2|0}return t}(this.maxTextures,t)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(var r=0;r<this._packedGeometryPoolSize;r++)this._packedGeometries[r]=new this.geometryClass;this.initFlushBuffers()}},{key:"initFlushBuffers",value:function(){for(var t=e._drawCallPool,r=e._textureArrayPool,n=this.size/4,i=Math.floor(n/this.maxTextures)+1;t.length<n;)t.push(new $);for(;r.length<i;)r.push(new le);for(var o=0;o<this.maxTextures;o++)this._tempBoundTextures[o]=null}},{key:"onPrerender",value:function(){this._flushId=0}},{key:"render",value:function(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)}},{key:"buildTexturesAndDrawCalls",value:function(){var t=this._bufferedTextures,r=this.maxTextures,n=e._textureArrayPool,i=this.renderer.batch,o=this._tempBoundTextures,a=this.renderer.textureGC.count,s=++H._globalBatch,u=0,c=n[0],l=0;i.copyBoundTextures(o,r);for(var f=0;f<this._bufferSize;++f){var h=t[f];t[f]=null,h._batchEnabled!==s&&(c.count>=r&&(i.boundArray(c,o,s,r),this.buildDrawCalls(c,l,f),l=f,c=n[++u],++s),h._batchEnabled=s,h.touched=a,c.elements[c.count++]=h)}c.count>0&&(i.boundArray(c,o,s,r),this.buildDrawCalls(c,l,this._bufferSize),++u,++s);for(var p=0;p<o.length;p++)o[p]=null;H._globalBatch=s}},{key:"buildDrawCalls",value:function(t,r,n){var i=this._bufferedElements,a=this._attributeBuffer,s=this._indexBuffer,u=this.vertexSize,c=e._drawCallPool,l=this._dcIndex,f=this._aIndex,h=this._iIndex,p=c[l];p.start=this._iIndex,p.texArray=t;for(var d=r;d<n;++d){var y=i[d],v=y._texture.baseTexture,m=o.premultiplyBlendMode[v.alphaMode?1:0][y.blendMode];i[d]=null,r<d&&p.blend!==m&&(p.size=h-p.start,r=d,(p=c[++l]).texArray=t,p.start=h),this.packInterleavedGeometry(y,a,s,f,h),f+=y.vertexData.length/2*u,h+=y.indices.length,p.blend=m}r<n&&(p.size=h-p.start,++l),this._dcIndex=l,this._aIndex=f,this._iIndex=h}},{key:"bindAndClearTexArray",value:function(t){for(var e=this.renderer.texture,r=0;r<t.count;r++)e.bind(t.elements[r],t.ids[r]),t.elements[r]=null;t.count=0}},{key:"updateGeometry",value:function(){var t=this._packedGeometries,r=this._attributeBuffer,n=this._indexBuffer;e.canUploadSameBuffer?(t[this._flushId]._buffer.update(r.rawBinaryData),t[this._flushId]._indexBuffer.update(n),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(r.rawBinaryData),t[this._flushId]._indexBuffer.update(n),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}},{key:"drawBatches",value:function(){for(var t=this._dcIndex,r=this.renderer,n=r.gl,i=r.state,o=e._drawCallPool,a=null,s=0;s<t;s++){var u=o[s],c=u.texArray,l=u.type,f=u.size,h=u.start,p=u.blend;a!==c&&(a=c,this.bindAndClearTexArray(c)),this.state.blendMode=p,i.set(this.state),n.drawElements(l,f,n.UNSIGNED_SHORT,2*h)}}},{key:"flush",value:function(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}},{key:"start",value:function(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),e.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}},{key:"stop",value:function(){this.flush()}},{key:"destroy",value:function(){for(var t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]&&this._packedGeometries[t].destroy();var r,n,i,o,a;this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),(r=e,n="destroy",i=this,a=Se(xe(1&(o=3)?r.prototype:r),n,i),2&o&&"function"==typeof a?function(t){return a.apply(i,t)}:a)([])}},{key:"getAttributeBuffer",value:function(t){var e=(0,o.nextPow2)(Math.ceil(t/8)),r=(0,o.log2)(e),n=8*e;this._aBuffers.length<=r&&(this._iBuffers.length=r+1);var i=this._aBuffers[n];return i||(this._aBuffers[n]=i=new f(n*this.vertexSize*4)),i}},{key:"getIndexBuffer",value:function(t){var e=(0,o.nextPow2)(Math.ceil(t/12)),r=(0,o.log2)(e),n=12*e;this._iBuffers.length<=r&&(this._iBuffers.length=r+1);var i=this._iBuffers[r];return i||(this._iBuffers[r]=i=new Uint16Array(n)),i}},{key:"packInterleavedGeometry",value:function(t,e,r,n,i){for(var o=e.uint32View,s=e.float32View,u=n/this.vertexSize,c=t.uvs,l=t.indices,f=t.vertexData,h=t._texture.baseTexture._batchLocation,p=Math.min(t.worldAlpha,1),d=a.Q.shared.setValue(t._tintRGB).toPremultiplied(p,t._texture.baseTexture.alphaMode>0),y=0;y<f.length;y+=2)s[n++]=f[y],s[n++]=f[y+1],s[n++]=c[y],s[n++]=c[y+1],o[n++]=d,s[n++]=h;for(var v=0;v<l.length;v++)r[i++]=u+l[v]}}],u=[{key:"defaultMaxTextures",get:function(){var t;return this._defaultMaxTextures=null!==(t=this._defaultMaxTextures)&&void 0!==t?t:function(t){var e=!0,r=i.W0.ADAPTER.getNavigator();if(i.Fr.tablet||i.Fr.phone){if(i.Fr.apple.device){var n=r.userAgent.match(/OS (\d+)_(\d+)?/);n&&parseInt(n[1],10)<11&&(e=!1)}if(i.Fr.android.device){var o=r.userAgent.match(/Android\s([0-9.]*)/);o&&parseInt(o[1],10)<7&&(e=!1)}}return e?t:4}(32),this._defaultMaxTextures},set:function(t){this._defaultMaxTextures=t}},{key:"canUploadSameBuffer",get:function(){var t;return this._canUploadSameBuffer=null!==(t=this._canUploadSameBuffer)&&void 0!==t?t:!i.Fr.apple.device,this._canUploadSameBuffer},set:function(t){this._canUploadSameBuffer=t}},{key:"defaultVertexSrc",get:function(){return"precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n"}},{key:"defaultFragmentTemplate",get:function(){return"varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n"}}],s&&ve(r.prototype,s),u&&ve(r,u),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,s,u}(de);Ee.defaultBatchSize=4096,Ee.extension={name:"batch",type:s.A.RendererPlugin},Ee._drawCallPool=[],Ee._textureArrayPool=[];var Te=Ee;s.X.add(Te);function ke(t){return ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ke(t)}function Pe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Oe(n.key),n)}}function Oe(t){var e=function(t,e){if("object"!=ke(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=ke(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ke(e)?e:e+""}function Ae(t,e,r){return e=je(e),function(t,e){if(e&&("object"==ke(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Re()?Reflect.construct(e,r||[],je(t).constructor):e.apply(t,r))}function Re(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Re=function(){return!!t})()}function je(t){return je=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},je(t)}function Ie(t,e){return Ie=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ie(t,e)}var Ce=function(t){function e(t,r,n){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=Ae(this,e,[Ht.from(t||e.defaultVertexSrc,r||e.defaultFragmentSrc),n])).padding=0,i.resolution=e.defaultResolution,i.multisample=e.defaultMultisample,i.enabled=!0,i.autoFit=!0,i.state=new m,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ie(t,e)}(e,t),r=e,i=[{key:"defaultVertexSrc",get:function(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"}},{key:"defaultFragmentSrc",get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"}}],(n=[{key:"apply",value:function(t,e,r,n,i){t.applyFilter(this,e,r,n)}},{key:"blendMode",get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t}},{key:"resolution",get:function(){return this._resolution},set:function(t){this._resolution=t}}])&&Pe(r.prototype,n),i&&Pe(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i}(re);Ce.defaultResolution=1,Ce.defaultMultisample=n.he.NONE;var Me=Ce;function De(t){return De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},De(t)}function Ne(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Be(n.key),n)}}function Be(t){var e=function(t,e){if("object"!=De(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=De(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==De(e)?e:e+""}var Fe=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.clearBeforeRender=!0,this._backgroundColor=new a.Q(0),this.alpha=1},(e=[{key:"init",value:function(t){this.clearBeforeRender=t.clearBeforeRender;var e=t.backgroundColor,r=t.background,n=t.backgroundAlpha,i=null!=r?r:e;void 0!==i&&(this.color=i),this.alpha=n}},{key:"color",get:function(){return this._backgroundColor.value},set:function(t){this._backgroundColor.setValue(t)}},{key:"alpha",get:function(){return this._backgroundColor.alpha},set:function(t){this._backgroundColor.setAlpha(t)}},{key:"backgroundColor",get:function(){return this._backgroundColor}},{key:"destroy",value:function(){}}])&&Ne(t.prototype,e),r&&Ne(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();function Le(t){return Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Le(t)}function Ue(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ve(n.key),n)}}function Ve(t){var e=function(t,e){if("object"!=Le(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Le(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Le(e)?e:e+""}Fe.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},Fe.extension={type:[s.A.RendererSystem,s.A.CanvasRendererSystem],name:"background"},s.X.add(Fe);var Xe=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e,this.emptyRenderer=new de(e),this.currentRenderer=this.emptyRenderer},(e=[{key:"setObjectRenderer",value:function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())}},{key:"flush",value:function(){this.setObjectRenderer(this.emptyRenderer)}},{key:"reset",value:function(){this.setObjectRenderer(this.emptyRenderer)}},{key:"copyBoundTextures",value:function(t,e){for(var r=this.renderer.texture.boundTextures,n=e-1;n>=0;--n)t[n]=r[n]||null,t[n]&&(t[n]._batchLocation=n)}},{key:"boundArray",value:function(t,e,r,n){for(var i=t.elements,o=t.ids,a=t.count,s=0,u=0;u<a;u++){var c=i[u],l=c._batchLocation;if(l>=0&&l<n&&e[l]===c)o[u]=l;else for(;s<n;){var f=e[s];if(!f||f._batchEnabled!==r||f._batchLocation!==s){o[u]=s,c._batchLocation=s,e[s]=c;break}s++}}}},{key:"destroy",value:function(){this.renderer=null}}])&&Ue(t.prototype,e),r&&Ue(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();Xe.extension={type:s.A.RendererSystem,name:"batch"},s.X.add(Xe);r(76824265);function Ge(t){return Ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ge(t)}function Ye(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qe(n.key),n)}}function qe(t){var e=function(t,e){if("object"!=Ge(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Ge(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ge(e)?e:e+""}var We=0,He=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)},(e=[{key:"isLost",get:function(){return!this.gl||this.gl.isContextLost()}},{key:"contextChange",value:function(t){this.gl=t,this.renderer.gl=t,this.renderer.CONTEXT_UID=We++}},{key:"init",value:function(t){if(t.context)this.initFromContext(t.context);else{var e=this.renderer.background.alpha<1,r=t.premultipliedAlpha;this.preserveDrawingBuffer=t.preserveDrawingBuffer,this.useContextAlpha=t.useContextAlpha,this.powerPreference=t.powerPreference,this.initFromOptions({alpha:e,premultipliedAlpha:r,antialias:t.antialias,stencil:!0,preserveDrawingBuffer:t.preserveDrawingBuffer,powerPreference:t.powerPreference})}}},{key:"initFromContext",value:function(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=We++,this.renderer.runners.contextChange.emit(t);var e=this.renderer.view;void 0!==e.addEventListener&&(e.addEventListener("webglcontextlost",this.handleContextLost,!1),e.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}},{key:"initFromOptions",value:function(t){var e=this.createContext(this.renderer.view,t);this.initFromContext(e)}},{key:"createContext",value:function(t,e){var r;if(i.W0.PREFER_ENV>=n.Km.WEBGL2&&(r=t.getContext("webgl2",e)),r)this.webGLVersion=2;else if(this.webGLVersion=1,!(r=t.getContext("webgl",e)||t.getContext("experimental-webgl",e)))throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=r,this.getExtensions(),this.gl}},{key:"getExtensions",value:function(){var t=this.gl,e={loseContext:t.getExtension("WEBGL_lose_context"),anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),s3tc:t.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:t.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:t.getExtension("WEBGL_compressed_texture_etc"),etc1:t.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:t.getExtension("WEBGL_compressed_texture_atc"),astc:t.getExtension("WEBGL_compressed_texture_astc"),bptc:t.getExtension("EXT_texture_compression_bptc")};1===this.webGLVersion?Object.assign(this.extensions,e,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBGL_depth_texture"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,e,{colorBufferFloat:t.getExtension("EXT_color_buffer_float")})}},{key:"handleContextLost",value:function(t){var e=this;t.preventDefault(),setTimeout(function(){e.gl.isContextLost()&&e.extensions.loseContext&&e.extensions.loseContext.restoreContext()},0)}},{key:"handleContextRestored",value:function(){this.renderer.runners.contextChange.emit(this.gl)}},{key:"destroy",value:function(){var t=this.renderer.view;this.renderer=null,void 0!==t.removeEventListener&&(t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}},{key:"postrender",value:function(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}},{key:"validateContext",value:function(t){var e=t.getContextAttributes(),r="WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext;r&&(this.webGLVersion=2),e&&!e.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var n=r||!!t.getExtension("OES_element_index_uint");this.supports.uint32Indices=n,n||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}])&&Ye(t.prototype,e),r&&Ye(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();function ze(t){return ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ze(t)}function Qe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ze(n.key),n)}}function Ze(t){var e=function(t,e){if("object"!=ze(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=ze(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ze(e)?e:e+""}He.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},He.extension={type:s.A.RendererSystem,name:"context"},s.X.add(He);var Ke=function(){return t=function t(e,r){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.width=Math.round(e),this.height=Math.round(r),!this.width||!this.height)throw new Error("Framebuffer width or height is zero");this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new _("disposeFramebuffer"),this.multisample=n.he.NONE},e=[{key:"colorTexture",get:function(){return this.colorTextures[0]}},{key:"addColorTexture",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;return this.colorTextures[t]=e||new H(null,{scaleMode:n.M6.NEAREST,resolution:1,mipmap:n.E8.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}},{key:"addDepthTexture",value:function(t){return this.depthTexture=t||new H(null,{scaleMode:n.M6.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:n.E8.OFF,format:n.hR.DEPTH_COMPONENT,type:n.QE.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}},{key:"enableDepth",value:function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}},{key:"enableStencil",value:function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}},{key:"resize",value:function(t,e){if(t=Math.round(t),e=Math.round(e),!t||!e)throw new Error("Framebuffer width and height must not be zero");if(t!==this.width||e!==this.height){this.width=t,this.height=e,this.dirtyId++,this.dirtySize++;for(var r=0;r<this.colorTextures.length;r++){var n=this.colorTextures[r],i=n.resolution;n.setSize(t/i,e/i)}if(this.depthTexture){var o=this.depthTexture.resolution;this.depthTexture.setSize(t/o,e/o)}}}},{key:"dispose",value:function(){this.disposeRunner.emit(this,!1)}},{key:"destroyDepthTexture",value:function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}],e&&Qe(t.prototype,e),r&&Qe(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();function $e(t){return $e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$e(t)}function Je(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,tr(n.key),n)}}function tr(t){var e=function(t,e){if("object"!=$e(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=$e(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==$e(e)?e:e+""}function er(t,e,r){return e=ar(e),function(t,e){if(e&&("object"==$e(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return rr(t)}(t,nr()?Reflect.construct(e,r||[],ar(t).constructor):e.apply(t,r))}function rr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nr(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(nr=function(){return!!t})()}function ir(t,e,r,n){var i=or(ar(1&n?t.prototype:t),e,r);return 2&n&&"function"==typeof i?function(t){return i.apply(r,t)}:i}function or(){return or="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=ar(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},or.apply(null,arguments)}function ar(t){return ar=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ar(t)}function sr(t,e){return sr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},sr(t,e)}var ur=function(t){function e(){var t,r,i,o,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),"number"==typeof s)&&(s={width:arguments[0],height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]});return s.width=null!==(t=s.width)&&void 0!==t?t:100,s.height=null!==(r=s.height)&&void 0!==r?r:100,null!==(i=s.multisample)&&void 0!==i||(s.multisample=n.he.NONE),(o=er(this,e,[null,s])).mipmap=n.E8.OFF,o.valid=!0,o._clear=new a.Q([0,0,0,0]),o.framebuffer=new Ke(o.realWidth,o.realHeight).addColorTexture(0,rr(o)),o.framebuffer.multisample=s.multisample,o.maskStack=[],o.filterStack=[{}],o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sr(t,e)}(e,t),r=e,(i=[{key:"clearColor",get:function(){return this._clear.value},set:function(t){this._clear.setValue(t)}},{key:"clear",get:function(){return this._clear}},{key:"multisample",get:function(){return this.framebuffer.multisample},set:function(t){this.framebuffer.multisample=t}},{key:"resize",value:function(t,e){this.framebuffer.resize(t*this.resolution,e*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}},{key:"dispose",value:function(){this.framebuffer.dispose(),ir(e,"dispose",this,3)([])}},{key:"destroy",value:function(){ir(e,"destroy",this,3)([]),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}])&&Je(r.prototype,i),o&&Je(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(H);r(40921472);function cr(t){return cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cr(t)}function lr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fr(n.key),n)}}function fr(t){var e=function(t,e){if("object"!=cr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=cr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==cr(e)?e:e+""}function hr(t,e,r){return e=yr(e),function(t,e){if(e&&("object"==cr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,pr()?Reflect.construct(e,r||[],yr(t).constructor):e.apply(t,r))}function pr(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(pr=function(){return!!t})()}function dr(){return dr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=yr(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},dr.apply(null,arguments)}function yr(t){return yr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},yr(t)}function vr(t,e){return vr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},vr(t,e)}var mr=function(t){function e(t){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t;return(r=hr(this,e,[n.naturalWidth||n.videoWidth||n.displayWidth||n.width,n.naturalHeight||n.videoHeight||n.displayHeight||n.height])).source=t,r.noSubImage=!1,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vr(t,e)}(e,t),r=e,i=[{key:"upload",value:function(t,e,r,i){var o=t.gl,a=e.realWidth,s=e.realHeight;if(i=i||this.source,("undefined"==typeof HTMLImageElement?"undefined":cr(HTMLImageElement))<"u"&&i instanceof HTMLImageElement){if(!i.complete||0===i.naturalWidth)return!1}else if(("undefined"==typeof HTMLVideoElement?"undefined":cr(HTMLVideoElement))<"u"&&i instanceof HTMLVideoElement&&i.readyState<=1)return!1;return o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===n.Gk.UNPACK),this.noSubImage||e.target!==o.TEXTURE_2D||r.width!==a||r.height!==s?(r.width=a,r.height=s,o.texImage2D(e.target,0,r.internalFormat,e.format,r.type,i)):o.texSubImage2D(o.TEXTURE_2D,0,0,0,e.format,r.type,i),!0}},{key:"update",value:function(){if(!this.destroyed){var t,r,n,i,o,a=this.source,s=a.naturalWidth||a.videoWidth||a.width,u=a.naturalHeight||a.videoHeight||a.height;this.resize(s,u),(t=e,r="update",n=this,o=dr(yr(1&(i=3)?t.prototype:t),r,n),2&i&&"function"==typeof o?function(t){return o.apply(n,t)}:o)([])}}},{key:"dispose",value:function(){this.source=null}}],a=[{key:"crossOrigin",value:function(t,e,r){void 0!==r||e.startsWith("data:")?!1!==r&&(t.crossOrigin="string"==typeof r?r:"anonymous"):t.crossOrigin=(0,o.determineCrossOrigin)(e)}}],i&&lr(r.prototype,i),a&&lr(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,a}(P);function br(t){return br="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},br(t)}function gr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,wr(n.key),n)}}function wr(t){var e=function(t,e){if("object"!=br(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=br(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==br(e)?e:e+""}function Sr(t,e,r){return e=Tr(e),function(t,e){if(e&&("object"==br(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,xr()?Reflect.construct(e,r||[],Tr(t).constructor):e.apply(t,r))}function xr(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(xr=function(){return!!t})()}function _r(t,e,r,n){var i=Er(Tr(1&n?t.prototype:t),e,r);return 2&n&&"function"==typeof i?function(t){return i.apply(r,t)}:i}function Er(){return Er="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=Tr(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},Er.apply(null,arguments)}function Tr(t){return Tr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Tr(t)}function kr(t,e){return kr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},kr(t,e)}var Pr=function(t){function e(t,r){var n,o;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=r||{},"string"==typeof t){var a=new Image;mr.crossOrigin(a,t,r.crossorigin),a.src=t,t=a}return o=Sr(this,e,[t]),!t.complete&&o._width&&o._height&&(o._width=0,o._height=0),o.url=t.src,o._process=null,o.preserveBitmap=!1,o.createBitmap=(null!==(n=r.createBitmap)&&void 0!==n?n:i.W0.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,o.alphaMode="number"==typeof r.alphaMode?r.alphaMode:null,o.bitmap=null,o._load=null,!1!==r.autoLoad&&o.load(),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kr(t,e)}(e,t),r=e,a=[{key:"test",value:function(t){return("undefined"==typeof HTMLImageElement?"undefined":br(HTMLImageElement))<"u"&&("string"==typeof t||t instanceof HTMLImageElement)}}],(o=[{key:"load",value:function(t){var e=this;return this._load||(void 0!==t&&(this.createBitmap=t),this._load=new Promise(function(t,r){var n=e.source;e.url=n.src;var i=function(){e.destroyed||(n.onload=null,n.onerror=null,e.update(),e._load=null,e.createBitmap?t(e.process()):t(e))};n.complete&&n.src?i():(n.onload=i,n.onerror=function(t){r(t),e.onError.emit(t)})})),this._load}},{key:"process",value:function(){var t=this,e=this.source;if(null!==this._process)return this._process;if(null!==this.bitmap||!globalThis.createImageBitmap)return Promise.resolve(this);var r=globalThis.createImageBitmap,i=!e.crossOrigin||"anonymous"===e.crossOrigin;return this._process=fetch(e.src,{mode:i?"cors":"no-cors"}).then(function(t){return t.blob()}).then(function(i){return r(i,0,0,e.width,e.height,{premultiplyAlpha:null===t.alphaMode||t.alphaMode===n.Gk.UNPACK?"premultiply":"none"})}).then(function(e){return t.destroyed?Promise.reject():(t.bitmap=e,t.update(),t._process=null,Promise.resolve(t))}),this._process}},{key:"upload",value:function(t,r,n){if("number"==typeof this.alphaMode&&(r.alphaMode=this.alphaMode),!this.createBitmap)return _r(e,"upload",this,3)([t,r,n]);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(_r(e,"upload",this,3)([t,r,n,this.bitmap]),!this.preserveBitmap){var i=!0,o=r._glTextures;for(var a in o){var s=o[a];if(s!==n&&s.dirtyId!==r.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}},{key:"dispose",value:function(){this.source.onload=null,this.source.onerror=null,_r(e,"dispose",this,3)([]),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}}])&&gr(r.prototype,o),a&&gr(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,a}(mr);function Or(t){return Or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Or(t)}function Ar(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Rr(n.key),n)}}function Rr(t){var e=function(t,e){if("object"!=Or(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Or(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Or(e)?e:e+""}var jr=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)},(e=[{key:"set",value:function(t,e,r){var n=e.width,i=e.height;if(r){var o=t.width/2/n,a=t.height/2/i,s=t.x/n+o,u=t.y/i+a;r=Et.ER.add(r,Et.ER.NW),this.x0=s+o*Et.ER.uX(r),this.y0=u+a*Et.ER.uY(r),r=Et.ER.add(r,2),this.x1=s+o*Et.ER.uX(r),this.y1=u+a*Et.ER.uY(r),r=Et.ER.add(r,2),this.x2=s+o*Et.ER.uX(r),this.y2=u+a*Et.ER.uY(r),r=Et.ER.add(r,2),this.x3=s+o*Et.ER.uX(r),this.y3=u+a*Et.ER.uY(r)}else this.x0=t.x/n,this.y0=t.y/i,this.x1=(t.x+t.width)/n,this.y1=t.y/i,this.x2=(t.x+t.width)/n,this.y2=(t.y+t.height)/i,this.x3=t.x/n,this.y3=(t.y+t.height)/i;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}}])&&Ar(t.prototype,e),r&&Ar(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();function Ir(t){return Ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ir(t)}function Cr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Mr(n.key),n)}}function Mr(t){var e=function(t,e){if("object"!=Ir(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Ir(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ir(e)?e:e+""}function Dr(t,e,r){return e=Br(e),function(t,e){if(e&&("object"==Ir(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Nr()?Reflect.construct(e,r||[],Br(t).constructor):e.apply(t,r))}function Nr(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Nr=function(){return!!t})()}function Br(t){return Br=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Br(t)}function Fr(t,e){return Fr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Fr(t,e)}jr.prototype.toString=function(){return"[@pixi/core:TextureUvs x0=".concat(this.x0," y0=").concat(this.y0," x1=").concat(this.x1," y1=").concat(this.y1," x2=").concat(this.x2," y2=").concat(this.y2," x3=").concat(this.x3," y3=").concat(this.y3,"]")};var Lr=new jr;function Ur(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}var Vr=function(t){function e(t,r,n,i,o,a,s){var u;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(u=Dr(this,e)).noFrame=!1,r||(u.noFrame=!0,r=new Et.M_(0,0,1,1)),t instanceof e&&(t=t.baseTexture),u.baseTexture=t,u._frame=r,u.trim=i,u.valid=!1,u.destroyed=!1,u._uvs=Lr,u.uvMatrix=null,u.orig=n||r,u._rotate=Number(o||0),!0===o)u._rotate=2;else if(u._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return u.defaultAnchor=a?new Et.bR(a.x,a.y):new Et.bR(0,0),u.defaultBorders=s,u._updateID=0,u.textureCacheIds=[],t.valid?u.noFrame?t.valid&&u.onBaseTextureUpdated(t):u.frame=r:t.once("loaded",u.onBaseTextureUpdated,u),u.noFrame&&t.on("update",u.onBaseTextureUpdated,u),u}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fr(t,e)}(e,t),r=e,a=[{key:"from",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.W0.STRICT_TEXTURE_CACHE,a="string"==typeof t,s=null;if(a)s=t;else if(t instanceof H){if(!t.cacheId){var u=(null==r?void 0:r.pixiIdPrefix)||"pixiid";t.cacheId="".concat(u,"-").concat((0,o.uid)()),H.addToCache(t,t.cacheId)}s=t.cacheId}else{if(!t._pixiId){var c=(null==r?void 0:r.pixiIdPrefix)||"pixiid";t._pixiId="".concat(c,"_").concat((0,o.uid)())}s=t._pixiId}var l=o.TextureCache[s];if(a&&n&&!l)throw new Error('The cacheId "'.concat(s,'" does not exist in TextureCache.'));return l||t instanceof H?!l&&t instanceof H&&(l=new e(t),e.addToCache(l,s)):(r.resolution||(r.resolution=(0,o.getResolutionOfUrl)(t)),(l=new e(new H(t,r))).baseTexture.cacheId=s,H.addToCache(l.baseTexture,s),e.addToCache(l,s)),l}},{key:"fromURL",value:function(t,r){var n=Object.assign({autoLoad:!1},null==r?void 0:r.resourceOptions),i=e.from(t,Object.assign({resourceOptions:n},r),!1),o=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):o.load().then(function(){return Promise.resolve(i)})}},{key:"fromBuffer",value:function(t,r,n,i){return new e(H.fromBuffer(t,r,n,i))}},{key:"fromLoader",value:function(t,r,n,i){var a=new H(t,Object.assign({scaleMode:H.defaultOptions.scaleMode,resolution:(0,o.getResolutionOfUrl)(r)},i)),s=a.resource;s instanceof Pr&&(s.url=r);var u=new e(a);return n||(n=r),H.addToCache(u.baseTexture,n),e.addToCache(u,n),n!==r&&(H.addToCache(u.baseTexture,r),e.addToCache(u,r)),u.baseTexture.valid?Promise.resolve(u):new Promise(function(t){u.baseTexture.once("loaded",function(){return t(u)})})}},{key:"addToCache",value:function(t,e){e&&(t.textureCacheIds.includes(e)||t.textureCacheIds.push(e),o.TextureCache[e]&&o.TextureCache[e]!==t&&console.warn("Texture added to the cache with an id [".concat(e,"] that already had an entry")),o.TextureCache[e]=t)}},{key:"removeFromCache",value:function(t){if("string"==typeof t){var e=o.TextureCache[t];if(e){var r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete o.TextureCache[t],e}}else if(null!=t&&t.textureCacheIds){for(var n=0;n<t.textureCacheIds.length;++n)o.TextureCache[t.textureCacheIds[n]]===t&&delete o.TextureCache[t.textureCacheIds[n]];return t.textureCacheIds.length=0,t}return null}},{key:"EMPTY",get:function(){return e._EMPTY||(e._EMPTY=new e(new H),Ur(e._EMPTY),Ur(e._EMPTY.baseTexture)),e._EMPTY}},{key:"WHITE",get:function(){if(!e._WHITE){var t=i.W0.ADAPTER.createCanvas(16,16),r=t.getContext("2d");t.width=16,t.height=16,r.fillStyle="white",r.fillRect(0,0,16,16),e._WHITE=new e(H.from(t)),Ur(e._WHITE),Ur(e._WHITE.baseTexture)}return e._WHITE}}],(n=[{key:"update",value:function(){this.baseTexture.resource&&this.baseTexture.resource.update()}},{key:"onBaseTextureUpdated",value:function(t){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=t.width,this._frame.height=t.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}},{key:"destroy",value:function(t){if(this.baseTexture){if(t){var r=this.baseTexture.resource;null!=r&&r.url&&o.TextureCache[r.url]&&e.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}},{key:"clone",value:function(){var t,r=this._frame.clone(),n=this._frame===this.orig?r:this.orig.clone(),i=new e(this.baseTexture,!this.noFrame&&r,n,null===(t=this.trim)||void 0===t?void 0:t.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(i._frame=r),i}},{key:"updateUvs",value:function(){this._uvs===Lr&&(this._uvs=new jr),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}},{key:"resolution",get:function(){return this.baseTexture.resolution}},{key:"frame",get:function(){return this._frame},set:function(t){this._frame=t,this.noFrame=!1;var e=t.x,r=t.y,n=t.width,i=t.height,o=e+n>this.baseTexture.width,a=r+i>this.baseTexture.height;if(o||a){var s=o&&a?"and":"or",u="X: ".concat(e," + ").concat(n," = ").concat(e+n," > ").concat(this.baseTexture.width),c="Y: ".concat(r," + ").concat(i," = ").concat(r+i," > ").concat(this.baseTexture.height);throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: ".concat(u," ").concat(s," ").concat(c))}this.valid=n&&i&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=t),this.valid&&this.updateUvs()}},{key:"rotate",get:function(){return this._rotate},set:function(t){this._rotate=t,this.valid&&this.updateUvs()}},{key:"width",get:function(){return this.orig.width}},{key:"height",get:function(){return this.orig.height}},{key:"castToBaseTexture",value:function(){return this.baseTexture}}])&&Cr(r.prototype,n),a&&Cr(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,a}(o.EventEmitter);function Xr(t){return Xr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xr(t)}function Gr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Yr(n.key),n)}}function Yr(t){var e=function(t,e){if("object"!=Xr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Xr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Xr(e)?e:e+""}function qr(t,e,r){return e=Hr(e),function(t,e){if(e&&("object"==Xr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Wr()?Reflect.construct(e,r||[],Hr(t).constructor):e.apply(t,r))}function Wr(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Wr=function(){return!!t})()}function Hr(t){return Hr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Hr(t)}function zr(t,e){return zr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},zr(t,e)}var Qr=function(t){function e(t,r){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=qr(this,e,[t,r])).valid=!0,n.filterFrame=null,n.filterPoolKey=null,n.updateUvs(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zr(t,e)}(e,t),r=e,n=[{key:"framebuffer",get:function(){return this.baseTexture.framebuffer}},{key:"multisample",get:function(){return this.framebuffer.multisample},set:function(t){this.framebuffer.multisample=t}},{key:"resize",value:function(t,e){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=this.baseTexture.resolution,i=Math.round(t*n)/n,o=Math.round(e*n)/n;this.valid=i>0&&o>0,this._frame.width=this.orig.width=i,this._frame.height=this.orig.height=o,r&&this.baseTexture.resize(i,o),this.updateUvs()}},{key:"setResolution",value:function(t){var e=this.baseTexture;e.resolution!==t&&(e.setResolution(t),this.resize(e.width,e.height,!1))}}],i=[{key:"create",value:function(t){return new e(new ur(t))}}],n&&Gr(r.prototype,n),i&&Gr(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i}(Vr);function Zr(t){return Zr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zr(t)}function Kr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$r(n.key),n)}}function $r(t){var e=function(t,e){if("object"!=Zr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Zr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Zr(e)?e:e+""}var Jr=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0},e=[{key:"createTexture",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n.he.NONE,i=new ur(Object.assign({width:t,height:e,resolution:1,multisample:r},this.textureOptions));return new Qr(i)}},{key:"getOptimalTexture",value:function(t,e){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n.he.NONE;t=Math.max(Math.ceil(t*i-1e-6),1),e=Math.max(Math.ceil(e*i-1e-6),1),this.enableFullScreen&&t===this._pixelsWidth&&e===this._pixelsHeight?r=a>1?-a:-1:(r=((65535&(t=(0,o.nextPow2)(t)))<<16|65535&(e=(0,o.nextPow2)(e)))>>>0,a>1&&(r+=4294967296*a)),this.texturePool[r]||(this.texturePool[r]=[]);var s=this.texturePool[r].pop();return s||(s=this.createTexture(t,e,a)),s.filterPoolKey=r,s.setResolution(i),s}},{key:"getFilterTexture",value:function(t,e,r){var i=this.getOptimalTexture(t.width,t.height,e||t.resolution,r||n.he.NONE);return i.filterFrame=t.filterFrame,i}},{key:"returnTexture",value:function(t){var e=t.filterPoolKey;t.filterFrame=null,this.texturePool[e].push(t)}},{key:"returnFilterTexture",value:function(t){this.returnTexture(t)}},{key:"clear",value:function(t){if(t=!1!==t)for(var e in this.texturePool){var r=this.texturePool[e];if(r)for(var n=0;n<r.length;n++)r[n].destroy(!0)}this.texturePool={}}},{key:"setScreenSize",value:function(t){if(t.width!==this._pixelsWidth||t.height!==this._pixelsHeight){for(var e in this.enableFullScreen=t.width>0&&t.height>0,this.texturePool)if(Number(e)<0){var r=this.texturePool[e];if(r)for(var n=0;n<r.length;n++)r[n].destroy(!0);this.texturePool[e]=[]}this._pixelsWidth=t.width,this._pixelsHeight=t.height}}}],e&&Kr(t.prototype,e),r&&Kr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();function tn(t){return tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tn(t)}function en(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,rn(n.key),n)}}function rn(t){var e=function(t,e){if("object"!=tn(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=tn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==tn(e)?e:e+""}function nn(t,e,r){return e=an(e),function(t,e){if(e&&("object"==tn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,on()?Reflect.construct(e,r||[],an(t).constructor):e.apply(t,r))}function on(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(on=function(){return!!t})()}function an(t){return an=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},an(t)}function sn(t,e){return sn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},sn(t,e)}Jr.SCREEN_KEY=-1;var un=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=nn(this,e)).addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sn(t,e)}(e,t),r=e,n&&en(r.prototype,n),i&&en(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i}(yt);function cn(t){return cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cn(t)}function ln(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fn(n.key),n)}}function fn(t){var e=function(t,e){if("object"!=cn(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=cn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==cn(e)?e:e+""}function hn(t,e,r){return e=dn(e),function(t,e){if(e&&("object"==cn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,pn()?Reflect.construct(e,r||[],dn(t).constructor):e.apply(t,r))}function pn(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(pn=function(){return!!t})()}function dn(t){return dn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},dn(t)}function yn(t,e){return yn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},yn(t,e)}var vn=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=hn(this,e)).vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),t.uvs=new Float32Array([0,0,1,0,1,1,0,1]),t.vertexBuffer=new nt(t.vertices),t.uvBuffer=new nt(t.uvs),t.addAttribute("aVertexPosition",t.vertexBuffer).addAttribute("aTextureCoord",t.uvBuffer).addIndex([0,1,2,0,2,3]),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yn(t,e)}(e,t),r=e,(n=[{key:"map",value:function(t,e){var r=0,n=0;return this.uvs[0]=r,this.uvs[1]=n,this.uvs[2]=r+e.width/t.width,this.uvs[3]=n,this.uvs[4]=r+e.width/t.width,this.uvs[5]=n+e.height/t.height,this.uvs[6]=r,this.uvs[7]=n+e.height/t.height,r=e.x,n=e.y,this.vertices[0]=r,this.vertices[1]=n,this.vertices[2]=r+e.width,this.vertices[3]=n,this.vertices[4]=r+e.width,this.vertices[5]=n+e.height,this.vertices[6]=r,this.vertices[7]=n+e.height,this.invalidate(),this}},{key:"invalidate",value:function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}])&&ln(r.prototype,n),i&&ln(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i}(yt);function mn(t){return mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mn(t)}function bn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gn(n.key),n)}}function gn(t){var e=function(t,e){if("object"!=mn(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=mn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==mn(e)?e:e+""}var wn=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=n.he.NONE,this.sourceFrame=new Et.M_,this.destinationFrame=new Et.M_,this.bindingSourceFrame=new Et.M_,this.bindingDestinationFrame=new Et.M_,this.filters=[],this.transform=null},(e=[{key:"clear",value:function(){this.target=null,this.filters=null,this.renderTexture=null}}])&&bn(t.prototype,e),r&&bn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();function Sn(t){return Sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sn(t)}function xn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_n(n.key),n)}}function _n(t){var e=function(t,e){if("object"!=Sn(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Sn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Sn(e)?e:e+""}var En=[new Et.bR,new Et.bR,new Et.bR,new Et.bR],Tn=new Et.uq,kn=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new Jr,this.statePool=[],this.quad=new un,this.quadUv=new vn,this.tempRect=new Et.M_,this.activeState={},this.globalUniforms=new $t({outputFrame:new Et.M_,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1},e=[{key:"init",value:function(){this.texturePool.setScreenSize(this.renderer.view)}},{key:"push",value:function(t,e){var r,n,i,o,a=this.renderer,s=this.defaultFilterStack,u=this.statePool.pop()||new wn,c=a.renderTexture;if(c.current){var l=c.current;i=l.resolution,o=l.multisample}else i=a.resolution,o=a.multisample;for(var f=e[0].resolution||i,h=null!==(r=e[0].multisample)&&void 0!==r?r:o,p=e[0].padding,d=e[0].autoFit,y=null===(n=e[0].legacy)||void 0===n||n,v=1;v<e.length;v++){var m,b,g=e[v];f=Math.min(f,g.resolution||i),h=Math.min(h,null!==(m=g.multisample)&&void 0!==m?m:o),p=this.useMaxPadding?Math.max(p,g.padding):p+g.padding,d=d&&g.autoFit,y=y||null===(b=g.legacy)||void 0===b||b}1===s.length&&(this.defaultFilterStack[0].renderTexture=c.current),s.push(u),u.resolution=f,u.multisample=h,u.legacy=y,u.target=t,u.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),u.sourceFrame.pad(p);var w=this.tempRect.copyFrom(c.sourceFrame);a.projection.transform&&this.transformAABB(Tn.copyFrom(a.projection.transform).invert(),w),d?(u.sourceFrame.fit(w),(u.sourceFrame.width<=0||u.sourceFrame.height<=0)&&(u.sourceFrame.width=0,u.sourceFrame.height=0)):u.sourceFrame.intersects(w)||(u.sourceFrame.width=0,u.sourceFrame.height=0),this.roundFrame(u.sourceFrame,c.current?c.current.resolution:a.resolution,c.sourceFrame,c.destinationFrame,a.projection.transform),u.renderTexture=this.getOptimalFilterTexture(u.sourceFrame.width,u.sourceFrame.height,f,h),u.filters=e,u.destinationFrame.width=u.renderTexture.width,u.destinationFrame.height=u.renderTexture.height;var S=this.tempRect;S.x=0,S.y=0,S.width=u.sourceFrame.width,S.height=u.sourceFrame.height,u.renderTexture.filterFrame=u.sourceFrame,u.bindingSourceFrame.copyFrom(c.sourceFrame),u.bindingDestinationFrame.copyFrom(c.destinationFrame),u.transform=a.projection.transform,a.projection.transform=null,c.bind(u.renderTexture,u.sourceFrame,S),a.framebuffer.clear(0,0,0,0)}},{key:"pop",value:function(){var t=this.defaultFilterStack,e=t.pop(),r=e.filters;this.activeState=e;var i=this.globalUniforms.uniforms;i.outputFrame=e.sourceFrame,i.resolution=e.resolution;var o=i.inputSize,a=i.inputPixel,s=i.inputClamp;if(o[0]=e.destinationFrame.width,o[1]=e.destinationFrame.height,o[2]=1/o[0],o[3]=1/o[1],a[0]=Math.round(o[0]*e.resolution),a[1]=Math.round(o[1]*e.resolution),a[2]=1/a[0],a[3]=1/a[1],s[0]=.5*a[2],s[1]=.5*a[3],s[2]=e.sourceFrame.width*o[2]-.5*a[2],s[3]=e.sourceFrame.height*o[3]-.5*a[3],e.legacy){var u=i.filterArea;u[0]=e.destinationFrame.width,u[1]=e.destinationFrame.height,u[2]=e.sourceFrame.x,u[3]=e.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();var c=t[t.length-1];if(this.renderer.framebuffer.blit(),1===r.length)r[0].apply(this,e.renderTexture,c.renderTexture,n.fr.BLEND,e),this.returnFilterTexture(e.renderTexture);else{var l=e.renderTexture,f=this.getOptimalFilterTexture(l.width,l.height,e.resolution);f.filterFrame=l.filterFrame;var h=0;for(h=0;h<r.length-1;++h){1===h&&e.multisample>1&&((f=this.getOptimalFilterTexture(l.width,l.height,e.resolution)).filterFrame=l.filterFrame),r[h].apply(this,l,f,n.fr.CLEAR,e);var p=l;l=f,f=p}r[h].apply(this,l,c.renderTexture,n.fr.BLEND,e),h>1&&e.multisample>1&&this.returnFilterTexture(e.renderTexture),this.returnFilterTexture(l),this.returnFilterTexture(f)}e.clear(),this.statePool.push(e)}},{key:"bindAndClear",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.fr.CLEAR,r=this.renderer,i=r.renderTexture,o=r.state;if(t===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,null!=t&&t.filterFrame){var a=this.tempRect;a.x=0,a.y=0,a.width=t.filterFrame.width,a.height=t.filterFrame.height,i.bind(t,t.filterFrame,a)}else t!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?i.bind(t):this.renderer.renderTexture.bind(t,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);var s=1&o.stateId||this.forceClear;(e===n.fr.CLEAR||e===n.fr.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)}},{key:"applyFilter",value:function(t,e,r,i){var o=this.renderer;o.state.set(t.state),this.bindAndClear(r,i),t.uniforms.uSampler=e,t.uniforms.filterGlobals=this.globalUniforms,o.shader.bind(t),t.legacy=!!t.program.attributeData.aTextureCoord,t.legacy?(this.quadUv.map(e._frame,e.filterFrame),o.geometry.bind(this.quadUv),o.geometry.draw(n._4.TRIANGLES)):(o.geometry.bind(this.quad),o.geometry.draw(n._4.TRIANGLE_STRIP))}},{key:"calculateSpriteMatrix",value:function(t,e){var r=this.activeState,n=r.sourceFrame,i=r.destinationFrame,o=e._texture.orig,a=t.set(i.width,0,0,i.height,n.x,n.y),s=e.worldTransform.copyTo(Et.uq.TEMP_MATRIX);return s.invert(),a.prepend(s),a.scale(1/o.width,1/o.height),a.translate(e.anchor.x,e.anchor.y),a}},{key:"destroy",value:function(){this.renderer=null,this.texturePool.clear(!1)}},{key:"getOptimalFilterTexture",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n.he.NONE;return this.texturePool.getOptimalTexture(t,e,r,i)}},{key:"getFilterTexture",value:function(t,e,r){if("number"==typeof t){var i=t;t=e,e=i}t=t||this.activeState.renderTexture;var o=this.texturePool.getOptimalTexture(t.width,t.height,e||t.resolution,r||n.he.NONE);return o.filterFrame=t.filterFrame,o}},{key:"returnFilterTexture",value:function(t){this.texturePool.returnTexture(t)}},{key:"emptyPool",value:function(){this.texturePool.clear(!0)}},{key:"resize",value:function(){this.texturePool.setScreenSize(this.renderer.view)}},{key:"transformAABB",value:function(t,e){var r=En[0],n=En[1],i=En[2],o=En[3];r.set(e.left,e.top),n.set(e.left,e.bottom),i.set(e.right,e.top),o.set(e.right,e.bottom),t.apply(r,r),t.apply(n,n),t.apply(i,i),t.apply(o,o);var a=Math.min(r.x,n.x,i.x,o.x),s=Math.min(r.y,n.y,i.y,o.y),u=Math.max(r.x,n.x,i.x,o.x),c=Math.max(r.y,n.y,i.y,o.y);e.x=a,e.y=s,e.width=u-a,e.height=c-s}},{key:"roundFrame",value:function(t,e,r,n,i){if(!(t.width<=0||t.height<=0||r.width<=0||r.height<=0)){if(i){var o=i,a=o.a,s=o.b,u=o.c,c=o.d;if((Math.abs(s)>1e-4||Math.abs(u)>1e-4)&&(Math.abs(a)>1e-4||Math.abs(c)>1e-4))return}(i=i?Tn.copyFrom(i):Tn.identity()).translate(-r.x,-r.y).scale(n.width/r.width,n.height/r.height).translate(n.x,n.y),this.transformAABB(i,t),t.ceil(e),this.transformAABB(i.invert(),t)}}}],e&&xn(t.prototype,e),r&&xn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();function Pn(t){return Pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pn(t)}function On(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Rn(n.key),n)}}function An(t,e,r){return e&&On(t.prototype,e),r&&On(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rn(t){var e=function(t,e){if("object"!=Pn(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Pn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Pn(e)?e:e+""}kn.extension={type:s.A.RendererSystem,name:"filter"},s.X.add(kn);var jn=An(function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=n.he.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0});function In(t){return In="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},In(t)}function Cn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Mn(n.key),n)}}function Mn(t){var e=function(t,e){if("object"!=In(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=In(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==In(e)?e:e+""}var Dn=new Et.M_,Nn=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new Ke(10,10),this.msaaSamples=null},e=[{key:"contextChange",value:function(){this.disposeAll(!0);var t=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Et.M_,this.hasMRT=!0,this.writeDepthTexture=!0,1===this.renderer.context.webGLVersion){var e=this.renderer.context.extensions.drawBuffers,r=this.renderer.context.extensions.depthTexture;i.W0.PREFER_ENV===n.Km.WEBGL_LEGACY&&(e=null,r=null),e?t.drawBuffers=function(t){return e.drawBuffersWEBGL(t)}:(this.hasMRT=!1,t.drawBuffers=function(){}),r||(this.writeDepthTexture=!1)}else this.msaaSamples=t.getInternalformatParameter(t.RENDERBUFFER,t.RGBA8,t.SAMPLES)}},{key:"bind",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=this.gl;if(t){var i=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,n.bindFramebuffer(n.FRAMEBUFFER,i.framebuffer)),i.mipLevel!==r&&(t.dirtyId++,t.dirtyFormat++,i.mipLevel=r),i.dirtyId!==t.dirtyId&&(i.dirtyId=t.dirtyId,i.dirtyFormat!==t.dirtyFormat?(i.dirtyFormat=t.dirtyFormat,i.dirtySize=t.dirtySize,this.updateFramebuffer(t,r)):i.dirtySize!==t.dirtySize&&(i.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(var o=0;o<t.colorTextures.length;o++){var a=t.colorTextures[o];this.renderer.texture.unbind(a.parentTextureArray||a)}if(t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),e){var s=e.width>>r,u=e.height>>r,c=s/e.width;this.setViewport(e.x*c,e.y*c,s,u)}else{var l=t.width>>r,f=t.height>>r;this.setViewport(0,0,l,f)}}else this.current&&(this.current=null,n.bindFramebuffer(n.FRAMEBUFFER,null)),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}},{key:"setViewport",value:function(t,e,r,n){var i=this.viewport;t=Math.round(t),e=Math.round(e),r=Math.round(r),n=Math.round(n),(i.width!==r||i.height!==n||i.x!==t||i.y!==e)&&(i.x=t,i.y=e,i.width=r,i.height=n,this.gl.viewport(t,e,r,n))}},{key:"size",get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}},{key:"clear",value:function(t,e,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:n.wn.COLOR|n.wn.DEPTH,a=this.gl;a.clearColor(t,e,r,i),a.clear(o)}},{key:"initFramebuffer",value:function(t){var e=this.gl,r=new jn(e.createFramebuffer());return r.multisample=this.detectSamples(t.multisample),t.glFramebuffers[this.CONTEXT_UID]=r,this.managedFramebuffers.push(t),t.disposeRunner.add(this),r}},{key:"resizeFramebuffer",value:function(t){var e,r=this.gl,n=t.glFramebuffers[this.CONTEXT_UID];n.stencil&&(r.bindRenderbuffer(r.RENDERBUFFER,n.stencil),e=1===this.renderer.context.webGLVersion?r.DEPTH_STENCIL:t.depth&&t.stencil?r.DEPTH24_STENCIL8:t.depth?r.DEPTH_COMPONENT24:r.STENCIL_INDEX8,n.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,e,t.width,t.height):r.renderbufferStorage(r.RENDERBUFFER,e,t.width,t.height));var i=t.colorTextures,o=i.length;r.drawBuffers||(o=Math.min(o,1));for(var a=0;a<o;a++){var s=i[a],u=s.parentTextureArray||s;this.renderer.texture.bind(u,0),0===a&&n.msaaBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,n.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,u._glTextures[this.CONTEXT_UID].internalFormat,t.width,t.height))}t.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(t.depthTexture,0)}},{key:"updateFramebuffer",value:function(t,e){var r=this.gl,n=t.glFramebuffers[this.CONTEXT_UID],i=t.colorTextures,o=i.length;r.drawBuffers||(o=Math.min(o,1)),n.multisample>1&&this.canMultisampleFramebuffer(t)?n.msaaBuffer=n.msaaBuffer||r.createRenderbuffer():n.msaaBuffer&&(r.deleteRenderbuffer(n.msaaBuffer),n.msaaBuffer=null,n.blitFramebuffer&&(n.blitFramebuffer.dispose(),n.blitFramebuffer=null));for(var a,s,u=[],c=0;c<o;c++){var l=i[c],f=l.parentTextureArray||l;this.renderer.texture.bind(f,0),0===c&&n.msaaBuffer?(r.bindRenderbuffer(r.RENDERBUFFER,n.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,f._glTextures[this.CONTEXT_UID].internalFormat,t.width,t.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.RENDERBUFFER,n.msaaBuffer)):(r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+c,l.target,f._glTextures[this.CONTEXT_UID].texture,e),u.push(r.COLOR_ATTACHMENT0+c))}if(u.length>1&&r.drawBuffers(u),t.depthTexture&&this.writeDepthTexture){var h=t.depthTexture;this.renderer.texture.bind(h,0),r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,h._glTextures[this.CONTEXT_UID].texture,e)}!t.stencil&&!t.depth||t.depthTexture&&this.writeDepthTexture?n.stencil&&(r.deleteRenderbuffer(n.stencil),n.stencil=null):(n.stencil=n.stencil||r.createRenderbuffer(),1===this.renderer.context.webGLVersion?(a=r.DEPTH_STENCIL_ATTACHMENT,s=r.DEPTH_STENCIL):t.depth&&t.stencil?(a=r.DEPTH_STENCIL_ATTACHMENT,s=r.DEPTH24_STENCIL8):t.depth?(a=r.DEPTH_ATTACHMENT,s=r.DEPTH_COMPONENT24):(a=r.STENCIL_ATTACHMENT,s=r.STENCIL_INDEX8),r.bindRenderbuffer(r.RENDERBUFFER,n.stencil),n.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,s,t.width,t.height):r.renderbufferStorage(r.RENDERBUFFER,s,t.width,t.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,a,r.RENDERBUFFER,n.stencil))}},{key:"canMultisampleFramebuffer",value:function(t){return 1!==this.renderer.context.webGLVersion&&t.colorTextures.length<=1&&!t.depthTexture}},{key:"detectSamples",value:function(t){var e=this.msaaSamples,r=n.he.NONE;if(t<=1||null===e)return r;for(var i=0;i<e.length;i++)if(e[i]<=t){r=e[i];break}return 1===r&&(r=n.he.NONE),r}},{key:"blit",value:function(t,e,r){var n=this.current,i=this.renderer,o=this.gl,a=this.CONTEXT_UID;if(2===i.context.webGLVersion&&n){var s=n.glFramebuffers[a];if(s){if(!t){if(!s.msaaBuffer)return;var u=n.colorTextures[0];if(!u)return;s.blitFramebuffer||(s.blitFramebuffer=new Ke(n.width,n.height),s.blitFramebuffer.addColorTexture(0,u)),(t=s.blitFramebuffer).colorTextures[0]!==u&&(t.colorTextures[0]=u,t.dirtyId++,t.dirtyFormat++),(t.width!==n.width||t.height!==n.height)&&(t.width=n.width,t.height=n.height,t.dirtyId++,t.dirtySize++)}e||((e=Dn).width=n.width,e.height=n.height),r||(r=e);var c=e.width===r.width&&e.height===r.height;this.bind(t),o.bindFramebuffer(o.READ_FRAMEBUFFER,s.framebuffer),o.blitFramebuffer(e.left,e.top,e.right,e.bottom,r.left,r.top,r.right,r.bottom,o.COLOR_BUFFER_BIT,c?o.NEAREST:o.LINEAR),o.bindFramebuffer(o.READ_FRAMEBUFFER,t.glFramebuffers[this.CONTEXT_UID].framebuffer)}}}},{key:"disposeFramebuffer",value:function(t,e){var r=t.glFramebuffers[this.CONTEXT_UID],n=this.gl;if(r){delete t.glFramebuffers[this.CONTEXT_UID];var i=this.managedFramebuffers.indexOf(t);i>=0&&this.managedFramebuffers.splice(i,1),t.disposeRunner.remove(this),e||(n.deleteFramebuffer(r.framebuffer),r.msaaBuffer&&n.deleteRenderbuffer(r.msaaBuffer),r.stencil&&n.deleteRenderbuffer(r.stencil)),r.blitFramebuffer&&this.disposeFramebuffer(r.blitFramebuffer,e)}}},{key:"disposeAll",value:function(t){var e=this.managedFramebuffers;this.managedFramebuffers=[];for(var r=0;r<e.length;r++)this.disposeFramebuffer(e[r],t)}},{key:"forceStencil",value:function(){var t=this.current;if(t){var e=t.glFramebuffers[this.CONTEXT_UID];if(!(!e||e.stencil&&t.stencil)){t.stencil=!0;var r,n,i=t.width,o=t.height,a=this.gl,s=e.stencil=a.createRenderbuffer();a.bindRenderbuffer(a.RENDERBUFFER,s),1===this.renderer.context.webGLVersion?(r=a.DEPTH_STENCIL_ATTACHMENT,n=a.DEPTH_STENCIL):t.depth?(r=a.DEPTH_STENCIL_ATTACHMENT,n=a.DEPTH24_STENCIL8):(r=a.STENCIL_ATTACHMENT,n=a.STENCIL_INDEX8),e.msaaBuffer?a.renderbufferStorageMultisample(a.RENDERBUFFER,e.multisample,n,i,o):a.renderbufferStorage(a.RENDERBUFFER,n,i,o),a.framebufferRenderbuffer(a.FRAMEBUFFER,r,a.RENDERBUFFER,s)}}}},{key:"reset",value:function(){this.current=this.unknownFramebuffer,this.viewport=new Et.M_}},{key:"destroy",value:function(){this.renderer=null}}],e&&Cn(t.prototype,e),r&&Cn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();function Bn(t){return Bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bn(t)}function Fn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ln(n.key),n)}}function Ln(t){var e=function(t,e){if("object"!=Bn(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Bn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Bn(e)?e:e+""}Nn.extension={type:s.A.RendererSystem,name:"framebuffer"},s.X.add(Nn);var Un={5126:4,5123:2,5121:1},Vn=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}},e=[{key:"contextChange",value:function(){this.disposeAll(!0);var t=this.gl=this.renderer.gl,e=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,2!==e.webGLVersion){var r=this.renderer.context.extensions.vertexArrayObject;i.W0.PREFER_ENV===n.Km.WEBGL_LEGACY&&(r=null),r?(t.createVertexArray=function(){return r.createVertexArrayOES()},t.bindVertexArray=function(t){return r.bindVertexArrayOES(t)},t.deleteVertexArray=function(t){return r.deleteVertexArrayOES(t)}):(this.hasVao=!1,t.createVertexArray=function(){return null},t.bindVertexArray=function(){return null},t.deleteVertexArray=function(){return null})}if(2!==e.webGLVersion){var o=t.getExtension("ANGLE_instanced_arrays");o?(t.vertexAttribDivisor=function(t,e){return o.vertexAttribDivisorANGLE(t,e)},t.drawElementsInstanced=function(t,e,r,n,i){return o.drawElementsInstancedANGLE(t,e,r,n,i)},t.drawArraysInstanced=function(t,e,r,n){return o.drawArraysInstancedANGLE(t,e,r,n)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===e.webGLVersion||!!e.extensions.uint32ElementIndex}},{key:"bind",value:function(t,e){e=e||this.renderer.shader.shader;var r=this.gl,n=t.glVertexArrayObjects[this.CONTEXT_UID],i=!1;n||(this.managedGeometries[t.id]=t,t.disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=n={},i=!0);var o=n[e.program.id]||this.initGeometryVao(t,e,i);this._activeGeometry=t,this._activeVao!==o&&(this._activeVao=o,this.hasVao?r.bindVertexArray(o):this.activateVao(t,e.program)),this.updateBuffers()}},{key:"reset",value:function(){this.unbind()}},{key:"updateBuffers",value:function(){for(var t=this._activeGeometry,e=this.renderer.buffer,r=0;r<t.buffers.length;r++){var n=t.buffers[r];e.update(n)}}},{key:"checkCompatibility",value:function(t,e){var r=t.attributes,n=e.attributeData;for(var i in n)if(!r[i])throw new Error('shader and geometry incompatible, geometry missing the "'.concat(i,'" attribute'))}},{key:"getSignature",value:function(t,e){var r=t.attributes,n=e.attributeData,i=["g",t.id];for(var o in r)n[o]&&i.push(o,n[o].location);return i.join("-")}},{key:"initGeometryVao",value:function(t,e){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=this.gl,o=this.CONTEXT_UID,a=this.renderer.buffer,s=e.program;s.glPrograms[o]||this.renderer.shader.generateProgram(e),this.checkCompatibility(t,s);var u=this.getSignature(t,s),c=t.glVertexArrayObjects[this.CONTEXT_UID],l=c[u];if(l)return c[s.id]=l,l;var f=t.buffers,h=t.attributes,p={},d={};for(var y in f)p[y]=0,d[y]=0;for(var v in h)!h[v].size&&s.attributeData[v]?h[v].size=s.attributeData[v].size:h[v].size||console.warn("PIXI Geometry attribute '".concat(v,"' size cannot be determined (likely the bound shader does not have the attribute)")),p[h[v].buffer]+=h[v].size*Un[h[v].type];for(var m in h){var b=h[m],g=b.size;void 0===b.stride&&(p[b.buffer]===g*Un[b.type]?b.stride=0:b.stride=p[b.buffer]),void 0===b.start&&(b.start=d[b.buffer],d[b.buffer]+=g*Un[b.type])}l=i.createVertexArray(),i.bindVertexArray(l);for(var w=0;w<f.length;w++){var S=f[w];a.bind(S),r&&S._glBuffers[o].refCount++}return this.activateVao(t,s),c[s.id]=l,c[u]=l,i.bindVertexArray(null),a.unbind(n.yw.ARRAY_BUFFER),l}},{key:"disposeGeometry",value:function(t,e){var r;if(this.managedGeometries[t.id]){delete this.managedGeometries[t.id];var n=t.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,o=t.buffers,a=null===(r=this.renderer)||void 0===r?void 0:r.buffer;if(t.disposeRunner.remove(this),n){if(a)for(var s=0;s<o.length;s++){var u=o[s]._glBuffers[this.CONTEXT_UID];u&&(u.refCount--,0===u.refCount&&!e&&a.dispose(o[s],e))}if(!e)for(var c in n)if("g"===c[0]){var l=n[c];this._activeVao===l&&this.unbind(),i.deleteVertexArray(l)}delete t.glVertexArrayObjects[this.CONTEXT_UID]}}}},{key:"disposeAll",value:function(t){for(var e=Object.keys(this.managedGeometries),r=0;r<e.length;r++)this.disposeGeometry(this.managedGeometries[e[r]],t)}},{key:"activateVao",value:function(t,e){var r=this.gl,n=this.CONTEXT_UID,i=this.renderer.buffer,o=t.buffers,a=t.attributes;t.indexBuffer&&i.bind(t.indexBuffer);var s=null;for(var u in a){var c=a[u],l=o[c.buffer],f=l._glBuffers[n];if(e.attributeData[u]){s!==f&&(i.bind(l),s=f);var h=e.attributeData[u].location;if(r.enableVertexAttribArray(h),r.vertexAttribPointer(h,c.size,c.type||r.FLOAT,c.normalized,c.stride,c.start),c.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");r.vertexAttribDivisor(h,c.divisor)}}}}},{key:"draw",value:function(t,e,r,n){var i=this.gl,o=this._activeGeometry;if(o.indexBuffer){var a=o.indexBuffer.data.BYTES_PER_ELEMENT,s=2===a?i.UNSIGNED_SHORT:i.UNSIGNED_INT;2===a||4===a&&this.canUseUInt32ElementIndex?o.instanced?i.drawElementsInstanced(t,e||o.indexBuffer.data.length,s,(r||0)*a,n||1):i.drawElements(t,e||o.indexBuffer.data.length,s,(r||0)*a):console.warn("unsupported index buffer type: uint32")}else o.instanced?i.drawArraysInstanced(t,r,e||o.getSize(),n||1):i.drawArrays(t,r,e||o.getSize());return this}},{key:"unbind",value:function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}},{key:"destroy",value:function(){this.renderer=null}}],e&&Fn(t.prototype,e),r&&Fn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();function Xn(t){return Xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xn(t)}function Gn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Yn(n.key),n)}}function Yn(t){var e=function(t,e){if("object"!=Xn(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Xn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Xn(e)?e:e+""}Vn.extension={type:s.A.RendererSystem,name:"geometry"},s.X.add(Vn);var qn=new Et.uq,Wn=function(){return t=function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._texture=e,this.mapCoord=new Et.uq,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=Xn(r)>"u"?.5:r,this.isSimple=!1},(e=[{key:"texture",get:function(){return this._texture},set:function(t){this._texture=t,this._textureID=-1}},{key:"multiplyUvs",value:function(t,e){void 0===e&&(e=t);for(var r=this.mapCoord,n=0;n<t.length;n+=2){var i=t[n],o=t[n+1];e[n]=i*r.a+o*r.c+r.tx,e[n+1]=i*r.b+o*r.d+r.ty}return e}},{key:"update",value:function(t){var e=this._texture;if(!e||!e.valid||!t&&this._textureID===e._updateID)return!1;this._textureID=e._updateID,this._updateID++;var r=e._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);var n=e.orig,i=e.trim;i&&(qn.set(n.width/i.width,0,0,n.height/i.height,-i.x/i.width,-i.y/i.height),this.mapCoord.append(qn));var o=e.baseTexture,a=this.uClampFrame,s=this.clampMargin/o.resolution,u=this.clampOffset;return a[0]=(e._frame.x+s+u)/o.width,a[1]=(e._frame.y+s+u)/o.height,a[2]=(e._frame.x+e._frame.width-s+u)/o.width,a[3]=(e._frame.y+e._frame.height-s+u)/o.height,this.uClampOffset[0]=u/o.realWidth,this.uClampOffset[1]=u/o.realHeight,this.isSimple=e._frame.width===o.width&&e._frame.height===o.height&&0===e.rotate,!0}}])&&Gn(t.prototype,e),r&&Gn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();function Hn(t){return Hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hn(t)}function zn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Qn(n.key),n)}}function Qn(t){var e=function(t,e){if("object"!=Hn(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Hn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Hn(e)?e:e+""}function Zn(t,e,r){return e=$n(e),function(t,e){if(e&&("object"==Hn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Kn()?Reflect.construct(e,r||[],$n(t).constructor):e.apply(t,r))}function Kn(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Kn=function(){return!!t})()}function $n(t){return $n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},$n(t)}function Jn(t,e){return Jn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Jn(t,e)}var ti=function(t){function e(t,r,n){var i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=null;return"string"!=typeof t&&void 0===r&&void 0===n&&(o=t,t=void 0,r=void 0,n=void 0),(i=Zn(this,e,[t||"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n",r||"varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n",n])).maskSprite=o,i.maskMatrix=new Et.uq,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jn(t,e)}(e,t),r=e,(n=[{key:"maskSprite",get:function(){return this._maskSprite},set:function(t){this._maskSprite=t,this._maskSprite&&(this._maskSprite.renderable=!1)}},{key:"apply",value:function(t,e,r,n){var i=this._maskSprite,o=i._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new Wn(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,i).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=i.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,t.applyFilter(this,e,r,n))}}])&&zn(r.prototype,n),i&&zn(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i}(Me);function ei(t){return ei="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ei(t)}function ri(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ni(n.key),n)}}function ni(t){var e=function(t,e){if("object"!=ei(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=ei(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ei(e)?e:e+""}var ii=function(){return t=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.type=n.vg.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=Me.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null},(e=[{key:"filter",get:function(){return this._filters?this._filters[0]:null},set:function(t){t?this._filters?this._filters[0]=t:this._filters=[t]:this._filters=null}},{key:"reset",value:function(){this.pooled&&(this.maskObject=null,this.type=n.vg.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}},{key:"copyCountersOrReset",value:function(t){t?(this._stencilCounter=t._stencilCounter,this._scissorCounter=t._scissorCounter,this._scissorRect=t._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}])&&ri(t.prototype,e),r&&ri(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();function oi(t){return oi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oi(t)}function ai(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,si(n.key),n)}}function si(t){var e=function(t,e){if("object"!=oi(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=oi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==oi(e)?e:e+""}var ui=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0},(e=[{key:"setMaskStack",value:function(t){this.maskStack=t,this.renderer.scissor.setMaskStack(t),this.renderer.stencil.setMaskStack(t)}},{key:"push",value:function(t,e){var r=e;if(!r.isMaskData){var i=this.maskDataPool.pop()||new ii;i.pooled=!0,i.maskObject=e,r=i}var o=0!==this.maskStack.length?this.maskStack[this.maskStack.length-1]:null;if(r.copyCountersOrReset(o),r._colorMask=o?o._colorMask:15,r.autoDetect&&this.detect(r),r._target=t,r.type!==n.vg.SPRITE&&this.maskStack.push(r),r.enabled)switch(r.type){case n.vg.SCISSOR:this.renderer.scissor.push(r);break;case n.vg.STENCIL:this.renderer.stencil.push(r);break;case n.vg.SPRITE:r.copyCountersOrReset(null),this.pushSpriteMask(r);break;case n.vg.COLOR:this.pushColorMask(r)}r.type===n.vg.SPRITE&&this.maskStack.push(r)}},{key:"pop",value:function(t){var e=this.maskStack.pop();if(e&&e._target===t){if(e.enabled)switch(e.type){case n.vg.SCISSOR:this.renderer.scissor.pop(e);break;case n.vg.STENCIL:this.renderer.stencil.pop(e.maskObject);break;case n.vg.SPRITE:this.popSpriteMask(e);break;case n.vg.COLOR:this.popColorMask(e)}if(e.reset(),e.pooled&&this.maskDataPool.push(e),0!==this.maskStack.length){var r=this.maskStack[this.maskStack.length-1];r.type===n.vg.SPRITE&&r._filters&&(r._filters[0].maskSprite=r.maskObject)}}}},{key:"detect",value:function(t){var e=t.maskObject;e?e.isSprite?t.type=n.vg.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(t)?t.type=n.vg.SCISSOR:t.type=n.vg.STENCIL:t.type=n.vg.COLOR}},{key:"pushSpriteMask",value:function(t){var e=t.maskObject,r=t._target,n=t._filters;n||(n=this.alphaMaskPool[this.alphaMaskIndex])||(n=this.alphaMaskPool[this.alphaMaskIndex]=[new ti]),n[0].resolution=t.resolution,n[0].multisample=t.multisample,n[0].maskSprite=e;var i=r.filterArea;r.filterArea=e.getBounds(!0),this.renderer.filter.push(r,n),r.filterArea=i,t._filters||this.alphaMaskIndex++}},{key:"popSpriteMask",value:function(t){this.renderer.filter.pop(),t._filters?t._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}},{key:"pushColorMask",value:function(t){var e=t._colorMask,r=t._colorMask=e&t.colorMask;r!==e&&this.renderer.gl.colorMask(!!(1&r),!!(2&r),!!(4&r),!!(8&r))}},{key:"popColorMask",value:function(t){var e=t._colorMask,r=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;r!==e&&this.renderer.gl.colorMask(!!(1&r),!!(2&r),!!(4&r),!!(8&r))}},{key:"destroy",value:function(){this.renderer=null}}])&&ai(t.prototype,e),r&&ai(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();function ci(t){return ci="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ci(t)}function li(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fi(n.key),n)}}function fi(t){var e=function(t,e){if("object"!=ci(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=ci(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ci(e)?e:e+""}ui.extension={type:s.A.RendererSystem,name:"mask"},s.X.add(ui);var hi=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e,this.maskStack=[],this.glConst=0},(e=[{key:"getStackLength",value:function(){return this.maskStack.length}},{key:"setMaskStack",value:function(t){var e=this.renderer.gl,r=this.getStackLength();this.maskStack=t;var n=this.getStackLength();n!==r&&(0===n?e.disable(this.glConst):(e.enable(this.glConst),this._useCurrent()))}},{key:"_useCurrent",value:function(){}},{key:"destroy",value:function(){this.renderer=null,this.maskStack=null}}])&&li(t.prototype,e),r&&li(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();function pi(t){return pi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pi(t)}function di(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,yi(n.key),n)}}function yi(t){var e=function(t,e){if("object"!=pi(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=pi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==pi(e)?e:e+""}function vi(t,e,r){return e=bi(e),function(t,e){if(e&&("object"==pi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,mi()?Reflect.construct(e,r||[],bi(t).constructor):e.apply(t,r))}function mi(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(mi=function(){return!!t})()}function bi(t){return bi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},bi(t)}function gi(t,e){return gi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},gi(t,e)}var wi=new Et.uq,Si=[],xi=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=vi(this,e,[t])).glConst=i.W0.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gi(t,e)}(e,t),r=e,o=[{key:"isMatrixRotated",value:function(t){if(!t)return!1;var e=t.a,r=t.b,n=t.c,i=t.d;return(Math.abs(r)>1e-4||Math.abs(n)>1e-4)&&(Math.abs(e)>1e-4||Math.abs(i)>1e-4)}}],(n=[{key:"getStackLength",value:function(){var t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0}},{key:"calcScissorRect",value:function(t){var e;if(!t._scissorRectLocal){var r=t._scissorRect,n=t.maskObject,i=this.renderer,o=i.renderTexture,a=n.getBounds(!0,null!==(e=Si.pop())&&void 0!==e?e:new Et.M_);this.roundFrameToPixels(a,o.current?o.current.resolution:i.resolution,o.sourceFrame,o.destinationFrame,i.projection.transform),r&&a.fit(r),t._scissorRectLocal=a}}},{key:"testScissor",value:function(t){var r=t.maskObject;if(!r.isFastRect||!r.isFastRect()||e.isMatrixRotated(r.worldTransform)||e.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(t);var n=t._scissorRectLocal;return n.width>0&&n.height>0}},{key:"roundFrameToPixels",value:function(t,r,n,i,o){e.isMatrixRotated(o)||((o=o?wi.copyFrom(o):wi.identity()).translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.renderer.filter.transformAABB(o,t),t.fit(i),t.x=Math.round(t.x*r),t.y=Math.round(t.y*r),t.width=Math.round(t.width*r),t.height=Math.round(t.height*r))}},{key:"push",value:function(t){t._scissorRectLocal||this.calcScissorRect(t);var e=this.renderer.gl;t._scissorRect||e.enable(e.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=t._scissorRectLocal,this._useCurrent()}},{key:"pop",value:function(t){var e=this.renderer.gl;t&&Si.push(t._scissorRectLocal),this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)}},{key:"_useCurrent",value:function(){var t,e=this.maskStack[this.maskStack.length-1]._scissorRect;t=this.renderer.renderTexture.current?e.y:this.renderer.height-e.height-e.y,this.renderer.gl.scissor(e.x,t,e.width,e.height)}}])&&di(r.prototype,n),o&&di(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(hi);xi.extension={type:s.A.RendererSystem,name:"scissor"};var _i=xi;function Ei(t){return Ei="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ei(t)}function Ti(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ki(n.key),n)}}function ki(t){var e=function(t,e){if("object"!=Ei(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Ei(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ei(e)?e:e+""}function Pi(t,e,r){return e=Ai(e),function(t,e){if(e&&("object"==Ei(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Oi()?Reflect.construct(e,r||[],Ai(t).constructor):e.apply(t,r))}function Oi(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Oi=function(){return!!t})()}function Ai(t){return Ai=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ai(t)}function Ri(t,e){return Ri=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ri(t,e)}s.X.add(_i);var ji=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=Pi(this,e,[t])).glConst=i.W0.ADAPTER.getWebGLRenderingContext().STENCIL_TEST,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ri(t,e)}(e,t),r=e,(n=[{key:"getStackLength",value:function(){var t=this.maskStack[this.maskStack.length-1];return t?t._stencilCounter:0}},{key:"push",value:function(t){var e=t.maskObject,r=this.renderer.gl,n=t._stencilCounter;0===n&&(this.renderer.framebuffer.forceStencil(),r.clearStencil(0),r.clear(r.STENCIL_BUFFER_BIT),r.enable(r.STENCIL_TEST)),t._stencilCounter++;var i=t._colorMask;0!==i&&(t._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilFunc(r.EQUAL,n,4294967295),r.stencilOp(r.KEEP,r.KEEP,r.INCR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,0!==i&&(t._colorMask=i,r.colorMask(!!(1&i),!!(2&i),!!(4&i),!!(8&i))),this._useCurrent()}},{key:"pop",value:function(t){var e=this.renderer.gl;if(0===this.getStackLength())e.disable(e.STENCIL_TEST);else{var r=0!==this.maskStack.length?this.maskStack[this.maskStack.length-1]:null,n=r?r._colorMask:15;0!==n&&(r._colorMask=0,e.colorMask(!1,!1,!1,!1)),e.stencilOp(e.KEEP,e.KEEP,e.DECR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,0!==n&&(r._colorMask=n,e.colorMask(!!(1&n),!!(2&n),!!(4&n),!!(8&n))),this._useCurrent()}}},{key:"_useCurrent",value:function(){var t=this.renderer.gl;t.stencilFunc(t.EQUAL,this.getStackLength(),4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)}}])&&Ti(r.prototype,n),o&&Ti(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(hi);function Ii(t){return Ii="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ii(t)}function Ci(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Mi(n.key),n)}}function Mi(t){var e=function(t,e){if("object"!=Ii(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Ii(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ii(e)?e:e+""}ji.extension={type:s.A.RendererSystem,name:"stencil"},s.X.add(ji);var Di=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get:function(){return(0,o.deprecation)("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get:function(){return(0,o.deprecation)("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get:function(){return(0,o.deprecation)("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})},(e=[{key:"init",value:function(){var t=this.rendererPlugins;for(var e in t)this.plugins[e]=new t[e](this.renderer)}},{key:"destroy",value:function(){for(var t in this.plugins)this.plugins[t].destroy(),this.plugins[t]=null}}])&&Ci(t.prototype,e),r&&Ci(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();function Ni(t){return Ni="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ni(t)}function Bi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Fi(n.key),n)}}function Fi(t){var e=function(t,e){if("object"!=Ni(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Ni(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ni(e)?e:e+""}Di.extension={type:[s.A.RendererSystem,s.A.CanvasRendererSystem],name:"_plugin"},s.X.add(Di);var Li=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Et.uq,this.transform=null},(e=[{key:"update",value:function(t,e,r,n){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,r,n),this.transform&&this.projectionMatrix.append(this.transform);var i=this.renderer;i.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,i.globalUniforms.update(),i.shader.shader&&i.shader.syncUniformGroup(i.shader.shader.uniforms.globals)}},{key:"calculateProjection",value:function(t,e,r,n){var i=this.projectionMatrix,o=n?-1:1;i.identity(),i.a=1/e.width*2,i.d=o*(1/e.height*2),i.tx=-1-e.x*i.a,i.ty=-o-e.y*i.d}},{key:"setTransform",value:function(t){}},{key:"destroy",value:function(){this.renderer=null}}])&&Bi(t.prototype,e),r&&Bi(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();Li.extension={type:s.A.RendererSystem,name:"projection"},s.X.add(Li);var Ui=["region"];function Vi(t){return Vi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vi(t)}function Xi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Gi(n.key),n)}}function Gi(t){var e=function(t,e){if("object"!=Vi(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Vi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Vi(e)?e:e+""}var Yi=new Et.dL,qi=new Et.M_,Wi=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e,this._tempMatrix=new Et.uq},e=[{key:"generateTexture",value:function(t,e){var r,n=e||{},i=n.region,o=function(t,e){if(null==t)return{};var r,n,i=function(t,e){if(null==t)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(-1!==e.indexOf(n))continue;r[n]=t[n]}return r}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)r=o[n],-1===e.indexOf(r)&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}(n,Ui),a=(null==i?void 0:i.copyTo(qi))||t.getLocalBounds(qi,!0),s=o.resolution||this.renderer.resolution;a.width=Math.max(a.width,1/s),a.height=Math.max(a.height,1/s),o.width=a.width,o.height=a.height,o.resolution=s,null!==(r=o.multisample)&&void 0!==r||(o.multisample=this.renderer.multisample);var u=Qr.create(o);this._tempMatrix.tx=-a.x,this._tempMatrix.ty=-a.y;var c=t.transform;return t.transform=Yi,this.renderer.render(t,{renderTexture:u,transform:this._tempMatrix,skipUpdateTransform:!!t.parent,blit:!0}),t.transform=c,u}},{key:"destroy",value:function(){}}],e&&Xi(t.prototype,e),r&&Xi(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();function Hi(t){return Hi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hi(t)}function zi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Qi(n.key),n)}}function Qi(t){var e=function(t,e){if("object"!=Hi(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Hi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Hi(e)?e:e+""}Wi.extension={type:[s.A.RendererSystem,s.A.CanvasRendererSystem],name:"textureGenerator"},s.X.add(Wi);var Zi=new Et.M_,Ki=new Et.M_,$i=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Et.M_,this.destinationFrame=new Et.M_,this.viewportFrame=new Et.M_},e=[{key:"contextChange",value:function(){var t,e=null===(t=this.renderer)||void 0===t?void 0:t.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}},{key:"bind",value:function(){var t,e,r,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0,a=this.renderer;this.current=n,n?(r=(t=n.baseTexture).resolution,i||(Zi.width=n.frame.width,Zi.height=n.frame.height,i=Zi),o||(Ki.x=n.frame.x,Ki.y=n.frame.y,Ki.width=i.width,Ki.height=i.height,o=Ki),e=t.framebuffer):(r=a.resolution,i||(Zi.width=a._view.screen.width,Zi.height=a._view.screen.height,i=Zi),o||((o=Zi).width=i.width,o.height=i.height));var s=this.viewportFrame;s.x=o.x*r,s.y=o.y*r,s.width=o.width*r,s.height=o.height*r,n||(s.y=a.view.height-(s.y+s.height)),s.ceil(),this.renderer.framebuffer.bind(e,s),this.renderer.projection.update(o,i,r,!e),n?this.renderer.mask.setMaskStack(t.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(i),this.destinationFrame.copyFrom(o)}},{key:"clear",value:function(t,e){var r=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,n=a.Q.shared.setValue(t||r);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&n.premultiply(n.alpha);var i=this.destinationFrame,o=this.current?this.current.baseTexture:this.renderer._view.screen,s=i.width!==o.width||i.height!==o.height;if(s){var u=this.viewportFrame,c=u.x,l=u.y,f=u.width,h=u.height;c=Math.round(c),l=Math.round(l),f=Math.round(f),h=Math.round(h),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(c,l,f,h)}this.renderer.framebuffer.clear(n.red,n.green,n.blue,n.alpha,e),s&&this.renderer.scissor.pop()}},{key:"resize",value:function(){this.bind(null)}},{key:"reset",value:function(){this.bind(null)}},{key:"destroy",value:function(){this.renderer=null}}],e&&zi(t.prototype,e),r&&zi(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();$i.extension={type:s.A.RendererSystem,name:"renderTexture"},s.X.add($i);r(97163518);function Ji(t){return Ji="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ji(t)}function to(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ro(n.key),n)}}function eo(t,e,r){return e&&to(t.prototype,e),r&&to(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ro(t){var e=function(t,e){if("object"!=Ji(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Ji(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ji(e)?e:e+""}function no(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var io=function(){return eo(function t(e,r){no(this,t),this.program=e,this.uniformData=r,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}},[{key:"destroy",value:function(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}])}();function oo(t,e,r){var n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),n}function ao(t,e){var r,n=oo(t,t.VERTEX_SHADER,e.vertexSrc),i=oo(t,t.FRAGMENT_SHADER,e.fragmentSrc),o=t.createProgram();t.attachShader(o,n),t.attachShader(o,i);var a=null===(r=e.extra)||void 0===r?void 0:r.transformFeedbackVaryings;if(a&&("function"!=typeof t.transformFeedbackVaryings?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):t.transformFeedbackVaryings(o,a.names,"separate"===a.bufferMode?t.SEPARATE_ATTRIBS:t.INTERLEAVED_ATTRIBS)),t.linkProgram(o),t.getProgramParameter(o,t.LINK_STATUS)||function(t,e,r,n){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(r,t.COMPILE_STATUS)||Mt(t,r),t.getShaderParameter(n,t.COMPILE_STATUS)||Mt(t,n),console.error("PixiJS Error: Could not initialize shader."),""!==t.getProgramInfoLog(e)&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}(t,o,n,i),e.attributeData=function(t,e){for(var r={},n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),i=0;i<n;i++){var o=e.getActiveAttrib(t,i);if(!o.name.startsWith("gl_")){var a=Lt(e,o.type),s={type:a,name:o.name,size:Nt(a),location:e.getAttribLocation(t,o.name)};r[o.name]=s}}return r}(o,t),e.uniformData=function(t,e){for(var r={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),i=0;i<n;i++){var o=e.getActiveUniform(t,i),a=o.name.replace(/\[.*?\]$/,""),s=!!o.name.match(/\[.*?\]$/),u=Lt(e,o.type);r[a]={name:a,index:i,type:u,size:o.size,isArray:s,value:kt(u,o.size)}}return r}(o,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){var s=Object.keys(e.attributeData);s.sort(function(t,e){return t>e?1:-1});for(var u=0;u<s.length;u++)e.attributeData[s[u]].location=u,t.bindAttribLocation(o,u,s[u]);t.linkProgram(o)}t.deleteShader(n),t.deleteShader(i);var c={};for(var l in e.uniformData){var f=e.uniformData[l];c[l]={location:t.getUniformLocation(o,l),value:kt(f.type,f.size)}}return new io(o,c)}function so(t,e,r,n,i){r.buffer.update(i)}var uo,co={float:"\n        data[offset] = v;\n    ",vec2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n    ",vec3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n    ",vec4:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n        data[offset+3] = v[3];\n    ",mat2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n\n        data[offset+4] = v[2];\n        data[offset+5] = v[3];\n    ",mat3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n        data[offset + 4] = v[3];\n        data[offset + 5] = v[4];\n        data[offset + 6] = v[5];\n\n        data[offset + 8] = v[6];\n        data[offset + 9] = v[7];\n        data[offset + 10] = v[8];\n    ",mat4:"\n        for(var i = 0; i < 16; i++)\n        {\n            data[offset + i] = v[i];\n        }\n    "},lo={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:32,mat3:48,mat4:64};function fo(t,e){if(!t.autoManage)return{size:0,syncFunc:so};for(var r=function(t,e){var r=[];for(var n in t)e[n]&&r.push(e[n]);return r.sort(function(t,e){return t.index-e.index}),r}(t.uniforms,e),n=function(t){for(var e=t.map(function(t){return{data:t,offset:0,dataLen:0,dirty:0}}),r=0,n=0,i=0,o=0;o<e.length;o++){var a=e[o];if(r=lo[a.data.type],a.data.size>1&&(r=Math.max(r,16)*a.data.size),a.dataLen=r,n%r!==0&&n<16){var s=n%r%16;n+=s,i+=s}n+r>16?(i=16*Math.ceil(i/16),a.offset=i,i+=r,n=r):(a.offset=i,n+=r,i+=r)}return{uboElements:e,size:i=16*Math.ceil(i/16)}}(r),i=n.uboElements,o=n.size,a=["\n    var v = null;\n    var v2 = null;\n    var cv = null;\n    var t = 0;\n    var gl = renderer.gl\n    var index = 0;\n    var data = buffer.data;\n    "],s=0;s<i.length;s++){for(var u=i[s],c=t.uniforms[u.data.name],l=u.data.name,f=!1,h=0;h<Pt.length;h++){var p=Pt[h];if(p.codeUbo&&p.test(u.data,c)){a.push("offset = ".concat(u.offset/4,";"),Pt[h].codeUbo(u.data.name,c)),f=!0;break}}if(!f)if(u.data.size>1){var d=Nt(u.data.type),y=Math.max(lo[u.data.type]/16,1),v=d/y,m=(4-v%4)%4;a.push("\n                cv = ud.".concat(l,".value;\n                v = uv.").concat(l,";\n                offset = ").concat(u.offset/4,";\n\n                t = 0;\n\n                for(var i=0; i < ").concat(u.data.size*y,"; i++)\n                {\n                    for(var j = 0; j < ").concat(v,"; j++)\n                    {\n                        data[offset++] = v[t++];\n                    }\n                    offset += ").concat(m,";\n                }\n\n                "))}else{var b=co[u.data.type];a.push("\n                cv = ud.".concat(l,".value;\n                v = uv.").concat(l,";\n                offset = ").concat(u.offset/4,";\n                ").concat(b,";\n                "))}}return a.push("\n       renderer.buffer.update(buffer);\n    "),{size:o,syncFunc:new Function("ud","uv","renderer","syncData","buffer",a.join("\n"))}}function ho(t){return ho="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ho(t)}function po(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,yo(n.key),n)}}function yo(t){var e=function(t,e){if("object"!=ho(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=ho(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ho(e)?e:e+""}var vo=0,mo={textureCount:0,uboCount:0},bo=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=vo++},(e=[{key:"systemCheck",value:function(){if(!function(){if("boolean"==typeof uo)return uo;try{uo=!0===new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")}catch(t){uo=!1}return uo}())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}},{key:"contextChange",value:function(t){this.gl=t,this.reset()}},{key:"bind",value:function(t,e){t.disposeRunner.add(this),t.uniforms.globals=this.renderer.globalUniforms;var r=t.program,n=r.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(t);return this.shader=t,this.program!==r&&(this.program=r,this.gl.useProgram(n.program)),e||(mo.textureCount=0,mo.uboCount=0,this.syncUniformGroup(t.uniformGroup,mo)),n}},{key:"setUniforms",value:function(t){var e=this.shader.program,r=e.glPrograms[this.renderer.CONTEXT_UID];e.syncUniforms(r.uniformData,t,this.renderer)}},{key:"syncUniformGroup",value:function(t,e){var r=this.getGlProgram();(!t.static||t.dirtyId!==r.uniformDirtyGroups[t.id])&&(r.uniformDirtyGroups[t.id]=t.dirtyId,this.syncUniforms(t,r,e))}},{key:"syncUniforms",value:function(t,e,r){(t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t))(e.uniformData,t.uniforms,this.renderer,r)}},{key:"createSyncGroups",value:function(t){var e=this.getSignature(t,this.shader.program.uniformData,"u");return this.cache[e]||(this.cache[e]=function(t,e){var r=["\n        var v = null;\n        var cv = null;\n        var cu = null;\n        var t = 0;\n        var gl = renderer.gl;\n    "];for(var n in t.uniforms){var i=e[n];if(i){for(var o=t.uniforms[n],a=!1,s=0;s<Pt.length;s++)if(Pt[s].test(i,o)){r.push(Pt[s].code(n,o)),a=!0;break}if(!a){var u=(1!==i.size||i.isArray?At:Ot)[i.type].replace("location",'ud["'.concat(n,'"].location'));r.push('\n            cu = ud["'.concat(n,'"];\n            cv = cu.value;\n            v = uv["').concat(n,'"];\n            ').concat(u,";"))}}else{var c;!0===(null===(c=t.uniforms[n])||void 0===c?void 0:c.group)&&(t.uniforms[n].ubo?r.push("\n                        renderer.shader.syncUniformBufferGroup(uv.".concat(n,", '").concat(n,"');\n                    ")):r.push("\n                        renderer.shader.syncUniformGroup(uv.".concat(n,", syncData);\n                    ")))}}return new Function("ud","uv","renderer","syncData",r.join("\n"))}(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[e],t.syncUniforms[this.shader.program.id]}},{key:"syncUniformBufferGroup",value:function(t,e){var r=this.getGlProgram();if(!t.static||0!==t.dirtyId||!r.uniformGroups[t.id]){t.dirtyId=0;var n=r.uniformGroups[t.id]||this.createSyncBufferGroup(t,r,e);t.buffer.update(),n(r.uniformData,t.uniforms,this.renderer,mo,t.buffer)}this.renderer.buffer.bindBufferBase(t.buffer,r.uniformBufferBindings[e])}},{key:"createSyncBufferGroup",value:function(t,e,r){var n=this.renderer.gl;this.renderer.buffer.bind(t.buffer);var i=this.gl.getUniformBlockIndex(e.program,r);e.uniformBufferBindings[r]=this.shader.uniformBindCount,n.uniformBlockBinding(e.program,i,this.shader.uniformBindCount),this.shader.uniformBindCount++;var o=this.getSignature(t,this.shader.program.uniformData,"ubo"),a=this._uboCache[o];if(a||(a=this._uboCache[o]=fo(t,this.shader.program.uniformData)),t.autoManage){var s=new Float32Array(a.size/4);t.buffer.update(s)}return e.uniformGroups[t.id]=a.syncFunc,e.uniformGroups[t.id]}},{key:"getSignature",value:function(t,e,r){var n=t.uniforms,i=["".concat(r,"-")];for(var o in n)i.push(o),e[o]&&i.push(e[o].type);return i.join("-")}},{key:"getGlProgram",value:function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}},{key:"generateProgram",value:function(t){var e=this.gl,r=t.program,n=ao(e,r);return r.glPrograms[this.renderer.CONTEXT_UID]=n,n}},{key:"reset",value:function(){this.program=null,this.shader=null}},{key:"disposeShader",value:function(t){this.shader===t&&(this.shader=null)}},{key:"destroy",value:function(){this.renderer=null,this.destroyed=!0}}])&&po(t.prototype,e),r&&po(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();function go(t){return go="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},go(t)}function wo(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,So(n.key),n)}}function So(t){var e=function(t,e){if("object"!=go(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=go(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==go(e)?e:e+""}bo.extension={type:s.A.RendererSystem,name:"shader"},s.X.add(bo);var xo=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e},(e=[{key:"run",value:function(t){var e=this.renderer;e.runners.init.emit(e.options),t.hello&&console.log("PixiJS 7.4.3 - ".concat(e.rendererLogId," - https://pixijs.com")),e.resize(e.screen.width,e.screen.height)}},{key:"destroy",value:function(){}}])&&wo(t.prototype,e),r&&wo(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();function _o(t){return _o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_o(t)}function Eo(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,To(n.key),n)}}function To(t){var e=function(t,e){if("object"!=_o(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=_o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==_o(e)?e:e+""}xo.defaultOptions={hello:!1},xo.extension={type:[s.A.RendererSystem,s.A.CanvasRendererSystem],name:"startup"},s.X.add(xo);var ko=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=n.B9.NONE,this._blendEq=!1,this.map=[],this.map[0]=this.setBlend,this.map[1]=this.setOffset,this.map[2]=this.setCullFace,this.map[3]=this.setDepthTest,this.map[4]=this.setFrontFace,this.map[5]=this.setDepthMask,this.checks=[],this.defaultState=new m,this.defaultState.blend=!0}return e=t,r=[{key:"contextChange",value:function(t){this.gl=t,this.blendModes=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e[n.B9.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.B9.ADD]=[t.ONE,t.ONE],e[n.B9.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.B9.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.B9.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.B9.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.B9.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.B9.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.B9.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.B9.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.B9.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.B9.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.B9.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.B9.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.B9.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.B9.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.B9.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.B9.NONE]=[0,0],e[n.B9.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.B9.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[n.B9.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.B9.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[n.B9.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[n.B9.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[n.B9.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[n.B9.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[n.B9.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[n.B9.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[n.B9.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[n.B9.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}(t),this.set(this.defaultState),this.reset()}},{key:"set",value:function(t){if(t=t||this.defaultState,this.stateId!==t.data){for(var e=this.stateId^t.data,r=0;e;)1&e&&this.map[r].call(this,!!(t.data&1<<r)),e>>=1,r++;this.stateId=t.data}for(var n=0;n<this.checks.length;n++)this.checks[n](this,t)}},{key:"forceState",value:function(t){t=t||this.defaultState;for(var e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(var r=0;r<this.checks.length;r++)this.checks[r](this,t);this.stateId=t.data}},{key:"setBlend",value:function(e){this.updateCheck(t.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)}},{key:"setOffset",value:function(e){this.updateCheck(t.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}},{key:"setDepthTest",value:function(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)}},{key:"setDepthMask",value:function(t){this.gl.depthMask(t)}},{key:"setCullFace",value:function(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)}},{key:"setFrontFace",value:function(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])}},{key:"setBlendMode",value:function(t){if(t!==this.blendMode){this.blendMode=t;var e=this.blendModes[t],r=this.gl;2===e.length?r.blendFunc(e[0],e[1]):r.blendFuncSeparate(e[0],e[1],e[2],e[3]),6===e.length?(this._blendEq=!0,r.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD))}}},{key:"setPolygonOffset",value:function(t,e){this.gl.polygonOffset(t,e)}},{key:"reset",value:function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}},{key:"updateCheck",value:function(t,e){var r=this.checks.indexOf(t);e&&-1===r?this.checks.push(t):!e&&-1!==r&&this.checks.splice(r,1)}},{key:"destroy",value:function(){this.gl=null}}],i=[{key:"checkBlendMode",value:function(t,e){t.setBlendMode(e.blendMode)}},{key:"checkPolygonOffset",value:function(t,e){t.setPolygonOffset(1,e.polygonOffset)}}],r&&Eo(e.prototype,r),i&&Eo(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,r,i}();ko.extension={type:s.A.RendererSystem,name:"state"};var Po=ko;s.X.add(Po);r(4835009),r(68090010),r(96949634),r(69616513);function Oo(t){return Oo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oo(t)}function Ao(t){return function(t){if(Array.isArray(t))return jo(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Ro(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ro(t,e){if(t){if("string"==typeof t)return jo(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?jo(t,e):void 0}}function jo(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Io(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Co(n.key),n)}}function Co(t){var e=function(t,e){if("object"!=Oo(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Oo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Oo(e)?e:e+""}function Mo(t,e,r){return e=No(e),function(t,e){if(e&&("object"==Oo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Do()?Reflect.construct(e,r||[],No(t).constructor):e.apply(t,r))}function Do(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Do=function(){return!!t})()}function No(t){return No=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},No(t)}function Bo(t,e){return Bo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Bo(t,e)}var Fo=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=Mo(this,e,arguments)).runners={},t._systemsHash={},t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bo(t,e)}(e,t),r=e,n=[{key:"setup",value:function(t){var e;this.addRunners.apply(this,Ao(t.runners));var r,n=(null!==(e=t.priority)&&void 0!==e?e:[]).filter(function(e){return t.systems[e]}),i=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Ro(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}([].concat(Ao(n),Ao(Object.keys(t.systems).filter(function(t){return!n.includes(t)}))));try{for(i.s();!(r=i.n()).done;){var o=r.value;this.addSystem(t.systems[o],o)}}catch(a){i.e(a)}finally{i.f()}}},{key:"addRunners",value:function(){for(var t=this,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];r.forEach(function(e){t.runners[e]=new _(e)})}},{key:"addSystem",value:function(t,e){var r=new t(this);if(this[e])throw new Error('Whoops! The name "'.concat(e,'" is already in use'));for(var n in this[e]=r,this._systemsHash[e]=r,this.runners)this.runners[n].add(r);return this}},{key:"emitWithCustomOptions",value:function(t,e){var r=this,n=Object.keys(this._systemsHash);t.items.forEach(function(i){var o=n.find(function(t){return r._systemsHash[t]===i});i[t.name](e[o])})}},{key:"destroy",value:function(){Object.values(this.runners).forEach(function(t){t.destroy()}),this._systemsHash={}}}],n&&Io(r.prototype,n),i&&Io(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i}(o.EventEmitter);function Lo(t){return Lo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lo(t)}function Uo(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Vo(n.key),n)}}function Vo(t){var e=function(t,e){if("object"!=Lo(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Lo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Lo(e)?e:e+""}var Xo=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=t.defaultMaxIdle,this.checkCountMax=t.defaultCheckCountMax,this.mode=t.defaultMode},(e=[{key:"postrender",value:function(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==n.OS.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}},{key:"run",value:function(){for(var t=this.renderer.texture,e=t.managedTextures,r=!1,n=0;n<e.length;n++){var i=e[n];i.resource&&this.count-i.touched>this.maxIdle&&(t.destroyTexture(i,!0),e[n]=null,r=!0)}if(r){for(var o=0,a=0;a<e.length;a++)null!==e[a]&&(e[o++]=e[a]);e.length=o}}},{key:"unload",value:function(t){var e=this.renderer.texture,r=t._texture;r&&!r.framebuffer&&e.destroyTexture(r);for(var n=t.children.length-1;n>=0;n--)this.unload(t.children[n])}},{key:"destroy",value:function(){this.renderer=null}}])&&Uo(t.prototype,e),r&&Uo(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();Xo.defaultMode=n.OS.AUTO,Xo.defaultMaxIdle=3600,Xo.defaultCheckCountMax=600,Xo.extension={type:s.A.RendererSystem,name:"textureGC"};var Go=Xo;function Yo(t){return Yo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yo(t)}function qo(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ho(n.key),n)}}function Wo(t,e,r){return e&&qo(t.prototype,e),r&&qo(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ho(t){var e=function(t,e){if("object"!=Yo(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Yo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Yo(e)?e:e+""}s.X.add(Go);var zo=Wo(function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=n.QE.UNSIGNED_BYTE,this.internalFormat=n.hR.RGBA,this.samplerType=0});function Qo(t){return Qo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qo(t)}function Zo(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=Qo(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Qo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Qo(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ko(t){return Ko="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ko(t)}function $o(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=Ko(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Ko(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ko(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Jo(t){return Jo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jo(t)}function ta(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ea(n.key),n)}}function ea(t){var e=function(t,e){if("object"!=Jo(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Jo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Jo(e)?e:e+""}var ra=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new H,this.hasIntegerTextures=!1},e=[{key:"contextChange",value:function(){var t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=function(t){var e,r,i;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?($o($o($o($o($o($o($o($o($o($o(r={},n.QE.UNSIGNED_BYTE,($o($o($o($o($o($o($o($o($o($o(e={},n.hR.RGBA,t.RGBA8),n.hR.RGB,t.RGB8),n.hR.RG,t.RG8),n.hR.RED,t.R8),n.hR.RGBA_INTEGER,t.RGBA8UI),n.hR.RGB_INTEGER,t.RGB8UI),n.hR.RG_INTEGER,t.RG8UI),n.hR.RED_INTEGER,t.R8UI),n.hR.ALPHA,t.ALPHA),n.hR.LUMINANCE,t.LUMINANCE),$o(e,n.hR.LUMINANCE_ALPHA,t.LUMINANCE_ALPHA))),n.QE.BYTE,$o($o($o($o($o($o($o($o({},n.hR.RGBA,t.RGBA8_SNORM),n.hR.RGB,t.RGB8_SNORM),n.hR.RG,t.RG8_SNORM),n.hR.RED,t.R8_SNORM),n.hR.RGBA_INTEGER,t.RGBA8I),n.hR.RGB_INTEGER,t.RGB8I),n.hR.RG_INTEGER,t.RG8I),n.hR.RED_INTEGER,t.R8I)),n.QE.UNSIGNED_SHORT,$o($o($o($o($o({},n.hR.RGBA_INTEGER,t.RGBA16UI),n.hR.RGB_INTEGER,t.RGB16UI),n.hR.RG_INTEGER,t.RG16UI),n.hR.RED_INTEGER,t.R16UI),n.hR.DEPTH_COMPONENT,t.DEPTH_COMPONENT16)),n.QE.SHORT,$o($o($o($o({},n.hR.RGBA_INTEGER,t.RGBA16I),n.hR.RGB_INTEGER,t.RGB16I),n.hR.RG_INTEGER,t.RG16I),n.hR.RED_INTEGER,t.R16I)),n.QE.UNSIGNED_INT,$o($o($o($o($o({},n.hR.RGBA_INTEGER,t.RGBA32UI),n.hR.RGB_INTEGER,t.RGB32UI),n.hR.RG_INTEGER,t.RG32UI),n.hR.RED_INTEGER,t.R32UI),n.hR.DEPTH_COMPONENT,t.DEPTH_COMPONENT24)),n.QE.INT,$o($o($o($o({},n.hR.RGBA_INTEGER,t.RGBA32I),n.hR.RGB_INTEGER,t.RGB32I),n.hR.RG_INTEGER,t.RG32I),n.hR.RED_INTEGER,t.R32I)),n.QE.FLOAT,$o($o($o($o($o({},n.hR.RGBA,t.RGBA32F),n.hR.RGB,t.RGB32F),n.hR.RG,t.RG32F),n.hR.RED,t.R32F),n.hR.DEPTH_COMPONENT,t.DEPTH_COMPONENT32F)),n.QE.HALF_FLOAT,$o($o($o($o({},n.hR.RGBA,t.RGBA16F),n.hR.RGB,t.RGB16F),n.hR.RG,t.RG16F),n.hR.RED,t.R16F)),n.QE.UNSIGNED_SHORT_5_6_5,$o({},n.hR.RGB,t.RGB565)),n.QE.UNSIGNED_SHORT_4_4_4_4,$o({},n.hR.RGBA,t.RGBA4)),i=$o($o($o($o($o($o(r,n.QE.UNSIGNED_SHORT_5_5_5_1,$o({},n.hR.RGBA,t.RGB5_A1)),n.QE.UNSIGNED_INT_2_10_10_10_REV,$o($o({},n.hR.RGBA,t.RGB10_A2),n.hR.RGBA_INTEGER,t.RGB10_A2UI)),n.QE.UNSIGNED_INT_10F_11F_11F_REV,$o({},n.hR.RGB,t.R11F_G11F_B10F)),n.QE.UNSIGNED_INT_5_9_9_9_REV,$o({},n.hR.RGB,t.RGB9_E5)),n.QE.UNSIGNED_INT_24_8,$o({},n.hR.DEPTH_STENCIL,t.DEPTH24_STENCIL8)),n.QE.FLOAT_32_UNSIGNED_INT_24_8_REV,$o({},n.hR.DEPTH_STENCIL,t.DEPTH32F_STENCIL8))):i=$o($o($o($o({},n.QE.UNSIGNED_BYTE,$o($o($o($o($o({},n.hR.RGBA,t.RGBA),n.hR.RGB,t.RGB),n.hR.ALPHA,t.ALPHA),n.hR.LUMINANCE,t.LUMINANCE),n.hR.LUMINANCE_ALPHA,t.LUMINANCE_ALPHA)),n.QE.UNSIGNED_SHORT_5_6_5,$o({},n.hR.RGB,t.RGB)),n.QE.UNSIGNED_SHORT_4_4_4_4,$o({},n.hR.RGBA,t.RGBA)),n.QE.UNSIGNED_SHORT_5_5_5_1,$o({},n.hR.RGBA,t.RGBA)),i}(t),this.samplerTypes=function(t){var e,r;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?(Zo(Zo(Zo(Zo(Zo(Zo(Zo(Zo(Zo(Zo(e={},t.RGB,n.XZ.FLOAT),t.RGBA,n.XZ.FLOAT),t.ALPHA,n.XZ.FLOAT),t.LUMINANCE,n.XZ.FLOAT),t.LUMINANCE_ALPHA,n.XZ.FLOAT),t.R8,n.XZ.FLOAT),t.R8_SNORM,n.XZ.FLOAT),t.RG8,n.XZ.FLOAT),t.RG8_SNORM,n.XZ.FLOAT),t.RGB8,n.XZ.FLOAT),Zo(Zo(Zo(Zo(Zo(Zo(Zo(Zo(Zo(Zo(e,t.RGB8_SNORM,n.XZ.FLOAT),t.RGB565,n.XZ.FLOAT),t.RGBA4,n.XZ.FLOAT),t.RGB5_A1,n.XZ.FLOAT),t.RGBA8,n.XZ.FLOAT),t.RGBA8_SNORM,n.XZ.FLOAT),t.RGB10_A2,n.XZ.FLOAT),t.RGB10_A2UI,n.XZ.FLOAT),t.SRGB8,n.XZ.FLOAT),t.SRGB8_ALPHA8,n.XZ.FLOAT),Zo(Zo(Zo(Zo(Zo(Zo(Zo(Zo(Zo(Zo(e,t.R16F,n.XZ.FLOAT),t.RG16F,n.XZ.FLOAT),t.RGB16F,n.XZ.FLOAT),t.RGBA16F,n.XZ.FLOAT),t.R32F,n.XZ.FLOAT),t.RG32F,n.XZ.FLOAT),t.RGB32F,n.XZ.FLOAT),t.RGBA32F,n.XZ.FLOAT),t.R11F_G11F_B10F,n.XZ.FLOAT),t.RGB9_E5,n.XZ.FLOAT),Zo(Zo(Zo(Zo(Zo(Zo(Zo(Zo(Zo(Zo(e,t.R8I,n.XZ.INT),t.R8UI,n.XZ.UINT),t.R16I,n.XZ.INT),t.R16UI,n.XZ.UINT),t.R32I,n.XZ.INT),t.R32UI,n.XZ.UINT),t.RG8I,n.XZ.INT),t.RG8UI,n.XZ.UINT),t.RG16I,n.XZ.INT),t.RG16UI,n.XZ.UINT),Zo(Zo(Zo(Zo(Zo(Zo(Zo(Zo(Zo(Zo(e,t.RG32I,n.XZ.INT),t.RG32UI,n.XZ.UINT),t.RGB8I,n.XZ.INT),t.RGB8UI,n.XZ.UINT),t.RGB16I,n.XZ.INT),t.RGB16UI,n.XZ.UINT),t.RGB32I,n.XZ.INT),t.RGB32UI,n.XZ.UINT),t.RGBA8I,n.XZ.INT),t.RGBA8UI,n.XZ.UINT),r=Zo(Zo(Zo(Zo(Zo(Zo(Zo(Zo(Zo(Zo(e,t.RGBA16I,n.XZ.INT),t.RGBA16UI,n.XZ.UINT),t.RGBA32I,n.XZ.INT),t.RGBA32UI,n.XZ.UINT),t.DEPTH_COMPONENT16,n.XZ.FLOAT),t.DEPTH_COMPONENT24,n.XZ.FLOAT),t.DEPTH_COMPONENT32F,n.XZ.FLOAT),t.DEPTH_STENCIL,n.XZ.FLOAT),t.DEPTH24_STENCIL8,n.XZ.FLOAT),t.DEPTH32F_STENCIL8,n.XZ.FLOAT)):r=Zo(Zo(Zo(Zo(Zo(Zo({},t.RGB,n.XZ.FLOAT),t.RGBA,n.XZ.FLOAT),t.ALPHA,n.XZ.FLOAT),t.LUMINANCE,n.XZ.FLOAT),t.LUMINANCE_ALPHA,n.XZ.FLOAT),t.DEPTH_STENCIL,n.XZ.FLOAT),r}(t);var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=e;for(var r=0;r<e;r++)this.boundTextures[r]=null;this.emptyTextures={};var i=new zo(t.createTexture());t.bindTexture(t.TEXTURE_2D,i.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=i,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new zo(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture);for(var o=0;o<6;o++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+o,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR);for(var a=0;a<this.boundTextures.length;a++)this.bind(null,a)}},{key:"bind",value:function(t){var e,r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=this.gl;if(null!==(r=t=null===(e=t)||void 0===e?void 0:e.castToBaseTexture())&&void 0!==r&&r.valid&&!t.parentTextureArray){t.touched=this.renderer.textureGC.count;var o=t._glTextures[this.CONTEXT_UID]||this.initTexture(t);this.boundTextures[n]!==t&&(this.currentLocation!==n&&(this.currentLocation=n,i.activeTexture(i.TEXTURE0+n)),i.bindTexture(t.target,o.texture)),o.dirtyId!==t.dirtyId?(this.currentLocation!==n&&(this.currentLocation=n,i.activeTexture(i.TEXTURE0+n)),this.updateTexture(t)):o.dirtyStyleId!==t.dirtyStyleId&&this.updateTextureStyle(t),this.boundTextures[n]=t}else this.currentLocation!==n&&(this.currentLocation=n,i.activeTexture(i.TEXTURE0+n)),i.bindTexture(i.TEXTURE_2D,this.emptyTextures[i.TEXTURE_2D].texture),this.boundTextures[n]=null}},{key:"reset",value:function(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture}},{key:"unbind",value:function(t){var e=this.gl,r=this.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var n=0;n<r.length;n++)r[n]===this.unknownTexture&&this.bind(null,n)}for(var i=0;i<r.length;i++)r[i]===t&&(this.currentLocation!==i&&(e.activeTexture(e.TEXTURE0+i),this.currentLocation=i),e.bindTexture(t.target,this.emptyTextures[t.target].texture),r[i]=null)}},{key:"ensureSamplerType",value:function(t){var e=this.boundTextures,r=this.hasIntegerTextures,i=this.CONTEXT_UID;if(r)for(var o=t-1;o>=0;--o){var a=e[o];a&&a._glTextures[i].samplerType!==n.XZ.FLOAT&&this.renderer.texture.unbind(a)}}},{key:"initTexture",value:function(t){var e=new zo(this.gl.createTexture());return e.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=e,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),e}},{key:"initTextureType",value:function(t,e){var r,i,o;e.internalFormat=null!==(r=null===(i=this.internalFormats[t.type])||void 0===i?void 0:i[t.format])&&void 0!==r?r:t.format,e.samplerType=null!==(o=this.samplerTypes[e.internalFormat])&&void 0!==o?o:n.XZ.FLOAT,2===this.webGLVersion&&t.type===n.QE.HALF_FLOAT?e.type=this.gl.HALF_FLOAT:e.type=t.type}},{key:"updateTexture",value:function(t){var e,r=t._glTextures[this.CONTEXT_UID];if(r){var i=this.renderer;if(this.initTextureType(t,r),null!==(e=t.resource)&&void 0!==e&&e.upload(i,t,r))r.samplerType!==n.XZ.FLOAT&&(this.hasIntegerTextures=!0);else{var o=t.realWidth,a=t.realHeight,s=i.gl;(r.width!==o||r.height!==a||r.dirtyId<0)&&(r.width=o,r.height=a,s.texImage2D(t.target,0,r.internalFormat,o,a,0,t.format,r.type,null))}t.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(t),r.dirtyId=t.dirtyId}}},{key:"destroyTexture",value:function(t,e){var r=this.gl;if((t=t.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(t),r.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],!e)){var n=this.managedTextures.indexOf(t);-1!==n&&(0,o.removeItems)(this.managedTextures,n,1)}}},{key:"updateTextureStyle",value:function(t){var e,r=t._glTextures[this.CONTEXT_UID];r&&(t.mipmap!==n.E8.POW2&&2===this.webGLVersion||t.isPowerOfTwo?r.mipmap=t.mipmap>=1:r.mipmap=!1,2===this.webGLVersion||t.isPowerOfTwo?r.wrapMode=t.wrapMode:r.wrapMode=n.uR.CLAMP,null!==(e=t.resource)&&void 0!==e&&e.style(this.renderer,t,r)||this.setStyle(t,r),r.dirtyStyleId=t.dirtyStyleId)}},{key:"setStyle",value:function(t,e){var r=this.gl;if(e.mipmap&&t.mipmap!==n.E8.ON_MANUAL&&r.generateMipmap(t.target),r.texParameteri(t.target,r.TEXTURE_WRAP_S,e.wrapMode),r.texParameteri(t.target,r.TEXTURE_WRAP_T,e.wrapMode),e.mipmap){r.texParameteri(t.target,r.TEXTURE_MIN_FILTER,t.scaleMode===n.M6.LINEAR?r.LINEAR_MIPMAP_LINEAR:r.NEAREST_MIPMAP_NEAREST);var i=this.renderer.context.extensions.anisotropicFiltering;if(i&&t.anisotropicLevel>0&&t.scaleMode===n.M6.LINEAR){var o=Math.min(t.anisotropicLevel,r.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));r.texParameterf(t.target,i.TEXTURE_MAX_ANISOTROPY_EXT,o)}}else r.texParameteri(t.target,r.TEXTURE_MIN_FILTER,t.scaleMode===n.M6.LINEAR?r.LINEAR:r.NEAREST);r.texParameteri(t.target,r.TEXTURE_MAG_FILTER,t.scaleMode===n.M6.LINEAR?r.LINEAR:r.NEAREST)}},{key:"destroy",value:function(){this.renderer=null}}],e&&ta(t.prototype,e),r&&ta(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();function na(t){return na="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},na(t)}function ia(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,oa(n.key),n)}}function oa(t){var e=function(t,e){if("object"!=na(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=na(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==na(e)?e:e+""}ra.extension={type:s.A.RendererSystem,name:"texture"},s.X.add(ra);var aa=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e},(e=[{key:"contextChange",value:function(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}},{key:"bind",value:function(t){var e=this.gl,r=this.CONTEXT_UID,n=t._glTransformFeedbacks[r]||this.createGLTransformFeedback(t);e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,n)}},{key:"unbind",value:function(){var t=this.gl;t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,null)}},{key:"beginTransformFeedback",value:function(t,e){var r=this.gl,n=this.renderer;e&&n.shader.bind(e),r.beginTransformFeedback(t)}},{key:"endTransformFeedback",value:function(){this.gl.endTransformFeedback()}},{key:"createGLTransformFeedback",value:function(t){var e=this.gl,r=this.renderer,n=this.CONTEXT_UID,i=e.createTransformFeedback();t._glTransformFeedbacks[n]=i,e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,i);for(var o=0;o<t.buffers.length;o++){var a=t.buffers[o];a&&(r.buffer.update(a),a._glBuffers[n].refCount++,e.bindBufferBase(e.TRANSFORM_FEEDBACK_BUFFER,o,a._glBuffers[n].buffer||null))}return e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null),t.disposeRunner.add(this),i}},{key:"disposeTransformFeedback",value:function(t,e){var r=t._glTransformFeedbacks[this.CONTEXT_UID],n=this.gl;t.disposeRunner.remove(this);var i=this.renderer.buffer;if(i)for(var o=0;o<t.buffers.length;o++){var a=t.buffers[o];if(a){var s=a._glBuffers[this.CONTEXT_UID];s&&(s.refCount--,0===s.refCount&&!e&&i.dispose(a,e))}}r&&(e||n.deleteTransformFeedback(r),delete t._glTransformFeedbacks[this.CONTEXT_UID])}},{key:"destroy",value:function(){this.renderer=null}}])&&ia(t.prototype,e),r&&ia(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();function sa(t){return sa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sa(t)}function ua(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ca(n.key),n)}}function ca(t){var e=function(t,e){if("object"!=sa(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=sa(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==sa(e)?e:e+""}aa.extension={type:s.A.RendererSystem,name:"transformFeedback"},s.X.add(aa);var la=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e},(e=[{key:"init",value:function(t){this.screen=new Et.M_(0,0,t.width,t.height),this.element=t.view||i.W0.ADAPTER.createCanvas(),this.resolution=t.resolution||i.W0.RESOLUTION,this.autoDensity=!!t.autoDensity}},{key:"resizeView",value:function(t,e){this.element.width=Math.round(t*this.resolution),this.element.height=Math.round(e*this.resolution);var r=this.element.width/this.resolution,n=this.element.height/this.resolution;this.screen.width=r,this.screen.height=n,this.autoDensity&&(this.element.style.width="".concat(r,"px"),this.element.style.height="".concat(n,"px")),this.renderer.emit("resize",r,n),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}},{key:"destroy",value:function(t){var e;t&&null!==(e=this.element.parentNode)&&void 0!==e&&e.removeChild(this.element),this.renderer=null,this.element=null,this.screen=null}}])&&ua(t.prototype,e),r&&ua(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();function fa(t){return fa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fa(t)}function ha(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function pa(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ha(Object(r),!0).forEach(function(e){da(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ha(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function da(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=fa(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=fa(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==fa(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}la.defaultOptions={width:800,height:600,resolution:void 0,autoDensity:!1},la.extension={type:[s.A.RendererSystem,s.A.CanvasRendererSystem],name:"_view"},s.X.add(la),i.W0.PREFER_ENV=n.Km.WEBGL2,i.W0.STRICT_TEXTURE_CACHE=!1,i.W0.RENDER_OPTIONS=pa(pa(pa(pa({},He.defaultOptions),Fe.defaultOptions),la.defaultOptions),xo.defaultOptions),Object.defineProperties(i.W0,{WRAP_MODE:{get:function(){return H.defaultOptions.wrapMode},set:function(t){(0,o.deprecation)("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),H.defaultOptions.wrapMode=t}},SCALE_MODE:{get:function(){return H.defaultOptions.scaleMode},set:function(t){(0,o.deprecation)("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),H.defaultOptions.scaleMode=t}},MIPMAP_TEXTURES:{get:function(){return H.defaultOptions.mipmap},set:function(t){(0,o.deprecation)("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),H.defaultOptions.mipmap=t}},ANISOTROPIC_LEVEL:{get:function(){return H.defaultOptions.anisotropicLevel},set:function(t){(0,o.deprecation)("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),H.defaultOptions.anisotropicLevel=t}},FILTER_RESOLUTION:{get:function(){return(0,o.deprecation)("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),Me.defaultResolution},set:function(t){Me.defaultResolution=t}},FILTER_MULTISAMPLE:{get:function(){return(0,o.deprecation)("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),Me.defaultMultisample},set:function(t){Me.defaultMultisample=t}},SPRITE_MAX_TEXTURES:{get:function(){return Te.defaultMaxTextures},set:function(t){(0,o.deprecation)("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),Te.defaultMaxTextures=t}},SPRITE_BATCH_SIZE:{get:function(){return Te.defaultBatchSize},set:function(t){(0,o.deprecation)("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),Te.defaultBatchSize=t}},CAN_UPLOAD_SAME_BUFFER:{get:function(){return Te.canUploadSameBuffer},set:function(t){(0,o.deprecation)("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),Te.canUploadSameBuffer=t}},GC_MODE:{get:function(){return Go.defaultMode},set:function(t){(0,o.deprecation)("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),Go.defaultMode=t}},GC_MAX_IDLE:{get:function(){return Go.defaultMaxIdle},set:function(t){(0,o.deprecation)("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),Go.defaultMaxIdle=t}},GC_MAX_CHECK_COUNT:{get:function(){return Go.defaultCheckCountMax},set:function(t){(0,o.deprecation)("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),Go.defaultCheckCountMax=t}},PRECISION_VERTEX:{get:function(){return Ht.defaultVertexPrecision},set:function(t){(0,o.deprecation)("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),Ht.defaultVertexPrecision=t}},PRECISION_FRAGMENT:{get:function(){return Ht.defaultFragmentPrecision},set:function(t){(0,o.deprecation)("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),Ht.defaultFragmentPrecision=t}}});var ya=r(20027462);function va(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return ma(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ma(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function ma(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var ba=[];function ga(t){var e,r=va(ba);try{for(r.s();!(e=r.n()).done;){var n=e.value;if(n.test(t))return new n(t)}}catch(i){r.e(i)}finally{r.f()}throw new Error("Unable to auto-detect a suitable renderer.")}s.X.handleByList(s.A.Renderer,ba);var wa="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",Sa="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n";function xa(t){return xa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xa(t)}function _a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ea(n.key),n)}}function Ea(t){var e=function(t,e){if("object"!=xa(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=xa(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==xa(e)?e:e+""}var Ta=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e},(e=[{key:"contextChange",value:function(t){var e;if(1===this.renderer.context.webGLVersion){var r=t.getParameter(t.FRAMEBUFFER_BINDING);t.bindFramebuffer(t.FRAMEBUFFER,null),e=t.getParameter(t.SAMPLES),t.bindFramebuffer(t.FRAMEBUFFER,r)}else{var i=t.getParameter(t.DRAW_FRAMEBUFFER_BINDING);t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),e=t.getParameter(t.SAMPLES),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,i)}e>=n.he.HIGH?this.multisample=n.he.HIGH:e>=n.he.MEDIUM?this.multisample=n.he.MEDIUM:e>=n.he.LOW?this.multisample=n.he.LOW:this.multisample=n.he.NONE}},{key:"destroy",value:function(){}}])&&_a(t.prototype,e),r&&_a(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();function ka(t){return ka="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ka(t)}function Pa(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Aa(n.key),n)}}function Oa(t,e,r){return e&&Pa(t.prototype,e),r&&Pa(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Aa(t){var e=function(t,e){if("object"!=ka(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=ka(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ka(e)?e:e+""}Ta.extension={type:s.A.RendererSystem,name:"_multisample"},s.X.add(Ta);var Ra=Oa(function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0});function ja(t){return ja="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ja(t)}function Ia(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ca(n.key),n)}}function Ca(t){var e=function(t,e){if("object"!=ja(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=ja(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ja(e)?e:e+""}var Ma=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e,this.managedBuffers={},this.boundBufferBases={}},(e=[{key:"destroy",value:function(){this.renderer=null}},{key:"contextChange",value:function(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}},{key:"bind",value:function(t){var e=this.gl,r=this.CONTEXT_UID,n=t._glBuffers[r]||this.createGLBuffer(t);e.bindBuffer(t.type,n.buffer)}},{key:"unbind",value:function(t){this.gl.bindBuffer(t,null)}},{key:"bindBufferBase",value:function(t,e){var r=this.gl,n=this.CONTEXT_UID;if(this.boundBufferBases[e]!==t){var i=t._glBuffers[n]||this.createGLBuffer(t);this.boundBufferBases[e]=t,r.bindBufferBase(r.UNIFORM_BUFFER,e,i.buffer)}}},{key:"bindBufferRange",value:function(t,e,r){var n=this.gl,i=this.CONTEXT_UID;r=r||0;var o=t._glBuffers[i]||this.createGLBuffer(t);n.bindBufferRange(n.UNIFORM_BUFFER,e||0,o.buffer,256*r,256)}},{key:"update",value:function(t){var e=this.gl,r=this.CONTEXT_UID,n=t._glBuffers[r]||this.createGLBuffer(t);if(t._updateID!==n.updateID)if(n.updateID=t._updateID,e.bindBuffer(t.type,n.buffer),n.byteLength>=t.data.byteLength)e.bufferSubData(t.type,0,t.data);else{var i=t.static?e.STATIC_DRAW:e.DYNAMIC_DRAW;n.byteLength=t.data.byteLength,e.bufferData(t.type,t.data,i)}}},{key:"dispose",value:function(t,e){if(this.managedBuffers[t.id]){delete this.managedBuffers[t.id];var r=t._glBuffers[this.CONTEXT_UID],n=this.gl;t.disposeRunner.remove(this),r&&(e||n.deleteBuffer(r.buffer),delete t._glBuffers[this.CONTEXT_UID])}}},{key:"disposeAll",value:function(t){for(var e=Object.keys(this.managedBuffers),r=0;r<e.length;r++)this.dispose(this.managedBuffers[e[r]],t)}},{key:"createGLBuffer",value:function(t){var e=this.CONTEXT_UID,r=this.gl;return t._glBuffers[e]=new Ra(r.createBuffer()),this.managedBuffers[t.id]=t,t.disposeRunner.add(this),t._glBuffers[e]}}])&&Ia(t.prototype,e),r&&Ia(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();function Da(t){return Da="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Da(t)}function Na(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ba(n.key),n)}}function Ba(t){var e=function(t,e){if("object"!=Da(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Da(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Da(e)?e:e+""}Ma.extension={type:s.A.RendererSystem,name:"buffer"},s.X.add(Ma);var Fa=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e},(e=[{key:"render",value:function(t,e){var r,n,i,o,a=this.renderer;if(e&&(r=e.renderTexture,n=e.clear,i=e.transform,o=e.skipUpdateTransform),this.renderingToScreen=!r,a.runners.prerender.emit(),a.emit("prerender"),a.projection.transform=i,!a.context.isLost){if(r||(this.lastObjectRendered=t),!o){var s=t.enableTempParent();t.updateTransform(),t.disableTempParent(s)}a.renderTexture.bind(r),a.batch.currentRenderer.start(),(null!=n?n:a.background.clearBeforeRender)&&a.renderTexture.clear(),t.render(a),a.batch.currentRenderer.flush(),r&&(e.blit&&a.framebuffer.blit(),r.baseTexture.update()),a.runners.postrender.emit(),a.projection.transform=null,a.emit("postrender")}}},{key:"destroy",value:function(){this.renderer=null,this.lastObjectRendered=null}}])&&Na(t.prototype,e),r&&Na(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();Fa.extension={type:s.A.RendererSystem,name:"objectRenderer"},s.X.add(Fa);r(91931354);function La(t){return La="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},La(t)}function Ua(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Va(n.key),n)}}function Va(t){var e=function(t,e){if("object"!=La(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=La(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==La(e)?e:e+""}function Xa(t,e,r){return e=qa(e),function(t,e){if(e&&("object"==La(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Ga()?Reflect.construct(e,r||[],qa(t).constructor):e.apply(t,r))}function Ga(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Ga=function(){return!!t})()}function Ya(){return Ya="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=qa(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},Ya.apply(null,arguments)}function qa(t){return qa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},qa(t)}function Wa(t,e){return Wa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Wa(t,e)}var Ha=function(t){function e(t){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=Xa(this,e)).type=n.h3.WEBGL,t=Object.assign({},i.W0.RENDER_OPTIONS,t),r.gl=null,r.CONTEXT_UID=0,r.globalUniforms=new $t({projectionMatrix:new Et.uq},!0);var a={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:e.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};return r.setup(a),"useContextAlpha"in t&&((0,o.deprecation)("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),t.premultipliedAlpha=t.useContextAlpha&&"notMultiplied"!==t.useContextAlpha,t.backgroundAlpha=!1===t.useContextAlpha?1:t.backgroundAlpha),r._plugin.rendererPlugins=e.__plugins,r.options=t,r.startup.run(r.options),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wa(t,e)}(e,t),r=e,a=[{key:"render",value:function(t,e){this.objectRenderer.render(t,e)}},{key:"resize",value:function(t,e){this._view.resizeView(t,e)}},{key:"reset",value:function(){return this.runners.reset.emit(),this}},{key:"clear",value:function(){this.renderTexture.bind(),this.renderTexture.clear()}},{key:"destroy",value:function(){var t,r,n,i,o,a=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:a}),(t=e,r="destroy",n=this,o=Ya(qa(1&(i=3)?t.prototype:t),r,n),2&i&&"function"==typeof o?function(t){return o.apply(n,t)}:o)([])}},{key:"plugins",get:function(){return this._plugin.plugins}},{key:"multisample",get:function(){return this._multisample.multisample}},{key:"width",get:function(){return this._view.element.width}},{key:"height",get:function(){return this._view.element.height}},{key:"resolution",get:function(){return this._view.resolution},set:function(t){this._view.resolution=t,this.runners.resolutionChange.emit(t)}},{key:"autoDensity",get:function(){return this._view.autoDensity}},{key:"view",get:function(){return this._view.element}},{key:"screen",get:function(){return this._view.screen}},{key:"lastObjectRendered",get:function(){return this.objectRenderer.lastObjectRendered}},{key:"renderingToScreen",get:function(){return this.objectRenderer.renderingToScreen}},{key:"rendererLogId",get:function(){return"WebGL ".concat(this.context.webGLVersion)}},{key:"clearBeforeRender",get:function(){return(0,o.deprecation)("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}},{key:"useContextAlpha",get:function(){return(0,o.deprecation)("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}},{key:"preserveDrawingBuffer",get:function(){return(0,o.deprecation)("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}},{key:"backgroundColor",get:function(){return(0,o.deprecation)("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color},set:function(t){(0,o.deprecation)("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=t}},{key:"backgroundAlpha",get:function(){return(0,o.deprecation)("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha},set:function(t){(0,o.deprecation)("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=t}},{key:"powerPreference",get:function(){return(0,o.deprecation)("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}},{key:"generateTexture",value:function(t,e){return this.textureGenerator.generateTexture(t,e)}}],s=[{key:"test",value:function(t){return(null==t||!t.forceCanvas)&&(0,o.isWebGLSupported)()}}],a&&Ua(r.prototype,a),s&&Ua(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,s}(Fo);Ha.extension={type:s.A.Renderer,priority:1},Ha.__plugins={},Ha.__systems={};var za=Ha;function Qa(t){return Qa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qa(t)}function Za(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ka(n.key),n)}}function Ka(t){var e=function(t,e){if("object"!=Qa(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Qa(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Qa(e)?e:e+""}function $a(t,e,r){return e=rs(e),function(t,e){if(e&&("object"==Qa(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Ja()?Reflect.construct(e,r||[],rs(t).constructor):e.apply(t,r))}function Ja(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Ja=function(){return!!t})()}function ts(t,e,r,n){var i=es(rs(1&n?t.prototype:t),e,r);return 2&n&&"function"==typeof i?function(t){return i.apply(r,t)}:i}function es(){return es="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=rs(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},es.apply(null,arguments)}function rs(t){return rs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},rs(t)}function ns(t,e){return ns=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ns(t,e)}s.X.handleByMap(s.A.RendererPlugin,za.__plugins),s.X.handleByMap(s.A.RendererSystem,za.__systems),s.X.add(za);var is=function(t){function e(t,r){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=r||{};(n=$a(this,e,[i.width,i.height])).items=[],n.itemDirtyIds=[];for(var o=0;o<t;o++){var a=new H;n.items.push(a),n.itemDirtyIds.push(-2)}return n.length=t,n._load=null,n.baseTexture=null,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ns(t,e)}(e,t),r=e,(n=[{key:"initFromArray",value:function(t,e){for(var r=0;r<this.length;r++)t[r]&&(t[r].castToBaseTexture?this.addBaseTextureAt(t[r].castToBaseTexture(),r):t[r]instanceof P?this.addResourceAt(t[r],r):this.addResourceAt(g(t[r],e),r))}},{key:"dispose",value:function(){for(var t=0,e=this.length;t<e;t++)this.items[t].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}},{key:"addResourceAt",value:function(t,e){if(!this.items[e])throw new Error("Index ".concat(e," is out of bounds"));return t.valid&&!this.valid&&this.resize(t.width,t.height),this.items[e].setResource(t),this}},{key:"bind",value:function(t){if(null!==this.baseTexture)throw new Error("Only one base texture per TextureArray is allowed");ts(e,"bind",this,3)([t]);for(var r=0;r<this.length;r++)this.items[r].parentTextureArray=t,this.items[r].on("update",t.update,t)}},{key:"unbind",value:function(t){ts(e,"unbind",this,3)([t]);for(var r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",t.update,t)}},{key:"load",value:function(){var t=this;if(this._load)return this._load;var e=this.items.map(function(t){return t.resource}).filter(function(t){return t}).map(function(t){return t.load()});return this._load=Promise.all(e).then(function(){var e=t.items[0],r=e.realWidth,n=e.realHeight;return t.resize(r,n),t.update(),Promise.resolve(t)}),this._load}}])&&Za(r.prototype,n),i&&Za(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i}(P);function os(t){return os="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},os(t)}function as(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ss(n.key),n)}}function ss(t){var e=function(t,e){if("object"!=os(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=os(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==os(e)?e:e+""}function us(t,e,r){return e=fs(e),function(t,e){if(e&&("object"==os(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,cs()?Reflect.construct(e,r||[],fs(t).constructor):e.apply(t,r))}function cs(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(cs=function(){return!!t})()}function ls(){return ls="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=fs(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},ls.apply(null,arguments)}function fs(t){return fs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},fs(t)}function hs(t,e){return hs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},hs(t,e)}var ps=function(t){function e(t,r){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i,o,a=r||{},s=a.width,u=a.height;return Array.isArray(t)?(i=t,o=t.length):o=t,n=us(this,e,[o,{width:s,height:u}]),i&&n.initFromArray(i,r),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hs(t,e)}(e,t),r=e,i=[{key:"addBaseTextureAt",value:function(t,e){if(!t.resource)throw new Error("ArrayResource does not support RenderTexture");return this.addResourceAt(t.resource,e),this}},{key:"bind",value:function(t){var r,i,o,a,s;(r=e,i="bind",o=this,s=ls(fs(1&(a=3)?r.prototype:r),i,o),2&a&&"function"==typeof s?function(t){return s.apply(o,t)}:s)([t]),t.target=n.dW.TEXTURE_2D_ARRAY}},{key:"upload",value:function(t,e,r){var n=this.length,i=this.itemDirtyIds,o=this.items,a=t.gl;r.dirtyId<0&&a.texImage3D(a.TEXTURE_2D_ARRAY,0,r.internalFormat,this._width,this._height,n,0,e.format,r.type,null);for(var s=0;s<n;s++){var u=o[s];i[s]<u.dirtyId&&(i[s]=u.dirtyId,u.valid&&a.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,s,u.resource.width,u.resource.height,1,e.format,r.type,u.resource.source))}return!0}}],i&&as(r.prototype,i),o&&as(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(is);function ds(t){return ds="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ds(t)}function ys(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,vs(n.key),n)}}function vs(t){var e=function(t,e){if("object"!=ds(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=ds(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ds(e)?e:e+""}function ms(t,e,r){return e=gs(e),function(t,e){if(e&&("object"==ds(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,bs()?Reflect.construct(e,r||[],gs(t).constructor):e.apply(t,r))}function bs(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(bs=function(){return!!t})()}function gs(t){return gs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},gs(t)}function ws(t,e){return ws=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ws(t,e)}var Ss=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),ms(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ws(t,e)}(e,t),r=e,i=[{key:"test",value:function(t){var e=globalThis.OffscreenCanvas;return!!(e&&t instanceof e)||globalThis.HTMLCanvasElement&&t instanceof HTMLCanvasElement}}],(n=null)&&ys(r.prototype,n),i&&ys(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i}(mr);function xs(t){return xs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xs(t)}function _s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Es(n.key),n)}}function Es(t){var e=function(t,e){if("object"!=xs(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=xs(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==xs(e)?e:e+""}function Ts(t,e,r){return e=Os(e),function(t,e){if(e&&("object"==xs(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,ks()?Reflect.construct(e,r||[],Os(t).constructor):e.apply(t,r))}function ks(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(ks=function(){return!!t})()}function Ps(){return Ps="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=Os(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},Ps.apply(null,arguments)}function Os(t){return Os=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Os(t)}function As(t,e){return As=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},As(t,e)}var Rs=function(t){function e(t,r){var i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=r||{},a=o.width,s=o.height,u=o.autoLoad,c=o.linkBaseTexture;if(t&&t.length!==e.SIDES)throw new Error("Invalid length. Got ".concat(t.length,", expected 6"));i=Ts(this,e,[6,{width:a,height:s}]);for(var l=0;l<e.SIDES;l++)i.items[l].target=n.dW.TEXTURE_CUBE_MAP_POSITIVE_X+l;return i.linkBaseTexture=!1!==c,t&&i.initFromArray(t,r),!1!==u&&i.load(),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&As(t,e)}(e,t),r=e,i=[{key:"bind",value:function(t){var r,i,o,a,s;(r=e,i="bind",o=this,s=Ps(Os(1&(a=3)?r.prototype:r),i,o),2&a&&"function"==typeof s?function(t){return s.apply(o,t)}:s)([t]),t.target=n.dW.TEXTURE_CUBE_MAP}},{key:"addBaseTextureAt",value:function(t,e,r){if(void 0===r&&(r=this.linkBaseTexture),!this.items[e])throw new Error("Index ".concat(e," is out of bounds"));if(!this.linkBaseTexture||t.parentTextureArray||Object.keys(t._glTextures).length>0){if(!t.resource)throw new Error("CubeResource does not support copying of renderTexture.");this.addResourceAt(t.resource,e)}else t.target=n.dW.TEXTURE_CUBE_MAP_POSITIVE_X+e,t.parentTextureArray=this.baseTexture,this.items[e]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[e]=t,this}},{key:"upload",value:function(t,r,n){for(var i=this.itemDirtyIds,o=0;o<e.SIDES;o++){var a=this.items[o];(i[o]<a.dirtyId||n.dirtyId<r.dirtyId)&&(a.valid&&a.resource?(a.resource.upload(t,a,n),i[o]=a.dirtyId):i[o]<-1&&(t.gl.texImage2D(a.target,0,n.internalFormat,r.realWidth,r.realHeight,0,r.format,n.type,null),i[o]=-1))}return!0}}],o=[{key:"test",value:function(t){return Array.isArray(t)&&t.length===e.SIDES}}],i&&_s(r.prototype,i),o&&_s(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(is);Rs.SIDES=6;var js=Rs;function Is(t){return Is="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Is(t)}function Cs(){var t,e,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function o(r,n,i,o){var u=n&&n.prototype instanceof s?n:s,c=Object.create(u.prototype);return Ms(c,"_invoke",function(r,n,i){var o,s,u,c=0,l=i||[],f=!1,h={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,r){return o=e,s=0,u=t,h.n=r,a}};function p(r,n){for(s=r,u=n,e=0;!f&&c&&!i&&e<l.length;e++){var i,o=l[e],p=h.p,d=o[2];r>3?(i=d===n)&&(u=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=t):o[0]<=p&&((i=r<2&&p<o[1])?(s=0,h.v=n,h.n=o[1]):p<d&&(i=r<3||o[0]>n||n>d)&&(o[4]=r,o[5]=n,h.n=d,s=0))}if(i||r>1)return a;throw f=!0,n}return function(i,l,d){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,d),s=l,u=d;(e=s<2?t:u)||!f;){o||(s?s<3?(s>1&&(h.n=-1),p(s,u)):h.n=u:h.v=u);try{if(c=2,o){if(s||(i="next"),e=o[i]){if(!(e=e.call(o,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,s<2&&(s=0)}else 1===s&&(e=o.return)&&e.call(o),s<2&&(u=TypeError("The iterator does not provide a '"+i+"' method"),s=1);o=t}else if((e=(f=h.n<0)?u:r.call(n,h))!==a)break}catch(e){o=t,s=1,u=e}finally{c=1}}return{value:e,done:f}}}(r,i,o),!0),c}var a={};function s(){}function u(){}function c(){}e=Object.getPrototypeOf;var l=[][n]?e(e([][n]())):(Ms(e={},n,function(){return this}),e),f=c.prototype=s.prototype=Object.create(l);function h(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,Ms(t,i,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=c,Ms(f,"constructor",c),Ms(c,"constructor",u),u.displayName="GeneratorFunction",Ms(c,i,"GeneratorFunction"),Ms(f),Ms(f,i,"Generator"),Ms(f,n,function(){return this}),Ms(f,"toString",function(){return"[object Generator]"}),(Cs=function(){return{w:o,m:h}})()}function Ms(t,e,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}Ms=function(t,e,r,n){function o(e,r){Ms(t,e,function(t){return this._invoke(e,r,t)})}e?i?i(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n}):t[e]=r:(o("next",0),o("throw",1),o("return",2))},Ms(t,e,r,n)}function Ds(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function Ns(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Bs(n.key),n)}}function Bs(t){var e=function(t,e){if("object"!=Is(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Is(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Is(e)?e:e+""}function Fs(t,e,r){return e=Xs(e),function(t,e){if(e&&("object"==Is(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Ls()?Reflect.construct(e,r||[],Xs(t).constructor):e.apply(t,r))}function Ls(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Ls=function(){return!!t})()}function Us(t,e,r,n){var i=Vs(Xs(1&n?t.prototype:t),e,r);return 2&n&&"function"==typeof i?function(t){return i.apply(r,t)}:i}function Vs(){return Vs="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=Xs(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},Vs.apply(null,arguments)}function Xs(t){return Xs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Xs(t)}function Gs(t,e){return Gs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Gs(t,e)}var Ys=function(t){function e(t,r){var n,i,o,a,s,u;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=r||{},"string"==typeof t?(a=e.EMPTY,s=t,u=!0):(a=t,s=null,u=!1),(o=Fs(this,e,[a])).url=s,o.crossOrigin=null===(n=r.crossOrigin)||void 0===n||n,o.alphaMode="number"==typeof r.alphaMode?r.alphaMode:null,o.ownsImageBitmap=null!==(i=r.ownsImageBitmap)&&void 0!==i?i:u,o._load=null,!1!==r.autoLoad&&o.load(),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gs(t,e)}(e,t),r=e,o=[{key:"load",value:function(){var t=this;return this._load||(this._load=new Promise(function(){var e,r=(e=Cs().m(function e(r,o){var a,s,u,c;return Cs().w(function(e){for(;;)switch(e.p=e.n){case 0:if(null!==t.url){e.n=1;break}return r(t),e.a(2);case 1:return e.p=1,e.n=2,i.W0.ADAPTER.fetch(t.url,{mode:t.crossOrigin?"cors":"no-cors"});case 2:if(a=e.v,!t.destroyed){e.n=3;break}return e.a(2);case 3:return e.n=4,a.blob();case 4:if(s=e.v,!t.destroyed){e.n=5;break}return e.a(2);case 5:return e.n=6,createImageBitmap(s,{premultiplyAlpha:null===t.alphaMode||t.alphaMode===n.Gk.UNPACK?"premultiply":"none"});case 6:if(u=e.v,!t.destroyed){e.n=7;break}return u.close(),e.a(2);case 7:t.source=u,t.update(),r(t),e.n=10;break;case 8:if(e.p=8,c=e.v,!t.destroyed){e.n=9;break}return e.a(2);case 9:o(c),t.onError.emit(c);case 10:return e.a(2)}},e,null,[[1,8]])}),function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(t){Ds(o,n,i,a,s,"next",t)}function s(t){Ds(o,n,i,a,s,"throw",t)}a(void 0)})});return function(t,e){return r.apply(this,arguments)}}())),this._load}},{key:"upload",value:function(t,r,n){return this.source instanceof ImageBitmap?("number"==typeof this.alphaMode&&(r.alphaMode=this.alphaMode),Us(e,"upload",this,3)([t,r,n])):(this.load(),!1)}},{key:"dispose",value:function(){this.ownsImageBitmap&&this.source instanceof ImageBitmap&&this.source.close(),Us(e,"dispose",this,3)([]),this._load=null}}],a=[{key:"test",value:function(t){return!!globalThis.createImageBitmap&&("undefined"==typeof ImageBitmap?"undefined":Is(ImageBitmap))<"u"&&("string"==typeof t||t instanceof ImageBitmap)}},{key:"EMPTY",get:function(){var t;return e._EMPTY=null!==(t=e._EMPTY)&&void 0!==t?t:i.W0.ADAPTER.createCanvas(0,0),e._EMPTY}}],o&&Ns(r.prototype,o),a&&Ns(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,a}(mr);r(15063431),r(54874387),r(93949979);function qs(t){return qs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qs(t)}function Ws(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Hs(n.key),n)}}function Hs(t){var e=function(t,e){if("object"!=qs(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=qs(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==qs(e)?e:e+""}function zs(t,e,r){return e=Ks(e),function(t,e){if(e&&("object"==qs(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Qs()?Reflect.construct(e,r||[],Ks(t).constructor):e.apply(t,r))}function Qs(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Qs=function(){return!!t})()}function Zs(){return Zs="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=Ks(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},Zs.apply(null,arguments)}function Ks(t){return Ks=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ks(t)}function $s(t,e){return $s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},$s(t,e)}var Js=function(t){function e(t,r){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=r||{},(n=zs(this,e,[i.W0.ADAPTER.createCanvas()]))._width=0,n._height=0,n.svg=t,n.scale=r.scale||1,n._overrideWidth=r.width,n._overrideHeight=r.height,n._resolve=null,n._crossorigin=r.crossorigin,n._load=null,!1!==r.autoLoad&&n.load(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$s(t,e)}(e,t),r=e,n=[{key:"load",value:function(){var t=this;return this._load||(this._load=new Promise(function(r){if(t._resolve=function(){t.update(),r(t)},e.SVG_XML.test(t.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");t.svg="data:image/svg+xml;base64,".concat(btoa(unescape(encodeURIComponent(t.svg))))}t._loadSvg()})),this._load}},{key:"_loadSvg",value:function(){var t=this,e=new Image;mr.crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=function(r){t._resolve&&(e.onerror=null,t.onError.emit(r))},e.onload=function(){if(t._resolve){var r=e.width,n=e.height;if(!r||!n)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var i=r*t.scale,a=n*t.scale;(t._overrideWidth||t._overrideHeight)&&(i=t._overrideWidth||t._overrideHeight/n*r,a=t._overrideHeight||t._overrideWidth/r*n),i=Math.round(i),a=Math.round(a);var s=t.source;s.width=i,s.height=a,s._pixiId="canvas_".concat((0,o.uid)()),s.getContext("2d").drawImage(e,0,0,r,n,0,0,i,a),t._resolve(),t._resolve=null}}}},{key:"dispose",value:function(){var t,r,n,i,o;(t=e,r="dispose",n=this,o=Zs(Ks(1&(i=3)?t.prototype:t),r,n),2&i&&"function"==typeof o?function(t){return o.apply(n,t)}:o)([]),this._resolve=null,this._crossorigin=null}}],a=[{key:"getSize",value:function(t){var r=e.SVG_SIZE.exec(t),n={};return r&&(n[r[1]]=Math.round(parseFloat(r[3])),n[r[5]]=Math.round(parseFloat(r[7]))),n}},{key:"test",value:function(t,r){return"svg"===r||"string"==typeof t&&t.startsWith("data:image/svg+xml")||"string"==typeof t&&e.SVG_XML.test(t)}}],n&&Ws(r.prototype,n),a&&Ws(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,a}(mr);Js.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,Js.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;var tu=Js;function eu(t){return eu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eu(t)}function ru(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,nu(n.key),n)}}function nu(t){var e=function(t,e){if("object"!=eu(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=eu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==eu(e)?e:e+""}function iu(t,e,r){return e=au(e),function(t,e){if(e&&("object"==eu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,ou()?Reflect.construct(e,r||[],au(t).constructor):e.apply(t,r))}function ou(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(ou=function(){return!!t})()}function au(t){return au=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},au(t)}function su(t,e){return su=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},su(t,e)}var uu=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),iu(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&su(t,e)}(e,t),r=e,i=[{key:"test",value:function(t){return!!globalThis.VideoFrame&&t instanceof globalThis.VideoFrame}}],(n=null)&&ru(r.prototype,n),i&&ru(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i}(mr);r(74534969);function cu(t){return cu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cu(t)}function lu(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fu(n.key),n)}}function fu(t){var e=function(t,e){if("object"!=cu(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=cu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==cu(e)?e:e+""}function hu(t,e,r){return e=mu(e),function(t,e){if(e&&("object"==cu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return pu(t)}(t,du()?Reflect.construct(e,r||[],mu(t).constructor):e.apply(t,r))}function pu(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function du(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(du=function(){return!!t})()}function yu(t,e,r,n){var i=vu(mu(1&n?t.prototype:t),e,r);return 2&n&&"function"==typeof i?function(t){return i.apply(r,t)}:i}function vu(){return vu="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=mu(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},vu.apply(null,arguments)}function mu(t){return mu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},mu(t)}function bu(t,e){return bu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},bu(t,e)}var gu=function(t){function e(t,r){var n;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=r||{},!(t instanceof HTMLVideoElement)){var i=document.createElement("video");!1!==r.autoLoad&&i.setAttribute("preload","auto"),!1!==r.playsinline&&(i.setAttribute("webkit-playsinline",""),i.setAttribute("playsinline","")),!0===r.muted&&(i.setAttribute("muted",""),i.muted=!0),!0===r.loop&&i.setAttribute("loop",""),!1!==r.autoPlay&&i.setAttribute("autoplay",""),"string"==typeof t&&(t=[t]);var o=t[0].src||t[0];mr.crossOrigin(i,o,r.crossorigin);for(var a=0;a<t.length;++a){var s=document.createElement("source"),u=t[a],c=u.src,l=u.mime;if((c=c||t[a]).startsWith("data:"))l=c.slice(5,c.indexOf(";"));else if(!c.startsWith("blob:")){var f=c.split("?").shift().toLowerCase(),h=f.slice(f.lastIndexOf(".")+1);l=l||e.MIME_TYPES[h]||"video/".concat(h)}s.src=c,l&&(s.type=l),i.appendChild(s)}t=i}return(n=hu(this,e,[t])).noSubImage=!0,n._autoUpdate=!0,n._isConnectedToTicker=!1,n._updateFPS=r.updateFPS||0,n._msToNextUpdate=0,n.autoPlay=!1!==r.autoPlay,n._videoFrameRequestCallback=n._videoFrameRequestCallback.bind(pu(n)),n._videoFrameRequestCallbackHandle=null,n._load=null,n._resolve=null,n._reject=null,n._onCanPlay=n._onCanPlay.bind(pu(n)),n._onError=n._onError.bind(pu(n)),n._onPlayStart=n._onPlayStart.bind(pu(n)),n._onPlayStop=n._onPlayStop.bind(pu(n)),n._onSeeked=n._onSeeked.bind(pu(n)),!1!==r.autoLoad&&n.load(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bu(t,e)}(e,t),r=e,i=[{key:"test",value:function(t,r){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement||e.TYPES.includes(r)}}],(n=[{key:"update",value:function(){if(!this.destroyed){if(this._updateFPS){var t=ya.Rv.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-t)}(!this._updateFPS||this._msToNextUpdate<=0)&&(yu(e,"update",this,3)([]),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}},{key:"_videoFrameRequestCallback",value:function(){this.update(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback)}},{key:"load",value:function(){var t=this;if(this._load)return this._load;var e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart),e.addEventListener("pause",this._onPlayStop),e.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise(function(r,n){t.valid?r(t):(t._resolve=r,t._reject=n,e.load())}),this._load}},{key:"_onError",value:function(t){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(t),this._reject&&(this._reject(t),this._reject=null,this._resolve=null)}},{key:"_isSourcePlaying",value:function(){var t=this.source;return!t.paused&&!t.ended}},{key:"_isSourceReady",value:function(){return this.source.readyState>2}},{key:"_onPlayStart",value:function(){this.valid||this._onCanPlay(),this._configureAutoUpdate()}},{key:"_onPlayStop",value:function(){this._configureAutoUpdate()}},{key:"_onSeeked",value:function(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0)}},{key:"_onCanPlay",value:function(){var t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);var e=this.valid;this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0,!e&&this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()}},{key:"dispose",value:function(){this._configureAutoUpdate();var t=this.source;t&&(t.removeEventListener("play",this._onPlayStart),t.removeEventListener("pause",this._onPlayStop),t.removeEventListener("seeked",this._onSeeked),t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay),t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),yu(e,"dispose",this,3)([])}},{key:"autoUpdate",get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,this._configureAutoUpdate())}},{key:"updateFPS",get:function(){return this._updateFPS},set:function(t){t!==this._updateFPS&&(this._updateFPS=t,this._configureAutoUpdate())}},{key:"_configureAutoUpdate",value:function(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.source.requestVideoFrameCallback?(this._isConnectedToTicker&&(ya.Rv.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),null===this._videoFrameRequestCallbackHandle&&(this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback))):(null!==this._videoFrameRequestCallbackHandle&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(ya.Rv.shared.add(this.update,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(null!==this._videoFrameRequestCallbackHandle&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(ya.Rv.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}}])&&lu(r.prototype,n),i&&lu(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i}(mr);gu.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],gu.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};var wu=gu;b.push(Ys,Pr,Ss,wu,uu,tu,D,js,ps)},97972777:(t,e,r)=>{"use strict";r.d(e,{cz:()=>s,mc:()=>I,q9:()=>b});var n=r(55039106);r(29204099),r(53375191),r(73503923),r(35669252),r(44381336),r(95723650),r(54660056),r(55705852),r(62951728),r(97200626),r(97163518),r(57180314),r(17522308),r(4421388),r(95440747),r(69994507),r(1906035),r(41624185),r(86965080),r(54497072),r(32570708),r(10827376),r(83722648),r(74018857),r(53083784);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,a(n.key),n)}}function a(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==i(e)?e:e+""}var s=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1},e=[{key:"isEmpty",value:function(){return this.minX>this.maxX||this.minY>this.maxY}},{key:"clear",value:function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}},{key:"getRectangle",value:function(t){return this.minX>this.maxX||this.minY>this.maxY?n.M_.EMPTY:((t=t||new n.M_(0,0,1,1)).x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)}},{key:"addPoint",value:function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)}},{key:"addPointMatrix",value:function(t,e){var r=t.a,n=t.b,i=t.c,o=t.d,a=t.tx,s=t.ty,u=r*e.x+i*e.y+a,c=n*e.x+o*e.y+s;this.minX=Math.min(this.minX,u),this.maxX=Math.max(this.maxX,u),this.minY=Math.min(this.minY,c),this.maxY=Math.max(this.maxY,c)}},{key:"addQuad",value:function(t){var e=this.minX,r=this.minY,n=this.maxX,i=this.maxY,o=t[0],a=t[1];e=o<e?o:e,r=a<r?a:r,n=o>n?o:n,i=a>i?a:i,e=(o=t[2])<e?o:e,r=(a=t[3])<r?a:r,n=o>n?o:n,i=a>i?a:i,e=(o=t[4])<e?o:e,r=(a=t[5])<r?a:r,n=o>n?o:n,i=a>i?a:i,e=(o=t[6])<e?o:e,r=(a=t[7])<r?a:r,n=o>n?o:n,i=a>i?a:i,this.minX=e,this.minY=r,this.maxX=n,this.maxY=i}},{key:"addFrame",value:function(t,e,r,n,i){this.addFrameMatrix(t.worldTransform,e,r,n,i)}},{key:"addFrameMatrix",value:function(t,e,r,n,i){var o=t.a,a=t.b,s=t.c,u=t.d,c=t.tx,l=t.ty,f=this.minX,h=this.minY,p=this.maxX,d=this.maxY,y=o*e+s*r+c,v=a*e+u*r+l;f=y<f?y:f,h=v<h?v:h,p=y>p?y:p,d=v>d?v:d,f=(y=o*n+s*r+c)<f?y:f,h=(v=a*n+u*r+l)<h?v:h,p=y>p?y:p,d=v>d?v:d,f=(y=o*e+s*i+c)<f?y:f,h=(v=a*e+u*i+l)<h?v:h,p=y>p?y:p,d=v>d?v:d,f=(y=o*n+s*i+c)<f?y:f,h=(v=a*n+u*i+l)<h?v:h,p=y>p?y:p,d=v>d?v:d,this.minX=f,this.minY=h,this.maxX=p,this.maxY=d}},{key:"addVertexData",value:function(t,e,r){for(var n=this.minX,i=this.minY,o=this.maxX,a=this.maxY,s=e;s<r;s+=2){var u=t[s],c=t[s+1];n=u<n?u:n,i=c<i?c:i,o=u>o?u:o,a=c>a?c:a}this.minX=n,this.minY=i,this.maxX=o,this.maxY=a}},{key:"addVertices",value:function(t,e,r,n){this.addVerticesMatrix(t.worldTransform,e,r,n)}},{key:"addVerticesMatrix",value:function(t,e,r,n){for(var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:i,a=t.a,s=t.b,u=t.c,c=t.d,l=t.tx,f=t.ty,h=this.minX,p=this.minY,d=this.maxX,y=this.maxY,v=r;v<n;v+=2){var m=e[v],b=e[v+1],g=a*m+u*b+l,w=c*b+s*m+f;h=Math.min(h,g-i),d=Math.max(d,g+i),p=Math.min(p,w-o),y=Math.max(y,w+o)}this.minX=h,this.minY=p,this.maxX=d,this.maxY=y}},{key:"addBounds",value:function(t){var e=this.minX,r=this.minY,n=this.maxX,i=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<r?t.minY:r,this.maxX=t.maxX>n?t.maxX:n,this.maxY=t.maxY>i?t.maxY:i}},{key:"addBoundsMask",value:function(t,e){var r=t.minX>e.minX?t.minX:e.minX,n=t.minY>e.minY?t.minY:e.minY,i=t.maxX<e.maxX?t.maxX:e.maxX,o=t.maxY<e.maxY?t.maxY:e.maxY;if(r<=i&&n<=o){var a=this.minX,s=this.minY,u=this.maxX,c=this.maxY;this.minX=r<a?r:a,this.minY=n<s?n:s,this.maxX=i>u?i:u,this.maxY=o>c?o:c}}},{key:"addBoundsMatrix",value:function(t,e){this.addFrameMatrix(e,t.minX,t.minY,t.maxX,t.maxY)}},{key:"addBoundsArea",value:function(t,e){var r=t.minX>e.x?t.minX:e.x,n=t.minY>e.y?t.minY:e.y,i=t.maxX<e.x+e.width?t.maxX:e.x+e.width,o=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(r<=i&&n<=o){var a=this.minX,s=this.minY,u=this.maxX,c=this.maxY;this.minX=r<a?r:a,this.minY=n<s?n:s,this.maxX=i>u?i:u,this.maxY=o>c?o:c}}},{key:"pad",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;this.isEmpty()||(this.minX-=t,this.maxX+=t,this.minY-=e,this.maxY+=e)}},{key:"addFramePad",value:function(t,e,r,n,i,o){t-=i,e-=o,r+=i,n+=o,this.minX=this.minX<t?this.minX:t,this.maxX=this.maxX>r?this.maxX:r,this.minY=this.minY<e?this.minY:e,this.maxY=this.maxY>n?this.maxY:n}}],e&&o(t.prototype,e),r&&o(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,h(n.key),n)}}function f(t,e,r){return e&&l(t.prototype,e),r&&l(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function h(t){var e=function(t,e){if("object"!=u(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==u(e)?e:e+""}function p(t,e,r){return e=y(e),function(t,e){if(e&&("object"==u(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,d()?Reflect.construct(e,r||[],y(t).constructor):e.apply(t,r))}function d(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(d=function(){return!!t})()}function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},y(t)}function v(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m(t,e)}function m(t,e){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},m(t,e)}var b=function(t){function e(){var t;return c(this,e),(t=p(this,e)).tempDisplayObjectParent=null,t.transform=new n.dL,t.alpha=1,t.visible=!0,t.renderable=!0,t.cullable=!1,t.cullArea=null,t.parent=null,t.worldAlpha=1,t._lastSortedIndex=0,t._zIndex=0,t.filterArea=null,t.filters=null,t._enabledFilters=null,t._bounds=new s,t._localBounds=null,t._boundsID=0,t._boundsRect=null,t._localBoundsRect=null,t._mask=null,t._maskRefCount=0,t._destroyed=!1,t.isSprite=!1,t.isMask=!1,t}return v(e,t),f(e,[{key:"destroyed",get:function(){return this._destroyed}},{key:"_recursivePostUpdateTransform",value:function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}},{key:"updateTransform",value:function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}},{key:"getBounds",value:function(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),e||(this._boundsRect||(this._boundsRect=new n.M_),e=this._boundsRect),this._bounds.getRectangle(e)}},{key:"getLocalBounds",value:function(t){var e;t||(this._localBoundsRect||(this._localBoundsRect=new n.M_),t=this._localBoundsRect),this._localBounds||(this._localBounds=new s);var r=this.transform,i=this.parent;this.parent=null,this._tempDisplayObjectParent.worldAlpha=null!==(e=null==i?void 0:i.worldAlpha)&&void 0!==e?e:1,this.transform=this._tempDisplayObjectParent.transform;var o=this._bounds,a=this._boundsID;this._bounds=this._localBounds;var u=this.getBounds(!1,t);return this.parent=i,this.transform=r,this._bounds=o,this._bounds.updateID+=this._boundsID-a,u}},{key:"toGlobal",value:function(t,e){return arguments.length>2&&void 0!==arguments[2]&&arguments[2]||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)}},{key:"toLocal",value:function(t,e,r,n){return e&&(t=e.toGlobal(t,r,n)),n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,r)}},{key:"setParent",value:function(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t}},{key:"removeFromParent",value:function(){var t;null===(t=this.parent)||void 0===t||t.removeChild(this)}},{key:"setTransform",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0;return this.position.x=t,this.position.y=e,this.scale.x=r||1,this.scale.y=n||1,this.rotation=i,this.skew.x=o,this.skew.y=a,this.pivot.x=s,this.pivot.y=u,this}},{key:"destroy",value:function(t){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}},{key:"_tempDisplayObjectParent",get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new g),this.tempDisplayObjectParent}},{key:"enableTempParent",value:function(){var t=this.parent;return this.parent=this._tempDisplayObjectParent,t}},{key:"disableTempParent",value:function(t){this.parent=t}},{key:"x",get:function(){return this.position.x},set:function(t){this.transform.position.x=t}},{key:"y",get:function(){return this.position.y},set:function(t){this.transform.position.y=t}},{key:"worldTransform",get:function(){return this.transform.worldTransform}},{key:"localTransform",get:function(){return this.transform.localTransform}},{key:"position",get:function(){return this.transform.position},set:function(t){this.transform.position.copyFrom(t)}},{key:"scale",get:function(){return this.transform.scale},set:function(t){this.transform.scale.copyFrom(t)}},{key:"pivot",get:function(){return this.transform.pivot},set:function(t){this.transform.pivot.copyFrom(t)}},{key:"skew",get:function(){return this.transform.skew},set:function(t){this.transform.skew.copyFrom(t)}},{key:"rotation",get:function(){return this.transform.rotation},set:function(t){this.transform.rotation=t}},{key:"angle",get:function(){return this.transform.rotation*n.bO},set:function(t){this.transform.rotation=t*n.Td}},{key:"zIndex",get:function(){return this._zIndex},set:function(t){this._zIndex!==t&&(this._zIndex=t,this.parent&&(this.parent.sortDirty=!0))}},{key:"worldVisible",get:function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0}},{key:"mask",get:function(){return this._mask},set:function(t){if(this._mask!==t){if(this._mask){var e=this._mask.isMaskData?this._mask.maskObject:this._mask;e&&(e._maskRefCount--,0===e._maskRefCount&&(e.renderable=!0,e.isMask=!1))}if(this._mask=t,this._mask){var r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(0===r._maskRefCount&&(r.renderable=!1,r.isMask=!0),r._maskRefCount++)}}}}],[{key:"mixin",value:function(t){for(var r=Object.keys(t),n=0;n<r.length;++n){var i=r[n];Object.defineProperty(e.prototype,i,Object.getOwnPropertyDescriptor(t,i))}}}])}(n.Wp.EventEmitter),g=function(t){function e(){var t;return c(this,e),(t=p(this,e,arguments)).sortDirty=null,t}return v(e,t),f(e)}(b);function w(t){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w(t)}function S(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,x(n.key),n)}}function x(t){var e=function(t,e){if("object"!=w(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=w(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==w(e)?e:e+""}function _(t,e,r){return e=P(e),function(t,e){if(e&&("object"==w(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,E()?Reflect.construct(e,r||[],P(t).constructor):e.apply(t,r))}function E(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(E=function(){return!!t})()}function T(t,e,r,n){var i=k(P(1&n?t.prototype:t),e,r);return 2&n&&"function"==typeof i?function(t){return i.apply(r,t)}:i}function k(){return k="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=P(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},k.apply(null,arguments)}function P(t){return P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},P(t)}function O(t,e){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},O(t,e)}b.prototype.displayObjectUpdateTransform=b.prototype.updateTransform;var A=new n.uq;function R(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}var j=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=_(this,e)).children=[],t.sortableChildren=e.defaultSortableChildren,t.sortDirty=!1,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O(t,e)}(e,t),r=e,i=[{key:"onChildrenChange",value:function(t){}},{key:"addChild",value:function(){if(arguments.length>1)for(var t=0;t<arguments.length;t++)this.addChild(t<0||arguments.length<=t?void 0:arguments[t]);else{var e=arguments.length<=0?void 0:arguments[0];e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.push(e),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",e,this,this.children.length-1),e.emit("added",this)}return arguments.length<=0?void 0:arguments[0]}},{key:"addChildAt",value:function(t,e){if(e<0||e>this.children.length)throw new Error("".concat(t,"addChildAt: The index ").concat(e," supplied is out of bounds ").concat(this.children.length));return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t}},{key:"swapChildren",value:function(t,e){if(t!==e){var r=this.getChildIndex(t),n=this.getChildIndex(e);this.children[r]=e,this.children[n]=t,this.onChildrenChange(r<n?r:n)}}},{key:"getChildIndex",value:function(t){var e=this.children.indexOf(t);if(-1===e)throw new Error("The supplied DisplayObject must be a child of the caller");return e}},{key:"setChildIndex",value:function(t,e){if(e<0||e>=this.children.length)throw new Error("The index ".concat(e," supplied is out of bounds ").concat(this.children.length));var r=this.getChildIndex(t);n.Wp.removeItems(this.children,r,1),this.children.splice(e,0,t),this.onChildrenChange(e)}},{key:"getChildAt",value:function(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Index (".concat(t,") does not exist."));return this.children[t]}},{key:"removeChild",value:function(){if(arguments.length>1)for(var t=0;t<arguments.length;t++)this.removeChild(t<0||arguments.length<=t?void 0:arguments[t]);else{var e=arguments.length<=0?void 0:arguments[0],r=this.children.indexOf(e);if(-1===r)return null;e.parent=null,e.transform._parentID=-1,n.Wp.removeItems(this.children,r,1),this._boundsID++,this.onChildrenChange(r),e.emit("removed",this),this.emit("childRemoved",e,this,r)}return arguments.length<=0?void 0:arguments[0]}},{key:"removeChildAt",value:function(t){var e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,n.Wp.removeItems(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e}},{key:"removeChildren",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.children.length,n=e,i=r-n;if(i>0&&i<=r){t=this.children.splice(n,i);for(var o=0;o<t.length;++o)t[o].parent=null,t[o].transform&&(t[o].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(var a=0;a<t.length;++a)t[a].emit("removed",this),this.emit("childRemoved",t[a],this,a);return t}if(0===i&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}},{key:"sortChildren",value:function(){for(var t=!1,e=0,r=this.children.length;e<r;++e){var n=this.children[e];n._lastSortedIndex=e,!t&&0!==n.zIndex&&(t=!0)}t&&this.children.length>1&&this.children.sort(R),this.sortDirty=!1}},{key:"updateTransform",value:function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var t=0,e=this.children.length;t<e;++t){var r=this.children[t];r.visible&&r.updateTransform()}}},{key:"calculateBounds",value:function(){this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var e=this.children[t];if(e.visible&&e.renderable)if(e.calculateBounds(),e._mask){var r=e._mask.isMaskData?e._mask.maskObject:e._mask;r?(r.calculateBounds(),this._bounds.addBoundsMask(e._bounds,r._bounds)):this._bounds.addBounds(e._bounds)}else e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds)}this._bounds.updateID=this._boundsID}},{key:"getLocalBounds",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=T(e,"getLocalBounds",this,3)([t]);if(!r)for(var i=0,o=this.children.length;i<o;++i){var a=this.children[i];a.visible&&a.updateTransform()}return n}},{key:"_calculateBounds",value:function(){}},{key:"_renderWithCulling",value:function(t){var r=t.renderTexture.sourceFrame;if(r.width>0&&r.height>0){var n,i;this.cullArea?(n=this.cullArea,i=this.worldTransform):this._render!==e.prototype._render&&(n=this.getBounds(!0));var o=t.projection.transform;if(o&&(i?(i=A.copyFrom(i)).prepend(o):i=o),n&&r.intersects(n,i))this._render(t);else if(this.cullArea)return;for(var a=0,s=this.children.length;a<s;++a){var u=this.children[a],c=u.cullable;u.cullable=c||!this.cullArea,u.render(t),u.cullable=c}}}},{key:"render",value:function(t){var e;if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||null!==(e=this.filters)&&void 0!==e&&e.length)this.renderAdvanced(t);else if(this.cullable)this._renderWithCulling(t);else{this._render(t);for(var r=0,n=this.children.length;r<n;++r)this.children[r].render(t)}}},{key:"renderAdvanced",value:function(t){var e,r,i,o=this.filters,a=this._mask;if(o){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var s=0;s<o.length;s++)o[s].enabled&&this._enabledFilters.push(o[s])}var u=o&&(null===(e=this._enabledFilters)||void 0===e?void 0:e.length)||a&&(!a.isMaskData||a.enabled&&(a.autoDetect||a.type!==n.vg.NONE));if(u&&t.batch.flush(),o&&null!==(r=this._enabledFilters)&&void 0!==r&&r.length&&t.filter.push(this,this._enabledFilters),a&&t.mask.push(this,this._mask),this.cullable)this._renderWithCulling(t);else{this._render(t);for(var c=0,l=this.children.length;c<l;++c)this.children[c].render(t)}u&&t.batch.flush(),a&&t.mask.pop(this),o&&(null===(i=this._enabledFilters)||void 0===i?void 0:i.length)&&t.filter.pop()}},{key:"_render",value:function(t){}},{key:"destroy",value:function(t){T(e,"destroy",this,3)([]),this.sortDirty=!1;var r="boolean"==typeof t?t:null==t?void 0:t.children,n=this.removeChildren(0,this.children.length);if(r)for(var i=0;i<n.length;++i)n[i].destroy(t)}},{key:"width",get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t}},{key:"height",get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t}}],i&&S(r.prototype,i),o&&S(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(b);j.defaultSortableChildren=!1;var I=j;I.prototype.containerUpdateTransform=I.prototype.updateTransform,Object.defineProperties(n.W0,{SORTABLE_CHILDREN:{get:function(){return I.defaultSortableChildren},set:function(t){n.Wp.deprecation("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),I.defaultSortableChildren=t}}})},25052853:(t,e,r)=>{"use strict";r.d(e,{A:()=>s,X:()=>l});r(29204099),r(53375191),r(73503923),r(35669252),r(44381336),r(54660056),r(5320247),r(55705852),r(62951728),r(48158254),r(97200626),r(97163518),r(57180314),r(17522308),r(4421388),r(95440747),r(20037566),r(53083784),r(1906035),r(51524099),r(32570708),r(10827376),r(83722648),r(21313645),r(13223918),r(49684748),r(74018857);function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function i(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach(function(e){o(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function o(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=a(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==a(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}var s=function(t){return t.Renderer="renderer",t.Application="application",t.RendererSystem="renderer-webgl-system",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererSystem="renderer-canvas-system",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t}(s||{}),u=function(t){if("function"==typeof t||"object"==a(t)&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t=i(i({},"object"!=a(t.extension)?{type:t.extension}:t.extension),{},{ref:t})}if("object"!=a(t))throw new Error("Invalid extension type");return"string"==typeof(t=i({},t)).type&&(t.type=[t.type]),t},c=function(t,e){var r;return null!==(r=u(t).priority)&&void 0!==r?r:e},l={_addHandlers:{},_removeHandlers:{},_queue:{},remove:function(){for(var t=this,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return r.map(u).forEach(function(e){e.type.forEach(function(r){var n,i;return null===(n=(i=t._removeHandlers)[r])||void 0===n?void 0:n.call(i,e)})}),this},add:function(){for(var t=this,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return r.map(u).forEach(function(e){e.type.forEach(function(r){var n,i,o=t._addHandlers,a=t._queue;o[r]?null===(n=o[r])||void 0===n||n.call(o,e):(a[r]=a[r]||[],null===(i=a[r])||void 0===i||i.push(e))})}),this},handle:function(t,e,r){var n,i=this._addHandlers,o=this._removeHandlers;if(i[t]||o[t])throw new Error("Extension type ".concat(t," already has a handler"));i[t]=e,o[t]=r;var a=this._queue;return a[t]&&(null!==(n=a[t])&&void 0!==n&&n.forEach(function(t){return e(t)}),delete a[t]),this},handleByMap:function(t,e){return this.handle(t,function(t){t.name&&(e[t.name]=t.ref)},function(t){t.name&&delete e[t.name]})},handleByList:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;return this.handle(t,function(t){e.includes(t.ref)||(e.push(t.ref),e.sort(function(t,e){return c(e,r)-c(t,r)}))},function(t){var r=e.indexOf(t.ref);-1!==r&&e.splice(r,1)})}}},54240947:(t,e,r)=>{"use strict";r.d(e,{A1:()=>St});r(29204099),r(53375191),r(73503923),r(35669252),r(44381336),r(62951728),r(17522308),r(4421388),r(1906035),r(32570708),r(74018857);var n=r(55039106),i=(r(97200626),{build:function(t){var e,r,i,o,a,s,u=t.points;if(t.type===n.HY.CIRC){var c=t.shape;e=c.x,r=c.y,a=s=c.radius,i=o=0}else if(t.type===n.HY.ELIP){var l=t.shape;e=l.x,r=l.y,a=l.width,s=l.height,i=o=0}else{var f=t.shape,h=f.width/2,p=f.height/2;e=f.x+h,r=f.y+p,i=h-(a=s=Math.max(0,Math.min(f.radius,Math.min(h,p)))),o=p-s}if(a>=0&&s>=0&&i>=0&&o>=0){var d=Math.ceil(2.3*Math.sqrt(a+s)),y=8*d+(i?4:0)+(o?4:0);if(u.length=y,0!==y){if(0===d)return u.length=8,u[0]=u[6]=e+i,u[1]=u[3]=r+o,u[2]=u[4]=e-i,void(u[5]=u[7]=r-o);var v=0,m=4*d+(i?2:0)+2,b=m,g=y,w=i+a,S=o,x=e+w,_=e-w,E=r+S;if(u[v++]=x,u[v++]=E,u[--m]=E,u[--m]=_,o){var T=r-S;u[b++]=_,u[b++]=T,u[--g]=T,u[--g]=x}for(var k=1;k<d;k++){var P=Math.PI/2*(k/d),O=i+Math.cos(P)*a,A=o+Math.sin(P)*s,R=e+O,j=e-O,I=r+A,C=r-A;u[v++]=R,u[v++]=I,u[--m]=I,u[--m]=j,u[b++]=j,u[b++]=C,u[--g]=C,u[--g]=R}var M=o+s,D=e+i,N=e-i,B=r+M,F=r-M;u[v++]=D,u[v++]=B,u[--g]=F,u[--g]=D,i&&(u[v++]=N,u[v++]=B,u[--g]=F,u[--g]=N)}}else u.length=0},triangulate:function(t,e){var r=t.points,i=e.points,o=e.indices;if(0!==r.length){var a,s,u=i.length/2,c=u;if(t.type!==n.HY.RREC){var l=t.shape;a=l.x,s=l.y}else{var f=t.shape;a=f.x+f.width/2,s=f.y+f.height/2}var h=t.matrix;i.push(t.matrix?h.a*a+h.c*s+h.tx:a,t.matrix?h.b*a+h.d*s+h.ty:s),u++,i.push(r[0],r[1]);for(var p=2;p<r.length;p+=2)i.push(r[p],r[p+1]),o.push(u++,c,u);o.push(c+1,c,u)}}});r(95723650),r(50473502);function o(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t.length;if(!(r<6)){for(var n=0,i=0,o=t[r-2],a=t[r-1];i<r;i+=2){var s=t[i],u=t[i+1];n+=(s-o)*(u+a),o=s,a=u}if(!e&&n>0||e&&n<=0)for(var c=r/2,l=c+c%2;l<r;l+=2){var f,h,p=r-l-2,d=r-l-1,y=l,v=l+1;f=[t[y],t[p]],t[p]=f[0],t[y]=f[1],h=[t[v],t[d]],t[d]=h[0],t[v]=h[1]}}}var a={build:function(t){t.points=t.shape.points.slice()},triangulate:function(t,e){var r=t.points,i=t.holes,a=e.points,s=e.indices;if(r.length>=6){o(r,!1);for(var u=[],c=0;c<i.length;c++){var l=i[c];o(l.points,!0),u.push(r.length/2),r=r.concat(l.points)}var f=n.Wp.earcut(r,u,2);if(!f)return;for(var h=a.length/2,p=0;p<f.length;p+=3)s.push(f[p]+h),s.push(f[p+1]+h),s.push(f[p+2]+h);for(var d=0;d<r.length;d++)a.push(r[d])}}},s={build:function(t){var e=t.shape,r=e.x,n=e.y,i=e.width,o=e.height,a=t.points;a.length=0,i>=0&&o>=0&&a.push(r,n,r+i,n,r+i,n+o,r,n+o)},triangulate:function(t,e){var r=t.points,n=e.points;if(0!==r.length){var i=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}}},u={build:function(t){i.build(t)},triangulate:function(t,e){i.triangulate(t,e)}},c=function(t){return t.MITER="miter",t.BEVEL="bevel",t.ROUND="round",t}(c||{}),l=function(t){return t.BUTT="butt",t.ROUND="round",t.SQUARE="square",t}(l||{}),f={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;if(!this.adaptive||!t||isNaN(t))return e;var r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}};function h(t){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}function p(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,d(n.key),n)}}function d(t){var e=function(t,e){if("object"!=h(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=h(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==h(e)?e:e+""}var y=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},r=[{key:"curveTo",value:function(t,e,r,n,i,o){var a=o[o.length-2],s=o[o.length-1]-e,u=a-t,c=n-e,l=r-t,f=Math.abs(s*l-u*c);if(f<1e-8||0===i)return(o[o.length-2]!==t||o[o.length-1]!==e)&&o.push(t,e),null;var h=s*s+u*u,p=c*c+l*l,d=s*c+u*l,y=i*Math.sqrt(h)/f,v=i*Math.sqrt(p)/f,m=y*d/h,b=v*d/p,g=y*l+v*u,w=y*c+v*s,S=u*(v+m),x=s*(v+m),_=l*(y+b),E=c*(y+b);return{cx:g+t,cy:w+e,radius:i,startAngle:Math.atan2(x-w,S-g),endAngle:Math.atan2(E-w,_-g),anticlockwise:u*c>l*s}}},{key:"arc",value:function(t,e,r,i,o,a,s,u,c){for(var l=s-a,h=f._segmentsCount(Math.abs(l)*o,40*Math.ceil(Math.abs(l)/n.TO)),p=l/(2*h),d=2*p,y=Math.cos(p),v=Math.sin(p),m=h-1,b=m%1/m,g=0;g<=m;++g){var w=p+a+d*(g+b*g),S=Math.cos(w),x=-Math.sin(w);c.push((y*S+v*x)*o+r,(y*-x+v*S)*o+i)}}}],(e=null)&&p(t.prototype,e),r&&p(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function m(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,b(n.key),n)}}function b(t){var e=function(t,e){if("object"!=v(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=v(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==v(e)?e:e+""}var g=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.reset()},(e=[{key:"begin",value:function(t,e,r){this.reset(),this.style=t,this.start=e,this.attribStart=r}},{key:"end",value:function(t,e){this.attribSize=e-this.attribStart,this.size=t-this.start}},{key:"reset",value:function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}])&&m(t.prototype,e),r&&m(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();function w(t){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w(t)}function S(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,x(n.key),n)}}function x(t){var e=function(t,e){if("object"!=w(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=w(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==w(e)?e:e+""}var _=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return e=t,n=[{key:"curveLength",value:function(t,e,r,n,i,o,a,s){for(var u=0,c=0,l=0,f=0,h=0,p=0,d=0,y=0,v=0,m=0,b=0,g=t,w=e,S=1;S<=10;++S)m=g-(y=(d=(p=(h=1-(c=S/10))*h)*h)*t+3*p*c*r+3*h*(l=c*c)*i+(f=l*c)*a),b=w-(v=d*e+3*p*c*n+3*h*l*o+f*s),g=y,w=v,u+=Math.sqrt(m*m+b*b);return u}},{key:"curveTo",value:function(e,r,n,i,o,a,s){var u=s[s.length-2],c=s[s.length-1];s.length-=2;var l=f._segmentsCount(t.curveLength(u,c,e,r,n,i,o,a)),h=0,p=0,d=0,y=0,v=0;s.push(u,c);for(var m=1,b=0;m<=l;++m)d=(p=(h=1-(b=m/l))*h)*h,v=(y=b*b)*b,s.push(d*u+3*p*b*e+3*h*y*n+v*o,d*c+3*p*b*r+3*h*y*i+v*a)}}],(r=null)&&S(e.prototype,r),n&&S(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,r,n}();r(47274729);function E(t,e,r,n,i,o,a,s){var u,c;a?(u=n,c=-r):(u=-n,c=r);var l=t-r*i+u,f=e-n*i+c,h=t+r*o+u,p=e+n*o+c;return s.push(l,f,h,p),2}function T(t,e,r,n,i,o,a,s){var u=r-t,c=n-e,l=Math.atan2(u,c),f=Math.atan2(i-t,o-e);s&&l<f?l+=2*Math.PI:!s&&l>f&&(f+=2*Math.PI);var h=l,p=f-l,d=Math.abs(p),y=Math.sqrt(u*u+c*c),v=1+(15*d*Math.sqrt(y)/Math.PI|0),m=p/v;if(h+=m,s){a.push(t,e,r,n);for(var b=1,g=h;b<v;b++,g+=m)a.push(t,e,t+Math.sin(g)*y,e+Math.cos(g)*y);a.push(t,e,i,o)}else{a.push(r,n,t,e);for(var w=1,S=h;w<v;w++,S+=m)a.push(t+Math.sin(S)*y,e+Math.cos(S)*y,t,e);a.push(i,o,t,e)}return 2*v}function k(t,e){t.lineStyle.native?function(t,e){var r=0,i=t.shape,o=t.points||i.points,a=i.type!==n.HY.POLY||i.closeStroke;if(0!==o.length){var s=e.points,u=e.indices,c=o.length/2,l=s.length/2,f=l;for(s.push(o[0],o[1]),r=1;r<c;r++)s.push(o[2*r],o[2*r+1]),u.push(f,f+1),f++;a&&u.push(f,l)}}(t,e):function(t,e){var r=t.shape,i=t.points||r.points.slice(),o=e.closePointEps;if(0!==i.length){var a=t.lineStyle,s=new n.bR(i[0],i[1]),u=new n.bR(i[i.length-2],i[i.length-1]),h=r.type!==n.HY.POLY||r.closeStroke,p=Math.abs(s.x-u.x)<o&&Math.abs(s.y-u.y)<o;if(h){i=i.slice(),p&&(i.pop(),i.pop(),u.set(i[i.length-2],i[i.length-1]));var d=.5*(s.x+u.x),y=.5*(u.y+s.y);i.unshift(d,y),i.push(d,y)}var v=e.points,m=i.length/2,b=i.length,g=v.length/2,w=a.width/2,S=w*w,x=a.miterLimit*a.miterLimit,_=i[0],k=i[1],P=i[2],O=i[3],A=0,R=0,j=-(k-O),I=_-P,C=0,M=0,D=Math.sqrt(j*j+I*I);j/=D,I/=D,j*=w,I*=w;var N=a.alignment,B=2*(1-N),F=2*N;h||(a.cap===l.ROUND?b+=T(_-j*(B-F)*.5,k-I*(B-F)*.5,_-j*B,k-I*B,_+j*F,k+I*F,v,!0)+2:a.cap===l.SQUARE&&(b+=E(_,k,j,I,B,F,!0,v))),v.push(_-j*B,k-I*B,_+j*F,k+I*F);for(var L=1;L<m-1;++L){_=i[2*(L-1)],k=i[2*(L-1)+1],P=i[2*L],O=i[2*L+1],A=i[2*(L+1)],R=i[2*(L+1)+1],j=-(k-O),I=_-P,j/=D=Math.sqrt(j*j+I*I),I/=D,j*=w,I*=w,C=-(O-R),M=P-A,C/=D=Math.sqrt(C*C+M*M),M/=D,C*=w,M*=w;var U=P-_,V=k-O,X=P-A,G=R-O,Y=U*X+V*G,q=V*X-G*U,W=q<0;if(Math.abs(q)<.001*Math.abs(Y))v.push(P-j*B,O-I*B,P+j*F,O+I*F),Y>=0&&(a.join===c.ROUND?b+=T(P,O,P-j*B,O-I*B,P-C*B,O-M*B,v,!1)+4:b+=2,v.push(P-C*F,O-M*F,P+C*B,O+M*B));else{var H=(-j+_)*(-I+O)-(-j+P)*(-I+k),z=(-C+A)*(-M+O)-(-C+P)*(-M+R),Q=(U*z-X*H)/q,Z=(G*H-V*z)/q,K=(Q-P)*(Q-P)+(Z-O)*(Z-O),$=P+(Q-P)*B,J=O+(Z-O)*B,tt=P-(Q-P)*F,et=O-(Z-O)*F,rt=W?B:F,nt=K<=Math.min(U*U+V*V,X*X+G*G)+rt*rt*S,it=a.join;if(it===c.MITER&&K/S>x&&(it=c.BEVEL),nt)switch(it){case c.MITER:v.push($,J,tt,et);break;case c.BEVEL:W?v.push($,J,P+j*F,O+I*F,$,J,P+C*F,O+M*F):v.push(P-j*B,O-I*B,tt,et,P-C*B,O-M*B,tt,et),b+=2;break;case c.ROUND:W?(v.push($,J,P+j*F,O+I*F),b+=T(P,O,P+j*F,O+I*F,P+C*F,O+M*F,v,!0)+4,v.push($,J,P+C*F,O+M*F)):(v.push(P-j*B,O-I*B,tt,et),b+=T(P,O,P-j*B,O-I*B,P-C*B,O-M*B,v,!1)+4,v.push(P-C*B,O-M*B,tt,et))}else{switch(v.push(P-j*B,O-I*B,P+j*F,O+I*F),it){case c.MITER:W?v.push(tt,et,tt,et):v.push($,J,$,J),b+=2;break;case c.ROUND:b+=W?T(P,O,P+j*F,O+I*F,P+C*F,O+M*F,v,!0)+2:T(P,O,P-j*B,O-I*B,P-C*B,O-M*B,v,!1)+2}v.push(P-C*B,O-M*B,P+C*F,O+M*F),b+=2}}}_=i[2*(m-2)],k=i[2*(m-2)+1],P=i[2*(m-1)],j=-(k-(O=i[2*(m-1)+1])),I=_-P,j/=D=Math.sqrt(j*j+I*I),I/=D,j*=w,I*=w,v.push(P-j*B,O-I*B,P+j*F,O+I*F),h||(a.cap===l.ROUND?b+=T(P-j*(B-F)*.5,O-I*(B-F)*.5,P-j*B,O-I*B,P+j*F,O+I*F,v,!1)+2:a.cap===l.SQUARE&&(b+=E(P,O,j,I,B,F,!1,v)));for(var ot=e.indices,at=f.epsilon*f.epsilon,st=g;st<b+g-2;++st)_=v[2*st],k=v[2*st+1],P=v[2*(st+1)],O=v[2*(st+1)+1],A=v[2*(st+2)],R=v[2*(st+2)+1],!(Math.abs(_*(O-R)+P*(R-k)+A*(k-O))<at)&&ot.push(st,st+1,st+2)}}(t,e)}function P(t){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P(t)}function O(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,A(n.key),n)}}function A(t){var e=function(t,e){if("object"!=P(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=P(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==P(e)?e:e+""}var R=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return e=t,n=[{key:"curveLength",value:function(t,e,r,n,i,o){var a=t-2*r+i,s=e-2*n+o,u=2*r-2*t,c=2*n-2*e,l=4*(a*a+s*s),f=4*(a*u+s*c),h=u*u+c*c,p=2*Math.sqrt(l+f+h),d=Math.sqrt(l),y=2*l*d,v=2*Math.sqrt(h),m=f/d;return(y*p+d*f*(p-v)+(4*h*l-f*f)*Math.log((2*d+m+p)/(m+v)))/(4*y)}},{key:"curveTo",value:function(e,r,n,i,o){for(var a=o[o.length-2],s=o[o.length-1],u=f._segmentsCount(t.curveLength(a,s,e,r,n,i)),c=0,l=0,h=1;h<=u;++h){var p=h/u;c=a+(e-a)*p,l=s+(r-s)*p,o.push(c+(e+(n-e)*p-c)*p,l+(r+(i-r)*p-l)*p)}}}],(r=null)&&O(e.prototype,r),n&&O(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,r,n}();function j(t){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j(t)}function I(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=j(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=j(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==j(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var C=I(I(I(I(I({},n.HY.POLY,a),n.HY.CIRC,i),n.HY.ELIP,i),n.HY.RECT,s),n.HY.RREC,u),M=[],D=[],N=(r(41904727),r(33688577),r(32767805),r(95440747),r(69994507),r(18515682),r(41624185),r(86965080),r(54497072),r(89766562),r(29071061),r(85890026),r(20211116),r(6224830),r(18501354),r(49912228),r(29762787),r(87324110),r(31353187),r(49433423),r(7405150),r(76679030),r(19352784),r(283227),r(39512023),r(11753769),r(9404124),r(89875075),r(40993271),r(18381800),r(69967115),r(23549037),r(49032015),r(17179093),r(28253461),r(55692573),r(52899355),r(89433276),r(7478740),r(40707609),r(78027336),r(26098537),r(47326777),r(10827376),r(1764963),r(97972777));r(39780940);function B(t){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B(t)}function F(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,L(n.key),n)}}function L(t){var e=function(t,e){if("object"!=B(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=B(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==B(e)?e:e+""}var U=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.points=[],this.holes=[],this.shape=e,this.lineStyle=n,this.fillStyle=r,this.matrix=i,this.type=e.type}return e=t,(r=[{key:"clone",value:function(){return new t(this.shape,this.fillStyle,this.lineStyle,this.matrix)}},{key:"destroy",value:function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}])&&F(e.prototype,r),n&&F(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,r,n}();function V(t){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V(t)}function X(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,G(n.key),n)}}function G(t){var e=function(t,e){if("object"!=V(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=V(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==V(e)?e:e+""}function Y(t,e,r){return e=H(e),function(t,e){if(e&&("object"==V(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,q()?Reflect.construct(e,r||[],H(t).constructor):e.apply(t,r))}function q(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(q=function(){return!!t})()}function W(){return W="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=H(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},W.apply(null,arguments)}function H(t){return H=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},H(t)}function z(t,e){return z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},z(t,e)}var Q=new n.bR,Z=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=Y(this,e)).closePointEps=1e-4,t.boundsPadding=0,t.uvsFloat32=null,t.indicesUint16=null,t.batchable=!1,t.points=[],t.colors=[],t.uvs=[],t.indices=[],t.textureIds=[],t.graphicsData=[],t.drawCalls=[],t.batchDirty=-1,t.batches=[],t.dirty=0,t.cacheDirty=-1,t.clearDirty=0,t.shapeIndex=0,t._bounds=new N.cz,t.boundsDirty=-1,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&z(t,e)}(e,t),r=e,i=[{key:"bounds",get:function(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}},{key:"invalidate",value:function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),D.push(this.drawCalls[t]);this.drawCalls.length=0;for(var e=0;e<this.batches.length;e++){var r=this.batches[e];r.reset(),M.push(r)}this.batches.length=0}},{key:"clear",value:function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}},{key:"drawShape",value:function(t){var e=new U(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null);return this.graphicsData.push(e),this.dirty++,this}},{key:"drawHole",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!this.graphicsData.length)return null;var r=new U(t,null,null,e),n=this.graphicsData[this.graphicsData.length-1];return r.lineStyle=n.lineStyle,n.holes.push(r),this.dirty++,this}},{key:"destroy",value:function(){var t,r,n,i,o;(t=e,r="destroy",n=this,o=W(H(1&(i=3)?t.prototype:t),r,n),2&i&&"function"==typeof o?function(t){return o.apply(n,t)}:o)([]);for(var a=0;a<this.graphicsData.length;++a)this.graphicsData[a].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}},{key:"containsPoint",value:function(t){for(var e=this.graphicsData,r=0;r<e.length;++r){var n=e[r];if(n.fillStyle.visible&&n.shape&&(n.matrix?n.matrix.applyInverse(t,Q):Q.copyFrom(t),n.shape.contains(Q.x,Q.y))){var i=!1;if(n.holes)for(var o=0;o<n.holes.length;o++)if(n.holes[o].shape.contains(Q.x,Q.y)){i=!0;break}if(!i)return!0}}return!1}},{key:"updateBatches",value:function(){if(this.graphicsData.length){if(this.validateBatching()){this.cacheDirty=this.dirty;var t=this.uvs,e=this.graphicsData,r=null,i=null;this.batches.length>0&&(i=(r=this.batches[this.batches.length-1]).style);for(var o=this.shapeIndex;o<e.length;o++){this.shapeIndex++;var a=e[o],s=a.fillStyle,u=a.lineStyle;C[a.type].build(a),a.matrix&&this.transformPoints(a.points,a.matrix),(s.visible||u.visible)&&this.processHoles(a.holes);for(var c=0;c<2;c++){var l=0===c?s:u;if(l.visible){var f=l.texture.baseTexture,h=this.indices.length,p=this.points.length/2;f.wrapMode=n.uR.REPEAT,0===c?this.processFill(a):this.processLine(a);var d=this.points.length/2-p;0!==d&&(r&&!this._compareStyles(i,l)&&(r.end(h,p),r=null),r||((r=M.pop()||new g).begin(l,h,p),this.batches.push(r),i=l),this.addUvs(this.points,t,l.texture,p,d,l.matrix))}}}var y=this.indices.length,v=this.points.length/2;if(r&&r.end(y,v),0!==this.batches.length){var m=v>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&m===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=m?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}else this.batchable=!0}}else this.batchable=!0}},{key:"_compareStyles",value:function(t,e){return!(!t||!e||t.texture.baseTexture!==e.texture.baseTexture||t.color+t.alpha!==e.color+e.alpha||!!t.native!=!!e.native)}},{key:"validateBatching",value:function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var t=0,e=this.graphicsData.length;t<e;t++){var r=this.graphicsData[t],n=r.fillStyle,i=r.lineStyle;if(n&&!n.texture.baseTexture.valid||i&&!i.texture.baseTexture.valid)return!1}return!0}},{key:"packBatches",value:function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var t=this.batches,e=0,r=t.length;e<r;e++)for(var n=t[e],i=0;i<n.size;i++){var o=n.start+i;this.indicesUint16[o]=this.indicesUint16[o]-n.attribStart}}},{key:"isBatchable",value:function(){if(this.points.length>131070)return!1;for(var t=this.batches,r=0;r<t.length;r++)if(t[r].style.native)return!1;return this.points.length<2*e.BATCHABLE_SIZE}},{key:"buildDrawCalls",value:function(){for(var t=++n.t5._globalBatch,e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),D.push(this.drawCalls[e]);this.drawCalls.length=0;var r=this.colors,i=this.textureIds,o=D.pop();o||((o=new n.hq).texArray=new n.cc),o.texArray.count=0,o.start=0,o.size=0,o.type=n._4.TRIANGLES;var a=0,s=null,u=0,c=!1,l=n._4.TRIANGLES,f=0;this.drawCalls.push(o);for(var h=0;h<this.batches.length;h++){var p=this.batches[h],d=p.style,y=d.texture.baseTexture;c!==!!d.native&&(l=(c=!!d.native)?n._4.LINES:n._4.TRIANGLES,s=null,a=8,t++),s!==y&&(s=y,y._batchEnabled!==t&&(8===a&&(t++,a=0,o.size>0&&((o=D.pop())||((o=new n.hq).texArray=new n.cc),this.drawCalls.push(o)),o.start=f,o.size=0,o.texArray.count=0,o.type=l),y.touched=1,y._batchEnabled=t,y._batchLocation=a,y.wrapMode=n.uR.REPEAT,o.texArray.elements[o.texArray.count++]=y,a++)),o.size+=p.size,f+=p.size,u=y._batchLocation,this.addColors(r,d.color,d.alpha,p.attribSize,p.attribStart),this.addTextureIds(i,u,p.attribSize,p.attribStart)}n.t5._globalBatch=t,this.packAttributes()}},{key:"packAttributes",value:function(){for(var t=this.points,e=this.uvs,r=this.colors,n=this.textureIds,i=new ArrayBuffer(3*t.length*4),o=new Float32Array(i),a=new Uint32Array(i),s=0,u=0;u<t.length/2;u++)o[s++]=t[2*u],o[s++]=t[2*u+1],o[s++]=e[2*u],o[s++]=e[2*u+1],a[s++]=r[u],o[s++]=n[u];this._buffer.update(i),this._indexBuffer.update(this.indicesUint16)}},{key:"processFill",value:function(t){t.holes.length?a.triangulate(t,this):C[t.type].triangulate(t,this)}},{key:"processLine",value:function(t){k(t,this);for(var e=0;e<t.holes.length;e++)k(t.holes[e],this)}},{key:"processHoles",value:function(t){for(var e=0;e<t.length;e++){var r=t[e];C[r.type].build(r),r.matrix&&this.transformPoints(r.points,r.matrix)}}},{key:"calculateBounds",value:function(){var t=this._bounds;t.clear(),t.addVertexData(this.points,0,this.points.length),t.pad(this.boundsPadding,this.boundsPadding)}},{key:"transformPoints",value:function(t,e){for(var r=0;r<t.length/2;r++){var n=t[2*r],i=t[2*r+1];t[2*r]=e.a*n+e.c*i+e.tx,t[2*r+1]=e.b*n+e.d*i+e.ty}}},{key:"addColors",value:function(t,e,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=n.Q1.shared.setValue(e).toLittleEndianNumber(),s=n.Q1.shared.setValue(a).toPremultiplied(r);t.length=Math.max(t.length,o+i);for(var u=0;u<i;u++)t[o+u]=s}},{key:"addTextureIds",value:function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;t.length=Math.max(t.length,n+r);for(var i=0;i<r;i++)t[n+i]=e}},{key:"addUvs",value:function(t,e,r,n,i){for(var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=0,s=e.length,u=r.frame;a<i;){var c=t[2*(n+a)],l=t[2*(n+a)+1];if(o){var f=o.a*c+o.c*l+o.tx;l=o.b*c+o.d*l+o.ty,c=f}a++,e.push(c/u.width,l/u.height)}var h=r.baseTexture;(u.width<h.width||u.height<h.height)&&this.adjustUvs(e,r,s,i)}},{key:"adjustUvs",value:function(t,e,r,n){for(var i=e.baseTexture,o=1e-6,a=r+2*n,s=e.frame,u=s.width/i.width,c=s.height/i.height,l=s.x/s.width,f=s.y/s.height,h=Math.floor(t[r]+o),p=Math.floor(t[r+1]+o),d=r+2;d<a;d+=2)h=Math.min(h,Math.floor(t[d]+o)),p=Math.min(p,Math.floor(t[d+1]+o));l-=h,f-=p;for(var y=r;y<a;y+=2)t[y]=(t[y]+l)*u,t[y+1]=(t[y+1]+f)*c}}],i&&X(r.prototype,i),o&&X(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(n.JH);Z.BATCHABLE_SIZE=100;var K=Z;function $(t){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$(t)}function J(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,tt(n.key),n)}}function tt(t){var e=function(t,e){if("object"!=$(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=$(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==$(e)?e:e+""}var et=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.color=16777215,this.alpha=1,this.texture=n.gP.WHITE,this.matrix=null,this.visible=!1,this.reset()}return e=t,(r=[{key:"clone",value:function(){var e=new t;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}},{key:"reset",value:function(){this.color=16777215,this.alpha=1,this.texture=n.gP.WHITE,this.matrix=null,this.visible=!1}},{key:"destroy",value:function(){this.texture=null,this.matrix=null}}])&&J(e.prototype,r),i&&J(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,r,i}();function rt(t){return rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rt(t)}function nt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,it(n.key),n)}}function it(t){var e=function(t,e){if("object"!=rt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=rt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==rt(e)?e:e+""}function ot(t,e,r){return e=ut(e),function(t,e){if(e&&("object"==rt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,at()?Reflect.construct(e,r||[],ut(t).constructor):e.apply(t,r))}function at(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(at=function(){return!!t})()}function st(){return st="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=ut(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},st.apply(null,arguments)}function ut(t){return ut=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ut(t)}function ct(t,e){return ct=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ct(t,e)}var lt=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=ot(this,e,arguments)).width=0,t.alignment=.5,t.native=!1,t.cap=l.BUTT,t.join=c.MITER,t.miterLimit=10,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ct(t,e)}(e,t),r=e,n=[{key:"clone",value:function(){var t=new e;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t.width=this.width,t.alignment=this.alignment,t.native=this.native,t.cap=this.cap,t.join=this.join,t.miterLimit=this.miterLimit,t}},{key:"reset",value:function(){var t,r,n,i,o;(t=e,r="reset",n=this,o=st(ut(1&(i=3)?t.prototype:t),r,n),2&i&&"function"==typeof o?function(t){return o.apply(n,t)}:o)([]),this.color=0,this.alignment=.5,this.width=0,this.native=!1,this.cap=l.BUTT,this.join=c.MITER,this.miterLimit=10}}],n&&nt(r.prototype,n),i&&nt(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i}(et);function ft(t){return ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ft(t)}function ht(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pt(n.key),n)}}function pt(t){var e=function(t,e){if("object"!=ft(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=ft(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ft(e)?e:e+""}function dt(t,e,r){return e=mt(e),function(t,e){if(e&&("object"==ft(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,yt()?Reflect.construct(e,r||[],mt(t).constructor):e.apply(t,r))}function yt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(yt=function(){return!!t})()}function vt(){return vt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=mt(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},vt.apply(null,arguments)}function mt(t){return mt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},mt(t)}function bt(t,e){return bt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},bt(t,e)}var gt={},wt=function(t){function e(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=dt(this,e)).shader=null,t.pluginName="batch",t.currentPath=null,t.batches=[],t.batchTint=-1,t.batchDirty=-1,t.vertexData=null,t._fillStyle=new et,t._lineStyle=new lt,t._matrix=null,t._holeMode=!1,t.state=n.Uw.for2d(),t._geometry=r||new K,t._geometry.refCount++,t._transformID=-1,t._tintColor=new n.Q1(16777215),t.blendMode=n.B9.NORMAL,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bt(t,e)}(e,t),r=e,i=[{key:"geometry",get:function(){return this._geometry}},{key:"clone",value:function(){return this.finishPoly(),new e(this._geometry)}},{key:"blendMode",get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t}},{key:"tint",get:function(){return this._tintColor.value},set:function(t){this._tintColor.setValue(t)}},{key:"fill",get:function(){return this._fillStyle}},{key:"line",get:function(){return this._lineStyle}},{key:"lineStyle",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return"number"==typeof t&&(t={width:t,color:arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,alpha:arguments.length>2?arguments[2]:void 0,alignment:arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,native:arguments.length>4&&void 0!==arguments[4]&&arguments[4]}),this.lineTextureStyle(t)}},{key:"lineTextureStyle",value:function(t){var e,r={width:0,texture:n.gP.WHITE,color:null!==(e=t)&&void 0!==e&&e.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:l.BUTT,join:c.MITER,miterLimit:10};t=Object.assign(r,t),this.normalizeColor(t),this.currentPath&&this.startPoly();var i=t.width>0&&t.alpha>0;return i?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:i},t)):this._lineStyle.reset(),this}},{key:"startPoly",value:function(){if(this.currentPath){var t=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new n.tS,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))}else this.currentPath=new n.tS,this.currentPath.closeStroke=!1}},{key:"finishPoly",value:function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}},{key:"moveTo",value:function(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this}},{key:"lineTo",value:function(t,e){this.currentPath||this.moveTo(0,0);var r=this.currentPath.points,n=r[r.length-2],i=r[r.length-1];return(n!==t||i!==e)&&r.push(t,e),this}},{key:"_initCurve",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[t,e]):this.moveTo(t,e)}},{key:"quadraticCurveTo",value:function(t,e,r,n){this._initCurve();var i=this.currentPath.points;return 0===i.length&&this.moveTo(0,0),R.curveTo(t,e,r,n,i),this}},{key:"bezierCurveTo",value:function(t,e,r,n,i,o){return this._initCurve(),_.curveTo(t,e,r,n,i,o,this.currentPath.points),this}},{key:"arcTo",value:function(t,e,r,n,i){this._initCurve(t,e);var o=this.currentPath.points,a=y.curveTo(t,e,r,n,i,o);if(a){var s=a.cx,u=a.cy,c=a.radius,l=a.startAngle,f=a.endAngle,h=a.anticlockwise;this.arc(s,u,c,l,f,h)}return this}},{key:"arc",value:function(t,e,r,i,o){var a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(i===o)return this;if(!a&&o<=i?o+=n.TO:a&&i<=o&&(i+=n.TO),o-i===0)return this;var s=t+Math.cos(i)*r,u=e+Math.sin(i)*r,c=this._geometry.closePointEps,l=this.currentPath?this.currentPath.points:null;if(l){var f=Math.abs(l[l.length-2]-s),h=Math.abs(l[l.length-1]-u);f<c&&h<c||l.push(s,u)}else this.moveTo(s,u),l=this.currentPath.points;return y.arc(s,u,t,e,r,i,o,a,l),this}},{key:"beginFill",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;return this.beginTextureFill({texture:n.gP.WHITE,color:t,alpha:e})}},{key:"normalizeColor",value:function(t){var e,r,i=n.Q1.shared.setValue(null!==(e=t.color)&&void 0!==e?e:0);t.color=i.toNumber(),null!==(r=t.alpha)&&void 0!==r||(t.alpha=i.alpha)}},{key:"beginTextureFill",value:function(t){var e={texture:n.gP.WHITE,color:16777215,matrix:null};t=Object.assign(e,t),this.normalizeColor(t),this.currentPath&&this.startPoly();var r=t.alpha>0;return r?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:r},t)):this._fillStyle.reset(),this}},{key:"endFill",value:function(){return this.finishPoly(),this._fillStyle.reset(),this}},{key:"drawRect",value:function(t,e,r,i){return this.drawShape(new n.M_(t,e,r,i))}},{key:"drawRoundedRect",value:function(t,e,r,i,o){return this.drawShape(new n.TE(t,e,r,i,o))}},{key:"drawCircle",value:function(t,e,r){return this.drawShape(new n.jl(t,e,r))}},{key:"drawEllipse",value:function(t,e,r,i){return this.drawShape(new n.Pp(t,e,r,i))}},{key:"drawPolygon",value:function(){for(var t,e=!0,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i[0];a.points?(e=a.closeStroke,t=a.points):t=Array.isArray(i[0])?i[0]:i;var s=new n.tS(t);return s.closeStroke=e,this.drawShape(s),this}},{key:"drawShape",value:function(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}},{key:"clear",value:function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}},{key:"isFastRect",value:function(){var t=this._geometry.graphicsData;return!(1!==t.length||t[0].shape.type!==n.HY.RECT||t[0].matrix||t[0].holes.length||t[0].lineStyle.visible&&t[0].lineStyle.width)}},{key:"_render",value:function(t){this.finishPoly();var e=this._geometry;e.updateBatches(),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))}},{key:"_populateBatches",value:function(){var t=this._geometry,e=this.blendMode,r=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=r,this.vertexData=new Float32Array(t.points);for(var i=0;i<r;i++){var o=t.batches[i],a=o.style.color,s=new Float32Array(this.vertexData.buffer,4*o.attribStart*2,2*o.attribSize),u=new Float32Array(t.uvsFloat32.buffer,4*o.attribStart*2,2*o.attribSize),c={vertexData:s,blendMode:e,indices:new Uint16Array(t.indicesUint16.buffer,2*o.start,o.size),uvs:u,_batchRGB:n.Q1.shared.setValue(a).toRgbArray(),_tintRGB:a,_texture:o.style.texture,alpha:o.style.alpha,worldAlpha:1};this.batches[i]=c}}},{key:"_renderBatched",value:function(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var e=0,r=this.batches.length;e<r;e++){var n=this.batches[e];n.worldAlpha=this.worldAlpha*n.alpha,t.plugins[this.pluginName].render(n)}}}},{key:"_renderDirect",value:function(t){var e=this._resolveDirectShader(t),r=this._geometry,i=this.worldAlpha,o=e.uniforms,a=r.drawCalls;o.translationMatrix=this.transform.worldTransform,n.Q1.shared.setValue(this._tintColor).premultiply(i).toArray(o.tint),t.shader.bind(e),t.geometry.bind(r,e),t.state.set(this.state);for(var s=0,u=a.length;s<u;s++)this._renderDrawCallDirect(t,r.drawCalls[s])}},{key:"_renderDrawCallDirect",value:function(t,e){for(var r=e.texArray,n=e.type,i=e.size,o=e.start,a=r.count,s=0;s<a;s++)t.texture.bind(r.elements[s],s);t.geometry.draw(n,i,o)}},{key:"_resolveDirectShader",value:function(t){var e=this.shader,r=this.pluginName;if(!e){if(!gt[r]){for(var i=t.plugins[r].maxTextures,o=new Int32Array(i),a=0;a<i;a++)o[a]=a;var s={tint:new Float32Array([1,1,1,1]),translationMatrix:new n.uq,default:n.k2.from({uSamplers:o},!0)},u=t.plugins[r]._shader.program;gt[r]=new n.Mt(u,s)}e=gt[r]}return e}},{key:"_calculateBounds",value:function(){this.finishPoly();var t=this._geometry;if(t.graphicsData.length){var e=t.bounds,r=e.minX,n=e.minY,i=e.maxX,o=e.maxY;this._bounds.addFrame(this.transform,r,n,i,o)}}},{key:"containsPoint",value:function(t){return this.worldTransform.applyInverse(t,e._TEMP_POINT),this._geometry.containsPoint(e._TEMP_POINT)}},{key:"calculateTints",value:function(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(var t=0;t<this.batches.length;t++){var e=this.batches[t];e._tintRGB=n.Q1.shared.setValue(this._tintColor).multiply(e._batchRGB).toLittleEndianNumber()}}}},{key:"calculateVertices",value:function(){var t=this.transform._worldID;if(this._transformID!==t){this._transformID=t;for(var e=this.transform.worldTransform,r=e.a,n=e.b,i=e.c,o=e.d,a=e.tx,s=e.ty,u=this._geometry.points,c=this.vertexData,l=0,f=0;f<u.length;f+=2){var h=u[f],p=u[f+1];c[l++]=r*h+i*p+a,c[l++]=o*p+n*h+s}}}},{key:"closePath",value:function(){var t=this.currentPath;return t&&(t.closeStroke=!0,this.finishPoly()),this}},{key:"setMatrix",value:function(t){return this._matrix=t,this}},{key:"beginHole",value:function(){return this.finishPoly(),this._holeMode=!0,this}},{key:"endHole",value:function(){return this.finishPoly(),this._holeMode=!1,this}},{key:"destroy",value:function(t){var r,n,i,o,a;this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,(r=e,n="destroy",i=this,a=vt(mt(1&(o=3)?r.prototype:r),n,i),2&o&&"function"==typeof a?function(t){return a.apply(i,t)}:a)([t])}}],i&&ht(r.prototype,i),o&&ht(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(N.mc);wt.curves=f,wt._TEMP_POINT=new n.bR;var St=wt},65701774:(t,e,r)=>{"use strict";r.d(e,{jl:()=>g,Td:()=>o,Pp:()=>_,uq:()=>D,oA:()=>H,TO:()=>n,bR:()=>l,tS:()=>P,bO:()=>i,M_:()=>y,TE:()=>j,HY:()=>a,dL:()=>$,ER:()=>G});r(29204099),r(53375191),r(73503923),r(35669252),r(44381336),r(95723650),r(62951728),r(17522308),r(4421388),r(1906035),r(57886333),r(32570708),r(74018857);var n=2*Math.PI,i=180/Math.PI,o=Math.PI/180,a=function(t){return t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC",t}(a||{});r(71434170);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,c(n.key),n)}}function c(t){var e=function(t,e){if("object"!=s(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==s(e)?e:e+""}var l=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=0,this.y=0,this.x=e,this.y=r}return e=t,r=[{key:"clone",value:function(){return new t(this.x,this.y)}},{key:"copyFrom",value:function(t){return this.set(t.x,t.y),this}},{key:"copyTo",value:function(t){return t.set(this.x,this.y),t}},{key:"equals",value:function(t){return t.x===this.x&&t.y===this.y}},{key:"set",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return this.x=t,this.y=e,this}}],r&&u(e.prototype,r),n&&u(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,r,n}();function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}function h(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,p(n.key),n)}}function p(t){var e=function(t,e){if("object"!=f(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==f(e)?e:e+""}l.prototype.toString=function(){return"[@pixi/math:Point x=".concat(this.x," y=").concat(this.y,"]")};var d=[new l,new l,new l,new l],y=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=Number(e),this.y=Number(r),this.width=Number(n),this.height=Number(i),this.type=a.RECT}return e=t,r=[{key:"left",get:function(){return this.x}},{key:"right",get:function(){return this.x+this.width}},{key:"top",get:function(){return this.y}},{key:"bottom",get:function(){return this.y+this.height}},{key:"clone",value:function(){return new t(this.x,this.y,this.width,this.height)}},{key:"copyFrom",value:function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this}},{key:"copyTo",value:function(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t}},{key:"contains",value:function(t,e){return!(this.width<=0||this.height<=0)&&t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height}},{key:"intersects",value:function(t,e){if(!e){var r=this.x<t.x?t.x:this.x;if((this.right>t.right?t.right:this.right)<=r)return!1;var n=this.y<t.y?t.y:this.y;return(this.bottom>t.bottom?t.bottom:this.bottom)>n}var i=this.left,o=this.right,a=this.top,s=this.bottom;if(o<=i||s<=a)return!1;var u=d[0].set(t.left,t.top),c=d[1].set(t.left,t.bottom),l=d[2].set(t.right,t.top),f=d[3].set(t.right,t.bottom);if(l.x<=u.x||c.y<=u.y)return!1;var h=Math.sign(e.a*e.d-e.b*e.c);if(0===h||(e.apply(u,u),e.apply(c,c),e.apply(l,l),e.apply(f,f),Math.max(u.x,c.x,l.x,f.x)<=i||Math.min(u.x,c.x,l.x,f.x)>=o||Math.max(u.y,c.y,l.y,f.y)<=a||Math.min(u.y,c.y,l.y,f.y)>=s))return!1;var p=h*(c.y-u.y),y=h*(u.x-c.x),v=p*i+y*a,m=p*o+y*a,b=p*i+y*s,g=p*o+y*s;if(Math.max(v,m,b,g)<=p*u.x+y*u.y||Math.min(v,m,b,g)>=p*f.x+y*f.y)return!1;var w=h*(u.y-l.y),S=h*(l.x-u.x),x=w*i+S*a,_=w*o+S*a,E=w*i+S*s,T=w*o+S*s;return!(Math.max(x,_,E,T)<=w*u.x+S*u.y||Math.min(x,_,E,T)>=w*f.x+S*f.y)}},{key:"pad",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e,this}},{key:"fit",value:function(t){var e=Math.max(this.x,t.x),r=Math.min(this.x+this.width,t.x+t.width),n=Math.max(this.y,t.y),i=Math.min(this.y+this.height,t.y+t.height);return this.x=e,this.width=Math.max(r-e,0),this.y=n,this.height=Math.max(i-n,0),this}},{key:"ceil",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.001,r=Math.ceil((this.x+this.width-e)*t)/t,n=Math.ceil((this.y+this.height-e)*t)/t;return this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=r-this.x,this.height=n-this.y,this}},{key:"enlarge",value:function(t){var e=Math.min(this.x,t.x),r=Math.max(this.x+this.width,t.x+t.width),n=Math.min(this.y,t.y),i=Math.max(this.y+this.height,t.y+t.height);return this.x=e,this.width=r-e,this.y=n,this.height=i-n,this}}],n=[{key:"EMPTY",get:function(){return new t(0,0,0,0)}}],r&&h(e.prototype,r),n&&h(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,r,n}();function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function m(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,b(n.key),n)}}function b(t){var e=function(t,e){if("object"!=v(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=v(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==v(e)?e:e+""}y.prototype.toString=function(){return"[@pixi/math:Rectangle x=".concat(this.x," y=").concat(this.y," width=").concat(this.width," height=").concat(this.height,"]")};var g=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=e,this.y=r,this.radius=n,this.type=a.CIRC}return e=t,(r=[{key:"clone",value:function(){return new t(this.x,this.y,this.radius)}},{key:"contains",value:function(t,e){if(this.radius<=0)return!1;var r=this.radius*this.radius,n=this.x-t,i=this.y-e;return(n*=n)+(i*=i)<=r}},{key:"getBounds",value:function(){return new y(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)}}])&&m(e.prototype,r),n&&m(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,r,n}();function w(t){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w(t)}function S(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,x(n.key),n)}}function x(t){var e=function(t,e){if("object"!=w(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=w(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==w(e)?e:e+""}g.prototype.toString=function(){return"[@pixi/math:Circle x=".concat(this.x," y=").concat(this.y," radius=").concat(this.radius,"]")};var _=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=e,this.y=r,this.width=n,this.height=i,this.type=a.ELIP}return e=t,(r=[{key:"clone",value:function(){return new t(this.x,this.y,this.width,this.height)}},{key:"contains",value:function(t,e){if(this.width<=0||this.height<=0)return!1;var r=(t-this.x)/this.width,n=(e-this.y)/this.height;return(r*=r)+(n*=n)<=1}},{key:"getBounds",value:function(){return new y(this.x-this.width,this.y-this.height,this.width,this.height)}}])&&S(e.prototype,r),n&&S(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,r,n}();_.prototype.toString=function(){return"[@pixi/math:Ellipse x=".concat(this.x," y=").concat(this.y," width=").concat(this.width," height=").concat(this.height,"]")};r(97200626),r(6137992),r(50473502),r(10827376),r(34318408);function E(t){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E(t)}function T(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,k(n.key),n)}}function k(t){var e=function(t,e){if("object"!=E(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=E(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==E(e)?e:e+""}var P=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=Array.isArray(r[0])?r[0]:r;if("number"!=typeof i[0]){for(var o=[],s=0,u=i.length;s<u;s++)o.push(i[s].x,i[s].y);i=o}this.points=i,this.type=a.POLY,this.closeStroke=!0}return e=t,(r=[{key:"clone",value:function(){var e=new t(this.points.slice());return e.closeStroke=this.closeStroke,e}},{key:"contains",value:function(t,e){for(var r=!1,n=this.points.length/2,i=0,o=n-1;i<n;o=i++){var a=this.points[2*i],s=this.points[2*i+1],u=this.points[2*o],c=this.points[2*o+1];s>e!=c>e&&t<(e-s)/(c-s)*(u-a)+a&&(r=!r)}return r}}])&&T(e.prototype,r),n&&T(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,r,n}();function O(t){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O(t)}function A(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,R(n.key),n)}}function R(t){var e=function(t,e){if("object"!=O(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=O(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==O(e)?e:e+""}P.prototype.toString=function(){return"[@pixi/math:PolygoncloseStroke=".concat(this.closeStroke,"points=").concat(this.points.reduce(function(t,e){return"".concat(t,", ").concat(e)},""),"]")};var j=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:20;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=e,this.y=r,this.width=n,this.height=i,this.radius=o,this.type=a.RREC}return e=t,(r=[{key:"clone",value:function(){return new t(this.x,this.y,this.width,this.height,this.radius)}},{key:"contains",value:function(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){var r=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(e>=this.y+r&&e<=this.y+this.height-r||t>=this.x+r&&t<=this.x+this.width-r)return!0;var n=t-(this.x+r),i=e-(this.y+r),o=r*r;if(n*n+i*i<=o||(n=t-(this.x+this.width-r))*n+i*i<=o||n*n+(i=e-(this.y+this.height-r))*i<=o||(n=t-(this.x+r))*n+i*i<=o)return!0}return!1}}])&&A(e.prototype,r),n&&A(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,r,n}();j.prototype.toString=function(){return"[@pixi/math:RoundedRectangle x=".concat(this.x," y=").concat(this.y,"width=").concat(this.width," height=").concat(this.height," radius=").concat(this.radius,"]")};r(41904727),r(33688577),r(89766562),r(20211116),r(6224830),r(18501354),r(49912228),r(29762787),r(87324110),r(31353187),r(49433423),r(7405150),r(76679030),r(19352784),r(283227),r(39512023),r(11753769),r(9404124),r(89875075),r(40993271),r(18381800),r(69967115),r(23549037),r(49032015),r(17179093),r(28253461),r(55692573),r(52899355),r(89433276),r(7478740),r(40707609),r(78027336),r(26098537),r(47326777);function I(t){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I(t)}function C(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,M(n.key),n)}}function M(t){var e=function(t,e){if("object"!=I(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=I(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==I(e)?e:e+""}var D=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.array=null,this.a=e,this.b=r,this.c=n,this.d=i,this.tx=o,this.ty=a}return e=t,i=[{key:"IDENTITY",get:function(){return new t}},{key:"TEMP_MATRIX",get:function(){return new t}}],(r=[{key:"fromArray",value:function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]}},{key:"set",value:function(t,e,r,n,i,o){return this.a=t,this.b=e,this.c=r,this.d=n,this.tx=i,this.ty=o,this}},{key:"toArray",value:function(t,e){this.array||(this.array=new Float32Array(9));var r=e||this.array;return t?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r}},{key:"apply",value:function(t,e){e=e||new l;var r=t.x,n=t.y;return e.x=this.a*r+this.c*n+this.tx,e.y=this.b*r+this.d*n+this.ty,e}},{key:"applyInverse",value:function(t,e){e=e||new l;var r=1/(this.a*this.d+this.c*-this.b),n=t.x,i=t.y;return e.x=this.d*r*n+-this.c*r*i+(this.ty*this.c-this.tx*this.d)*r,e.y=this.a*r*i+-this.b*r*n+(-this.ty*this.a+this.tx*this.b)*r,e}},{key:"translate",value:function(t,e){return this.tx+=t,this.ty+=e,this}},{key:"scale",value:function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this}},{key:"rotate",value:function(t){var e=Math.cos(t),r=Math.sin(t),n=this.a,i=this.c,o=this.tx;return this.a=n*e-this.b*r,this.b=n*r+this.b*e,this.c=i*e-this.d*r,this.d=i*r+this.d*e,this.tx=o*e-this.ty*r,this.ty=o*r+this.ty*e,this}},{key:"append",value:function(t){var e=this.a,r=this.b,n=this.c,i=this.d;return this.a=t.a*e+t.b*n,this.b=t.a*r+t.b*i,this.c=t.c*e+t.d*n,this.d=t.c*r+t.d*i,this.tx=t.tx*e+t.ty*n+this.tx,this.ty=t.tx*r+t.ty*i+this.ty,this}},{key:"setTransform",value:function(t,e,r,n,i,o,a,s,u){return this.a=Math.cos(a+u)*i,this.b=Math.sin(a+u)*i,this.c=-Math.sin(a-s)*o,this.d=Math.cos(a-s)*o,this.tx=t-(r*this.a+n*this.c),this.ty=e-(r*this.b+n*this.d),this}},{key:"prepend",value:function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var r=this.a,n=this.c;this.a=r*t.a+this.b*t.c,this.b=r*t.b+this.b*t.d,this.c=n*t.a+this.d*t.c,this.d=n*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this}},{key:"decompose",value:function(t){var e=this.a,r=this.b,i=this.c,o=this.d,a=t.pivot,s=-Math.atan2(-i,o),u=Math.atan2(r,e),c=Math.abs(s+u);return c<1e-5||Math.abs(n-c)<1e-5?(t.rotation=u,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=s,t.skew.y=u),t.scale.x=Math.sqrt(e*e+r*r),t.scale.y=Math.sqrt(i*i+o*o),t.position.x=this.tx+(a.x*e+a.y*i),t.position.y=this.ty+(a.x*r+a.y*o),t}},{key:"invert",value:function(){var t=this.a,e=this.b,r=this.c,n=this.d,i=this.tx,o=t*n-e*r;return this.a=n/o,this.b=-e/o,this.c=-r/o,this.d=t/o,this.tx=(r*this.ty-n*i)/o,this.ty=-(t*this.ty-e*i)/o,this}},{key:"identity",value:function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}},{key:"clone",value:function(){var e=new t;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}},{key:"copyTo",value:function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}},{key:"copyFrom",value:function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this}}])&&C(e.prototype,r),i&&C(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,r,i}();D.prototype.toString=function(){return"[@pixi/math:Matrix a=".concat(this.a," b=").concat(this.b," c=").concat(this.c," d=").concat(this.d," tx=").concat(this.tx," ty=").concat(this.ty,"]")};var N=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],B=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],F=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],L=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],U=[],V=[],X=Math.sign;!function(){for(var t=0;t<16;t++){var e=[];U.push(e);for(var r=0;r<16;r++)for(var n=X(N[t]*N[r]+F[t]*B[r]),i=X(B[t]*N[r]+L[t]*B[r]),o=X(N[t]*F[r]+F[t]*L[r]),a=X(B[t]*F[r]+L[t]*L[r]),s=0;s<16;s++)if(N[s]===n&&B[s]===i&&F[s]===o&&L[s]===a){e.push(s);break}}for(var u=0;u<16;u++){var c=new D;c.set(N[u],B[u],F[u],L[u],0,0),V.push(c)}}();var G={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(t){return N[t]},uY:function(t){return B[t]},vX:function(t){return F[t]},vY:function(t){return L[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,e){return U[t][e]},sub:function(t,e){return U[t][G.inv(e)]},rotate180:function(t){return 4^t},isVertical:function(t){return 2==(3&t)},byDirection:function(t,e){return 2*Math.abs(t)<=Math.abs(e)?e>=0?G.S:G.N:2*Math.abs(e)<=Math.abs(t)?t>0?G.E:G.W:e>0?t>0?G.SE:G.SW:t>0?G.NE:G.NW},matrixAppendRotationInv:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=V[G.inv(e)];i.tx=r,i.ty=n,t.append(i)}};function Y(t){return Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Y(t)}function q(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,W(n.key),n)}}function W(t){var e=function(t,e){if("object"!=Y(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Y(e)?e:e+""}var H=function(){function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._x=n,this._y=i,this.cb=e,this.scope=r}return e=t,r=[{key:"clone",value:function(){return new t(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.cb,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scope,this._x,this._y)}},{key:"set",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return(this._x!==t||this._y!==e)&&(this._x=t,this._y=e,this.cb.call(this.scope)),this}},{key:"copyFrom",value:function(t){return(this._x!==t.x||this._y!==t.y)&&(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this}},{key:"copyTo",value:function(t){return t.set(this._x,this._y),t}},{key:"equals",value:function(t){return t.x===this._x&&t.y===this._y}},{key:"x",get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))}},{key:"y",get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))}}],r&&q(e.prototype,r),n&&q(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,r,n}();function z(t){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},z(t)}function Q(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Z(n.key),n)}}function Z(t){var e=function(t,e){if("object"!=z(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=z(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==z(e)?e:e+""}H.prototype.toString=function(){return"[@pixi/math:ObservablePoint x=".concat(this.x," y=").concat(this.y," scope=").concat(this.scope,"]")};var K=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.worldTransform=new D,this.localTransform=new D,this.position=new H(this.onChange,this,0,0),this.scale=new H(this.onChange,this,1,1),this.pivot=new H(this.onChange,this,0,0),this.skew=new H(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0},(e=[{key:"onChange",value:function(){this._localID++}},{key:"updateSkew",value:function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}},{key:"updateLocalTransform",value:function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)}},{key:"updateTransform",value:function(t){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var r=t.worldTransform,n=this.worldTransform;n.a=e.a*r.a+e.b*r.c,n.b=e.a*r.b+e.b*r.d,n.c=e.c*r.a+e.d*r.c,n.d=e.c*r.b+e.d*r.d,n.tx=e.tx*r.a+e.ty*r.c+r.tx,n.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}}},{key:"setFromMatrix",value:function(t){t.decompose(this),this._localID++}},{key:"rotation",get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())}}])&&Q(t.prototype,e),r&&Q(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();K.IDENTITY=new K;var $=K;$.prototype.toString=function(){return"[@pixi/math:Transform position=(".concat(this.position.x,", ").concat(this.position.y,") rotation=").concat(this.rotation," scale=(").concat(this.scale.x,", ").concat(this.scale.y,") skew=(").concat(this.skew.x,", ").concat(this.skew.y,") ]")}},69398507:(t,e,r)=>{"use strict";r.d(e,{g:()=>p});r(29204099),r(53375191),r(73503923),r(35669252),r(44381336),r(62951728),r(97200626),r(41904727),r(33688577),r(17522308),r(4421388),r(69994507),r(1906035),r(41624185),r(32570708),r(89766562),r(85890026),r(20211116),r(6224830),r(18501354),r(49912228),r(29762787),r(87324110),r(31353187),r(49433423),r(7405150),r(76679030),r(19352784),r(283227),r(39512023),r(11753769),r(9404124),r(89875075),r(40993271),r(18381800),r(69967115),r(23549037),r(49032015),r(17179093),r(28253461),r(55692573),r(52899355),r(89433276),r(7478740),r(40707609),r(78027336),r(26098537),r(47326777),r(74018857);var n=r(36891659);var i=r(55039106);r(95440747),r(86965080),r(54497072);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,s(n.key),n)}}function s(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}function u(t,e,r){return e=f(e),function(t,e){if(e&&("object"==o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,c()?Reflect.construct(e,r||[],f(t).constructor):e.apply(t,r))}function c(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(c=function(){return!!t})()}function l(){return l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},l.apply(null,arguments)}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}function h(t,e){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},h(t,e)}var p=function(t){function e(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.gP.EMPTY,o=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,c=arguments.length>4?arguments[4]:void 0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var l=new n.u(o,a,s);return l.getBuffer("aVertexPosition").static=!1,(t=u(this,e,[l,new n.PX(r),null,c])).autoUpdate=!0,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h(t,e)}(e,t),r=e,o=[{key:"vertices",get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(t){this.geometry.getBuffer("aVertexPosition").data=t}},{key:"_render",value:function(t){var r,n,i,o,a;this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),(r=e,n="_render",i=this,a=l(f(1&(o=3)?r.prototype:r),n,i),2&o&&"function"==typeof a?function(t){return a.apply(i,t)}:a)([t])}}],o&&a(r.prototype,o),s&&a(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,s}(n.e)},36891659:(t,e,r)=>{"use strict";r.d(e,{e:()=>w,u:()=>O,PX:()=>N});r(29204099),r(53375191),r(73503923),r(35669252),r(44381336),r(62951728),r(41904727),r(33688577),r(17522308),r(4421388),r(95440747),r(69994507),r(1906035),r(18515682),r(41624185),r(86965080),r(54497072),r(32570708),r(89766562),r(20211116),r(6224830),r(18501354),r(49912228),r(29762787),r(87324110),r(31353187),r(49433423),r(7405150),r(76679030),r(19352784),r(283227),r(39512023),r(11753769),r(9404124),r(89875075),r(40993271),r(18381800),r(69967115),r(23549037),r(49032015),r(17179093),r(28253461),r(55692573),r(52899355),r(89433276),r(7478740),r(40707609),r(78027336),r(26098537),r(47326777),r(10827376),r(1764963),r(74018857);var n=r(55039106),i=r(97972777);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,s(n.key),n)}}function s(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}var u=function(){return t=function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.uvBuffer=e,this.uvMatrix=r,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0},(e=[{key:"update",value:function(t){if(t||this._bufferUpdateId!==this.uvBuffer._updateID||this._textureUpdateId!==this.uvMatrix._updateID){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var e=this.uvBuffer.data;(!this.data||this.data.length!==e.length)&&(this.data=new Float32Array(e.length)),this.uvMatrix.multiplyUvs(e,this.data),this._updateID++}}}])&&a(t.prototype,e),r&&a(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function l(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,f(n.key),n)}}function f(t){var e=function(t,e){if("object"!=c(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==c(e)?e:e+""}function h(t,e,r){return e=y(e),function(t,e){if(e&&("object"==c(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,p()?Reflect.construct(e,r||[],y(t).constructor):e.apply(t,r))}function p(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(p=function(){return!!t})()}function d(){return d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=y(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},d.apply(null,arguments)}function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},y(t)}function v(t,e){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},v(t,e)}var m=new n.bR,b=new n.tS,g=function(t){function e(t,r,i){var o,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n._4.TRIANGLES;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(o=h(this,e)).geometry=t,o.shader=r,o.state=i||n.Uw.for2d(),o.drawMode=a,o.start=0,o.size=0,o.uvs=null,o.indices=null,o.vertexData=new Float32Array(1),o.vertexDirty=-1,o._transformID=-1,o._roundPixels=n.W0.ROUND_PIXELS,o.batchUvs=null,o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v(t,e)}(e,t),r=e,i=[{key:"geometry",get:function(){return this._geometry},set:function(t){this._geometry!==t&&(this._geometry&&(this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose()),this._geometry=t,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}},{key:"uvBuffer",get:function(){return this.geometry.buffers[1]}},{key:"verticesBuffer",get:function(){return this.geometry.buffers[0]}},{key:"material",get:function(){return this.shader},set:function(t){this.shader=t}},{key:"blendMode",get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t}},{key:"roundPixels",get:function(){return this._roundPixels},set:function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t}},{key:"tint",get:function(){return"tint"in this.shader?this.shader.tint:null},set:function(t){this.shader.tint=t}},{key:"tintValue",get:function(){return this.shader.tintValue}},{key:"texture",get:function(){return"texture"in this.shader?this.shader.texture:null},set:function(t){this.shader.texture=t}},{key:"_render",value:function(t){var r=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===n._4.TRIANGLES&&r.length<2*e.BATCHABLE_SIZE?this._renderToBatch(t):this._renderDefault(t)}},{key:"_renderDefault",value:function(t){var e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}},{key:"_renderToBatch",value:function(t){var e=this.geometry,r=this.shader;r.uvMatrix&&(r.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=r._tintRGB,this._texture=r.texture;var n=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[n]),t.plugins[n].render(this)}},{key:"calculateVertices",value:function(){var t=this.geometry.buffers[0],e=t.data,r=t._updateID;if(r!==this.vertexDirty||this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID,this.vertexData.length!==e.length&&(this.vertexData=new Float32Array(e.length));for(var i=this.transform.worldTransform,o=i.a,a=i.b,s=i.c,u=i.d,c=i.tx,l=i.ty,f=this.vertexData,h=0;h<f.length/2;h++){var p=e[2*h],d=e[2*h+1];f[2*h]=o*p+s*d+c,f[2*h+1]=a*p+u*d+l}if(this._roundPixels)for(var y=n.W0.RESOLUTION,v=0;v<f.length;++v)f[v]=Math.round(f[v]*y)/y;this.vertexDirty=r}}},{key:"calculateUvs",value:function(){var t=this.geometry.buffers[1],e=this.shader;e.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new u(t,e.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}},{key:"_calculateBounds",value:function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}},{key:"containsPoint",value:function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,m);for(var e=this.geometry.getBuffer("aVertexPosition").data,r=b.points,n=this.geometry.getIndex().data,i=n.length,o=4===this.drawMode?3:1,a=0;a+2<i;a+=o){var s=2*n[a],u=2*n[a+1],c=2*n[a+2];if(r[0]=e[s],r[1]=e[s+1],r[2]=e[u],r[3]=e[u+1],r[4]=e[c],r[5]=e[c+1],b.contains(m.x,m.y))return!0}return!1}},{key:"destroy",value:function(t){var r,n,i,o,a;(r=e,n="destroy",i=this,a=d(y(1&(o=3)?r.prototype:r),n,i),2&o&&"function"==typeof a?function(t){return a.apply(i,t)}:a)([t]),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}}],i&&l(r.prototype,i),o&&l(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(i.mc);g.BATCHABLE_SIZE=100;var w=g;function S(t){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S(t)}function x(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_(n.key),n)}}function _(t){var e=function(t,e){if("object"!=S(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=S(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==S(e)?e:e+""}function E(t,e,r){return e=k(e),function(t,e){if(e&&("object"==S(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,T()?Reflect.construct(e,r||[],k(t).constructor):e.apply(t,r))}function T(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(T=function(){return!!t})()}function k(t){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},k(t)}function P(t,e){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},P(t,e)}var O=function(t){function e(t,r,i){var o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),o=E(this,e);var a=new n.hp(t),s=new n.hp(r,!0),u=new n.hp(i,!0,!0);return o.addAttribute("aVertexPosition",a,2,!1,n.QE.FLOAT).addAttribute("aTextureCoord",s,2,!1,n.QE.FLOAT).addIndex(u),o._updateId=-1,o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P(t,e)}(e,t),r=e,(i=[{key:"vertexDirtyId",get:function(){return this.buffers[0]._updateID}}])&&x(r.prototype,i),o&&x(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(n.V2);r(32767805);function A(t){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A(t)}function R(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,j(n.key),n)}}function j(t){var e=function(t,e){if("object"!=A(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=A(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==A(e)?e:e+""}function I(t,e,r){return e=M(e),function(t,e){if(e&&("object"==A(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,C()?Reflect.construct(e,r||[],M(t).constructor):e.apply(t,r))}function C(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(C=function(){return!!t})()}function M(t){return M=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},M(t)}function D(t,e){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},D(t,e)}var N=function(t){function e(t,r){var i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o={uSampler:t,alpha:1,uTextureMatrix:n.uq.IDENTITY,uColor:new Float32Array([1,1,1,1])};return(r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r)).uniforms&&Object.assign(o,r.uniforms),(i=I(this,e,[r.program||n.BP.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n"),o]))._colorDirty=!1,i.uvMatrix=new n.NW(t),i.batchable=void 0===r.program,i.pluginName=r.pluginName,i._tintColor=new n.Q1(r.tint),i._tintRGB=i._tintColor.toLittleEndianNumber(),i._colorDirty=!0,i.alpha=r.alpha,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&D(t,e)}(e,t),r=e,(i=[{key:"texture",get:function(){return this.uniforms.uSampler},set:function(t){this.uniforms.uSampler!==t&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!t.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=t,this.uvMatrix.texture=t)}},{key:"alpha",get:function(){return this._alpha},set:function(t){t!==this._alpha&&(this._alpha=t,this._colorDirty=!0)}},{key:"tint",get:function(){return this._tintColor.value},set:function(t){t!==this.tint&&(this._tintColor.setValue(t),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}},{key:"tintValue",get:function(){return this._tintColor.toNumber()}},{key:"update",value:function(){if(this._colorDirty){this._colorDirty=!1;var t=this.texture.baseTexture.alphaMode;n.Q1.shared.setValue(this._tintColor).premultiply(this._alpha,t).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}])&&R(r.prototype,i),o&&R(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(n.Mt)},22037416:(t,e,r)=>{"use strict";r.d(e,{Fr:()=>x,W0:()=>i});r(1906035),r(18515682),r(57886333);var n,i={ADAPTER:{createCanvas:function(t,e){var r=document.createElement("canvas");return r.width=t,r.height=e,r},getCanvasRenderingContext2D:function(){return CanvasRenderingContext2D},getWebGLRenderingContext:function(){return WebGLRenderingContext},getNavigator:function(){return navigator},getBaseUrl:function(){var t;return null!==(t=document.baseURI)&&void 0!==t?t:window.location.href},getFontFaceSet:function(){return document.fonts},fetch:function(t){function e(e,r){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t,e){return fetch(t,e)}),parseXML:function(t){return(new DOMParser).parseFromString(t,"text/xml")}},RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},o=(r(76824265),/iPhone/i),a=/iPod/i,s=/iPad/i,u=/\biOS-universal(?:.+)Mac\b/i,c=/\bAndroid(?:.+)Mobile\b/i,l=/Android/i,f=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,h=/Silk/i,p=/Windows Phone/i,d=/\bWindows(?:.+)ARM\b/i,y=/BlackBerry/i,v=/BB10/i,m=/Opera Mini/i,b=/\b(CriOS|Chrome)(?:.+)Mobile/i,g=/Mobile(?:.+)Firefox\b/i,w=function(t){return void 0!==t&&"MacIntel"===t.platform&&"number"==typeof t.maxTouchPoints&&t.maxTouchPoints>1&&"undefined"==typeof MSStream};function S(t){var e={userAgent:"",platform:"",maxTouchPoints:0};t||"undefined"==typeof navigator?"string"==typeof t?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0}):e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var r=e.userAgent,n=r.split("[FBAN");void 0!==n[1]&&(r=n[0]),void 0!==(n=r.split("Twitter"))[1]&&(r=n[0]);var i=function(t){return function(e){return e.test(t)}}(r),S={apple:{phone:i(o)&&!i(p),ipod:i(a),tablet:!i(o)&&(i(s)||w(e))&&!i(p),universal:i(u),device:(i(o)||i(a)||i(s)||i(u)||w(e))&&!i(p)},amazon:{phone:i(f),tablet:!i(f)&&i(h),device:i(f)||i(h)},android:{phone:!i(p)&&i(f)||!i(p)&&i(c),tablet:!i(p)&&!i(f)&&!i(c)&&(i(h)||i(l)),device:!i(p)&&(i(f)||i(h)||i(c)||i(l))||i(/\bokhttp\b/i)},windows:{phone:i(p),tablet:i(d),device:i(p)||i(d)},other:{blackberry:i(y),blackberry10:i(v),opera:i(m),firefox:i(g),chrome:i(b),device:i(y)||i(v)||i(m)||i(g)||i(b)},any:!1,phone:!1,tablet:!1};return S.any=S.apple.device||S.android.device||S.windows.device||S.other.device,S.phone=S.apple.phone||S.android.phone||S.windows.phone,S.tablet=S.apple.tablet||S.android.tablet||S.windows.tablet,S}var x=(null!==(n=S.default)&&void 0!==n?n:S)(globalThis.navigator)},85133661:(t,e,r)=>{"use strict";r.d(e,{k:()=>m});r(29204099),r(53375191),r(73503923),r(35669252),r(44381336),r(62951728),r(41904727),r(33688577),r(17522308),r(4421388),r(95440747),r(69994507),r(1906035),r(41624185),r(86965080),r(54497072),r(32570708),r(94366282),r(89766562),r(85890026),r(20211116),r(6224830),r(18501354),r(49912228),r(29762787),r(87324110),r(31353187),r(49433423),r(7405150),r(76679030),r(19352784),r(283227),r(39512023),r(11753769),r(9404124),r(89875075),r(40993271),r(18381800),r(69967115),r(23549037),r(49032015),r(17179093),r(28253461),r(55692573),r(52899355),r(89433276),r(7478740),r(40707609),r(78027336),r(26098537),r(47326777),r(74018857);var n=r(55039106),i=r(97972777);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,s(n.key),n)}}function s(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}function u(t,e,r){return e=p(e),function(t,e){if(e&&("object"==o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return c(t)}(t,l()?Reflect.construct(e,r||[],p(t).constructor):e.apply(t,r))}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(l=function(){return!!t})()}function f(t,e,r,n){var i=h(p(1&n?t.prototype:t),e,r);return 2&n&&"function"==typeof i?function(t){return i.apply(r,t)}:i}function h(){return h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},h.apply(null,arguments)}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}function d(t,e){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},d(t,e)}var y=new n.bR,v=new Uint16Array([0,1,2,0,2,3]),m=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=u(this,e))._anchor=new n.oA(r._onAnchorUpdate,c(r),t?t.defaultAnchor.x:0,t?t.defaultAnchor.y:0),r._texture=null,r._width=0,r._height=0,r._tintColor=new n.Q1(16777215),r._tintRGB=null,r.tint=16777215,r.blendMode=n.B9.NORMAL,r._cachedTint=16777215,r.uvs=null,r.texture=t||n.gP.EMPTY,r.vertexData=new Float32Array(8),r.vertexTrimmedData=null,r._transformID=-1,r._textureID=-1,r._transformTrimmedID=-1,r._textureTrimmedID=-1,r.indices=v,r.pluginName="batch",r.isSprite=!0,r._roundPixels=n.W0.ROUND_PIXELS,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e)}(e,t),r=e,s=[{key:"from",value:function(t,r){return new e(t instanceof n.gP?t:n.gP.from(t,r))}}],(o=[{key:"_onTextureUpdate",value:function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=n.Wp.sign(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=n.Wp.sign(this.scale.y)*this._height/this._texture.orig.height)}},{key:"_onAnchorUpdate",value:function(){this._transformID=-1,this._transformTrimmedID=-1}},{key:"calculateVertices",value:function(){var t=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==t._updateID){this._textureID!==t._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=t._updateID;var e=this.transform.worldTransform,r=e.a,i=e.b,o=e.c,a=e.d,s=e.tx,u=e.ty,c=this.vertexData,l=t.trim,f=t.orig,h=this._anchor,p=0,d=0,y=0,v=0;if(l?(p=(d=l.x-h._x*f.width)+l.width,y=(v=l.y-h._y*f.height)+l.height):(p=(d=-h._x*f.width)+f.width,y=(v=-h._y*f.height)+f.height),c[0]=r*d+o*v+s,c[1]=a*v+i*d+u,c[2]=r*p+o*v+s,c[3]=a*v+i*p+u,c[4]=r*p+o*y+s,c[5]=a*y+i*p+u,c[6]=r*d+o*y+s,c[7]=a*y+i*d+u,this._roundPixels)for(var m=n.W0.RESOLUTION,b=0;b<c.length;++b)c[b]=Math.round(c[b]*m)/m}}},{key:"calculateTrimmedVertices",value:function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this._texture,e=this.vertexTrimmedData,r=t.orig,i=this._anchor,o=this.transform.worldTransform,a=o.a,s=o.b,u=o.c,c=o.d,l=o.tx,f=o.ty,h=-i._x*r.width,p=h+r.width,d=-i._y*r.height,y=d+r.height;if(e[0]=a*h+u*d+l,e[1]=c*d+s*h+f,e[2]=a*p+u*d+l,e[3]=c*d+s*p+f,e[4]=a*p+u*y+l,e[5]=c*y+s*p+f,e[6]=a*h+u*y+l,e[7]=c*y+s*h+f,this._roundPixels)for(var v=n.W0.RESOLUTION,m=0;m<e.length;++m)e[m]=Math.round(e[m]*v)/v}},{key:"_render",value:function(t){this.calculateVertices(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)}},{key:"_calculateBounds",value:function(){var t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}},{key:"getLocalBounds",value:function(t){return 0===this.children.length?(this._localBounds||(this._localBounds=new i.cz),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new n.M_),t=this._localBoundsRect),this._localBounds.getRectangle(t)):f(e,"getLocalBounds",this,1).call(this,t)}},{key:"containsPoint",value:function(t){this.worldTransform.applyInverse(t,y);var e=this._texture.orig.width,r=this._texture.orig.height,n=-e*this.anchor.x,i=0;return y.x>=n&&y.x<n+e&&(i=-r*this.anchor.y,y.y>=i&&y.y<i+r)}},{key:"destroy",value:function(t){if(f(e,"destroy",this,3)([t]),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,"boolean"==typeof t?t:null==t?void 0:t.texture){var r="boolean"==typeof t?t:null==t?void 0:t.baseTexture;this._texture.destroy(!!r)}this._texture=null}},{key:"roundPixels",get:function(){return this._roundPixels},set:function(t){this._roundPixels!==t&&(this._transformID=-1,this._transformTrimmedID=-1),this._roundPixels=t}},{key:"width",get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){var e=n.Wp.sign(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}},{key:"height",get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){var e=n.Wp.sign(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}},{key:"anchor",get:function(){return this._anchor},set:function(t){this._anchor.copyFrom(t)}},{key:"tint",get:function(){return this._tintColor.value},set:function(t){this._tintColor.setValue(t),this._tintRGB=this._tintColor.toLittleEndianNumber()}},{key:"tintValue",get:function(){return this._tintColor.toNumber()}},{key:"texture",get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=t||n.gP.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.valid?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}}])&&a(r.prototype,o),s&&a(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,s}(i.mc)},20027462:(t,e,r)=>{"use strict";r.d(e,{Rv:()=>d,dQ:()=>o});var n=r(22037416),i=r(44353758),o=(r(29204099),r(53375191),r(73503923),r(35669252),r(44381336),r(62951728),r(17522308),r(4421388),r(1906035),r(47138695),r(32570708),r(14112305),r(74018857),function(t){return t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t}(o||{}));function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,u(n.key),n)}}function u(t){var e=function(t,e){if("object"!=a(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==a(e)?e:e+""}var c=function(){return t=function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=r,this.priority=n,this.once=i},e=[{key:"match",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.fn===t&&this.context===e}},{key:"emit",value:function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e}},{key:"connect",value:function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this}},{key:"destroy",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=t?null:e,this.previous=null,e}}],e&&s(t.prototype,e),r&&s(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function f(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,h(n.key),n)}}function h(t){var e=function(t,e){if("object"!=l(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==l(e)?e:e+""}var p=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new c(null,null,1/0),this.deltaMS=1/t.targetFPMS,this.elapsedMS=1/t.targetFPMS,this._tick=function(t){e._requestId=null,e.started&&(e.update(t),e.started&&null===e._requestId&&e._head.next&&(e._requestId=requestAnimationFrame(e._tick)))}}return e=t,r=[{key:"_requestIfNeeded",value:function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}},{key:"_cancelIfNeeded",value:function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)}},{key:"_startIfPossible",value:function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}},{key:"add",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.NORMAL;return this._addListener(new c(t,e,r))}},{key:"addOnce",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.NORMAL;return this._addListener(new c(t,e,r,!0))}},{key:"_addListener",value:function(t){var e=this._head.next,r=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(r);break}r=e,e=e.next}t.previous||t.connect(r)}else t.connect(r);return this._startIfPossible(),this}},{key:"remove",value:function(t,e){for(var r=this._head.next;r;)r=r.match(t,e)?r.destroy():r.next;return this._head.next||this._cancelIfNeeded(),this}},{key:"count",get:function(){if(!this._head)return 0;for(var t=0,e=this._head;e=e.next;)t++;return t}},{key:"start",value:function(){this.started||(this.started=!0,this._requestIfNeeded())}},{key:"stop",value:function(){this.started&&(this.started=!1,this._cancelIfNeeded())}},{key:"destroy",value:function(){if(!this._protected){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}}},{key:"update",value:function(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:performance.now();if(r>this.lastTime){if((e=this.elapsedMS=r-this.lastTime)>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){var n=r-this._lastFrame|0;if(n<this._minElapsedMS)return;this._lastFrame=r-n%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*t.targetFPMS;for(var i=this._head,o=i.next;o;)o=o.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=r}},{key:"FPS",get:function(){return 1e3/this.elapsedMS}},{key:"minFPS",get:function(){return 1e3/this._maxElapsedMS},set:function(e){var r=Math.min(this.maxFPS,e),n=Math.min(Math.max(0,r)/1e3,t.targetFPMS);this._maxElapsedMS=1/n}},{key:"maxFPS",get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(t){if(0===t)this._minElapsedMS=0;else{var e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}}}],n=[{key:"shared",get:function(){if(!t._shared){var e=t._shared=new t;e.autoStart=!0,e._protected=!0}return t._shared}},{key:"system",get:function(){if(!t._system){var e=t._system=new t;e.autoStart=!0,e._protected=!0}return t._system}}],r&&f(e.prototype,r),n&&f(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,r,n}();p.targetFPMS=.06;var d=p;Object.defineProperties(n.W0,{TARGET_FPMS:{get:function(){return d.targetFPMS},set:function(t){(0,i.deprecation)("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),d.targetFPMS=t}}});r(32767805);var y=r(25052853);function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function m(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,b(n.key),n)}}function b(t){var e=function(t,e){if("object"!=v(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=v(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==v(e)?e:e+""}var g=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},r=[{key:"init",value:function(t){var e=this;t=Object.assign({autoStart:!0,sharedTicker:!1},t),Object.defineProperty(this,"ticker",{set:function(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this,o.LOW)},get:function(){return this._ticker}}),this.stop=function(){e._ticker.stop()},this.start=function(){e._ticker.start()},this._ticker=null,this.ticker=t.sharedTicker?d.shared:new d,t.autoStart&&this.start()}},{key:"destroy",value:function(){if(this._ticker){var t=this._ticker;this.ticker=null,t.destroy()}}}],(e=null)&&m(t.prototype,e),r&&m(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();g.extension=y.A.Application,y.X.add(g)},44353758:(t,e,r)=>{"use strict";r.r(e),r.d(e,{BaseTextureCache:()=>rt,BoundingBox:()=>J,CanvasRenderTarget:()=>ut,DATA_URI:()=>B,EventEmitter:()=>i,ProgramCache:()=>tt,TextureCache:()=>et,clearTextureCache:()=>it,correctBlendMode:()=>C,createIndicesForQuads:()=>F,decomposeDataUri:()=>pt,deprecation:()=>c,destroyTextureCache:()=>nt,detectVideoAlphaMode:()=>S,determineCrossOrigin:()=>dt,earcut:()=>o,getBufferType:()=>L,getCanvasBoundingBox:()=>ft,getResolutionOfUrl:()=>yt,hex2rgb:()=>O,hex2string:()=>A,interleaveTypedArrays:()=>V,isMobile:()=>n.Fr,isPow2:()=>G,isWebGLSupported:()=>k,log2:()=>Y,nextPow2:()=>X,path:()=>y,premultiplyBlendMode:()=>I,premultiplyRgba:()=>M,premultiplyTint:()=>D,premultiplyTintToRgba:()=>N,removeItems:()=>q,rgb2hex:()=>j,sayHello:()=>E,sign:()=>W,skipHello:()=>_,string2hex:()=>R,trimCanvas:()=>ht,uid:()=>z,url:()=>l});var n=r(22037416);n.W0.RETINA_PREFIX=/@([0-9\.]+)x/,n.W0.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var i=r(22073425),o=r(34496087),a=r(71181842);r(29204099),r(53375191),r(73503923),r(44381336),r(95723650),r(62951728),r(57180314),r(1906035),r(32570708),r(74018857);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}var u={};function c(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;if(!u[e]){var n=(new Error).stack;s(n)>"u"?console.warn("PixiJS Deprecation Warning: ","".concat(e,"\nDeprecated since v").concat(t)):(n=n.split("\n").splice(r).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6","".concat(e,"\nDeprecated since v").concat(t)),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ","".concat(e,"\nDeprecated since v").concat(t)),console.warn(n))),u[e]=!0}}var l={get parse(){return c("7.3.0","utils.url.parse is deprecated, use native URL API instead."),a.parse},get format(){return c("7.3.0","utils.url.format is deprecated, use native URL API instead."),a.format},get resolve(){return c("7.3.0","utils.url.resolve is deprecated, use native URL API instead."),a.resolve}};r(5320247),r(55705852),r(74534969),r(50473502),r(77276790),r(83099328),r(91868985),r(47138695),r(56125409),r(92631386),r(57886333),r(4145753),r(51524099),r(27015936),r(40921472);function f(t){if("string"!=typeof t)throw new TypeError("Path must be a string. Received ".concat(JSON.stringify(t)))}function h(t){return t.split("?")[0].split("#")[0]}var p,d,y={toPosix:function(t){return e="\\",r="/",t.replace(new RegExp(e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"),r);var e,r},isUrl:function(t){return/^https?:/.test(this.toPosix(t))},isDataUrl:function(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},isBlobUrl:function(t){return t.startsWith("blob:")},hasProtocol:function(t){return/^[^/:]+:/.test(this.toPosix(t))},getProtocol:function(t){f(t),t=this.toPosix(t);var e=/^file:\/\/\//.exec(t);if(e)return e[0];var r=/^[^/:]+:\/{0,2}/.exec(t);return r?r[0]:""},toAbsolute:function(t,e,r){if(f(t),this.isDataUrl(t)||this.isBlobUrl(t))return t;var i=h(this.toPosix(null!=e?e:n.W0.ADAPTER.getBaseUrl())),o=h(this.toPosix(null!=r?r:this.rootname(i)));return(t=this.toPosix(t)).startsWith("/")?y.join(o,t.slice(1)):this.isAbsolute(t)?t:this.join(i,t)},normalize:function(t){if(f(t),0===t.length)return".";if(this.isDataUrl(t)||this.isBlobUrl(t))return t;var e="",r=(t=this.toPosix(t)).startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));var n=t.endsWith("/");return(t=function(t,e){for(var r="",n=0,i=-1,o=0,a=-1,s=0;s<=t.length;++s){if(s<t.length)a=t.charCodeAt(s);else{if(47===a)break;a=47}if(47===a){if(i!==s-1&&1!==o)if(i!==s-1&&2===o){if(r.length<2||2!==n||46!==r.charCodeAt(r.length-1)||46!==r.charCodeAt(r.length-2))if(r.length>2){var u=r.lastIndexOf("/");if(u!==r.length-1){-1===u?(r="",n=0):n=(r=r.slice(0,u)).length-1-r.lastIndexOf("/"),i=s,o=0;continue}}else if(2===r.length||1===r.length){r="",n=0,i=s,o=0;continue}e&&(r.length>0?r+="/..":r="..",n=2)}else r.length>0?r+="/".concat(t.slice(i+1,s)):r=t.slice(i+1,s),n=s-i-1;i=s,o=0}else 46===a&&-1!==o?++o:o=-1}return r}(t,!1)).length>0&&n&&(t+="/"),r?"/".concat(t):e+t},isAbsolute:function(t){return f(t),t=this.toPosix(t),!!this.hasProtocol(t)||t.startsWith("/")},join:function(){if(0===arguments.length)return".";for(var t,e=0;e<arguments.length;++e){var r=e<0||arguments.length<=e?void 0:arguments[e];if(f(r),r.length>0)if(void 0===t)t=r;else{var n,i=null!==(n=e-1<0||arguments.length<=e-1?void 0:arguments[e-1])&&void 0!==n?n:"";this.joinExtensions.includes(this.extname(i).toLowerCase())?t+="/../".concat(r):t+="/".concat(r)}}return void 0===t?".":this.normalize(t)},dirname:function(t){if(f(t),0===t.length)return".";for(var e=(t=this.toPosix(t)).charCodeAt(0),r=47===e,n=-1,i=!0,o=this.getProtocol(t),a=t,s=(t=t.slice(o.length)).length-1;s>=1;--s)if(47===(e=t.charCodeAt(s))){if(!i){n=s;break}}else i=!1;return-1===n?r?"/":this.isUrl(a)?o+t:o:r&&1===n?"//":o+t.slice(0,n)},rootname:function(t){f(t);var e="";if(e=(t=this.toPosix(t)).startsWith("/")?"/":this.getProtocol(t),this.isUrl(t)){var r=t.indexOf("/",e.length);(e=-1!==r?t.slice(0,r):t).endsWith("/")||(e+="/")}return e},basename:function(t,e){f(t),e&&f(e),t=h(this.toPosix(t));var r,n=0,i=-1,o=!0;if(void 0!==e&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";var a=e.length-1,s=-1;for(r=t.length-1;r>=0;--r){var u=t.charCodeAt(r);if(47===u){if(!o){n=r+1;break}}else-1===s&&(o=!1,s=r+1),a>=0&&(u===e.charCodeAt(a)?-1===--a&&(i=r):(a=-1,i=s))}return n===i?i=s:-1===i&&(i=t.length),t.slice(n,i)}for(r=t.length-1;r>=0;--r)if(47===t.charCodeAt(r)){if(!o){n=r+1;break}}else-1===i&&(o=!1,i=r+1);return-1===i?"":t.slice(n,i)},extname:function(t){f(t);for(var e=-1,r=0,n=-1,i=!0,o=0,a=(t=h(this.toPosix(t))).length-1;a>=0;--a){var s=t.charCodeAt(a);if(47!==s)-1===n&&(i=!1,n=a+1),46===s?-1===e?e=a:1!==o&&(o=1):-1!==e&&(o=-1);else if(!i){r=a+1;break}}return-1===e||-1===n||0===o||1===o&&e===n-1&&e===r+1?"":t.slice(e,n)},parse:function(t){f(t);var e={root:"",dir:"",base:"",ext:"",name:""};if(0===t.length)return e;var r,n=(t=h(this.toPosix(t))).charCodeAt(0),i=this.isAbsolute(t);e.root=this.rootname(t),r=i||this.hasProtocol(t)?1:0;for(var o=-1,a=0,s=-1,u=!0,c=t.length-1,l=0;c>=r;--c)if(47!==(n=t.charCodeAt(c)))-1===s&&(u=!1,s=c+1),46===n?-1===o?o=c:1!==l&&(l=1):-1!==o&&(l=-1);else if(!u){a=c+1;break}return-1===o||-1===s||0===l||1===l&&o===s-1&&o===a+1?-1!==s&&(e.base=e.name=0===a&&i?t.slice(1,s):t.slice(a,s)):(0===a&&i?(e.name=t.slice(1,o),e.base=t.slice(1,s)):(e.name=t.slice(a,o),e.base=t.slice(a,s)),e.ext=t.slice(o,s)),e.dir=this.dirname(t),e},sep:"/",delimiter:":",joinExtensions:[".html"]},v=(r(41904727),r(33688577),r(69994507),r(18515682),r(68168753),r(20211116),r(6224830),r(18501354),r(49912228),r(29762787),r(87324110),r(31353187),r(49433423),r(7405150),r(76679030),r(19352784),r(283227),r(39512023),r(11753769),r(9404124),r(89875075),r(40993271),r(18381800),r(69967115),r(23549037),r(49032015),r(17179093),r(28253461),r(55692573),r(52899355),r(89433276),r(7478740),r(40707609),r(78027336),r(26098537),r(47326777),r(80021304));function m(){var t,e,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function o(r,n,i,o){var u=n&&n.prototype instanceof s?n:s,c=Object.create(u.prototype);return b(c,"_invoke",function(r,n,i){var o,s,u,c=0,l=i||[],f=!1,h={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,r){return o=e,s=0,u=t,h.n=r,a}};function p(r,n){for(s=r,u=n,e=0;!f&&c&&!i&&e<l.length;e++){var i,o=l[e],p=h.p,d=o[2];r>3?(i=d===n)&&(u=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=t):o[0]<=p&&((i=r<2&&p<o[1])?(s=0,h.v=n,h.n=o[1]):p<d&&(i=r<3||o[0]>n||n>d)&&(o[4]=r,o[5]=n,h.n=d,s=0))}if(i||r>1)return a;throw f=!0,n}return function(i,l,d){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,d),s=l,u=d;(e=s<2?t:u)||!f;){o||(s?s<3?(s>1&&(h.n=-1),p(s,u)):h.n=u:h.v=u);try{if(c=2,o){if(s||(i="next"),e=o[i]){if(!(e=e.call(o,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,s<2&&(s=0)}else 1===s&&(e=o.return)&&e.call(o),s<2&&(u=TypeError("The iterator does not provide a '"+i+"' method"),s=1);o=t}else if((e=(f=h.n<0)?u:r.call(n,h))!==a)break}catch(e){o=t,s=1,u=e}finally{c=1}}return{value:e,done:f}}}(r,i,o),!0),c}var a={};function s(){}function u(){}function c(){}e=Object.getPrototypeOf;var l=[][n]?e(e([][n]())):(b(e={},n,function(){return this}),e),f=c.prototype=s.prototype=Object.create(l);function h(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,b(t,i,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=c,b(f,"constructor",c),b(c,"constructor",u),u.displayName="GeneratorFunction",b(c,i,"GeneratorFunction"),b(f),b(f,i,"Generator"),b(f,n,function(){return this}),b(f,"toString",function(){return"[object Generator]"}),(m=function(){return{w:o,m:h}})()}function b(t,e,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}b=function(t,e,r,n){function o(e,r){b(t,e,function(t){return this._invoke(e,r,t)})}e?i?i(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n}):t[e]=r:(o("next",0),o("throw",1),o("return",2))},b(t,e,r,n)}function g(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function w(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function a(t){g(o,n,i,a,s,"next",t)}function s(t){g(o,n,i,a,s,"throw",t)}a(void 0)})}}function S(){return x.apply(this,arguments)}function x(){return(x=w(m().m(function t(){return m().w(function(t){for(;;)if(0===t.n)return t.a(2,(null!=p||(p=w(m().m(function t(){var e,r,n,i,o,a;return m().w(function(t){for(;;)switch(t.n){case 0:if(r=document.createElement("canvas").getContext("webgl")){t.n=1;break}return t.a(2,v.Gk.UNPACK);case 1:return t.n=2,new Promise(function(t){var e=document.createElement("video");e.onloadeddata=function(){return t(e)},e.onerror=function(){return t(null)},e.autoplay=!1,e.crossOrigin="anonymous",e.preload="auto",e.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",e.load()});case 2:if(n=t.v){t.n=3;break}return t.a(2,v.Gk.UNPACK);case 3:return i=r.createTexture(),r.bindTexture(r.TEXTURE_2D,i),o=r.createFramebuffer(),r.bindFramebuffer(r.FRAMEBUFFER,o),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,i,0),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),r.pixelStorei(r.UNPACK_COLORSPACE_CONVERSION_WEBGL,r.NONE),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,n),a=new Uint8Array(4),t.a(2,(r.readPixels(0,0,1,1,r.RGBA,r.UNSIGNED_BYTE,a),r.deleteFramebuffer(o),r.deleteTexture(i),null!==(e=r.getExtension("WEBGL_lose_context"))&&void 0!==e&&e.loseContext(),a[0]<=a[3]?v.Gk.PMA:v.Gk.UNPACK))}},t)}))()),p))},t)}))).apply(this,arguments)}function _(){c("7.0.0","skipHello is deprecated, please use settings.RENDER_OPTIONS.hello")}function E(){c("7.0.0",'sayHello is deprecated, please use Renderer\'s "hello" option')}function T(t){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T(t)}function k(){return T(d)>"u"&&(d=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:n.W0.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{var e;if(!n.W0.ADAPTER.getWebGLRenderingContext())return!1;var r=n.W0.ADAPTER.createCanvas(),i=r.getContext("webgl",t)||r.getContext("experimental-webgl",t),o=!(null===(e=i)||void 0===e||null===(e=e.getContextAttributes())||void 0===e||!e.stencil);if(i){var a=i.getExtension("WEBGL_lose_context");a&&a.loseContext()}return i=null,o}catch(s){return!1}}()),d}var P=r(93054823);function O(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return c("7.2.0","utils.hex2rgb is deprecated, use Color#toRgbArray instead"),P.Q.shared.setValue(t).toRgbArray(e)}function A(t){return c("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),P.Q.shared.setValue(t).toHex()}function R(t){return c("7.2.0","utils.string2hex is deprecated, use Color#toNumber instead"),P.Q.shared.setValue(t).toNumber()}function j(t){return c("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),P.Q.shared.setValue(t).toNumber()}r(97200626),r(89766562),r(10827376),r(1764963);var I=function(){for(var t=[],e=[],r=0;r<32;r++)t[r]=r,e[r]=r;t[v.B9.NORMAL_NPM]=v.B9.NORMAL,t[v.B9.ADD_NPM]=v.B9.ADD,t[v.B9.SCREEN_NPM]=v.B9.SCREEN,e[v.B9.NORMAL]=v.B9.NORMAL_NPM,e[v.B9.ADD]=v.B9.ADD_NPM,e[v.B9.SCREEN]=v.B9.SCREEN_NPM;var n=[];return n.push(e),n.push(t),n}();function C(t,e){return I[e?1:0][t]}function M(t,e,r){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return c("7.2.0","utils.premultiplyRgba has moved to Color.premultiply"),P.Q.shared.setValue(t).premultiply(e,n).toArray(null!=r?r:new Float32Array(4))}function D(t,e){return c("7.2.0","utils.premultiplyTint has moved to Color.toPremultiplied"),P.Q.shared.setValue(t).toPremultiplied(e)}function N(t,e,r){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return c("7.2.0","utils.premultiplyTintToRgba has moved to Color.premultiply"),P.Q.shared.setValue(t).premultiply(e,n).toArray(null!=r?r:new Float32Array(4))}var B=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;r(85890026);function F(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=6*t;if((e=e||new Uint16Array(r)).length!==r)throw new Error("Out buffer length is incorrect, got ".concat(e.length," and expected ").concat(r));for(var n=0,i=0;n<r;n+=6,i+=4)e[n+0]=i+0,e[n+1]=i+1,e[n+2]=i+2,e[n+3]=i+0,e[n+4]=i+2,e[n+5]=i+3;return e}r(39780940);function L(t){if(4===t.BYTES_PER_ELEMENT)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===t.BYTES_PER_ELEMENT){if(t instanceof Uint16Array)return"Uint16Array"}else if(1===t.BYTES_PER_ELEMENT&&t instanceof Uint8Array)return"Uint8Array";return null}r(29071061);var U={Float32Array,Uint32Array,Int32Array,Uint8Array};function V(t,e){for(var r=0,n=0,i={},o=0;o<t.length;o++)n+=e[o],r+=t[o].length;for(var a=new ArrayBuffer(4*r),s=null,u=0,c=0;c<t.length;c++){var l=e[c],f=t[c],h=L(f);i[h]||(i[h]=new U[h](a)),s=i[h];for(var p=0;p<f.length;p++){s[(p/l|0)*n+u+p%l]=f[p]}u+=l}return new Float32Array(a)}function X(t){return t+=0===t?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)+1}function G(t){return!(t&t-1||!t)}function Y(t){var e=(t>65535?1:0)<<4,r=((t>>>=e)>255?1:0)<<3;return e|=r,e|=r=((t>>>=r)>15?1:0)<<2,(e|=r=((t>>>=r)>3?1:0)<<1)|(t>>>=r)>>1}function q(t,e,r){var n,i=t.length;if(!(e>=i||0===r)){var o=i-(r=e+r>i?i-e:r);for(n=e;n<o;++n)t[n]=t[n+r];t.length=o}}function W(t){return 0===t?0:t<0?-1:1}var H=0;function z(){return++H}r(35669252),r(17522308),r(4421388);function Q(t){return Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Q(t)}function Z(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,K(n.key),n)}}function K(t){var e=function(t,e){if("object"!=Q(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Q(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Q(e)?e:e+""}var $=function(){return t=function t(e,r,n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.left=e,this.top=r,this.right=n,this.bottom=i},(e=[{key:"width",get:function(){return this.right-this.left}},{key:"height",get:function(){return this.bottom-this.top}},{key:"isEmpty",value:function(){return this.left===this.right||this.top===this.bottom}}])&&Z(t.prototype,e),r&&Z(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();$.EMPTY=new $(0,0,0,0);var J=$,tt={},et=Object.create(null),rt=Object.create(null);function nt(){var t;for(t in et)et[t].destroy();for(t in rt)rt[t].destroy()}function it(){var t;for(t in et)delete et[t];for(t in rt)delete rt[t]}function ot(t){return ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ot(t)}function at(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,st(n.key),n)}}function st(t){var e=function(t,e){if("object"!=ot(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=ot(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ot(e)?e:e+""}var ut=function(){return t=function t(e,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._canvas=n.W0.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=i||n.W0.RESOLUTION,this.resize(e,r)},(e=[{key:"clear",value:function(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}},{key:"resize",value:function(t,e){this._checkDestroyed(),this._canvas.width=Math.round(t*this.resolution),this._canvas.height=Math.round(e*this.resolution)}},{key:"destroy",value:function(){this._context=null,this._canvas=null}},{key:"width",get:function(){return this._checkDestroyed(),this._canvas.width},set:function(t){this._checkDestroyed(),this._canvas.width=Math.round(t)}},{key:"height",get:function(){return this._checkDestroyed(),this._canvas.height},set:function(t){this._checkDestroyed(),this._canvas.height=Math.round(t)}},{key:"canvas",get:function(){return this._checkDestroyed(),this._canvas}},{key:"context",get:function(){return this._checkDestroyed(),this._context}},{key:"_checkDestroyed",value:function(){if(null===this._canvas)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}])&&at(t.prototype,e),r&&at(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();function ct(t,e,r){for(var n=0,i=4*r*e;n<e;++n,i+=4)if(0!==t[i+3])return!1;return!0}function lt(t,e,r,n,i){for(var o=4*e,a=n,s=n*o+4*r;a<=i;++a,s+=o)if(0!==t[s+3])return!1;return!0}function ft(t){var e=t.width,r=t.height,n=t.getContext("2d",{willReadFrequently:!0});if(null===n)throw new TypeError("Failed to get canvas 2D context");for(var i=n.getImageData(0,0,e,r).data,o=0,a=0,s=e-1,u=r-1;a<r&&ct(i,e,a);)++a;if(a===r)return J.EMPTY;for(;ct(i,e,u);)--u;for(;lt(i,e,o,a,u);)++o;for(;lt(i,e,s,a,u);)--s;return++s,++u,new J(o,a,s,u)}function ht(t){var e=ft(t),r=e.width,n=e.height,i=null;if(!e.isEmpty()){var o=t.getContext("2d");if(null===o)throw new TypeError("Failed to get canvas 2D context");i=o.getImageData(e.left,e.top,r,n)}return{width:r,height:n,data:i}}function pt(t){var e=B.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,charset:e[3]?e[3].toLowerCase():void 0,encoding:e[4]?e[4].toLowerCase():void 0,data:e[5]}}r(76824265),r(26246976),r(87910984),r(27045624),r(76138123),r(41181582),r(60645153);function dt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:globalThis.location;if(t.startsWith("data:"))return"";e=e||globalThis.location;var r=new URL(t,document.baseURI);return r.hostname!==e.hostname||r.port!==e.port||r.protocol!==e.protocol?"anonymous":""}function yt(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=null===(e=n.W0.RETINA_PREFIX)||void 0===e?void 0:e.exec(t);return i?parseFloat(i[1]):r}},12131448:(t,e,r)=>{"use strict";r.d(e,{Dl5:()=>dn,lgM:()=>ke,sP:()=>je.sP,B9A:()=>n.B9,T7$:()=>zi,l2R:()=>je.l2,mcf:()=>i.mc,AgS:()=>n.Ag,A1g:()=>Xe.A1,bRX:()=>n.bR,kxk:()=>o.k,EYj:()=>jr,xJt:()=>mr,gPd:()=>n.gP,t9Q:()=>Tn,WOU:()=>je.WO,XOh:()=>n.XO,Ppp:()=>je.Pp,W0u:()=>n.W0,WpD:()=>n.Wp});r(29204099),r(53375191),r(73503923),r(35669252),r(44381336),r(62951728),r(17522308),r(4421388),r(1906035),r(32570708),r(74018857);var n=r(55039106),i=r(97972777),o=r(85133661);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,c(n.key),n)}}function u(t,e,r){return e&&s(t.prototype,e),r&&s(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function c(t){var e=function(t,e){if("object"!=a(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==a(e)?e:e+""}var l=new n.uq;i.q9.prototype._cacheAsBitmap=!1,i.q9.prototype._cacheData=null,i.q9.prototype._cacheAsBitmapResolution=null,i.q9.prototype._cacheAsBitmapMultisample=null;var f=u(function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null});Object.defineProperties(i.q9.prototype,{cacheAsBitmapResolution:{get:function(){return this._cacheAsBitmapResolution},set:function(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get:function(){return this._cacheAsBitmapMultisample},set:function(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){var e;this._cacheAsBitmap!==t&&(this._cacheAsBitmap=t,t?(this._cacheData||(this._cacheData=new f),(e=this._cacheData).originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((e=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea))}}}),i.q9.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))},i.q9.prototype._initCachedDisplayObject=function(t){var e,r,i;if(null===(e=this._cacheData)||void 0===e||!e.sprite){var a=this.alpha;this.alpha=1,t.batch.flush();var s=this.getLocalBounds(new n.M_,!0);if(null!==(r=this.filters)&&void 0!==r&&r.length){var u=this.filters[0].padding;s.pad(u)}var c=this.cacheAsBitmapResolution||t.resolution;s.ceil(c),s.width=Math.max(s.width,1/c),s.height=Math.max(s.height,1/c);var f=t.renderTexture.current,h=t.renderTexture.sourceFrame.clone(),p=t.renderTexture.destinationFrame.clone(),d=t.projection.transform,y=n.Y7.create({width:s.width,height:s.height,resolution:c,multisample:null!==(i=this.cacheAsBitmapMultisample)&&void 0!==i?i:t.multisample}),v="cacheAsBitmap_".concat(n.Wp.uid());this._cacheData.textureCacheId=v,n.t5.addToCache(y.baseTexture,v),n.gP.addToCache(y,v);var m=this.transform.localTransform.copyTo(l).invert().translate(-s.x,-s.y);this.render=this._cacheData.originalRender,t.render(this,{renderTexture:y,clear:!0,transform:m,skipUpdateTransform:!1}),t.framebuffer.blit(),t.projection.transform=d,t.renderTexture.bind(f,h,p),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=a;var b=new o.k(y);b.transform.worldTransform=this.transform.worldTransform,b.anchor.x=-s.x/s.width,b.anchor.y=-s.y/s.height,b.alpha=a,b._bounds=this._bounds,this._cacheData.sprite=b,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=b.containsPoint.bind(b)}},i.q9.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))},i.q9.prototype._initCachedDisplayObjectCanvas=function(t){var e;if(null===(e=this._cacheData)||void 0===e||!e.sprite){var r=this.getLocalBounds(new n.M_,!0),i=this.alpha;this.alpha=1;var a=t.canvasContext.activeContext,s=t._projTransform,u=this.cacheAsBitmapResolution||t.resolution;r.ceil(u),r.width=Math.max(r.width,1/u),r.height=Math.max(r.height,1/u);var c=n.Y7.create({width:r.width,height:r.height,resolution:u}),f="cacheAsBitmap_".concat(n.Wp.uid());this._cacheData.textureCacheId=f,n.t5.addToCache(c.baseTexture,f),n.gP.addToCache(c,f);var h=l;this.transform.localTransform.copyTo(h),h.invert(),h.tx-=r.x,h.ty-=r.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,{renderTexture:c,clear:!0,transform:h,skipUpdateTransform:!1}),t.canvasContext.activeContext=a,t._projTransform=s,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=i;var p=new o.k(c);p.transform.worldTransform=this.transform.worldTransform,p.anchor.x=-r.x/r.width,p.anchor.y=-r.y/r.height,p.alpha=i,p._bounds=this._bounds,this._cacheData.sprite=p,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=p.containsPoint.bind(p)}},i.q9.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},i.q9.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},i.q9.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,n.t5.removeFromCache(this._cacheData.textureCacheId),n.gP.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},i.q9.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)},i.q9.prototype.name=null,i.mc.prototype.getChildByName=function(t,e){for(var r=0,n=this.children.length;r<n;r++)if(this.children[r].name===t)return this.children[r];if(e)for(var i=0,o=this.children.length;i<o;i++){var a=this.children[i];if(a.getChildByName){var s=a.getChildByName(t,!0);if(s)return s}}return null},i.q9.prototype.getGlobalPosition=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new n.bR,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t};r(95723650),r(68090010),r(97200626),r(50473502),r(29896034),r(47138695),r(92631386),r(57886333),r(10827376),r(21313645),r(49684748),r(69994507),r(41624185);function h(t){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}function p(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,d(n.key),n)}}function d(t){var e=function(t,e){if("object"!=h(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=h(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==h(e)?e:e+""}function y(t,e,r){return e=m(e),function(t,e){if(e&&("object"==h(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,v()?Reflect.construct(e,r||[],m(t).constructor):e.apply(t,r))}function v(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(v=function(){return!!t})()}function m(t){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},m(t)}function b(t,e){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},b(t,e)}var g=function(t){function e(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=y(this,e,[n.MT,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n",{uAlpha:1}])).alpha=r,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b(t,e)}(e,t),r=e,(i=[{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t}}])&&p(r.prototype,i),o&&p(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(n.dJ),w=(r(27015936),{5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]}),S=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");function x(t){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},x(t)}function _(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,E(n.key),n)}}function E(t){var e=function(t,e){if("object"!=x(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=x(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==x(e)?e:e+""}function T(t,e,r){return e=P(e),function(t,e){if(e&&("object"==x(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,k()?Reflect.construct(e,r||[],P(t).constructor):e.apply(t,r))}function k(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(k=function(){return!!t})()}function P(t){return P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},P(t)}function O(t,e){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},O(t,e)}var A=function(t){function e(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n.dJ.defaultResolution,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:5;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var u=function(t,e){var r,n=Math.ceil(t/2),i="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }",o="";r=e?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var a=0;a<t;a++){var s=r.replace("%index%",a.toString());o+=s=s.replace("%sampleIndex%","".concat(a-(n-1),".0")),o+="\n"}return(i=i.replace("%blur%",o)).replace("%size%",t.toString())}(s,t),c=function(t){for(var e,r=w[t],n=r.length,i=S,o="",a=0;a<t;a++){var s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",a.toString());e=a,a>=n&&(e=t-a-1),o+=s=s.replace("%value%",r[e].toString()),o+="\n"}return(i=i.replace("%blur%",o)).replace("%size%",t.toString())}(s);return(r=T(this,e,[u,c])).horizontal=t,r.resolution=a,r._quality=0,r.quality=o,r.blur=i,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O(t,e)}(e,t),r=e,(i=[{key:"apply",value:function(t,e,r,i){if(r?this.horizontal?this.uniforms.strength=1/r.width*(r.width/e.width):this.uniforms.strength=1/r.height*(r.height/e.height):this.horizontal?this.uniforms.strength=1/t.renderer.width*(t.renderer.width/e.width):this.uniforms.strength=1/t.renderer.height*(t.renderer.height/e.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,r,i);else{var o=t.getFilterTexture(),a=t.renderer,s=e,u=o;this.state.blend=!1,t.applyFilter(this,s,u,n.fr.CLEAR);for(var c=1;c<this.passes-1;c++){t.bindAndClear(s,n.fr.BLIT),this.uniforms.uSampler=u;var l=u;u=s,s=l,a.shader.bind(this),a.geometry.draw(5)}this.state.blend=!0,t.applyFilter(this,u,r,i),t.returnFilterTexture(o)}}},{key:"blur",get:function(){return this.strength},set:function(t){this.padding=1+2*Math.abs(t),this.strength=t}},{key:"quality",get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t}}])&&_(r.prototype,i),o&&_(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(n.dJ);function R(t){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R(t)}function j(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,I(n.key),n)}}function I(t){var e=function(t,e){if("object"!=R(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=R(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==R(e)?e:e+""}function C(t,e,r){return e=D(e),function(t,e){if(e&&("object"==R(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,M()?Reflect.construct(e,r||[],D(t).constructor):e.apply(t,r))}function M(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(M=function(){return!!t})()}function D(t){return D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},D(t)}function N(t,e){return N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},N(t,e)}var B=function(t){function e(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n.dJ.defaultResolution,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=C(this,e))._repeatEdgePixels=!1,t.blurXFilter=new A(!0,r,i,o,a),t.blurYFilter=new A(!1,r,i,o,a),t.resolution=o,t.quality=i,t.blur=r,t.repeatEdgePixels=!1,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&N(t,e)}(e,t),r=e,(i=[{key:"apply",value:function(t,e,r,i){var o=Math.abs(this.blurXFilter.strength),a=Math.abs(this.blurYFilter.strength);if(o&&a){var s=t.getFilterTexture();this.blurXFilter.apply(t,e,s,n.fr.CLEAR),this.blurYFilter.apply(t,s,r,i),t.returnFilterTexture(s)}else a?this.blurYFilter.apply(t,e,r,i):this.blurXFilter.apply(t,e,r,i)}},{key:"updatePadding",value:function(){this._repeatEdgePixels?this.padding=0:this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"blur",get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.updatePadding()}},{key:"quality",get:function(){return this.blurXFilter.quality},set:function(t){this.blurXFilter.quality=this.blurYFilter.quality=t}},{key:"blurX",get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t,this.updatePadding()}},{key:"blurY",get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t,this.updatePadding()}},{key:"blendMode",get:function(){return this.blurYFilter.blendMode},set:function(t){this.blurYFilter.blendMode=t}},{key:"repeatEdgePixels",get:function(){return this._repeatEdgePixels},set:function(t){this._repeatEdgePixels=t,this.updatePadding()}}])&&j(r.prototype,i),o&&j(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(n.dJ);r(41904727),r(33688577),r(18515682),r(89766562),r(20211116),r(6224830),r(18501354),r(49912228),r(29762787),r(87324110),r(31353187),r(49433423),r(7405150),r(76679030),r(19352784),r(283227),r(39512023),r(11753769),r(9404124),r(89875075),r(40993271),r(18381800),r(69967115),r(23549037),r(49032015),r(17179093),r(28253461),r(55692573),r(52899355),r(89433276),r(7478740),r(40707609),r(78027336),r(26098537),r(47326777),r(1764963);function F(t){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F(t)}function L(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,c=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return U(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?U(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function V(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,X(n.key),n)}}function X(t){var e=function(t,e){if("object"!=F(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=F(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==F(e)?e:e+""}function G(t,e,r){return e=q(e),function(t,e){if(e&&("object"==F(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Y()?Reflect.construct(e,r||[],q(t).constructor):e.apply(t,r))}function Y(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Y=function(){return!!t})()}function q(t){return q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},q(t)}function W(t,e){return W=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},W(t,e)}var H=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return(t=G(this,e,[n.Eo,"varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",r])).alpha=1,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&W(t,e)}(e,t),r=e,i=[{key:"_loadMatrix",value:function(t){var e=t;arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&(this._multiply(e,this.uniforms.m,t),e=this._colorMatrix(e)),this.uniforms.m=e}},{key:"_multiply",value:function(t,e,r){return t[0]=e[0]*r[0]+e[1]*r[5]+e[2]*r[10]+e[3]*r[15],t[1]=e[0]*r[1]+e[1]*r[6]+e[2]*r[11]+e[3]*r[16],t[2]=e[0]*r[2]+e[1]*r[7]+e[2]*r[12]+e[3]*r[17],t[3]=e[0]*r[3]+e[1]*r[8]+e[2]*r[13]+e[3]*r[18],t[4]=e[0]*r[4]+e[1]*r[9]+e[2]*r[14]+e[3]*r[19]+e[4],t[5]=e[5]*r[0]+e[6]*r[5]+e[7]*r[10]+e[8]*r[15],t[6]=e[5]*r[1]+e[6]*r[6]+e[7]*r[11]+e[8]*r[16],t[7]=e[5]*r[2]+e[6]*r[7]+e[7]*r[12]+e[8]*r[17],t[8]=e[5]*r[3]+e[6]*r[8]+e[7]*r[13]+e[8]*r[18],t[9]=e[5]*r[4]+e[6]*r[9]+e[7]*r[14]+e[8]*r[19]+e[9],t[10]=e[10]*r[0]+e[11]*r[5]+e[12]*r[10]+e[13]*r[15],t[11]=e[10]*r[1]+e[11]*r[6]+e[12]*r[11]+e[13]*r[16],t[12]=e[10]*r[2]+e[11]*r[7]+e[12]*r[12]+e[13]*r[17],t[13]=e[10]*r[3]+e[11]*r[8]+e[12]*r[13]+e[13]*r[18],t[14]=e[10]*r[4]+e[11]*r[9]+e[12]*r[14]+e[13]*r[19]+e[14],t[15]=e[15]*r[0]+e[16]*r[5]+e[17]*r[10]+e[18]*r[15],t[16]=e[15]*r[1]+e[16]*r[6]+e[17]*r[11]+e[18]*r[16],t[17]=e[15]*r[2]+e[16]*r[7]+e[17]*r[12]+e[18]*r[17],t[18]=e[15]*r[3]+e[16]*r[8]+e[17]*r[13]+e[18]*r[18],t[19]=e[15]*r[4]+e[16]*r[9]+e[17]*r[14]+e[18]*r[19]+e[19],t}},{key:"_colorMatrix",value:function(t){var e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e}},{key:"brightness",value:function(t,e){var r=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)}},{key:"tint",value:function(t,e){var r=L(n.Q1.shared.setValue(t).toArray(),3),i=[r[0],0,0,0,0,0,r[1],0,0,0,0,0,r[2],0,0,0,0,0,1,0];this._loadMatrix(i,e)}},{key:"greyscale",value:function(t,e){var r=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)}},{key:"blackAndWhite",value:function(t){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],t)}},{key:"hue",value:function(t,e){t=(t||0)/180*Math.PI;var r=Math.cos(t),n=Math.sin(t),i=1/3,o=(0,Math.sqrt)(i),a=[r+(1-r)*i,i*(1-r)-o*n,i*(1-r)+o*n,0,0,i*(1-r)+o*n,r+i*(1-r),i*(1-r)-o*n,0,0,i*(1-r)-o*n,i*(1-r)+o*n,r+i*(1-r),0,0,0,0,0,1,0];this._loadMatrix(a,e)}},{key:"contrast",value:function(t,e){var r=(t||0)+1,n=-.5*(r-1),i=[r,0,0,0,n,0,r,0,0,n,0,0,r,0,n,0,0,0,1,0];this._loadMatrix(i,e)}},{key:"saturate",value:function(){var t=arguments.length>1?arguments[1]:void 0,e=2*(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)/3+1,r=-.5*(e-1),n=[e,r,r,0,0,r,e,r,0,0,r,r,e,0,0,0,0,0,1,0];this._loadMatrix(n,t)}},{key:"desaturate",value:function(){this.saturate(-1)}},{key:"negative",value:function(t){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],t)}},{key:"sepia",value:function(t){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],t)}},{key:"technicolor",value:function(t){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],t)}},{key:"polaroid",value:function(t){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],t)}},{key:"toBGR",value:function(t){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],t)}},{key:"kodachrome",value:function(t){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],t)}},{key:"browni",value:function(t){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],t)}},{key:"vintage",value:function(t){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],t)}},{key:"colorTone",value:function(t,e,r,i,o){t=t||.2,e=e||.15,r=r||16770432,i=i||3375104;var a=n.Q1.shared,s=L(a.setValue(r).toArray(),3),u=s[0],c=s[1],l=s[2],f=L(a.setValue(i).toArray(),3),h=f[0],p=f[1],d=f[2],y=[.3,.59,.11,0,0,u,c,l,t,0,h,p,d,e,0,u-h,c-p,l-d,0,0];this._loadMatrix(y,o)}},{key:"night",value:function(t,e){var r=[-2*(t=t||.1),-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(r,e)}},{key:"predator",value:function(t,e){var r=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(r,e)}},{key:"lsd",value:function(t){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],t)}},{key:"reset",value:function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)}},{key:"matrix",get:function(){return this.uniforms.m},set:function(t){this.uniforms.m=t}},{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t}}],i&&V(r.prototype,i),o&&V(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(n.dJ);H.prototype.grayscale=H.prototype.greyscale;function z(t){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},z(t)}function Q(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Z(n.key),n)}}function Z(t){var e=function(t,e){if("object"!=z(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=z(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==z(e)?e:e+""}function K(t,e,r){return e=J(e),function(t,e){if(e&&("object"==z(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,$()?Reflect.construct(e,r||[],J(t).constructor):e.apply(t,r))}function $(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return($=function(){return!!t})()}function J(t){return J=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},J(t)}function tt(t,e){return tt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},tt(t,e)}var et=function(t){function e(t,r){var i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=new n.uq;return t.renderable=!1,(i=K(this,e,["attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",{mapSampler:t._texture,filterMatrix:o,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}])).maskSprite=t,i.maskMatrix=o,null==r&&(r=20),i.scale=new n.bR(r,r),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tt(t,e)}(e,t),r=e,(i=[{key:"apply",value:function(t,e,r,n){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var i=this.maskSprite.worldTransform,o=Math.sqrt(i.a*i.a+i.b*i.b),a=Math.sqrt(i.c*i.c+i.d*i.d);0!==o&&0!==a&&(this.uniforms.rotation[0]=i.a/o,this.uniforms.rotation[1]=i.b/o,this.uniforms.rotation[2]=i.c/a,this.uniforms.rotation[3]=i.d/a),t.applyFilter(this,e,r,n)}},{key:"map",get:function(){return this.uniforms.mapSampler},set:function(t){this.uniforms.mapSampler=t}}])&&Q(r.prototype,i),o&&Q(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(n.dJ);function rt(t){return rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rt(t)}function nt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,it(n.key),n)}}function it(t){var e=function(t,e){if("object"!=rt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=rt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==rt(e)?e:e+""}function ot(t,e,r){return e=st(e),function(t,e){if(e&&("object"==rt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,at()?Reflect.construct(e,r||[],st(t).constructor):e.apply(t,r))}function at(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(at=function(){return!!t})()}function st(t){return st=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},st(t)}function ut(t,e){return ut=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ut(t,e)}var ct=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),ot(this,e,["\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputSize;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n'])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ut(t,e)}(e,t),r=e,n&&nt(r.prototype,n),i&&nt(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i}(n.dJ);function lt(t){return lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lt(t)}function ft(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ht(n.key),n)}}function ht(t){var e=function(t,e){if("object"!=lt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=lt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==lt(e)?e:e+""}function pt(t,e,r){return e=yt(e),function(t,e){if(e&&("object"==lt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,dt()?Reflect.construct(e,r||[],yt(t).constructor):e.apply(t,r))}function dt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(dt=function(){return!!t})()}function yt(t){return yt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},yt(t)}function vt(t,e){return vt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},vt(t,e)}var mt=function(t){function e(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Math.random();return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=pt(this,e,[n.Eo,"precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n",{uNoise:0,uSeed:0}])).noise=r,t.seed=i,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vt(t,e)}(e,t),r=e,(i=[{key:"noise",get:function(){return this.uniforms.uNoise},set:function(t){this.uniforms.uNoise=t}},{key:"seed",get:function(){return this.uniforms.uSeed},set:function(t){this.uniforms.uSeed=t}}])&&ft(r.prototype,i),o&&ft(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(n.dJ);function bt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,c=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return gt(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?gt(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var wt={AlphaFilter:g,BlurFilter:B,BlurFilterPass:A,ColorMatrixFilter:H,DisplacementFilter:et,FXAAFilter:ct,NoiseFilter:mt};Object.entries(wt).forEach(function(t){var e=bt(t,2),r=e[0],i=e[1];Object.defineProperty(wt,r,{get:function(){return n.Wp.deprecation("7.1.0","filters.".concat(r," has moved to ").concat(r)),i}})});r(5320247),r(76824265),r(32767805),r(51524099),r(14112305),r(91931354),r(97163518),r(57180314),r(71459841);function St(t){return St="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},St(t)}function xt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_t(n.key),n)}}function _t(t){var e=function(t,e){if("object"!=St(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=St(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==St(e)?e:e+""}var Et=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0},(e=[{key:"init",value:function(t){this.removeTickerListener(),this.events=t,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}},{key:"pauseUpdate",get:function(){return this._pauseUpdate},set:function(t){this._pauseUpdate=t}},{key:"addTickerListener",value:function(){this.tickerAdded||!this.domElement||(n.Rv.system.add(this.tickerUpdate,this,n.dQ.INTERACTION),this.tickerAdded=!0)}},{key:"removeTickerListener",value:function(){this.tickerAdded&&(n.Rv.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}},{key:"pointerMoved",value:function(){this._didMove=!0}},{key:"update",value:function(){if(this.domElement&&!this._pauseUpdate)if(this._didMove)this._didMove=!1;else{var t=this.events.rootPointerEvent;this.events.supportsTouchEvents&&"touch"===t.pointerType||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:t.clientX,clientY:t.clientY}))}}},{key:"tickerUpdate",value:function(t){this._deltaTime+=t,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())}}])&&xt(t.prototype,e),r&&xt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}(),Tt=new Et;function kt(t){return kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kt(t)}function Pt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ot(n.key),n)}}function Ot(t){var e=function(t,e){if("object"!=kt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=kt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==kt(e)?e:e+""}var At=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=t.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new n.bR,this.page=new n.bR,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e},(e=[{key:"layerX",get:function(){return this.layer.x}},{key:"layerY",get:function(){return this.layer.y}},{key:"pageX",get:function(){return this.page.x}},{key:"pageY",get:function(){return this.page.y}},{key:"data",get:function(){return this}},{key:"composedPath",value:function(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}},{key:"initEvent",value:function(t,e,r){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}},{key:"initUIEvent",value:function(t,e,r,n,i){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}},{key:"preventDefault",value:function(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}},{key:"stopImmediatePropagation",value:function(){this.propagationImmediatelyStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}])&&Pt(t.prototype,e),r&&Pt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();function Rt(t){return Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rt(t)}function jt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,It(n.key),n)}}function It(t){var e=function(t,e){if("object"!=Rt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Rt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Rt(e)?e:e+""}function Ct(t,e,r){return e=Dt(e),function(t,e){if(e&&("object"==Rt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Mt()?Reflect.construct(e,r||[],Dt(t).constructor):e.apply(t,r))}function Mt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Mt=function(){return!!t})()}function Dt(t){return Dt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Dt(t)}function Nt(t,e){return Nt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Nt(t,e)}var Bt=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=Ct(this,e,arguments)).client=new n.bR,t.movement=new n.bR,t.offset=new n.bR,t.global=new n.bR,t.screen=new n.bR,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Nt(t,e)}(e,t),r=e,(i=[{key:"clientX",get:function(){return this.client.x}},{key:"clientY",get:function(){return this.client.y}},{key:"x",get:function(){return this.clientX}},{key:"y",get:function(){return this.clientY}},{key:"movementX",get:function(){return this.movement.x}},{key:"movementY",get:function(){return this.movement.y}},{key:"offsetX",get:function(){return this.offset.x}},{key:"offsetY",get:function(){return this.offset.y}},{key:"globalX",get:function(){return this.global.x}},{key:"globalY",get:function(){return this.global.y}},{key:"screenX",get:function(){return this.screen.x}},{key:"screenY",get:function(){return this.screen.y}},{key:"getLocalPosition",value:function(t,e,r){return t.worldTransform.applyInverse(r||this.global,e)}},{key:"getModifierState",value:function(t){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(t)}},{key:"initMouseEvent",value:function(t,e,r,n,i,o,a,s,u,c,l,f,h,p,d){throw new Error("Method not implemented.")}}])&&jt(r.prototype,i),o&&jt(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(At);function Ft(t){return Ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ft(t)}function Lt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ut(n.key),n)}}function Ut(t){var e=function(t,e){if("object"!=Ft(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Ft(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ft(e)?e:e+""}function Vt(t,e,r){return e=Gt(e),function(t,e){if(e&&("object"==Ft(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Xt()?Reflect.construct(e,r||[],Gt(t).constructor):e.apply(t,r))}function Xt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Xt=function(){return!!t})()}function Gt(t){return Gt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Gt(t)}function Yt(t,e){return Yt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Yt(t,e)}var qt=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=Vt(this,e,arguments)).width=0,t.height=0,t.isPrimary=!1,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yt(t,e)}(e,t),r=e,(n=[{key:"getCoalescedEvents",value:function(){return"pointermove"===this.type||"mousemove"===this.type||"touchmove"===this.type?[this]:[]}},{key:"getPredictedEvents",value:function(){throw new Error("getPredictedEvents is not supported!")}}])&&Lt(r.prototype,n),i&&Lt(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i}(Bt);function Wt(t){return Wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wt(t)}function Ht(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zt(n.key),n)}}function zt(t){var e=function(t,e){if("object"!=Wt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Wt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Wt(e)?e:e+""}function Qt(t,e,r){return e=Kt(e),function(t,e){if(e&&("object"==Wt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Zt()?Reflect.construct(e,r||[],Kt(t).constructor):e.apply(t,r))}function Zt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Zt=function(){return!!t})()}function Kt(t){return Kt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Kt(t)}function $t(t,e){return $t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},$t(t,e)}var Jt=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=Qt(this,e,arguments)).DOM_DELTA_PIXEL=0,t.DOM_DELTA_LINE=1,t.DOM_DELTA_PAGE=2,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$t(t,e)}(e,t),r=e,n&&Ht(r.prototype,n),i&&Ht(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i}(Bt);function te(t){return te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},te(t)}function ee(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,re(n.key),n)}}function re(t){var e=function(t,e){if("object"!=te(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=te(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==te(e)?e:e+""}Jt.DOM_DELTA_PIXEL=0,Jt.DOM_DELTA_LINE=1,Jt.DOM_DELTA_PAGE=2;var ne=new n.bR,ie=new n.bR,oe=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.dispatch=new n.Wp.EventEmitter,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)},e=[{key:"addEventMapping",value:function(t,e){this.mappingTable[t]||(this.mappingTable[t]=[]),this.mappingTable[t].push({fn:e,priority:0}),this.mappingTable[t].sort(function(t,e){return t.priority-e.priority})}},{key:"dispatchEvent",value:function(t,e){t.propagationStopped=!1,t.propagationImmediatelyStopped=!1,this.propagate(t,e),this.dispatch.emit(e||t.type,t)}},{key:"mapEvent",value:function(t){if(this.rootTarget){var e=this.mappingTable[t.type];if(e)for(var r=0,n=e.length;r<n;r++)e[r].fn(t);else console.warn("[EventBoundary]: Event mapping not defined for ".concat(t.type))}}},{key:"hitTest",value:function(t,e){Tt.pauseUpdate=!0;var r=this[this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive"](this.rootTarget,this.rootTarget.eventMode,ne.set(t,e),this.hitTestFn,this.hitPruneFn);return r&&r[0]}},{key:"propagate",value:function(t,e){if(t.target){var r=t.composedPath();t.eventPhase=t.CAPTURING_PHASE;for(var n=0,i=r.length-1;n<i;n++)if(t.currentTarget=r[n],this.notifyTarget(t,e),t.propagationStopped||t.propagationImmediatelyStopped)return;if(t.eventPhase=t.AT_TARGET,t.currentTarget=t.target,this.notifyTarget(t,e),!t.propagationStopped&&!t.propagationImmediatelyStopped){t.eventPhase=t.BUBBLING_PHASE;for(var o=r.length-2;o>=0;o--)if(t.currentTarget=r[o],this.notifyTarget(t,e),t.propagationStopped||t.propagationImmediatelyStopped)return}}}},{key:"all",value:function(t,e){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._allInteractiveElements;if(0!==n.length){t.eventPhase=t.BUBBLING_PHASE;for(var i=Array.isArray(e)?e:[e],o=function(e){i.forEach(function(i){t.currentTarget=n[e],r.notifyTarget(t,i)})},a=n.length-1;a>=0;a--)o(a)}}},{key:"propagationPath",value:function(t){for(var e=[t],r=0;r<2048&&t!==this.rootTarget;r++){if(!t.parent)throw new Error("Cannot find propagation path to disconnected target");e.push(t.parent),t=t.parent}return e.reverse(),e}},{key:"hitTestMoveRecursive",value:function(t,e,r,n,i){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=!1;if(this._interactivePrune(t))return null;if(("dynamic"===t.eventMode||"dynamic"===e)&&(Tt.pauseUpdate=!1),t.interactiveChildren&&t.children)for(var s=t.children,u=s.length-1;u>=0;u--){var c=s[u],l=this.hitTestMoveRecursive(c,this._isInteractive(e)?e:c.eventMode,r,n,i,o||i(t,r));if(l){if(l.length>0&&!l[l.length-1].parent)continue;var f=t.isInteractive();(l.length>0||f)&&(f&&this._allInteractiveElements.push(t),l.push(t)),0===this._hitElements.length&&(this._hitElements=l),a=!0}}var h=this._isInteractive(e),p=t.isInteractive();return h&&p&&this._allInteractiveElements.push(t),o||this._hitElements.length>0?null:a?this._hitElements:h&&!i(t,r)&&n(t,r)?p?[t]:[]:null}},{key:"hitTestRecursive",value:function(t,e,r,n,i){if(this._interactivePrune(t)||i(t,r))return null;if(("dynamic"===t.eventMode||"dynamic"===e)&&(Tt.pauseUpdate=!1),t.interactiveChildren&&t.children)for(var o=t.children,a=o.length-1;a>=0;a--){var s=o[a],u=this.hitTestRecursive(s,this._isInteractive(e)?e:s.eventMode,r,n,i);if(u){if(u.length>0&&!u[u.length-1].parent)continue;var c=t.isInteractive();return(u.length>0||c)&&u.push(t),u}}var l=this._isInteractive(e),f=t.isInteractive();return l&&n(t,r)?f?[t]:[]:null}},{key:"_isInteractive",value:function(t){return"static"===t||"dynamic"===t}},{key:"_interactivePrune",value:function(t){return!(t&&!t.isMask&&t.visible&&t.renderable&&"none"!==t.eventMode&&("passive"!==t.eventMode||t.interactiveChildren)&&!t.isMask)}},{key:"hitPruneFn",value:function(t,e){if(t.hitArea&&(t.worldTransform.applyInverse(e,ie),!t.hitArea.contains(ie.x,ie.y)))return!0;if(t._mask){var r,n=t._mask.isMaskData?t._mask.maskObject:t._mask;if(n&&(null===(r=n.containsPoint)||void 0===r||!r.call(n,e)))return!0}return!1}},{key:"hitTestFn",value:function(t,e){return"passive"!==t.eventMode&&(!!t.hitArea||!!t.containsPoint&&t.containsPoint(e))}},{key:"notifyTarget",value:function(t,e){var r,n;e=null!=e?e:t.type;var i="on".concat(e);null===(r=(n=t.currentTarget)[i])||void 0===r||r.call(n,t);var o=t.eventPhase===t.CAPTURING_PHASE||t.eventPhase===t.AT_TARGET?"".concat(e,"capture"):e;this.notifyListeners(t,o),t.eventPhase===t.AT_TARGET&&this.notifyListeners(t,e)}},{key:"mapPointerDown",value:function(t){if(t instanceof qt){var e=this.createPointerEvent(t);if(this.dispatchEvent(e,"pointerdown"),"touch"===e.pointerType)this.dispatchEvent(e,"touchstart");else if("mouse"===e.pointerType||"pen"===e.pointerType){var r=2===e.button;this.dispatchEvent(e,r?"rightdown":"mousedown")}this.trackingData(t.pointerId).pressTargetsByButton[t.button]=e.composedPath(),this.freeEvent(e)}else console.warn("EventBoundary cannot map a non-pointer event as a pointer event")}},{key:"mapPointerMove",value:function(t){var e,r,n;if(t instanceof qt){this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;var i=this.createPointerEvent(t);this._isPointerMoveEvent=!1;var o="mouse"===i.pointerType||"pen"===i.pointerType,a=this.trackingData(t.pointerId),s=this.findMountedTarget(a.overTargets);if((null===(e=a.overTargets)||void 0===e?void 0:e.length)>0&&s!==i.target){var u="mousemove"===t.type?"mouseout":"pointerout",c=this.createPointerEvent(t,u,s);if(this.dispatchEvent(c,"pointerout"),o&&this.dispatchEvent(c,"mouseout"),!i.composedPath().includes(s)){var l=this.createPointerEvent(t,"pointerleave",s);for(l.eventPhase=l.AT_TARGET;l.target&&!i.composedPath().includes(l.target);)l.currentTarget=l.target,this.notifyTarget(l),o&&this.notifyTarget(l,"mouseleave"),l.target=l.target.parent;this.freeEvent(l)}this.freeEvent(c)}if(s!==i.target){var f="mousemove"===t.type?"mouseover":"pointerover",h=this.clonePointerEvent(i,f);this.dispatchEvent(h,"pointerover"),o&&this.dispatchEvent(h,"mouseover");for(var p=null==s?void 0:s.parent;p&&p!==this.rootTarget.parent&&p!==i.target;)p=p.parent;if(!p||p===this.rootTarget.parent){var d=this.clonePointerEvent(i,"pointerenter");for(d.eventPhase=d.AT_TARGET;d.target&&d.target!==s&&d.target!==this.rootTarget.parent;)d.currentTarget=d.target,this.notifyTarget(d),o&&this.notifyTarget(d,"mouseenter"),d.target=d.target.parent;this.freeEvent(d)}this.freeEvent(h)}var y=[],v=null===(r=this.enableGlobalMoveEvents)||void 0===r||r;this.moveOnAll?y.push("pointermove"):this.dispatchEvent(i,"pointermove"),v&&y.push("globalpointermove"),"touch"===i.pointerType&&(this.moveOnAll?y.splice(1,0,"touchmove"):this.dispatchEvent(i,"touchmove"),v&&y.push("globaltouchmove")),o&&(this.moveOnAll?y.splice(1,0,"mousemove"):this.dispatchEvent(i,"mousemove"),v&&y.push("globalmousemove"),this.cursor=null===(n=i.target)||void 0===n?void 0:n.cursor),y.length>0&&this.all(i,y),this._allInteractiveElements.length=0,this._hitElements.length=0,a.overTargets=i.composedPath(),this.freeEvent(i)}else console.warn("EventBoundary cannot map a non-pointer event as a pointer event")}},{key:"mapPointerOver",value:function(t){var e;if(t instanceof qt){var r=this.trackingData(t.pointerId),n=this.createPointerEvent(t),i="mouse"===n.pointerType||"pen"===n.pointerType;this.dispatchEvent(n,"pointerover"),i&&this.dispatchEvent(n,"mouseover"),"mouse"===n.pointerType&&(this.cursor=null===(e=n.target)||void 0===e?void 0:e.cursor);var o=this.clonePointerEvent(n,"pointerenter");for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),i&&this.notifyTarget(o,"mouseenter"),o.target=o.target.parent;r.overTargets=n.composedPath(),this.freeEvent(n),this.freeEvent(o)}else console.warn("EventBoundary cannot map a non-pointer event as a pointer event")}},{key:"mapPointerOut",value:function(t){if(t instanceof qt){var e=this.trackingData(t.pointerId);if(e.overTargets){var r="mouse"===t.pointerType||"pen"===t.pointerType,n=this.findMountedTarget(e.overTargets),i=this.createPointerEvent(t,"pointerout",n);this.dispatchEvent(i),r&&this.dispatchEvent(i,"mouseout");var o=this.createPointerEvent(t,"pointerleave",n);for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),r&&this.notifyTarget(o,"mouseleave"),o.target=o.target.parent;e.overTargets=null,this.freeEvent(i),this.freeEvent(o)}this.cursor=null}else console.warn("EventBoundary cannot map a non-pointer event as a pointer event")}},{key:"mapPointerUp",value:function(t){if(t instanceof qt){var e=performance.now(),r=this.createPointerEvent(t);if(this.dispatchEvent(r,"pointerup"),"touch"===r.pointerType)this.dispatchEvent(r,"touchend");else if("mouse"===r.pointerType||"pen"===r.pointerType){var n=2===r.button;this.dispatchEvent(r,n?"rightup":"mouseup")}var i=this.trackingData(t.pointerId),o=this.findMountedTarget(i.pressTargetsByButton[t.button]),a=o;if(o&&!r.composedPath().includes(o)){for(var s=o;s&&!r.composedPath().includes(s);){if(r.currentTarget=s,this.notifyTarget(r,"pointerupoutside"),"touch"===r.pointerType)this.notifyTarget(r,"touchendoutside");else if("mouse"===r.pointerType||"pen"===r.pointerType){var u=2===r.button;this.notifyTarget(r,u?"rightupoutside":"mouseupoutside")}s=s.parent}delete i.pressTargetsByButton[t.button],a=s}if(a){var c=this.clonePointerEvent(r,"click");c.target=a,c.path=null,i.clicksByButton[t.button]||(i.clicksByButton[t.button]={clickCount:0,target:c.target,timeStamp:e});var l=i.clicksByButton[t.button];if(l.target===c.target&&e-l.timeStamp<200?++l.clickCount:l.clickCount=1,l.target=c.target,l.timeStamp=e,c.detail=l.clickCount,"mouse"===c.pointerType){var f=2===c.button;this.dispatchEvent(c,f?"rightclick":"click")}else"touch"===c.pointerType&&this.dispatchEvent(c,"tap");this.dispatchEvent(c,"pointertap"),this.freeEvent(c)}this.freeEvent(r)}else console.warn("EventBoundary cannot map a non-pointer event as a pointer event")}},{key:"mapPointerUpOutside",value:function(t){if(t instanceof qt){var e=this.trackingData(t.pointerId),r=this.findMountedTarget(e.pressTargetsByButton[t.button]),n=this.createPointerEvent(t);if(r){for(var i=r;i;)n.currentTarget=i,this.notifyTarget(n,"pointerupoutside"),"touch"===n.pointerType?this.notifyTarget(n,"touchendoutside"):("mouse"===n.pointerType||"pen"===n.pointerType)&&this.notifyTarget(n,2===n.button?"rightupoutside":"mouseupoutside"),i=i.parent;delete e.pressTargetsByButton[t.button]}this.freeEvent(n)}else console.warn("EventBoundary cannot map a non-pointer event as a pointer event")}},{key:"mapWheel",value:function(t){if(t instanceof Jt){var e=this.createWheelEvent(t);this.dispatchEvent(e),this.freeEvent(e)}else console.warn("EventBoundary cannot map a non-wheel event as a wheel event")}},{key:"findMountedTarget",value:function(t){if(!t)return null;for(var e=t[0],r=1;r<t.length&&t[r].parent===e;r++)e=t[r];return e}},{key:"createPointerEvent",value:function(t,e,r){var n,i=this.allocateEvent(qt);return this.copyPointerData(t,i),this.copyMouseData(t,i),this.copyData(t,i),i.nativeEvent=t.nativeEvent,i.originalEvent=t,i.target=null!==(n=null!=r?r:this.hitTest(i.global.x,i.global.y))&&void 0!==n?n:this._hitElements[0],"string"==typeof e&&(i.type=e),i}},{key:"createWheelEvent",value:function(t){var e=this.allocateEvent(Jt);return this.copyWheelData(t,e),this.copyMouseData(t,e),this.copyData(t,e),e.nativeEvent=t.nativeEvent,e.originalEvent=t,e.target=this.hitTest(e.global.x,e.global.y),e}},{key:"clonePointerEvent",value:function(t,e){var r=this.allocateEvent(qt);return r.nativeEvent=t.nativeEvent,r.originalEvent=t.originalEvent,this.copyPointerData(t,r),this.copyMouseData(t,r),this.copyData(t,r),r.target=t.target,r.path=t.composedPath().slice(),r.type=null!=e?e:r.type,r}},{key:"copyWheelData",value:function(t,e){e.deltaMode=t.deltaMode,e.deltaX=t.deltaX,e.deltaY=t.deltaY,e.deltaZ=t.deltaZ}},{key:"copyPointerData",value:function(t,e){t instanceof qt&&e instanceof qt&&(e.pointerId=t.pointerId,e.width=t.width,e.height=t.height,e.isPrimary=t.isPrimary,e.pointerType=t.pointerType,e.pressure=t.pressure,e.tangentialPressure=t.tangentialPressure,e.tiltX=t.tiltX,e.tiltY=t.tiltY,e.twist=t.twist)}},{key:"copyMouseData",value:function(t,e){t instanceof Bt&&e instanceof Bt&&(e.altKey=t.altKey,e.button=t.button,e.buttons=t.buttons,e.client.copyFrom(t.client),e.ctrlKey=t.ctrlKey,e.metaKey=t.metaKey,e.movement.copyFrom(t.movement),e.screen.copyFrom(t.screen),e.shiftKey=t.shiftKey,e.global.copyFrom(t.global))}},{key:"copyData",value:function(t,e){e.isTrusted=t.isTrusted,e.srcElement=t.srcElement,e.timeStamp=performance.now(),e.type=t.type,e.detail=t.detail,e.view=t.view,e.which=t.which,e.layer.copyFrom(t.layer),e.page.copyFrom(t.page)}},{key:"trackingData",value:function(t){return this.mappingState.trackingData[t]||(this.mappingState.trackingData[t]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[t]}},{key:"allocateEvent",value:function(t){this.eventPool.has(t)||this.eventPool.set(t,[]);var e=this.eventPool.get(t).pop()||new t(this);return e.eventPhase=e.NONE,e.currentTarget=null,e.path=null,e.target=null,e}},{key:"freeEvent",value:function(t){if(t.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");var e=t.constructor;this.eventPool.has(e)||this.eventPool.set(e,[]),this.eventPool.get(e).push(t)}},{key:"notifyListeners",value:function(t,e){var r=t.currentTarget._events[e];if(r&&t.currentTarget.isInteractive())if("fn"in r)r.once&&t.currentTarget.removeListener(e,r.fn,void 0,!0),r.fn.call(r.context,t);else for(var n=0,i=r.length;n<i&&!t.propagationImmediatelyStopped;n++)r[n].once&&t.currentTarget.removeListener(e,r[n].fn,void 0,!0),r[n].fn.call(r[n].context,t)}}],e&&ee(t.prototype,e),r&&ee(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();r(54660056),r(95440747),r(20037566),r(53083784),r(40921472),r(83722648);function ae(t){return ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ae(t)}function se(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function ue(t,e,r){return(e=le(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ce(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,le(n.key),n)}}function le(t){var e=function(t,e){if("object"!=ae(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=ae(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ae(e)?e:e+""}var fe={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},he=function(){function t(e){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=e,this.rootBoundary=new oe(null),Tt.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new qt(null),this.rootWheelEvent=new Jt(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy(function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?se(Object(r),!0).forEach(function(e){ue(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):se(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({},t.defaultEventFeatures),{set:function(t,e,n){return"globalMove"===e&&(r.rootBoundary.enableGlobalMoveEvents=n),t[e]=n,!0}}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}return e=t,n=[{key:"defaultEventMode",get:function(){return this._defaultEventMode}}],(r=[{key:"init",value:function(e){var r,n,i=this.renderer,o=i.view,a=i.resolution;this.setTargetElement(o),this.resolution=a,t._defaultEventMode=null!==(r=e.eventMode)&&void 0!==r?r:"auto",Object.assign(this.features,null!==(n=e.eventFeatures)&&void 0!==n?n:{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}},{key:"resolutionChange",value:function(t){this.resolution=t}},{key:"destroy",value:function(){this.setTargetElement(null),this.renderer=null}},{key:"setCursor",value:function(t){t=t||"default";var e=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(e=!1),this.currentCursor!==t){this.currentCursor=t;var r=this.cursorStyles[t];if(r)switch(ae(r)){case"string":e&&(this.domElement.style.cursor=r);break;case"function":r(t);break;case"object":e&&Object.assign(this.domElement.style,r)}else e&&"string"==typeof t&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,t)&&(this.domElement.style.cursor=t)}}},{key:"pointer",get:function(){return this.rootPointerEvent}},{key:"onPointerDown",value:function(t){if(this.features.click){this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;var e=this.normalizeToPointerData(t);this.autoPreventDefault&&e[0].isNormalized&&(t.cancelable||!("cancelable"in t))&&t.preventDefault();for(var r=0,n=e.length;r<n;r++){var i=e[r],o=this.bootstrapEvent(this.rootPointerEvent,i);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}}},{key:"onPointerMove",value:function(t){if(this.features.move){this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,Tt.pointerMoved();for(var e=this.normalizeToPointerData(t),r=0,n=e.length;r<n;r++){var i=this.bootstrapEvent(this.rootPointerEvent,e[r]);this.rootBoundary.mapEvent(i)}this.setCursor(this.rootBoundary.cursor)}}},{key:"onPointerUp",value:function(t){if(this.features.click){this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;var e=t.target;t.composedPath&&t.composedPath().length>0&&(e=t.composedPath()[0]);for(var r=e!==this.domElement?"outside":"",n=this.normalizeToPointerData(t),i=0,o=n.length;i<o;i++){var a=this.bootstrapEvent(this.rootPointerEvent,n[i]);a.type+=r,this.rootBoundary.mapEvent(a)}this.setCursor(this.rootBoundary.cursor)}}},{key:"onPointerOverOut",value:function(t){if(this.features.click){this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;for(var e=this.normalizeToPointerData(t),r=0,n=e.length;r<n;r++){var i=this.bootstrapEvent(this.rootPointerEvent,e[r]);this.rootBoundary.mapEvent(i)}this.setCursor(this.rootBoundary.cursor)}}},{key:"onWheel",value:function(t){if(this.features.wheel){var e=this.normalizeWheelEvent(t);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(e)}}},{key:"setTargetElement",value:function(t){this.removeEvents(),this.domElement=t,Tt.domElement=t,this.addEvents()}},{key:"addEvents",value:function(){if(!this.eventsAdded&&this.domElement){Tt.addTickerListener();var t=this.domElement.style;t&&(globalThis.navigator.msPointerEnabled?(t.msContentZooming="none",t.msTouchAction="none"):this.supportsPointerEvents&&(t.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0))),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}}},{key:"removeEvents",value:function(){if(this.eventsAdded&&this.domElement){Tt.removeTickerListener();var t=this.domElement.style;globalThis.navigator.msPointerEnabled?(t.msContentZooming="",t.msTouchAction=""):this.supportsPointerEvents&&(t.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0))),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}}},{key:"mapPositionToPoint",value:function(t,e,r){var n=this.domElement.isConnected?this.domElement.getBoundingClientRect():{x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0},i=1/this.resolution;t.x=(e-n.left)*(this.domElement.width/n.width)*i,t.y=(r-n.top)*(this.domElement.height/n.height)*i}},{key:"normalizeToPointerData",value:function(t){var e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(var r=0,n=t.changedTouches.length;r<n;r++){var i=t.changedTouches[r];ae(i.button)>"u"&&(i.button=0),ae(i.buttons)>"u"&&(i.buttons=1),ae(i.isPrimary)>"u"&&(i.isPrimary=1===t.touches.length&&"touchstart"===t.type),ae(i.width)>"u"&&(i.width=i.radiusX||1),ae(i.height)>"u"&&(i.height=i.radiusY||1),ae(i.tiltX)>"u"&&(i.tiltX=0),ae(i.tiltY)>"u"&&(i.tiltY=0),ae(i.pointerType)>"u"&&(i.pointerType="touch"),ae(i.pointerId)>"u"&&(i.pointerId=i.identifier||0),ae(i.pressure)>"u"&&(i.pressure=i.force||.5),ae(i.twist)>"u"&&(i.twist=0),ae(i.tangentialPressure)>"u"&&(i.tangentialPressure=0),ae(i.layerX)>"u"&&(i.layerX=i.offsetX=i.clientX),ae(i.layerY)>"u"&&(i.layerY=i.offsetY=i.clientY),i.isNormalized=!0,i.type=t.type,e.push(i)}else if(!globalThis.MouseEvent||t instanceof MouseEvent&&!(this.supportsPointerEvents&&t instanceof globalThis.PointerEvent)){var o=t;ae(o.isPrimary)>"u"&&(o.isPrimary=!0),ae(o.width)>"u"&&(o.width=1),ae(o.height)>"u"&&(o.height=1),ae(o.tiltX)>"u"&&(o.tiltX=0),ae(o.tiltY)>"u"&&(o.tiltY=0),ae(o.pointerType)>"u"&&(o.pointerType="mouse"),ae(o.pointerId)>"u"&&(o.pointerId=1),ae(o.pressure)>"u"&&(o.pressure=.5),ae(o.twist)>"u"&&(o.twist=0),ae(o.tangentialPressure)>"u"&&(o.tangentialPressure=0),o.isNormalized=!0,e.push(o)}else e.push(t);return e}},{key:"normalizeWheelEvent",value:function(t){var e=this.rootWheelEvent;return this.transferMouseData(e,t),e.deltaX=t.deltaX,e.deltaY=t.deltaY,e.deltaZ=t.deltaZ,e.deltaMode=t.deltaMode,this.mapPositionToPoint(e.screen,t.clientX,t.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.nativeEvent=t,e.type=t.type,e}},{key:"bootstrapEvent",value:function(t,e){return t.originalEvent=null,t.nativeEvent=e,t.pointerId=e.pointerId,t.width=e.width,t.height=e.height,t.isPrimary=e.isPrimary,t.pointerType=e.pointerType,t.pressure=e.pressure,t.tangentialPressure=e.tangentialPressure,t.tiltX=e.tiltX,t.tiltY=e.tiltY,t.twist=e.twist,this.transferMouseData(t,e),this.mapPositionToPoint(t.screen,e.clientX,e.clientY),t.global.copyFrom(t.screen),t.offset.copyFrom(t.screen),t.isTrusted=e.isTrusted,"pointerleave"===t.type&&(t.type="pointerout"),t.type.startsWith("mouse")&&(t.type=t.type.replace("mouse","pointer")),t.type.startsWith("touch")&&(t.type=fe[t.type]||t.type),t}},{key:"transferMouseData",value:function(t,e){t.isTrusted=e.isTrusted,t.srcElement=e.srcElement,t.timeStamp=performance.now(),t.type=e.type,t.altKey=e.altKey,t.button=e.button,t.buttons=e.buttons,t.client.x=e.clientX,t.client.y=e.clientY,t.ctrlKey=e.ctrlKey,t.metaKey=e.metaKey,t.movement.x=e.movementX,t.movement.y=e.movementY,t.page.x=e.pageX,t.page.y=e.pageY,t.relatedTarget=null,t.shiftKey=e.shiftKey}}])&&ce(e.prototype,r),n&&ce(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,r,n}();he.extension={name:"events",type:[n.Ag.RendererSystem,n.Ag.CanvasRendererSystem]},he.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};var pe=he;function de(t){return de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},de(t)}function ye(t){return"dynamic"===t||"static"===t}n.XO.add(pe);var ve={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){var t;return null!==(t=this._internalInteractive)&&void 0!==t?t:ye(pe.defaultEventMode)},set interactive(t){n.Wp.deprecation("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=t,this.eventMode=t?"static":"auto"},_internalEventMode:void 0,get eventMode(){var t;return null!==(t=this._internalEventMode)&&void 0!==t?t:pe.defaultEventMode},set eventMode(t){this._internalInteractive=ye(t),this._internalEventMode=t},isInteractive:function(){return"static"===this.eventMode||"dynamic"===this.eventMode},interactiveChildren:!0,hitArea:null,addEventListener:function(t,e,r){var n="boolean"==typeof r&&r||"object"==de(r)&&r.capture,i="object"==de(r)?r.signal:void 0,o="object"==de(r)&&!0===r.once,a="function"==typeof e?void 0:e;t=n?"".concat(t,"capture"):t;var s="function"==typeof e?e:e.handleEvent,u=this;i&&i.addEventListener("abort",function(){u.off(t,s,a)}),o?u.once(t,s,a):u.on(t,s,a)},removeEventListener:function(t,e,r){var n="function"==typeof e?void 0:e;t="boolean"==typeof r&&r||"object"==de(r)&&r.capture?"".concat(t,"capture"):t,e="function"==typeof e?e:e.handleEvent,this.off(t,e,n)},dispatchEvent:function(t){if(!(t instanceof At))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return t.defaultPrevented=!1,t.path=null,t.target=this,t.manager.dispatchEvent(t),!t.defaultPrevented}};i.q9.mixin(ve);function me(t){return me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},me(t)}function be(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ge(n.key),n)}}function ge(t){var e=function(t,e){if("object"!=me(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=me(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==me(e)?e:e+""}i.q9.mixin({accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1});var we=100,Se=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(n.Wp.isMobile.tablet||n.Wp.isMobile.phone)&&this.createTouchHook();var r=document.createElement("div");r.style.width="".concat(we,"px"),r.style.height="".concat(we,"px"),r.style.position="absolute",r.style.top="".concat(0,"px"),r.style.left="".concat(0,"px"),r.style.zIndex=2..toString(),this.div=r,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)},e=[{key:"isActive",get:function(){return this._isActive}},{key:"isMobileAccessibility",get:function(){return this._isMobileAccessibility}},{key:"createTouchHook",value:function(){var t=this,e=document.createElement("button");e.style.width="".concat(1,"px"),e.style.height="".concat(1,"px"),e.style.position="absolute",e.style.top="".concat(-1e3,"px"),e.style.left="".concat(-1e3,"px"),e.style.zIndex=2..toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",function(){t._isMobileAccessibility=!0,t.activate(),t.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}},{key:"destroyTouchHook",value:function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}},{key:"activate",value:function(){var t;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),null===(t=this.renderer.view.parentNode)||void 0===t||t.appendChild(this.div))}},{key:"deactivate",value:function(){var t;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),null===(t=this.div.parentNode)||void 0===t||t.removeChild(this.div))}},{key:"updateAccessibleObjects",value:function(t){if(t.visible&&t.accessibleChildren){t.accessible&&t.isInteractive()&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);var e=t.children;if(e)for(var r=0;r<e.length;r++)this.updateAccessibleObjects(e[r])}}},{key:"update",value:function(){var t=performance.now();if(!(n.Wp.isMobile.android.device&&t<this.androidUpdateCount)&&(this.androidUpdateCount=t+this.androidUpdateFrequency,this.renderer.renderingToScreen)){this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);var e=this.renderer.view.getBoundingClientRect(),r=e.x,i=e.y,o=e.width,a=e.height,s=this.renderer,u=s.width,c=s.height,l=s.resolution,f=o/u*l,h=a/c*l,p=this.div;p.style.left="".concat(r,"px"),p.style.top="".concat(i,"px"),p.style.width="".concat(u,"px"),p.style.height="".concat(c,"px");for(var d=0;d<this.children.length;d++){var y=this.children[d];if(y.renderId!==this.renderId)y._accessibleActive=!1,n.Wp.removeItems(this.children,d,1),this.div.removeChild(y._accessibleDiv),this.pool.push(y._accessibleDiv),y._accessibleDiv=null,d--;else{p=y._accessibleDiv;var v=y.hitArea,m=y.worldTransform;y.hitArea?(p.style.left="".concat((m.tx+v.x*m.a)*f,"px"),p.style.top="".concat((m.ty+v.y*m.d)*h,"px"),p.style.width="".concat(v.width*m.a*f,"px"),p.style.height="".concat(v.height*m.d*h,"px")):(v=y.getBounds(),this.capHitArea(v),p.style.left="".concat(v.x*f,"px"),p.style.top="".concat(v.y*h,"px"),p.style.width="".concat(v.width*f,"px"),p.style.height="".concat(v.height*h,"px"),p.title!==y.accessibleTitle&&null!==y.accessibleTitle&&(p.title=y.accessibleTitle),p.getAttribute("aria-label")!==y.accessibleHint&&null!==y.accessibleHint&&p.setAttribute("aria-label",y.accessibleHint)),(y.accessibleTitle!==p.title||y.tabIndex!==p.tabIndex)&&(p.title=y.accessibleTitle,p.tabIndex=y.tabIndex,this.debug&&this.updateDebugHTML(p))}}this.renderId++}}},{key:"updateDebugHTML",value:function(t){t.innerHTML="type: ".concat(t.type,"</br> title : ").concat(t.title,"</br> tabIndex: ").concat(t.tabIndex)}},{key:"capHitArea",value:function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0);var e=this.renderer,r=e.width,n=e.height;t.x+t.width>r&&(t.width=r-t.x),t.y+t.height>n&&(t.height=n-t.y)}},{key:"addChild",value:function(t){var e=this.pool.pop();e||((e=document.createElement("button")).style.width="".concat(we,"px"),e.style.height="".concat(we,"px"),e.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=2..toString(),e.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?e.setAttribute("aria-live","off"):e.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?e.setAttribute("aria-relevant","additions"):e.setAttribute("aria-relevant","text"),e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),e.style.pointerEvents=t.accessiblePointerEvents,e.type=t.accessibleType,t.accessibleTitle&&null!==t.accessibleTitle?e.title=t.accessibleTitle:(!t.accessibleHint||null===t.accessibleHint)&&(e.title="displayObject ".concat(t.tabIndex)),t.accessibleHint&&null!==t.accessibleHint&&e.setAttribute("aria-label",t.accessibleHint),this.debug&&this.updateDebugHTML(e),t._accessibleActive=!0,t._accessibleDiv=e,e.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex}},{key:"_dispatchEvent",value:function(t,e){var r=t.target.displayObject,n=this.renderer.events.rootBoundary,i=Object.assign(new At(n),{target:r});n.rootTarget=this.renderer.lastObjectRendered,e.forEach(function(t){return n.dispatchEvent(i,t)})}},{key:"_onClick",value:function(t){this._dispatchEvent(t,["click","pointertap","tap"])}},{key:"_onFocus",value:function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","assertive"),this._dispatchEvent(t,["mouseover"])}},{key:"_onFocusOut",value:function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","polite"),this._dispatchEvent(t,["mouseout"])}},{key:"_onKeyDown",value:function(t){9===t.keyCode&&this.activate()}},{key:"_onMouseMove",value:function(t){0===t.movementX&&0===t.movementY||this.deactivate()}},{key:"destroy",value:function(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}],e&&be(t.prototype,e),r&&be(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();function xe(t){return xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xe(t)}function _e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ee(n.key),n)}}function Ee(t){var e=function(t,e){if("object"!=xe(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=xe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==xe(e)?e:e+""}Se.extension={name:"accessibility",type:[n.Ag.RendererPlugin,n.Ag.CanvasRendererPlugin]},n.XO.add(Se);var Te=function(){function t(e){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.stage=new i.mc,e=Object.assign({forceCanvas:!1},e),this.renderer=(0,n.q5)(e),t._plugins.forEach(function(t){t.init.call(r,e)})}return e=t,(r=[{key:"render",value:function(){this.renderer.render(this.stage)}},{key:"view",get:function(){var t;return null===(t=this.renderer)||void 0===t?void 0:t.view}},{key:"screen",get:function(){var t;return null===(t=this.renderer)||void 0===t?void 0:t.screen}},{key:"destroy",value:function(e,r){var n=this,i=t._plugins.slice(0);i.reverse(),i.forEach(function(t){t.destroy.call(n)}),this.stage.destroy(r),this.stage=null,this.renderer.destroy(e),this.renderer=null}}])&&_e(e.prototype,r),o&&_e(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,r,o}();Te._plugins=[];var ke=Te;function Pe(t){return Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pe(t)}function Oe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ae(n.key),n)}}function Ae(t){var e=function(t,e){if("object"!=Pe(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Pe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Pe(e)?e:e+""}n.XO.handleByList(n.Ag.Application,ke._plugins);var Re=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},r=[{key:"init",value:function(t){var e=this;Object.defineProperty(this,"resizeTo",{set:function(t){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=t,t&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){e._resizeTo&&(e.cancelResize(),e._resizeId=requestAnimationFrame(function(){return e.resize()}))},this.cancelResize=function(){e._resizeId&&(cancelAnimationFrame(e._resizeId),e._resizeId=null)},this.resize=function(){if(e._resizeTo){var t,r;if(e.cancelResize(),e._resizeTo===globalThis.window)t=globalThis.innerWidth,r=globalThis.innerHeight;else{var n=e._resizeTo;t=n.clientWidth,r=n.clientHeight}e.renderer.resize(t,r),e.render()}},this._resizeId=null,this._resizeTo=null,this.resizeTo=t.resizeTo||null}},{key:"destroy",value:function(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}],(e=null)&&Oe(t.prototype,e),r&&Oe(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();Re.extension=n.Ag.Application,n.XO.add(Re);var je=r(48817614);r(96734505),r(32205331),r(68168753),r(59364278);function Ie(t){return Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ie(t)}function Ce(){var t,e,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function o(r,n,i,o){var u=n&&n.prototype instanceof s?n:s,c=Object.create(u.prototype);return Me(c,"_invoke",function(r,n,i){var o,s,u,c=0,l=i||[],f=!1,h={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,r){return o=e,s=0,u=t,h.n=r,a}};function p(r,n){for(s=r,u=n,e=0;!f&&c&&!i&&e<l.length;e++){var i,o=l[e],p=h.p,d=o[2];r>3?(i=d===n)&&(u=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=t):o[0]<=p&&((i=r<2&&p<o[1])?(s=0,h.v=n,h.n=o[1]):p<d&&(i=r<3||o[0]>n||n>d)&&(o[4]=r,o[5]=n,h.n=d,s=0))}if(i||r>1)return a;throw f=!0,n}return function(i,l,d){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,d),s=l,u=d;(e=s<2?t:u)||!f;){o||(s?s<3?(s>1&&(h.n=-1),p(s,u)):h.n=u:h.v=u);try{if(c=2,o){if(s||(i="next"),e=o[i]){if(!(e=e.call(o,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,s<2&&(s=0)}else 1===s&&(e=o.return)&&e.call(o),s<2&&(u=TypeError("The iterator does not provide a '"+i+"' method"),s=1);o=t}else if((e=(f=h.n<0)?u:r.call(n,h))!==a)break}catch(e){o=t,s=1,u=e}finally{c=1}}return{value:e,done:f}}}(r,i,o),!0),c}var a={};function s(){}function u(){}function c(){}e=Object.getPrototypeOf;var l=[][n]?e(e([][n]())):(Me(e={},n,function(){return this}),e),f=c.prototype=s.prototype=Object.create(l);function h(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,Me(t,i,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=c,Me(f,"constructor",c),Me(c,"constructor",u),u.displayName="GeneratorFunction",Me(c,i,"GeneratorFunction"),Me(f),Me(f,i,"Generator"),Me(f,n,function(){return this}),Me(f,"toString",function(){return"[object Generator]"}),(Ce=function(){return{w:o,m:h}})()}function Me(t,e,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}Me=function(t,e,r,n){function o(e,r){Me(t,e,function(t){return this._invoke(e,r,t)})}e?i?i(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n}):t[e]=r:(o("next",0),o("throw",1),o("return",2))},Me(t,e,r,n)}function De(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function Ne(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function a(t){De(o,n,i,a,s,"next",t)}function s(t){De(o,n,i,a,s,"throw",t)}a(void 0)})}}function Be(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Fe(n.key),n)}}function Fe(t){var e=function(t,e){if("object"!=Ie(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Ie(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ie(e)?e:e+""}var Le=new n.M_,Ue=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e,this._rendererPremultipliedAlpha=!1}return e=t,r=[{key:"contextChange",value:function(){var t,e=null===(t=this.renderer)||void 0===t?void 0:t.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}},{key:"image",value:(a=Ne(Ce().m(function t(e,r,n,i){var o;return Ce().w(function(t){for(;;)switch(t.n){case 0:return o=new Image,t.n=1,this.base64(e,r,n,i);case 1:return o.src=t.v,t.a(2,o)}},t,this)})),function(t,e,r,n){return a.apply(this,arguments)})},{key:"base64",value:(o=Ne(Ce().m(function t(e,r,n,i){var o,a;return Ce().w(function(t){for(;;)switch(t.n){case 0:if(void 0===(o=this.canvas(e,i)).toBlob){t.n=1;break}return t.a(2,new Promise(function(t,e){o.toBlob(function(r){if(r){var n=new FileReader;n.onload=function(){return t(n.result)},n.onerror=e,n.readAsDataURL(r)}else e(new Error("ICanvas.toBlob failed!"))},r,n)}));case 1:if(void 0===o.toDataURL){t.n=2;break}return t.a(2,o.toDataURL(r,n));case 2:if(void 0===o.convertToBlob){t.n=4;break}return t.n=3,o.convertToBlob({type:r,quality:n});case 3:return a=t.v,t.a(2,new Promise(function(t,e){var r=new FileReader;r.onload=function(){return t(r.result)},r.onerror=e,r.readAsDataURL(a)}));case 4:throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented");case 5:return t.a(2)}},t,this)})),function(t,e,r,n){return o.apply(this,arguments)})},{key:"canvas",value:function(e,r){var i=this._rawPixels(e,r),o=i.pixels,a=i.width,s=i.height,u=i.flipY,c=i.premultipliedAlpha;u&&t._flipY(o,a,s),c&&t._unpremultiplyAlpha(o);var l=new n.Wp.CanvasRenderTarget(a,s,1),f=new ImageData(new Uint8ClampedArray(o.buffer),a,s);return l.context.putImageData(f,0,0),l.canvas}},{key:"pixels",value:function(e,r){var n=this._rawPixels(e,r),i=n.pixels,o=n.width,a=n.height,s=n.flipY,u=n.premultipliedAlpha;return s&&t._flipY(i,o,a),u&&t._unpremultiplyAlpha(i),i}},{key:"_rawPixels",value:function(t,e){var r,i=this.renderer;if(!i)throw new Error("The Extract has already been destroyed");var o,a,s=!1,u=!1,c=!1;t&&(t instanceof n.Y7?a=t:(a=i.generateTexture(t,{region:e,resolution:i.resolution,multisample:i.multisample}),c=!0,e&&(Le.width=e.width,Le.height=e.height,e=Le)));var l=i.gl;if(a){if(o=a.baseTexture.resolution,e=null!=e?e:a.frame,s=!1,u=a.baseTexture.alphaMode>0&&a.baseTexture.format===n.hR.RGBA,!c){i.renderTexture.bind(a);var f=a.framebuffer.glFramebuffers[i.CONTEXT_UID];f.blitFramebuffer&&i.framebuffer.bind(f.blitFramebuffer)}}else o=i.resolution,e||((e=Le).width=i.width/o,e.height=i.height/o),s=!0,u=this._rendererPremultipliedAlpha,i.renderTexture.bind();var h=Math.max(Math.round(e.width*o),1),p=Math.max(Math.round(e.height*o),1),d=new Uint8Array(4*h*p);return l.readPixels(Math.round(e.x*o),Math.round(e.y*o),h,p,l.RGBA,l.UNSIGNED_BYTE,d),c&&null!==(r=a)&&void 0!==r&&r.destroy(!0),{pixels:d,width:h,height:p,flipY:s,premultipliedAlpha:u}}},{key:"destroy",value:function(){this.renderer=null}}],i=[{key:"_flipY",value:function(t,e,r){for(var n=e<<2,i=r>>1,o=new Uint8Array(n),a=0;a<i;a++){var s=a*n,u=(r-a-1)*n;o.set(t.subarray(s,s+n)),t.copyWithin(s,u,u+n),t.set(o,u)}}},{key:"_unpremultiplyAlpha",value:function(t){t instanceof Uint8ClampedArray&&(t=new Uint8Array(t.buffer));for(var e=t.length,r=0;r<e;r+=4){var n=t[r+3];if(0!==n){var i=255.001/n;t[r]=t[r]*i+.5,t[r+1]=t[r+1]*i+.5,t[r+2]=t[r+2]*i+.5}}}}],r&&Be(e.prototype,r),i&&Be(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,r,i,o,a}();Ue.extension={name:"extract",type:n.Ag.RendererSystem};var Ve=Ue;n.XO.add(Ve);var Xe=r(54240947),Ge=r(36891659);r(69398507),r(86965080),r(54497072);r(94366282),r(39780940);function Ye(t){return Ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ye(t)}function qe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,We(n.key),n)}}function We(t){var e=function(t,e){if("object"!=Ye(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Ye(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ye(e)?e:e+""}var He=function(){return t=function t(e,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.geometry=new n.V2,this.indexBuffer=null,this.size=i,this.dynamicProperties=[],this.staticProperties=[];for(var o=0;o<e.length;++o){var a=e[o];a={attributeName:a.attributeName,size:a.size,uploadFunction:a.uploadFunction,type:a.type||n.QE.FLOAT,offset:a.offset},r[o]?this.dynamicProperties.push(a):this.staticProperties.push(a)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()},(e=[{key:"initBuffers",value:function(){var t=this.geometry,e=0;this.indexBuffer=new n.hp(n.Wp.createIndicesForQuads(this.size),!0,!0),t.addIndex(this.indexBuffer),this.dynamicStride=0;for(var r=0;r<this.dynamicProperties.length;++r){var i=this.dynamicProperties[r];i.offset=e,e+=i.size,this.dynamicStride+=i.size}var o=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(o),this.dynamicDataUint32=new Uint32Array(o),this.dynamicBuffer=new n.hp(this.dynamicData,!1,!1);var a=0;this.staticStride=0;for(var s=0;s<this.staticProperties.length;++s){var u=this.staticProperties[s];u.offset=a,a+=u.size,this.staticStride+=u.size}var c=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(c),this.staticDataUint32=new Uint32Array(c),this.staticBuffer=new n.hp(this.staticData,!0,!1);for(var l=0;l<this.dynamicProperties.length;++l){var f=this.dynamicProperties[l];t.addAttribute(f.attributeName,this.dynamicBuffer,0,f.type===n.QE.UNSIGNED_BYTE,f.type,4*this.dynamicStride,4*f.offset)}for(var h=0;h<this.staticProperties.length;++h){var p=this.staticProperties[h];t.addAttribute(p.attributeName,this.staticBuffer,0,p.type===n.QE.UNSIGNED_BYTE,p.type,4*this.staticStride,4*p.offset)}}},{key:"uploadDynamic",value:function(t,e,r){for(var i=0;i<this.dynamicProperties.length;i++){var o=this.dynamicProperties[i];o.uploadFunction(t,e,r,o.type===n.QE.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,o.offset)}this.dynamicBuffer._updateID++}},{key:"uploadStatic",value:function(t,e,r){for(var i=0;i<this.staticProperties.length;i++){var o=this.staticProperties[i];o.uploadFunction(t,e,r,o.type===n.QE.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,o.offset)}this.staticBuffer._updateID++}},{key:"destroy",value:function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}])&&qe(t.prototype,e),r&&qe(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();function ze(t){return ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ze(t)}function Qe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ze(n.key),n)}}function Ze(t){var e=function(t,e){if("object"!=ze(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=ze(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ze(e)?e:e+""}function Ke(t,e,r){return e=tr(e),function(t,e){if(e&&("object"==ze(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,$e()?Reflect.construct(e,r||[],tr(t).constructor):e.apply(t,r))}function $e(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return($e=function(){return!!t})()}function Je(){return Je="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=tr(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},Je.apply(null,arguments)}function tr(t){return tr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},tr(t)}function er(t,e){return er=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},er(t,e)}var rr=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=Ke(this,e,[t])).shader=null,r.properties=null,r.tempMatrix=new n.uq,r.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:r.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:r.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:r.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:r.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:n.QE.UNSIGNED_BYTE,uploadFunction:r.uploadTint,offset:0}],r.shader=n.Mt.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n","varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",{}),r.state=n.Uw.for2d(),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&er(t,e)}(e,t),r=e,i=[{key:"render",value:function(t){var e=t.children,r=t._maxSize,i=t._batchSize,o=this.renderer,a=e.length;if(0!==a){a>r&&!t.autoResize&&(a=r);var s=t._buffers;s||(s=t._buffers=this.generateBuffers(t));var u=e[0]._texture.baseTexture,c=u.alphaMode>0;this.state.blendMode=n.Wp.correctBlendMode(t.blendMode,c),o.state.set(this.state);var l=o.gl,f=t.worldTransform.copyTo(this.tempMatrix);f.prepend(o.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=f.toArray(!0),this.shader.uniforms.uColor=n.Q1.shared.setValue(t.tintRgb).premultiply(t.worldAlpha,c).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=u,this.renderer.shader.bind(this.shader);for(var h=!1,p=0,d=0;p<a;p+=i,d+=1){var y=a-p;y>i&&(y=i),d>=s.length&&s.push(this._generateOneMoreBuffer(t));var v=s[d];v.uploadDynamic(e,p,y);var m=t._bufferUpdateIDs[d]||0;(h=h||v._updateID<m)&&(v._updateID=t._updateID,v.uploadStatic(e,p,y)),o.geometry.bind(v.geometry),l.drawElements(l.TRIANGLES,6*y,l.UNSIGNED_SHORT,0)}}}},{key:"generateBuffers",value:function(t){for(var e=[],r=t._maxSize,n=t._batchSize,i=t._properties,o=0;o<r;o+=n)e.push(new He(this.properties,i,n));return e}},{key:"_generateOneMoreBuffer",value:function(t){var e=t._batchSize,r=t._properties;return new He(this.properties,r,e)}},{key:"uploadVertices",value:function(t,e,r,n,i,o){for(var a=0,s=0,u=0,c=0,l=0;l<r;++l){var f=t[e+l],h=f._texture,p=f.scale.x,d=f.scale.y,y=h.trim,v=h.orig;y?(a=(s=y.x-f.anchor.x*v.width)+y.width,u=(c=y.y-f.anchor.y*v.height)+y.height):(a=v.width*(1-f.anchor.x),s=v.width*-f.anchor.x,u=v.height*(1-f.anchor.y),c=v.height*-f.anchor.y),n[o]=s*p,n[o+1]=c*d,n[o+i]=a*p,n[o+i+1]=c*d,n[o+2*i]=a*p,n[o+2*i+1]=u*d,n[o+3*i]=s*p,n[o+3*i+1]=u*d,o+=4*i}}},{key:"uploadPosition",value:function(t,e,r,n,i,o){for(var a=0;a<r;a++){var s=t[e+a].position;n[o]=s.x,n[o+1]=s.y,n[o+i]=s.x,n[o+i+1]=s.y,n[o+2*i]=s.x,n[o+2*i+1]=s.y,n[o+3*i]=s.x,n[o+3*i+1]=s.y,o+=4*i}}},{key:"uploadRotation",value:function(t,e,r,n,i,o){for(var a=0;a<r;a++){var s=t[e+a].rotation;n[o]=s,n[o+i]=s,n[o+2*i]=s,n[o+3*i]=s,o+=4*i}}},{key:"uploadUvs",value:function(t,e,r,n,i,o){for(var a=0;a<r;++a){var s=t[e+a]._texture._uvs;s?(n[o]=s.x0,n[o+1]=s.y0,n[o+i]=s.x1,n[o+i+1]=s.y1,n[o+2*i]=s.x2,n[o+2*i+1]=s.y2,n[o+3*i]=s.x3,n[o+3*i+1]=s.y3,o+=4*i):(n[o]=0,n[o+1]=0,n[o+i]=0,n[o+i+1]=0,n[o+2*i]=0,n[o+2*i+1]=0,n[o+3*i]=0,n[o+3*i+1]=0,o+=4*i)}}},{key:"uploadTint",value:function(t,e,r,i,o,a){for(var s=0;s<r;++s){var u=t[e+s],c=n.Q1.shared.setValue(u._tintRGB).toPremultiplied(u.alpha,u.texture.baseTexture.alphaMode>0);i[a]=c,i[a+o]=c,i[a+2*o]=c,i[a+3*o]=c,a+=4*o}}},{key:"destroy",value:function(){var t,r,n,i,o;(t=e,r="destroy",n=this,o=Je(tr(1&(i=3)?t.prototype:t),r,n),2&i&&"function"==typeof o?function(t){return o.apply(n,t)}:o)([]),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}],i&&Qe(r.prototype,i),o&&Qe(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(n.Pt);rr.extension={name:"particle",type:n.Ag.RendererPlugin},n.XO.add(rr);var nr=function(t){return t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",t}(nr||{});r(36907531),r(47274729),r(48158254),r(78635704),r(83679554);function ir(t){return ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ir(t)}function or(t){return function(t){if(Array.isArray(t))return ar(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return ar(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ar(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ar(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function sr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ur(n.key),n)}}function ur(t){var e=function(t,e){if("object"!=ir(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=ir(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ir(e)?e:e+""}var cr={willReadFrequently:!0},lr=function(){function t(e,r,n,i,o,a,s,u,c){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.text=e,this.style=r,this.width=n,this.height=i,this.lines=o,this.lineWidths=a,this.lineHeight=s,this.maxLineWidth=u,this.fontProperties=c}return e=t,i=[{key:"experimentalLetterSpacingSupported",get:function(){var e=t._experimentalLetterSpacingSupported;if(void 0!==e){var r=n.W0.ADAPTER.getCanvasRenderingContext2D().prototype;e=t._experimentalLetterSpacingSupported="letterSpacing"in r||"textLetterSpacing"in r}return e}},{key:"measureText",value:function(e,r,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t._canvas;n=null!=n?n:r.wordWrap;var o=r.toFontString(),a=t.measureFont(o);0===a.fontSize&&(a.fontSize=r.fontSize,a.ascent=r.fontSize);var s=i.getContext("2d",cr);s.font=o;for(var u=(n?t.wordWrap(e,r,i):e).split(/(?:\r\n|\r|\n)/),c=new Array(u.length),l=0,f=0;f<u.length;f++){var h=t._measureText(u[f],r.letterSpacing,s);c[f]=h,l=Math.max(l,h)}var p=l+r.strokeThickness;r.dropShadow&&(p+=r.dropShadowDistance);var d=r.lineHeight||a.fontSize+r.strokeThickness,y=Math.max(d,a.fontSize+2*r.strokeThickness)+r.leading+(u.length-1)*(d+r.leading);return r.dropShadow&&(y+=r.dropShadowDistance),new t(e,r,p,y,u,c,d+r.leading,l,a)}},{key:"_measureText",value:function(e,r,n){var i=!1;t.experimentalLetterSpacingSupported&&(t.experimentalLetterSpacing?(n.letterSpacing="".concat(r,"px"),n.textLetterSpacing="".concat(r,"px"),i=!0):(n.letterSpacing="0px",n.textLetterSpacing="0px"));var o=n.measureText(e).width;return o>0&&(i?o-=r:o+=(t.graphemeSegmenter(e).length-1)*r),o}},{key:"wordWrap",value:function(e,r){for(var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:t._canvas).getContext("2d",cr),i=0,o="",a="",s=Object.create(null),u=r.letterSpacing,c=r.whiteSpace,l=t.collapseSpaces(c),f=t.collapseNewlines(c),h=!l,p=r.wordWrapWidth+u,d=t.tokenize(e),y=0;y<d.length;y++){var v=d[y];if(t.isNewline(v)){if(!f){a+=t.addLine(o),h=!l,o="",i=0;continue}v=" "}if(l){var m=t.isBreakingSpace(v),b=t.isBreakingSpace(o[o.length-1]);if(m&&b)continue}var g=t.getFromCache(v,u,s,n);if(g>p)if(""!==o&&(a+=t.addLine(o),o="",i=0),t.canBreakWords(v,r.breakWords))for(var w=t.wordWrapSplit(v),S=0;S<w.length;S++){for(var x=w[S],_=x,E=1;w[S+E];){var T=w[S+E];if(t.canBreakChars(_,T,v,S,r.breakWords))break;x+=T,_=T,E++}S+=E-1;var k=t.getFromCache(x,u,s,n);k+i>p&&(a+=t.addLine(o),h=!1,o="",i=0),o+=x,i+=k}else{o.length>0&&(a+=t.addLine(o),o="",i=0);var P=y===d.length-1;a+=t.addLine(v,!P),h=!1,o="",i=0}else g+i>p&&(h=!1,a+=t.addLine(o),o="",i=0),(o.length>0||!t.isBreakingSpace(v)||h)&&(o+=v,i+=g)}return a+=t.addLine(o,!1)}},{key:"addLine",value:function(e){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e=t.trimRight(e),e=r?"".concat(e,"\n"):e}},{key:"getFromCache",value:function(e,r,n,i){var o=n[e];return"number"!=typeof o&&(o=t._measureText(e,r,i)+r,n[e]=o),o}},{key:"collapseSpaces",value:function(t){return"normal"===t||"pre-line"===t}},{key:"collapseNewlines",value:function(t){return"normal"===t}},{key:"trimRight",value:function(e){if("string"!=typeof e)return"";for(var r=e.length-1;r>=0;r--){var n=e[r];if(!t.isBreakingSpace(n))break;e=e.slice(0,-1)}return e}},{key:"isNewline",value:function(e){return"string"==typeof e&&t._newlines.includes(e.charCodeAt(0))}},{key:"isBreakingSpace",value:function(e,r){return"string"==typeof e&&t._breakingSpaces.includes(e.charCodeAt(0))}},{key:"tokenize",value:function(e){var r=[],n="";if("string"!=typeof e)return r;for(var i=0;i<e.length;i++){var o=e[i],a=e[i+1];t.isBreakingSpace(o,a)||t.isNewline(o)?(""!==n&&(r.push(n),n=""),r.push(o)):n+=o}return""!==n&&r.push(n),r}},{key:"canBreakWords",value:function(t,e){return e}},{key:"canBreakChars",value:function(t,e,r,n,i){return!0}},{key:"wordWrapSplit",value:function(e){return t.graphemeSegmenter(e)}},{key:"measureFont",value:function(e){if(t._fonts[e])return t._fonts[e];var r={ascent:0,descent:0,fontSize:0},n=t._canvas,i=t._context;i.font=e;var o=t.METRICS_STRING+t.BASELINE_SYMBOL,a=Math.ceil(i.measureText(o).width),s=Math.ceil(i.measureText(t.BASELINE_SYMBOL).width),u=Math.ceil(t.HEIGHT_MULTIPLIER*s);if(s=s*t.BASELINE_MULTIPLIER|0,0===a||0===u)return t._fonts[e]=r,r;n.width=a,n.height=u,i.fillStyle="#f00",i.fillRect(0,0,a,u),i.font=e,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(o,0,s);var c=i.getImageData(0,0,a,u).data,l=c.length,f=4*a,h=0,p=0,d=!1;for(h=0;h<s;++h){for(var y=0;y<f;y+=4)if(255!==c[p+y]){d=!0;break}if(d)break;p+=f}for(r.ascent=s-h,p=l-f,d=!1,h=u;h>s;--h){for(var v=0;v<f;v+=4)if(255!==c[p+v]){d=!0;break}if(d)break;p-=f}return r.descent=h-s,r.fontSize=r.ascent+r.descent,t._fonts[e]=r,r}},{key:"clearMetrics",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e?delete t._fonts[e]:t._fonts={}}},{key:"_canvas",get:function(){if(!t.__canvas){var e;try{var r,i=new OffscreenCanvas(0,0);if(null!==(r=i.getContext("2d",cr))&&void 0!==r&&r.measureText)return t.__canvas=i,i;e=n.W0.ADAPTER.createCanvas()}catch(o){e=n.W0.ADAPTER.createCanvas()}e.width=e.height=10,t.__canvas=e}return t.__canvas}},{key:"_context",get:function(){return t.__context||(t.__context=t._canvas.getContext("2d",cr)),t.__context}}],(r=null)&&sr(e.prototype,r),i&&sr(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,r,i}();lr.METRICS_STRING="|q",lr.BASELINE_SYMBOL="M",lr.BASELINE_MULTIPLIER=1.4,lr.HEIGHT_MULTIPLIER=2,lr.graphemeSegmenter=function(){if("function"==typeof(null===Intl||void 0===Intl?void 0:Intl.Segmenter)){var t=new Intl.Segmenter;return function(e){return or(t.segment(e)).map(function(t){return t.segment})}}return function(t){return or(t)}}(),lr.experimentalLetterSpacing=!1,lr._fonts={},lr._newlines=[10,13],lr._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var fr=lr;r(13223918);function hr(t){return hr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hr(t)}function pr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dr(n.key),n)}}function dr(t){var e=function(t,e){if("object"!=hr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=hr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==hr(e)?e:e+""}var yr=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],vr=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.styleID=0,this.reset(),gr(this,e,e)}return e=t,(r=[{key:"clone",value:function(){var e={};return gr(e,this,t.defaultStyle),new t(e)}},{key:"reset",value:function(){gr(this,t.defaultStyle,t.defaultStyle)}},{key:"align",get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.styleID++)}},{key:"breakWords",get:function(){return this._breakWords},set:function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)}},{key:"dropShadow",get:function(){return this._dropShadow},set:function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)}},{key:"dropShadowAlpha",get:function(){return this._dropShadowAlpha},set:function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)}},{key:"dropShadowAngle",get:function(){return this._dropShadowAngle},set:function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)}},{key:"dropShadowBlur",get:function(){return this._dropShadowBlur},set:function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)}},{key:"dropShadowColor",get:function(){return this._dropShadowColor},set:function(t){var e=br(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)}},{key:"dropShadowDistance",get:function(){return this._dropShadowDistance},set:function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)}},{key:"fill",get:function(){return this._fill},set:function(t){var e=br(t);this._fill!==e&&(this._fill=e,this.styleID++)}},{key:"fillGradientType",get:function(){return this._fillGradientType},set:function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)}},{key:"fillGradientStops",get:function(){return this._fillGradientStops},set:function(t){(function(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(var r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0})(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)}},{key:"fontFamily",get:function(){return this._fontFamily},set:function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)}},{key:"fontSize",get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)}},{key:"fontStyle",get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)}},{key:"fontVariant",get:function(){return this._fontVariant},set:function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)}},{key:"fontWeight",get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)}},{key:"lineHeight",get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)}},{key:"leading",get:function(){return this._leading},set:function(t){this._leading!==t&&(this._leading=t,this.styleID++)}},{key:"lineJoin",get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)}},{key:"miterLimit",get:function(){return this._miterLimit},set:function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)}},{key:"padding",get:function(){return this._padding},set:function(t){this._padding!==t&&(this._padding=t,this.styleID++)}},{key:"stroke",get:function(){return this._stroke},set:function(t){var e=br(t);this._stroke!==e&&(this._stroke=e,this.styleID++)}},{key:"strokeThickness",get:function(){return this._strokeThickness},set:function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)}},{key:"textBaseline",get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)}},{key:"trim",get:function(){return this._trim},set:function(t){this._trim!==t&&(this._trim=t,this.styleID++)}},{key:"whiteSpace",get:function(){return this._whiteSpace},set:function(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)}},{key:"wordWrap",get:function(){return this._wordWrap},set:function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)}},{key:"wordWrapWidth",get:function(){return this._wordWrapWidth},set:function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)}},{key:"toFontString",value:function(){var t="number"==typeof this.fontSize?"".concat(this.fontSize,"px"):this.fontSize,e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(var r=e.length-1;r>=0;r--){var n=e[r].trim();!/([\"\'])[^\'\"]+\1/.test(n)&&!yr.includes(n)&&(n='"'.concat(n,'"')),e[r]=n}return"".concat(this.fontStyle," ").concat(this.fontVariant," ").concat(this.fontWeight," ").concat(t," ").concat(e.join(","))}}])&&pr(e.prototype,r),n&&pr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,r,n}();vr.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:nr.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};var mr=vr;function br(t){var e=n.Q1.shared,r=function(t){var r=e.setValue(t);return 1===r.alpha?r.toHex():r.toRgbaString()};return Array.isArray(t)?t.map(r):r(t)}function gr(t,e,r){for(var n in r)Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]}function wr(t){return wr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wr(t)}function Sr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,xr(n.key),n)}}function xr(t){var e=function(t,e){if("object"!=wr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=wr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==wr(e)?e:e+""}function _r(t,e,r){return e=Pr(e),function(t,e){if(e&&("object"==wr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Er()?Reflect.construct(e,r||[],Pr(t).constructor):e.apply(t,r))}function Er(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Er=function(){return!!t})()}function Tr(t,e,r,n){var i=kr(Pr(1&n?t.prototype:t),e,r);return 2&n&&"function"==typeof i?function(t){return i.apply(r,t)}:i}function kr(){return kr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=Pr(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},kr.apply(null,arguments)}function Pr(t){return Pr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Pr(t)}function Or(t,e){return Or=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Or(t,e)}var Ar={texture:!0,children:!1,baseTexture:!0},Rr=function(t){function e(t,r,i){var o,a;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=!1;i||(i=n.W0.ADAPTER.createCanvas(),s=!0),i.width=3,i.height=3;var u=n.gP.from(i);return u.orig=new n.M_,u.trim=new n.M_,(a=_r(this,e,[u]))._ownCanvas=s,a.canvas=i,a.context=i.getContext("2d",{willReadFrequently:!0}),a._resolution=null!==(o=e.defaultResolution)&&void 0!==o?o:n.W0.RESOLUTION,a._autoResolution=e.defaultAutoResolution,a._text=null,a._style=null,a._styleListener=null,a._font="",a.text=t,a.style=r,a.localStyleID=-1,a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Or(t,e)}(e,t),r=e,i=[{key:"updateText",value:function(t){var e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),this.dirty||!t){this._font=this._style.toFontString();var r,i,o=this.context,a=fr.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),s=a.width,u=a.height,c=a.lines,l=a.lineHeight,f=a.lineWidths,h=a.maxLineWidth,p=a.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,s)+2*e.padding)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,u)+2*e.padding)*this._resolution),o.scale(this._resolution,this._resolution),o.clearRect(0,0,this.canvas.width,this.canvas.height),o.font=this._font,o.lineWidth=e.strokeThickness,o.textBaseline=e.textBaseline,o.lineJoin=e.lineJoin,o.miterLimit=e.miterLimit;for(var d=e.dropShadow?2:1,y=0;y<d;++y){var v=e.dropShadow&&0===y,m=v?Math.ceil(Math.max(1,u)+2*e.padding):0,b=m*this._resolution;if(v){o.fillStyle="black",o.strokeStyle="black";var g=e.dropShadowColor,w=e.dropShadowBlur*this._resolution,S=e.dropShadowDistance*this._resolution;o.shadowColor=n.Q1.shared.setValue(g).setAlpha(e.dropShadowAlpha).toRgbaString(),o.shadowBlur=w,o.shadowOffsetX=Math.cos(e.dropShadowAngle)*S,o.shadowOffsetY=Math.sin(e.dropShadowAngle)*S+b}else o.fillStyle=this._generateFillStyle(e,c,a),o.strokeStyle=e.stroke,o.shadowColor="black",o.shadowBlur=0,o.shadowOffsetX=0,o.shadowOffsetY=0;var x=(l-p.fontSize)/2;l-p.fontSize<0&&(x=0);for(var _=0;_<c.length;_++)r=e.strokeThickness/2,i=e.strokeThickness/2+_*l+p.ascent+x,"right"===e.align?r+=h-f[_]:"center"===e.align&&(r+=(h-f[_])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(c[_],r+e.padding,i+e.padding-m,!0),e.fill&&this.drawLetterSpacing(c[_],r+e.padding,i+e.padding-m)}this.updateTexture()}}},{key:"drawLetterSpacing",value:function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=this._style.letterSpacing,o=!1;if(fr.experimentalLetterSpacingSupported&&(fr.experimentalLetterSpacing?(this.context.letterSpacing="".concat(i,"px"),this.context.textLetterSpacing="".concat(i,"px"),o=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),0===i||o)n?this.context.strokeText(t,e,r):this.context.fillText(t,e,r);else for(var a=e,s=fr.graphemeSegmenter(t),u=this.context.measureText(t).width,c=0,l=0;l<s.length;++l){var f=s[l];n?this.context.strokeText(f,a,r):this.context.fillText(f,a,r);for(var h="",p=l+1;p<s.length;++p)h+=s[p];a+=u-(c=this.context.measureText(h).width)+i,u=c}}},{key:"updateTexture",value:function(){var t=this.canvas;if(this._style.trim){var e=n.Wp.trimCanvas(t);e.data&&(t.width=e.width,t.height=e.height,this.context.putImageData(e.data,0,0))}var r=this._texture,i=this._style,o=i.trim?0:i.padding,a=r.baseTexture;r.trim.width=r._frame.width=t.width/this._resolution,r.trim.height=r._frame.height=t.height/this._resolution,r.trim.x=-o,r.trim.y=-o,r.orig.width=r._frame.width-2*o,r.orig.height=r._frame.height-2*o,this._onTextureUpdate(),a.setRealSize(t.width,t.height,this._resolution),r.updateUvs(),this.dirty=!1}},{key:"_render",value:function(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),Tr(e,"_render",this,3)([t])}},{key:"updateTransform",value:function(){this.updateText(!0),Tr(e,"updateTransform",this,3)([])}},{key:"getBounds",value:function(t,r){return this.updateText(!0),-1===this._textureID&&(t=!1),Tr(e,"getBounds",this,3)([t,r])}},{key:"getLocalBounds",value:function(t){return this.updateText(!0),Tr(e,"getLocalBounds",this,1).call(this,t)}},{key:"_calculateBounds",value:function(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}},{key:"_generateFillStyle",value:function(t,e,r){var n,i=t.fill;if(!Array.isArray(i))return i;if(1===i.length)return i[0];var o=t.dropShadow?t.dropShadowDistance:0,a=t.padding||0,s=this.canvas.width/this._resolution-o-2*a,u=this.canvas.height/this._resolution-o-2*a,c=i.slice(),l=t.fillGradientStops.slice();if(!l.length)for(var f=c.length+1,h=1;h<f;++h)l.push(h/f);if(c.unshift(i[0]),l.unshift(0),c.push(i[i.length-1]),l.push(1),t.fillGradientType===nr.LINEAR_VERTICAL){n=this.context.createLinearGradient(s/2,a,s/2,u+a);for(var p=r.fontProperties.fontSize+t.strokeThickness,d=0;d<e.length;d++){var y=r.lineHeight*(d-1)+p,v=r.lineHeight*d,m=v;d>0&&y>v&&(m=(v+y)/2);var b=v+p,g=r.lineHeight*(d+1),w=b;d+1<e.length&&g<b&&(w=(b+g)/2);for(var S=(w-m)/u,x=0;x<c.length;x++){var _=0;_="number"==typeof l[x]?l[x]:x/c.length;var E=Math.min(1,Math.max(0,m/u+_*S));E=Number(E.toFixed(5)),n.addColorStop(E,c[x])}}}else{n=this.context.createLinearGradient(a,u/2,s+a,u/2);for(var T=c.length+1,k=1,P=0;P<c.length;P++){var O=void 0;O="number"==typeof l[P]?l[P]:k/T,n.addColorStop(O,c[P]),k++}}return n}},{key:"destroy",value:function(t){"boolean"==typeof t&&(t={children:t}),t=Object.assign({},Ar,t),Tr(e,"destroy",this,3)([t]),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}},{key:"width",get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){this.updateText(!0);var e=n.Wp.sign(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}},{key:"height",get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){this.updateText(!0);var e=n.Wp.sign(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}},{key:"style",get:function(){return this._style},set:function(t){t=t||{},this._style=t instanceof mr?t:new mr(t),this.localStyleID=-1,this.dirty=!0}},{key:"text",get:function(){return this._text},set:function(t){t=String(null!=t?t:""),this._text!==t&&(this._text=t,this.dirty=!0)}},{key:"resolution",get:function(){return this._resolution},set:function(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}}],o=[{key:"experimentalLetterSpacing",get:function(){return fr.experimentalLetterSpacing},set:function(t){n.Wp.deprecation("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),fr.experimentalLetterSpacing=t}}],i&&Sr(r.prototype,i),o&&Sr(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(o.k);Rr.defaultAutoResolution=!0;var jr=Rr;function Ir(t){return Ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ir(t)}function Cr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Mr(n.key),n)}}function Mr(t){var e=function(t,e){if("object"!=Ir(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Ir(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ir(e)?e:e+""}var Dr=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.maxItemsPerFrame=e,this.itemsLeft=0},(e=[{key:"beginFrame",value:function(){this.itemsLeft=this.maxItemsPerFrame}},{key:"allowedToUpload",value:function(){return this.itemsLeft-- >0}}])&&Cr(t.prototype,e),r&&Cr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();function Nr(t){return Nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nr(t)}function Br(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Fr(n.key),n)}}function Fr(t){var e=function(t,e){if("object"!=Nr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Nr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Nr(e)?e:e+""}function Lr(t,e){var r,i=!1;if(null!=t&&null!==(r=t._textures)&&void 0!==r&&r.length)for(var o=0;o<t._textures.length;o++)if(t._textures[o]instanceof n.gP){var a=t._textures[o].baseTexture;e.includes(a)||(e.push(a),i=!0)}return i}function Ur(t,e){if(t.baseTexture instanceof n.t5){var r=t.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function Vr(t,e){if(t._texture&&t._texture instanceof n.gP){var r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function Xr(t,e){return e instanceof jr&&(e.updateText(!0),!0)}function Gr(t,e){if(e instanceof mr){var r=e.toFontString();return fr.measureFont(r),!0}return!1}function Yr(t,e){if(t instanceof jr){e.includes(t.style)||e.push(t.style),e.includes(t)||e.push(t);var r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function qr(t,e){return t instanceof mr&&(e.includes(t)||e.push(t),!0)}var Wr=function(){return t=function t(e){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.limiter=new Dr(t.uploadsPerFrame),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){r.queue&&r.prepareItems()},this.registerFindHook(Yr),this.registerFindHook(qr),this.registerFindHook(Lr),this.registerFindHook(Ur),this.registerFindHook(Vr),this.registerUploadHook(Xr),this.registerUploadHook(Gr)},(e=[{key:"upload",value:function(t){var e=this;return new Promise(function(r){t&&e.add(t),e.queue.length?(e.completes.push(r),e.ticking||(e.ticking=!0,n.Rv.system.addOnce(e.tick,e,n.dQ.UTILITY))):r()})}},{key:"tick",value:function(){setTimeout(this.delayedTick,0)}},{key:"prepareItems",value:function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],e=!1;if(t&&!t._destroyed)for(var r=0,i=this.uploadHooks.length;r<i;r++)if(this.uploadHooks[r](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)n.Rv.system.addOnce(this.tick,this,n.dQ.UTILITY);else{this.ticking=!1;var o=this.completes.slice(0);this.completes.length=0;for(var a=0,s=o.length;a<s;a++)o[a]()}}},{key:"registerFindHook",value:function(t){return t&&this.addHooks.push(t),this}},{key:"registerUploadHook",value:function(t){return t&&this.uploadHooks.push(t),this}},{key:"add",value:function(t){for(var e=0,r=this.addHooks.length;e<r&&!this.addHooks[e](t,this.queue);e++);if(t instanceof i.mc)for(var n=t.children.length-1;n>=0;n--)this.add(t.children[n]);return this}},{key:"destroy",value:function(){this.ticking&&n.Rv.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}}])&&Br(t.prototype,e),r&&Br(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();Wr.uploadsPerFrame=4;var Hr=Wr;function zr(t){return zr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zr(t)}function Qr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Zr(n.key),n)}}function Zr(t){var e=function(t,e){if("object"!=zr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=zr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==zr(e)?e:e+""}function Kr(t,e,r){return e=Jr(e),function(t,e){if(e&&("object"==zr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,$r()?Reflect.construct(e,r||[],Jr(t).constructor):e.apply(t,r))}function $r(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return($r=function(){return!!t})()}function Jr(t){return Jr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Jr(t)}function tn(t,e){return tn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},tn(t,e)}function en(t,e){return e instanceof n.t5&&(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0)}function rn(t,e){if(!(e instanceof Xe.A1))return!1;var r=e.geometry;e.finishPoly(),r.updateBatches();for(var n=r.batches,i=0;i<n.length;i++){var o=n[i].style.texture;o&&en(t,o.baseTexture)}return r.batchable||t.geometry.bind(r,e._resolveDirectShader(t)),!0}function nn(t,e){return t instanceof Xe.A1&&(e.push(t),!0)}Object.defineProperties(n.W0,{UPLOADS_PER_FRAME:{get:function(){return Hr.uploadsPerFrame},set:function(t){n.Wp.deprecation("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),Hr.uploadsPerFrame=t}}});var on=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=Kr(this,e,[t])).uploadHookHelper=r.renderer,r.registerFindHook(nn),r.registerUploadHook(en),r.registerUploadHook(rn),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tn(t,e)}(e,t),r=e,n&&Qr(r.prototype,n),i&&Qr(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i}(Hr);on.extension={name:"prepare",type:n.Ag.RendererSystem},n.XO.add(on);r(71434170);function an(t){return an="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},an(t)}function sn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,un(n.key),n)}}function un(t){var e=function(t,e){if("object"!=an(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=an(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==an(e)?e:e+""}function cn(t,e,r){return e=hn(e),function(t,e){if(e&&("object"==an(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,ln()?Reflect.construct(e,r||[],hn(t).constructor):e.apply(t,r))}function ln(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(ln=function(){return!!t})()}function fn(){return fn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=hn(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},fn.apply(null,arguments)}function hn(t){return hn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},hn(t)}function pn(t,e){return pn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},pn(t,e)}var dn=function(t){function e(t){var r,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=cn(this,e,[t[0]instanceof n.gP?t[0]:t[0].texture]))._textures=null,r._durations=null,r._autoUpdate=i,r._isConnectedToTicker=!1,r.animationSpeed=1,r.loop=!0,r.updateAnchor=!1,r.onComplete=null,r.onFrameChange=null,r.onLoop=null,r._currentTime=0,r._playing=!1,r._previousFrame=null,r.textures=t,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pn(t,e)}(e,t),function(t,e,r){return e&&sn(t.prototype,e),r&&sn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"stop",value:function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(n.Rv.shared.remove(this.update,this),this._isConnectedToTicker=!1))}},{key:"play",value:function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(n.Rv.shared.add(this.update,this,n.dQ.HIGH),this._isConnectedToTicker=!0))}},{key:"gotoAndStop",value:function(t){this.stop(),this.currentFrame=t}},{key:"gotoAndPlay",value:function(t){this.currentFrame=t,this.play()}},{key:"update",value:function(t){if(this._playing){var e=this.animationSpeed*t,r=this.currentFrame;if(null!==this._durations){var n=this._currentTime%1*this._durations[this.currentFrame];for(n+=e/60*1e3;n<0;)this._currentTime--,n+=this._durations[this.currentFrame];var i=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);n>=this._durations[this.currentFrame];)n-=this._durations[this.currentFrame]*i,this._currentTime+=i;this._currentTime+=n/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<r||this.animationSpeed<0&&this.currentFrame>r)&&this.onLoop(),this.updateTexture())}}},{key:"updateTexture",value:function(){var t=this.currentFrame;this._previousFrame!==t&&(this._previousFrame=t,this._texture=this._textures[t],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}},{key:"destroy",value:function(t){this.stop(),function(t,e,r,n){var i=fn(hn(1&n?t.prototype:t),e,r);return 2&n&&"function"==typeof i?function(t){return i.apply(r,t)}:i}(e,"destroy",this,3)([t]),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}},{key:"totalFrames",get:function(){return this._textures.length}},{key:"textures",get:function(){return this._textures},set:function(t){if(t[0]instanceof n.gP)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(var e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}},{key:"currentFrame",get:function(){var t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t},set:function(t){if(t<0||t>this.totalFrames-1)throw new Error("[AnimatedSprite]: Invalid frame index value ".concat(t,", expected to be between 0 and totalFrames ").concat(this.totalFrames,"."));var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture()}},{key:"playing",get:function(){return this._playing}},{key:"autoUpdate",get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(n.Rv.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(n.Rv.shared.add(this.update,this),this._isConnectedToTicker=!0))}}],[{key:"fromFrames",value:function(t){for(var r=[],i=0;i<t.length;++i)r.push(n.gP.from(t[i]));return new e(r)}},{key:"fromImages",value:function(t){for(var r=[],i=0;i<t.length;++i)r.push(n.gP.from(t[i]));return new e(r)}}])}(o.k);function yn(t){return yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yn(t)}function vn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,mn(n.key),n)}}function mn(t){var e=function(t,e){if("object"!=yn(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=yn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==yn(e)?e:e+""}function bn(t,e,r){return e=xn(e),function(t,e){if(e&&("object"==yn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,gn()?Reflect.construct(e,r||[],xn(t).constructor):e.apply(t,r))}function gn(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(gn=function(){return!!t})()}function wn(t,e,r,n){var i=Sn(xn(1&n?t.prototype:t),e,r);return 2&n&&"function"==typeof i?function(t){return i.apply(r,t)}:i}function Sn(){return Sn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=xn(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},Sn.apply(null,arguments)}function xn(t){return xn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},xn(t)}function _n(t,e){return _n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_n(t,e)}var En=new n.bR,Tn=function(t){function e(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=bn(this,e,[t])).tileTransform=new n.dL,r._width=i,r._height=o,r.uvMatrix=r.texture.uvMatrix||new n.NW(t),r.pluginName="tilingSprite",r.uvRespectAnchor=!1,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_n(t,e)}(e,t),function(t,e,r){return e&&vn(t.prototype,e),r&&vn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"clampMargin",get:function(){return this.uvMatrix.clampMargin},set:function(t){this.uvMatrix.clampMargin=t,this.uvMatrix.update(!0)}},{key:"tileScale",get:function(){return this.tileTransform.scale},set:function(t){this.tileTransform.scale.copyFrom(t)}},{key:"tilePosition",get:function(){return this.tileTransform.position},set:function(t){this.tileTransform.position.copyFrom(t)}},{key:"_onTextureUpdate",value:function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215}},{key:"_render",value:function(t){var e=this._texture;!e||!e.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this))}},{key:"_calculateBounds",value:function(){var t=this._width*-this._anchor._x,e=this._height*-this._anchor._y,r=this._width*(1-this._anchor._x),n=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,e,r,n)}},{key:"getLocalBounds",value:function(t){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new n.M_),t=this._localBoundsRect),this._bounds.getRectangle(t)):wn(e,"getLocalBounds",this,1).call(this,t)}},{key:"containsPoint",value:function(t){this.worldTransform.applyInverse(t,En);var e=this._width,r=this._height,n=-e*this.anchor._x;if(En.x>=n&&En.x<n+e){var i=-r*this.anchor._y;if(En.y>=i&&En.y<i+r)return!0}return!1}},{key:"destroy",value:function(t){wn(e,"destroy",this,3)([t]),this.tileTransform=null,this.uvMatrix=null}},{key:"width",get:function(){return this._width},set:function(t){this._width=t}},{key:"height",get:function(){return this._height},set:function(t){this._height=t}}],[{key:"from",value:function(t,r){return new e(t instanceof n.gP?t:n.gP.from(t,r),r.width,r.height)}}])}(o.k),kn="#version 100\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n";function Pn(t){return Pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pn(t)}function On(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,An(n.key),n)}}function An(t){var e=function(t,e){if("object"!=Pn(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Pn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Pn(e)?e:e+""}function Rn(t,e,r){return e=Cn(e),function(t,e){if(e&&("object"==Pn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return jn(t)}(t,In()?Reflect.construct(e,r||[],Cn(t).constructor):e.apply(t,r))}function jn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function In(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(In=function(){return!!t})()}function Cn(t){return Cn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Cn(t)}function Mn(t,e){return Mn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Mn(t,e)}var Dn=new n.uq,Nn=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=Rn(this,e,[t]),t.runners.contextChange.add(jn(r)),r.quad=new n.X1,r.state=n.Uw.for2d(),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mn(t,e)}(e,t),function(t,e,r){return e&&On(t.prototype,e),r&&On(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"contextChange",value:function(){var t=this.renderer,e={globals:t.globalUniforms};this.simpleShader=n.Mt.from(kn,"#version 100\n#define SHADER_NAME Tiling-Sprite-Simple-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 texSample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = texSample * uColor;\n}\n",e),this.shader=t.context.webGLVersion>1?n.Mt.from("#version 300 es\n#define SHADER_NAME Tiling-Sprite-300\n\nprecision lowp float;\n\nin vec2 aVertexPosition;\nin vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nout vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","#version 300 es\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nin vec2 vTextureCoord;\n\nout vec4 fragmentColor;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0\n\n    fragmentColor = texSample * uColor;\n}\n",e):n.Mt.from(kn,"#version 100\n#ifdef GL_EXT_shader_texture_lod\n    #extension GL_EXT_shader_texture_lod : enable\n#endif\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    #ifdef GL_EXT_shader_texture_lod\n        vec4 texSample = unclamped == coord\n            ? texture2D(uSampler, coord) \n            : texture2DLodEXT(uSampler, coord, 0);\n    #else\n        vec4 texSample = texture2D(uSampler, coord);\n    #endif\n\n    gl_FragColor = texSample * uColor;\n}\n",e)}},{key:"render",value:function(t){var e=this.renderer,r=this.quad,i=r.vertices;i[0]=i[6]=t._width*-t.anchor.x,i[1]=i[3]=t._height*-t.anchor.y,i[2]=i[4]=t._width*(1-t.anchor.x),i[5]=i[7]=t._height*(1-t.anchor.y);var o=t.uvRespectAnchor?t.anchor.x:0,a=t.uvRespectAnchor?t.anchor.y:0;(i=r.uvs)[0]=i[6]=-o,i[1]=i[3]=-a,i[2]=i[4]=1-o,i[5]=i[7]=1-a,r.invalidate();var s=t._texture,u=s.baseTexture,c=u.alphaMode>0,l=t.tileTransform.localTransform,f=t.uvMatrix,h=u.isPowerOfTwo&&s.frame.width===u.width&&s.frame.height===u.height;h&&(u._glTextures[e.CONTEXT_UID]?h=u.wrapMode!==n.uR.CLAMP:u.wrapMode===n.uR.CLAMP&&(u.wrapMode=n.uR.REPEAT));var p=h?this.simpleShader:this.shader,d=s.width,y=s.height,v=t._width,m=t._height;Dn.set(l.a*d/v,l.b*d/m,l.c*y/v,l.d*y/m,l.tx/v,l.ty/m),Dn.invert(),h?Dn.prepend(f.mapCoord):(p.uniforms.uMapCoord=f.mapCoord.toArray(!0),p.uniforms.uClampFrame=f.uClampFrame,p.uniforms.uClampOffset=f.uClampOffset),p.uniforms.uTransform=Dn.toArray(!0),p.uniforms.uColor=n.Q1.shared.setValue(t.tint).premultiply(t.worldAlpha,c).toArray(p.uniforms.uColor),p.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),p.uniforms.uSampler=s,e.shader.bind(p),e.geometry.bind(r),this.state.blendMode=n.Wp.correctBlendMode(t.blendMode,c),e.state.set(this.state),e.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}])}(n.Pt);function Bn(t){return Bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bn(t)}function Fn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ln(n.key),n)}}function Ln(t){var e=function(t,e){if("object"!=Bn(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Bn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Bn(e)?e:e+""}Nn.extension={name:"tilingSprite",type:n.Ag.RendererPlugin},n.XO.add(Nn);var Un=function(){function t(e,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.linkedSheets=[],(e instanceof n.t5||e instanceof n.gP)&&(e={texture:e,data:r,resolutionFilename:i});var o=e,a=o.texture,s=o.data,u=o.resolutionFilename,c=void 0===u?null:u,l=o.cachePrefix,f=void 0===l?"":l;this.cachePrefix=f,this._texture=a instanceof n.gP?a:null,this.baseTexture=a instanceof n.t5?a:this._texture.baseTexture,this.textures={},this.animations={},this.data=s;var h=this.baseTexture.resource;this.resolution=this._updateResolution(c||(h?h.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return function(t,e,r){return e&&Fn(t.prototype,e),r&&Fn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(t,[{key:"_updateResolution",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this.data.meta.scale,r=n.Wp.getResolutionOfUrl(t,null);return null===r&&(r="number"==typeof e?e:parseFloat(null!=e?e:"1")),1!==r&&this.baseTexture.setResolution(r),r}},{key:"parse",value:function(){var e=this;return new Promise(function(r){e._callback=r,e._batchIndex=0,e._frameKeys.length<=t.BATCH_SIZE?(e._processFrames(0),e._processAnimations(),e._parseComplete()):e._nextBatch()})}},{key:"_processFrames",value:function(e){for(var r=e,i=t.BATCH_SIZE;r-e<i&&r<this._frameKeys.length;){var o=this._frameKeys[r],a=this._frames[o],s=a.frame;if(s){var u=null,c=null,l=!1!==a.trimmed&&a.sourceSize?a.sourceSize:a.frame,f=new n.M_(0,0,Math.floor(l.w)/this.resolution,Math.floor(l.h)/this.resolution);u=a.rotated?new n.M_(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.h)/this.resolution,Math.floor(s.w)/this.resolution):new n.M_(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution),!1!==a.trimmed&&a.spriteSourceSize&&(c=new n.M_(Math.floor(a.spriteSourceSize.x)/this.resolution,Math.floor(a.spriteSourceSize.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution)),this.textures[o]=new n.gP(this.baseTexture,u,f,c,a.rotated?2:0,a.anchor,a.borders),n.gP.addToCache(this.textures[o],this.cachePrefix+o.toString())}r++}}},{key:"_processAnimations",value:function(){var t=this.data.animations||{};for(var e in t){this.animations[e]=[];for(var r=0;r<t[e].length;r++){var n=t[e][r];this.animations[e].push(this.textures[n])}}}},{key:"_parseComplete",value:function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)}},{key:"_nextBatch",value:function(){var e=this;this._processFrames(this._batchIndex*t.BATCH_SIZE),this._batchIndex++,setTimeout(function(){e._batchIndex*t.BATCH_SIZE<e._frameKeys.length?e._nextBatch():(e._processAnimations(),e._parseComplete())},0)}},{key:"destroy",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];for(var r in this.textures)this.textures[r].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&(null!==(t=this._texture)&&void 0!==t&&t.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}}])}();Un.BATCH_SIZE=1e3;var Vn=Un;r(74534969);function Xn(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return Gn(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Gn(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function Gn(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Yn(){var t,e,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function o(r,n,i,o){var u=n&&n.prototype instanceof s?n:s,c=Object.create(u.prototype);return qn(c,"_invoke",function(r,n,i){var o,s,u,c=0,l=i||[],f=!1,h={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,r){return o=e,s=0,u=t,h.n=r,a}};function p(r,n){for(s=r,u=n,e=0;!f&&c&&!i&&e<l.length;e++){var i,o=l[e],p=h.p,d=o[2];r>3?(i=d===n)&&(u=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=t):o[0]<=p&&((i=r<2&&p<o[1])?(s=0,h.v=n,h.n=o[1]):p<d&&(i=r<3||o[0]>n||n>d)&&(o[4]=r,o[5]=n,h.n=d,s=0))}if(i||r>1)return a;throw f=!0,n}return function(i,l,d){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,d),s=l,u=d;(e=s<2?t:u)||!f;){o||(s?s<3?(s>1&&(h.n=-1),p(s,u)):h.n=u:h.v=u);try{if(c=2,o){if(s||(i="next"),e=o[i]){if(!(e=e.call(o,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,s<2&&(s=0)}else 1===s&&(e=o.return)&&e.call(o),s<2&&(u=TypeError("The iterator does not provide a '"+i+"' method"),s=1);o=t}else if((e=(f=h.n<0)?u:r.call(n,h))!==a)break}catch(e){o=t,s=1,u=e}finally{c=1}}return{value:e,done:f}}}(r,i,o),!0),c}var a={};function s(){}function u(){}function c(){}e=Object.getPrototypeOf;var l=[][n]?e(e([][n]())):(qn(e={},n,function(){return this}),e),f=c.prototype=s.prototype=Object.create(l);function h(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,qn(t,i,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=c,qn(f,"constructor",c),qn(c,"constructor",u),u.displayName="GeneratorFunction",qn(c,i,"GeneratorFunction"),qn(f),qn(f,i,"Generator"),qn(f,n,function(){return this}),qn(f,"toString",function(){return"[object Generator]"}),(Yn=function(){return{w:o,m:h}})()}function qn(t,e,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}qn=function(t,e,r,n){function o(e,r){qn(t,e,function(t){return this._invoke(e,r,t)})}e?i?i(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n}):t[e]=r:(o("next",0),o("throw",1),o("return",2))},qn(t,e,r,n)}function Wn(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function Hn(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function a(t){Wn(o,n,i,a,s,"next",t)}function s(t){Wn(o,n,i,a,s,"throw",t)}a(void 0)})}}var zn=["jpg","png","jpeg","avif","webp","s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"];function Qn(t,e,r){var i={};if(t.forEach(function(t){i[t]=e}),Object.keys(e.textures).forEach(function(t){i["".concat(e.cachePrefix).concat(t)]=e.textures[t]}),!r){var o=n.Wp.path.dirname(t[0]);e.linkedSheets.forEach(function(t,r){Object.assign(i,Qn(["".concat(o,"/").concat(e.data.meta.related_multi_packs[r])],t,!0))})}return i}var Zn={extension:n.Ag.Asset,cache:{test:function(t){return t instanceof Vn},getCacheableAssets:function(t,e){return Qn(t,e,!1)}},resolver:{test:function(t){var e=t.split("?")[0].split("."),r=e.pop(),n=e.pop();return"json"===r&&zn.includes(n)},parse:function(t){var e,r,i=t.split(".");return{resolution:parseFloat(null!==(e=null===(r=n.W0.RETINA_PREFIX.exec(t))||void 0===r?void 0:r[1])&&void 0!==e?e:"1"),format:i[i.length-2],src:t}}},loader:{name:"spritesheetLoader",extension:{type:n.Ag.LoadParser,priority:je.T9.Normal},testParse:function(t,e){return Hn(Yn().m(function r(){return Yn().w(function(r){for(;;)if(0===r.n)return r.a(2,".json"===n.Wp.path.extname(e.src).toLowerCase()&&!!t.frames)},r)}))()},parse:function(t,e,r){return Hn(Yn().m(function i(){var o,a,s,u,c,l,f,h,p,d,y,v,m,b,g,w,S,x,_,E;return Yn().w(function(i){for(;;)switch(i.p=i.n){case 0:if(s=null!==(o=null==e?void 0:e.data)&&void 0!==o?o:{},u=s.texture,c=s.imageFilename,l=s.cachePrefix,(f=n.Wp.path.dirname(e.src))&&f.lastIndexOf("/")!==f.length-1&&(f+="/"),!u||!u.baseTexture){i.n=1;break}h=u,i.n=3;break;case 1:return p=(0,je.Y8)(f+(null!=c?c:t.meta.image),e.src),i.n=2,r.load([p]);case 2:_=p,h=i.v[_];case 3:return d=new Vn({texture:h.baseTexture,data:t,resolutionFilename:e.src,cachePrefix:l}),i.n=4,d.parse();case 4:if(y=null==t||null===(a=t.meta)||void 0===a?void 0:a.related_multi_packs,!Array.isArray(y)){i.n=14;break}v=[],m=Xn(y),i.p=5,m.s();case 6:if((b=m.n()).done){i.n=9;break}if("string"==typeof(w=b.value)){i.n=7;break}return i.a(3,8);case 7:S=f+w,(null===(g=e.data)||void 0===g?void 0:g.ignoreMultiPack)||(S=(0,je.Y8)(S,e.src),v.push(r.load({src:S,data:{ignoreMultiPack:!0}})));case 8:i.n=6;break;case 9:i.n=11;break;case 10:i.p=10,E=i.v,m.e(E);case 11:return i.p=11,m.f(),i.f(11);case 12:return i.n=13,Promise.all(v);case 13:x=i.v,d.linkedSheets=x,x.forEach(function(t){t.linkedSheets=[d].concat(d.linkedSheets.filter(function(e){return e!==t}))});case 14:return i.a(2,d)}},i,null,[[5,10,11,12]])}))()},unload:function(t){t.destroy(!0)}}};n.XO.add(Zn);r(55705852);function Kn(t){return Kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kn(t)}function $n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ti(n.key),n)}}function Jn(t,e,r){return e&&$n(t.prototype,e),r&&$n(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ti(t){var e=function(t,e){if("object"!=Kn(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Kn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Kn(e)?e:e+""}var ei=Jn(function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]});function ri(t){return ri="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ri(t)}function ni(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ii(n.key),n)}}function ii(t){var e=function(t,e){if("object"!=ri(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=ri(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ri(e)?e:e+""}var oi=function(){return function(t,e,r){return e&&ni(t.prototype,e),r&&ni(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},null,[{key:"test",value:function(t){return"string"==typeof t&&t.startsWith("info face=")}},{key:"parse",value:function(t){var e=t.match(/^[a-z]+\s+.+$/gm),r={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(var n in e){var i=e[n].match(/^[a-z]+/gm)[0],o=e[n].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),a={};for(var s in o){var u=o[s].split("="),c=u[0],l=u[1].replace(/"/gm,""),f=parseFloat(l),h=isNaN(f)?l:f;a[c]=h}r[i].push(a)}var p=new ei;return r.info.forEach(function(t){return p.info.push({face:t.face,size:parseInt(t.size,10)})}),r.common.forEach(function(t){return p.common.push({lineHeight:parseInt(t.lineHeight,10)})}),r.page.forEach(function(t){return p.page.push({id:parseInt(t.id,10),file:t.file})}),r.char.forEach(function(t){return p.char.push({id:parseInt(t.id,10),page:parseInt(t.page,10),x:parseInt(t.x,10),y:parseInt(t.y,10),width:parseInt(t.width,10),height:parseInt(t.height,10),xoffset:parseInt(t.xoffset,10),yoffset:parseInt(t.yoffset,10),xadvance:parseInt(t.xadvance,10)})}),r.kerning.forEach(function(t){return p.kerning.push({first:parseInt(t.first,10),second:parseInt(t.second,10),amount:parseInt(t.amount,10)})}),r.distanceField.forEach(function(t){return p.distanceField.push({distanceRange:parseInt(t.distanceRange,10),fieldType:t.fieldType})}),p}}])}();function ai(t){return ai="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ai(t)}function si(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ui(n.key),n)}}function ui(t){var e=function(t,e){if("object"!=ai(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=ai(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ai(e)?e:e+""}var ci=function(){return function(t,e,r){return e&&si(t.prototype,e),r&&si(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},null,[{key:"test",value:function(t){var e=t;return"string"!=typeof t&&"getElementsByTagName"in t&&e.getElementsByTagName("page").length&&null!==e.getElementsByTagName("info")[0].getAttribute("face")}},{key:"parse",value:function(t){for(var e=new ei,r=t.getElementsByTagName("info"),n=t.getElementsByTagName("common"),i=t.getElementsByTagName("page"),o=t.getElementsByTagName("char"),a=t.getElementsByTagName("kerning"),s=t.getElementsByTagName("distanceField"),u=0;u<r.length;u++)e.info.push({face:r[u].getAttribute("face"),size:parseInt(r[u].getAttribute("size"),10)});for(var c=0;c<n.length;c++)e.common.push({lineHeight:parseInt(n[c].getAttribute("lineHeight"),10)});for(var l=0;l<i.length;l++)e.page.push({id:parseInt(i[l].getAttribute("id"),10)||0,file:i[l].getAttribute("file")});for(var f=0;f<o.length;f++){var h=o[f];e.char.push({id:parseInt(h.getAttribute("id"),10),page:parseInt(h.getAttribute("page"),10)||0,x:parseInt(h.getAttribute("x"),10),y:parseInt(h.getAttribute("y"),10),width:parseInt(h.getAttribute("width"),10),height:parseInt(h.getAttribute("height"),10),xoffset:parseInt(h.getAttribute("xoffset"),10),yoffset:parseInt(h.getAttribute("yoffset"),10),xadvance:parseInt(h.getAttribute("xadvance"),10)})}for(var p=0;p<a.length;p++)e.kerning.push({first:parseInt(a[p].getAttribute("first"),10),second:parseInt(a[p].getAttribute("second"),10),amount:parseInt(a[p].getAttribute("amount"),10)});for(var d=0;d<s.length;d++)e.distanceField.push({fieldType:s[d].getAttribute("fieldType"),distanceRange:parseInt(s[d].getAttribute("distanceRange"),10)});return e}}])}();function li(t){return li="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},li(t)}function fi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hi(n.key),n)}}function hi(t){var e=function(t,e){if("object"!=li(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=li(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==li(e)?e:e+""}var pi=function(){return function(t,e,r){return e&&fi(t.prototype,e),r&&fi(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},null,[{key:"test",value:function(t){return!("string"!=typeof t||!t.includes("<font>"))&&ci.test(n.W0.ADAPTER.parseXML(t))}},{key:"parse",value:function(t){return ci.parse(n.W0.ADAPTER.parseXML(t))}}])}(),di=[oi,ci,pi];function yi(t,e,r,i,o,a,s){var u=r.text,c=r.fontProperties;e.translate(i,o),e.scale(a,a);var l=s.strokeThickness/2,f=-s.strokeThickness/2;if(e.font=s.toFontString(),e.lineWidth=s.strokeThickness,e.textBaseline=s.textBaseline,e.lineJoin=s.lineJoin,e.miterLimit=s.miterLimit,e.fillStyle=function(t,e,r,n,i,o){var a,s=r.fill;if(!Array.isArray(s))return s;if(1===s.length)return s[0];var u=r.dropShadow?r.dropShadowDistance:0,c=r.padding||0,l=t.width/n-u-2*c,f=t.height/n-u-2*c,h=s.slice(),p=r.fillGradientStops.slice();if(!p.length)for(var d=h.length+1,y=1;y<d;++y)p.push(y/d);if(h.unshift(s[0]),p.unshift(0),h.push(s[s.length-1]),p.push(1),r.fillGradientType===nr.LINEAR_VERTICAL){a=e.createLinearGradient(l/2,c,l/2,f+c);for(var v=0,m=(o.fontProperties.fontSize+r.strokeThickness)/f,b=0;b<i.length;b++)for(var g=o.lineHeight*b,w=0;w<h.length;w++){var S=g/f+("number"==typeof p[w]?p[w]:w/h.length)*m,x=Math.max(v,S);x=Math.min(x,1),a.addColorStop(x,h[w]),v=x}}else{a=e.createLinearGradient(c,f/2,l+c,f/2);for(var _=h.length+1,E=1,T=0;T<h.length;T++){var k=void 0;k="number"==typeof p[T]?p[T]:E/_,a.addColorStop(k,h[T]),E++}}return a}(t,e,s,a,[u],r),e.strokeStyle=s.stroke,s.dropShadow){var h=s.dropShadowColor,p=s.dropShadowBlur*a,d=s.dropShadowDistance*a;e.shadowColor=n.Q1.shared.setValue(h).setAlpha(s.dropShadowAlpha).toRgbaString(),e.shadowBlur=p,e.shadowOffsetX=Math.cos(s.dropShadowAngle)*d,e.shadowOffsetY=Math.sin(s.dropShadowAngle)*d}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;s.stroke&&s.strokeThickness&&e.strokeText(u,l,f+r.lineHeight-c.descent),s.fill&&e.fillText(u,l,f+r.lineHeight-c.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}r(59478580);function vi(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}function mi(t){return Array.from?Array.from(t):t.split("")}function bi(t){return function(t){if(Array.isArray(t))return gi(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return gi(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?gi(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gi(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var wi=["chars","padding","resolution","textureWidth","textureHeight"];function Si(t){return Si="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Si(t)}function xi(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function _i(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?xi(Object(r),!0).forEach(function(e){Ei(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xi(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function Ei(t,e,r){return(e=Oi(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ti(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,c=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return ki(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ki(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ki(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Pi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Oi(n.key),n)}}function Oi(t){var e=function(t,e){if("object"!=Si(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Si(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Si(e)?e:e+""}var Ai=function(){function t(e,r,i){var o,a;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var s=Ti(e.info,1)[0],u=Ti(e.common,1)[0],c=Ti(e.page,1)[0],l=Ti(e.distanceField,1)[0],f=n.Wp.getResolutionOfUrl(c.file),h={};this._ownsTextures=i,this.font=s.face,this.size=s.size,this.lineHeight=u.lineHeight/f,this.chars={},this.pageTextures=h;for(var p=0;p<e.page.length;p++){var d=e.page[p],y=d.id,v=d.file;h[y]=r instanceof Array?r[p]:r[v],(null==l?void 0:l.fieldType)&&"none"!==l.fieldType&&(h[y].baseTexture.alphaMode=n.Gk.NO_PREMULTIPLIED_ALPHA,h[y].baseTexture.mipmap=n.E8.OFF)}for(var m=0;m<e.char.length;m++){var b=e.char[m],g=b.id,w=b.page,S=e.char[m],x=S.x,_=S.y,E=S.width,T=S.height,k=S.xoffset,P=S.yoffset,O=S.xadvance;x/=f,_/=f,E/=f,T/=f,k/=f,P/=f,O/=f;var A=new n.M_(x+h[w].frame.x/f,_+h[w].frame.y/f,E,T);this.chars[g]={xOffset:k,yOffset:P,xAdvance:O,kerning:{},texture:new n.gP(h[w].baseTexture,A),page:w}}for(var R=0;R<e.kerning.length;R++){var j=e.kerning[R],I=j.first,C=j.second,M=j.amount;I/=f,C/=f,M/=f,this.chars[C]&&(this.chars[C].kerning[I]=M)}this.distanceFieldRange=null==l?void 0:l.distanceRange,this.distanceFieldType=null!==(o=null==l||null===(a=l.fieldType)||void 0===a?void 0:a.toLowerCase())&&void 0!==o?o:"none"}return function(t,e,r){return e&&Pi(t.prototype,e),r&&Pi(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(t,[{key:"destroy",value:function(){for(var t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(var e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null}}],[{key:"install",value:function(e,r,i){var o;if(e instanceof ei)o=e;else{var a=function(t){for(var e=0;e<di.length;e++)if(di[e].test(t))return di[e];return null}(e);if(!a)throw new Error("Unrecognized data format for font.");o=a.parse(e)}r instanceof n.gP&&(r=[r]);var s=new t(o,r,i);return t.available[s.font]=s,s}},{key:"uninstall",value:function(e){var r=t.available[e];if(!r)throw new Error("No font found named '".concat(e,"'"));r.destroy(),delete t.available[e]}},{key:"from",value:function(e,r,i){if(!e)throw new Error("[BitmapFont] Property `name` is required.");var o=Object.assign({},t.defaultOptions,i),a=o.chars,s=o.padding,u=o.resolution,c=o.textureWidth,l=o.textureHeight,f=function(t,e){if(null==t)return{};var r,n,i=function(t,e){if(null==t)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(-1!==e.indexOf(n))continue;r[n]=t[n]}return r}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)r=o[n],-1===e.indexOf(r)&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}(o,wi),h=function(t){"string"==typeof t&&(t=[t]);for(var e=[],r=0,n=t.length;r<n;r++){var i=t[r];if(Array.isArray(i)){if(2!==i.length)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got ".concat(i.length,"."));var o=i[0].charCodeAt(0),a=i[1].charCodeAt(0);if(a<o)throw new Error("[BitmapFont]: Invalid character range.");for(var s=o,u=a;s<=u;s++)e.push(String.fromCharCode(s))}else e.push.apply(e,bi(mi(i)))}if(0===e.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}(a),p=r instanceof mr?r:new mr(r),d=c,y=new ei;y.info[0]={face:p.fontFamily,size:p.fontSize},y.common[0]={lineHeight:p.fontSize};for(var v,m,b,g=0,w=0,S=0,x=[],_=[],E=0;E<h.length;E++){v||((v=n.W0.ADAPTER.createCanvas()).width=c,v.height=l,m=v.getContext("2d"),b=new n.t5(v,_i({resolution:u},f)),x.push(b),_.push(new n.gP(b)),y.page.push({id:_.length-1,file:""}));var T=h[E],k=fr.measureText(T,p,!1,v),P=k.width,O=Math.ceil(k.height),A=Math.ceil(("italic"===p.fontStyle?2:1)*P);if(w>=l-O*u){if(0===w)throw new Error("[BitmapFont] textureHeight ".concat(l,"px is too small (fontFamily: '").concat(p.fontFamily,"', fontSize: ").concat(p.fontSize,"px, char: '").concat(T,"')"));--E,v=null,m=null,b=null,w=0,g=0,S=0}else if(S=Math.max(O+k.fontProperties.descent,S),A*u+g>=d){if(0===g)throw new Error("[BitmapFont] textureWidth ".concat(c,"px is too small (fontFamily: '").concat(p.fontFamily,"', fontSize: ").concat(p.fontSize,"px, char: '").concat(T,"')"));--E,w+=S*u,w=Math.ceil(w),g=0,S=0}else{yi(v,m,k,g,w,u,p);var R=vi(k.text);y.char.push({id:R,page:_.length-1,x:g/u,y:w/u,width:A,height:O,xoffset:0,yoffset:0,xadvance:P-(p.dropShadow?p.dropShadowDistance:0)-(p.stroke?p.strokeThickness:0)}),g+=(A+2*s)*u,g=Math.ceil(g)}}if(null==i||!i.skipKerning)for(var j=0,I=h.length;j<I;j++)for(var C=h[j],M=0;M<I;M++){var D=h[M],N=m.measureText(C).width,B=m.measureText(D).width,F=m.measureText(C+D).width-(N+B);F&&y.kerning.push({first:vi(C),second:vi(D),amount:F})}var L=new t(y,_,!0);return void 0!==t.available[e]&&t.uninstall(e),t.available[e]=L,L}}])}();Ai.ALPHA=[["a","z"],["A","Z"]," "],Ai.NUMERIC=[["0","9"]],Ai.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],Ai.ASCII=[[" ","~"]],Ai.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:Ai.ALPHANUMERIC},Ai.available={};var Ri=Ai;r(85890026);function ji(t){return ji="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ji(t)}function Ii(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Mi(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function Ci(t){return function(t){if(Array.isArray(t))return Di(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Mi(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mi(t,e){if(t){if("string"==typeof t)return Di(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Di(t,e):void 0}}function Di(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Ni(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Bi(n.key),n)}}function Bi(t){var e=function(t,e){if("object"!=ji(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=ji(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ji(e)?e:e+""}function Fi(t,e,r){return e=Xi(e),function(t,e){if(e&&("object"==ji(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Li()?Reflect.construct(e,r||[],Xi(t).constructor):e.apply(t,r))}function Li(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Li=function(){return!!t})()}function Ui(t,e,r,n){var i=Vi(Xi(1&n?t.prototype:t),e,r);return 2&n&&"function"==typeof i?function(t){return i.apply(r,t)}:i}function Vi(){return Vi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=Xi(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},Vi.apply(null,arguments)}function Xi(t){return Xi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Xi(t)}function Gi(t,e){return Gi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Gi(t,e)}var Yi=[],qi=[],Wi=[],Hi=function(t){function e(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=Fi(this,e);var o=Object.assign({},e.styleDefaults,i),a=o.align,s=o.tint,u=o.maxWidth,c=o.letterSpacing,l=o.fontName,f=o.fontSize;if(!Ri.available[l])throw new Error('Missing BitmapFont "'.concat(l,'"'));return r._activePagesMeshData=[],r._textWidth=0,r._textHeight=0,r._align=a,r._tintColor=new n.Q1(s),r._font=void 0,r._fontName=l,r._fontSize=f,r.text=t,r._maxWidth=u,r._maxLineHeight=0,r._letterSpacing=c,r._anchor=new n.oA(function(){r.dirty=!0},r,0,0),r._roundPixels=n.W0.ROUND_PIXELS,r.dirty=!0,r._resolution=n.W0.RESOLUTION,r._autoResolution=!0,r._textureCache={},r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gi(t,e)}(e,t),function(t,e,r){return e&&Ni(t.prototype,e),r&&Ni(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"updateText",value:function(){for(var t=Ri.available[this._fontName],e=this.fontSize,r=e/t.size,i=new n.bR,o=[],a=[],s=[],u=mi(this._text.replace(/(?:\r\n|\r)/g,"\n")||" "),c=this._maxWidth*t.size/e,l="none"===t.distanceFieldType?Yi:qi,f=null,h=0,p=0,d=0,y=-1,v=0,m=0,b=0,g=0,w=0;w<u.length;w++){var S=u[w],x=vi(S);if(/(?:\s)/.test(S)&&(y=w,v=h,g++),"\r"!==S&&"\n"!==S){var _=t.chars[x];if(_){f&&_.kerning[f]&&(i.x+=_.kerning[f]);var E=Wi.pop()||{texture:n.gP.EMPTY,line:0,charCode:0,prevSpaces:0,position:new n.bR};E.texture=_.texture,E.line=d,E.charCode=x,E.position.x=Math.round(i.x+_.xOffset+this._letterSpacing/2),E.position.y=Math.round(i.y+_.yOffset),E.prevSpaces=g,o.push(E),h=E.position.x+Math.max(_.xAdvance-_.xOffset,_.texture.orig.width),i.x+=_.xAdvance+this._letterSpacing,b=Math.max(b,_.yOffset+_.texture.height),f=x,-1!==y&&c>0&&i.x>c&&(++m,n.Wp.removeItems(o,1+y-m,1+w-y),w=y,y=-1,a.push(v),s.push(o.length>0?o[o.length-1].prevSpaces:0),p=Math.max(p,v),d++,i.x=0,i.y+=t.lineHeight,f=null,g=0)}}else a.push(h),s.push(-1),p=Math.max(p,h),++d,++m,i.x=0,i.y+=t.lineHeight,f=null,g=0}var T=u[u.length-1];"\r"!==T&&"\n"!==T&&(/(?:\s)/.test(T)&&(h=v),a.push(h),p=Math.max(p,h),s.push(-1));for(var k=[],P=0;P<=d;P++){var O=0;"right"===this._align?O=p-a[P]:"center"===this._align?O=(p-a[P])/2:"justify"===this._align&&(O=s[P]<0?0:(p-a[P])/s[P]),k.push(O)}var A=o.length,R={},j=[],I=this._activePagesMeshData;l.push.apply(l,Ci(I));for(var C=0;C<A;C++){var M=o[C].texture,D=M.baseTexture.uid;if(!R[D]){var N=l.pop();if(!N){var B=new Ge.u,F=void 0,L=void 0;"none"===t.distanceFieldType?(F=new Ge.PX(n.gP.EMPTY),L=n.B9.NORMAL):(F=new Ge.PX(n.gP.EMPTY,{program:n.BP.from("// Mesh material default fragment\r\nattribute vec2 aVertexPosition;\r\nattribute vec2 aTextureCoord;\r\n\r\nuniform mat3 projectionMatrix;\r\nuniform mat3 translationMatrix;\r\nuniform mat3 uTextureMatrix;\r\n\r\nvarying vec2 vTextureCoord;\r\n\r\nvoid main(void)\r\n{\r\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r\n\r\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r\n}\r\n","// Pixi texture info\r\nvarying vec2 vTextureCoord;\r\nuniform sampler2D uSampler;\r\n\r\n// Tint\r\nuniform vec4 uColor;\r\n\r\n// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r\nuniform float uFWidth;\r\n\r\nvoid main(void) {\r\n\r\n  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r\n  vec4 texColor = texture2D(uSampler, vTextureCoord);\r\n\r\n  // MSDF\r\n  float median = texColor.r + texColor.g + texColor.b -\r\n                  min(texColor.r, min(texColor.g, texColor.b)) -\r\n                  max(texColor.r, max(texColor.g, texColor.b));\r\n  // SDF\r\n  median = min(median, texColor.a);\r\n\r\n  float screenPxDistance = uFWidth * (median - 0.5);\r\n  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r\n  if (median < 0.01) {\r\n    alpha = 0.0;\r\n  } else if (median > 0.99) {\r\n    alpha = 1.0;\r\n  }\r\n\r\n  // Gamma correction for coverage-like alpha\r\n  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r\n  float gamma = mix(1.0, 1.0 / 2.2, luma);\r\n  float coverage = pow(uColor.a * alpha, gamma);  \r\n\r\n  // NPM Textures, NPM outputs\r\n  gl_FragColor = vec4(uColor.rgb, coverage);\r\n}\r\n"),uniforms:{uFWidth:0}}),L=n.B9.NORMAL_NPM);var U=new Ge.e(B,F);U.blendMode=L,N={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:U,vertices:null,uvs:null,indices:null}}N.index=0,N.indexCount=0,N.vertexCount=0,N.uvsCount=0,N.total=0;var V=this._textureCache;V[D]=V[D]||new n.gP(M.baseTexture),N.mesh.texture=V[D],N.mesh.tint=this._tintColor.value,j.push(N),R[D]=N}R[D].total++}for(var X=0;X<I.length;X++)j.includes(I[X])||this.removeChild(I[X].mesh);for(var G=0;G<j.length;G++)j[G].mesh.parent!==this&&this.addChild(j[G].mesh);for(var Y in this._activePagesMeshData=j,R){var q,W=R[Y],H=W.total;if(!((null===(q=W.indices)||void 0===q?void 0:q.length)>6*H)||W.vertices.length<2*Ge.e.BATCHABLE_SIZE)W.vertices=new Float32Array(8*H),W.uvs=new Float32Array(8*H),W.indices=new Uint16Array(6*H);else for(var z=W.total,Q=W.vertices,Z=4*z*2;Z<Q.length;Z++)Q[Z]=0;W.mesh.size=6*H}for(var K=0;K<A;K++){var $=o[K],J=$.position.x+k[$.line]*("justify"===this._align?$.prevSpaces:1);this._roundPixels&&(J=Math.round(J));var tt=J*r,et=$.position.y*r,rt=$.texture,nt=R[rt.baseTexture.uid],it=rt.frame,ot=rt._uvs,at=nt.index++;nt.indices[6*at+0]=0+4*at,nt.indices[6*at+1]=1+4*at,nt.indices[6*at+2]=2+4*at,nt.indices[6*at+3]=0+4*at,nt.indices[6*at+4]=2+4*at,nt.indices[6*at+5]=3+4*at,nt.vertices[8*at+0]=tt,nt.vertices[8*at+1]=et,nt.vertices[8*at+2]=tt+it.width*r,nt.vertices[8*at+3]=et,nt.vertices[8*at+4]=tt+it.width*r,nt.vertices[8*at+5]=et+it.height*r,nt.vertices[8*at+6]=tt,nt.vertices[8*at+7]=et+it.height*r,nt.uvs[8*at+0]=ot.x0,nt.uvs[8*at+1]=ot.y0,nt.uvs[8*at+2]=ot.x1,nt.uvs[8*at+3]=ot.y1,nt.uvs[8*at+4]=ot.x2,nt.uvs[8*at+5]=ot.y2,nt.uvs[8*at+6]=ot.x3,nt.uvs[8*at+7]=ot.y3}for(var st in this._textWidth=p*r,this._textHeight=(i.y+t.lineHeight)*r,R){var ut=R[st];if(0!==this.anchor.x||0!==this.anchor.y)for(var ct=0,lt=this._textWidth*this.anchor.x,ft=this._textHeight*this.anchor.y,ht=0;ht<ut.total;ht++)ut.vertices[ct++]-=lt,ut.vertices[ct++]-=ft,ut.vertices[ct++]-=lt,ut.vertices[ct++]-=ft,ut.vertices[ct++]-=lt,ut.vertices[ct++]-=ft,ut.vertices[ct++]-=lt,ut.vertices[ct++]-=ft;this._maxLineHeight=b*r;var pt=ut.mesh.geometry.getBuffer("aVertexPosition"),dt=ut.mesh.geometry.getBuffer("aTextureCoord"),yt=ut.mesh.geometry.getIndex();pt.data=ut.vertices,dt.data=ut.uvs,yt.data=ut.indices,pt.update(),dt.update(),yt.update()}for(var vt=0;vt<o.length;vt++)Wi.push(o[vt]);this._font=t,this.dirty=!1}},{key:"updateTransform",value:function(){this.validate(),this.containerUpdateTransform()}},{key:"_render",value:function(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0);var r=Ri.available[this._fontName],n=r.distanceFieldRange,i=r.distanceFieldType,o=r.size;if("none"!==i){var a,s=this.worldTransform,u=s.a,c=s.b,l=s.c,f=s.d,h=Math.sqrt(u*u+c*c),p=Math.sqrt(l*l+f*f),d=(Math.abs(h)+Math.abs(p))/2,y=this.fontSize/o,v=t._view.resolution,m=Ii(this._activePagesMeshData);try{for(m.s();!(a=m.n()).done;){a.value.mesh.shader.uniforms.uFWidth=d*n*y*v}}catch(b){m.e(b)}finally{m.f()}}Ui(e,"_render",this,3)([t])}},{key:"getLocalBounds",value:function(){return this.validate(),Ui(e,"getLocalBounds",this,3)([])}},{key:"validate",value:function(){var t=Ri.available[this._fontName];if(!t)throw new Error('Missing BitmapFont "'.concat(this._fontName,'"'));this._font!==t&&(this.dirty=!0),this.dirty&&this.updateText()}},{key:"tint",get:function(){return this._tintColor.value},set:function(t){if(this.tint!==t){this._tintColor.setValue(t);for(var e=0;e<this._activePagesMeshData.length;e++)this._activePagesMeshData[e].mesh.tint=t}}},{key:"align",get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.dirty=!0)}},{key:"fontName",get:function(){return this._fontName},set:function(t){if(!Ri.available[t])throw new Error('Missing BitmapFont "'.concat(t,'"'));this._fontName!==t&&(this._fontName=t,this.dirty=!0)}},{key:"fontSize",get:function(){var t;return null!==(t=this._fontSize)&&void 0!==t?t:Ri.available[this._fontName].size},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)}},{key:"anchor",get:function(){return this._anchor},set:function(t){"number"==typeof t?this._anchor.set(t):this._anchor.copyFrom(t)}},{key:"text",get:function(){return this._text},set:function(t){t=String(null!=t?t:""),this._text!==t&&(this._text=t,this.dirty=!0)}},{key:"maxWidth",get:function(){return this._maxWidth},set:function(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)}},{key:"maxLineHeight",get:function(){return this.validate(),this._maxLineHeight}},{key:"textWidth",get:function(){return this.validate(),this._textWidth}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)}},{key:"roundPixels",get:function(){return this._roundPixels},set:function(t){t!==this._roundPixels&&(this._roundPixels=t,this.dirty=!0)}},{key:"textHeight",get:function(){return this.validate(),this._textHeight}},{key:"resolution",get:function(){return this._resolution},set:function(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}},{key:"destroy",value:function(t){var r=this._textureCache,i="none"===Ri.available[this._fontName].distanceFieldType?Yi:qi;i.push.apply(i,Ci(this._activePagesMeshData));var o,a=Ii(this._activePagesMeshData);try{for(a.s();!(o=a.n()).done;){var s=o.value;this.removeChild(s.mesh)}}catch(c){a.e(c)}finally{a.f()}for(var u in this._activePagesMeshData=[],i.filter(function(t){return r[t.mesh.texture.baseTexture.uid]}).forEach(function(t){t.mesh.texture=n.gP.EMPTY}),r)r[u].destroy(),delete r[u];this._font=null,this._tintColor=null,this._textureCache=null,Ui(e,"destroy",this,3)([t])}}])}(i.mc);Hi.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};var zi=Hi;function Qi(){var t,e,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function o(r,n,i,o){var u=n&&n.prototype instanceof s?n:s,c=Object.create(u.prototype);return Zi(c,"_invoke",function(r,n,i){var o,s,u,c=0,l=i||[],f=!1,h={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,r){return o=e,s=0,u=t,h.n=r,a}};function p(r,n){for(s=r,u=n,e=0;!f&&c&&!i&&e<l.length;e++){var i,o=l[e],p=h.p,d=o[2];r>3?(i=d===n)&&(u=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=t):o[0]<=p&&((i=r<2&&p<o[1])?(s=0,h.v=n,h.n=o[1]):p<d&&(i=r<3||o[0]>n||n>d)&&(o[4]=r,o[5]=n,h.n=d,s=0))}if(i||r>1)return a;throw f=!0,n}return function(i,l,d){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,d),s=l,u=d;(e=s<2?t:u)||!f;){o||(s?s<3?(s>1&&(h.n=-1),p(s,u)):h.n=u:h.v=u);try{if(c=2,o){if(s||(i="next"),e=o[i]){if(!(e=e.call(o,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,s<2&&(s=0)}else 1===s&&(e=o.return)&&e.call(o),s<2&&(u=TypeError("The iterator does not provide a '"+i+"' method"),s=1);o=t}else if((e=(f=h.n<0)?u:r.call(n,h))!==a)break}catch(e){o=t,s=1,u=e}finally{c=1}}return{value:e,done:f}}}(r,i,o),!0),c}var a={};function s(){}function u(){}function c(){}e=Object.getPrototypeOf;var l=[][n]?e(e([][n]())):(Zi(e={},n,function(){return this}),e),f=c.prototype=s.prototype=Object.create(l);function h(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,Zi(t,i,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=c,Zi(f,"constructor",c),Zi(c,"constructor",u),u.displayName="GeneratorFunction",Zi(c,i,"GeneratorFunction"),Zi(f),Zi(f,i,"Generator"),Zi(f,n,function(){return this}),Zi(f,"toString",function(){return"[object Generator]"}),(Qi=function(){return{w:o,m:h}})()}function Zi(t,e,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}Zi=function(t,e,r,n){function o(e,r){Zi(t,e,function(t){return this._invoke(e,r,t)})}e?i?i(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n}):t[e]=r:(o("next",0),o("throw",1),o("return",2))},Zi(t,e,r,n)}function Ki(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function $i(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function a(t){Ki(o,n,i,a,s,"next",t)}function s(t){Ki(o,n,i,a,s,"throw",t)}a(void 0)})}}var Ji=[".xml",".fnt"],to={extension:{type:n.Ag.LoadParser,priority:je.T9.Normal},name:"loadBitmapFont",test:function(t){return Ji.includes(n.Wp.path.extname(t).toLowerCase())},testParse:function(t){return $i(Qi().m(function e(){return Qi().w(function(e){for(;;)if(0===e.n)return e.a(2,oi.test(t)||pi.test(t))},e)}))()},parse:function(t,e,r){return $i(Qi().m(function i(){var o,a,s,u,c,l,f,h,p;return Qi().w(function(i){for(;;)switch(i.n){case 0:for(o=oi.test(t)?oi.parse(t):pi.parse(t),a=e.src,s=o.page,u=[],c=0;c<s.length;++c)l=s[c].file,f=n.Wp.path.join(n.Wp.path.dirname(a),l),f=(0,je.Y8)(f,a),u.push(f);return i.n=1,r.load(u);case 1:return h=i.v,p=u.map(function(t){return h[t]}),i.a(2,Ri.install(o,p,!0))}},i)}))()},load:function(t,e){return $i(Qi().m(function e(){return Qi().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,n.W0.ADAPTER.fetch(t);case 1:return e.a(2,e.v.text())}},e)}))()},unload:function(t){t.destroy()}};n.XO.add(to);r(6137992),r(5112476),r(34318408),r(26246976),r(87910984),r(27045624),r(76138123),r(41181582),r(60645153);function eo(t){return eo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eo(t)}function ro(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function no(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ro(Object(r),!0).forEach(function(e){io(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ro(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function io(t,e,r){return(e=yo(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oo(t){return function(t){if(Array.isArray(t))return uo(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||so(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ao(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,c=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||so(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function so(t,e){if(t){if("string"==typeof t)return uo(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?uo(t,e):void 0}}function uo(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function co(){var t,e,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function o(r,n,i,o){var u=n&&n.prototype instanceof s?n:s,c=Object.create(u.prototype);return lo(c,"_invoke",function(r,n,i){var o,s,u,c=0,l=i||[],f=!1,h={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,r){return o=e,s=0,u=t,h.n=r,a}};function p(r,n){for(s=r,u=n,e=0;!f&&c&&!i&&e<l.length;e++){var i,o=l[e],p=h.p,d=o[2];r>3?(i=d===n)&&(u=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=t):o[0]<=p&&((i=r<2&&p<o[1])?(s=0,h.v=n,h.n=o[1]):p<d&&(i=r<3||o[0]>n||n>d)&&(o[4]=r,o[5]=n,h.n=d,s=0))}if(i||r>1)return a;throw f=!0,n}return function(i,l,d){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,d),s=l,u=d;(e=s<2?t:u)||!f;){o||(s?s<3?(s>1&&(h.n=-1),p(s,u)):h.n=u:h.v=u);try{if(c=2,o){if(s||(i="next"),e=o[i]){if(!(e=e.call(o,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,s<2&&(s=0)}else 1===s&&(e=o.return)&&e.call(o),s<2&&(u=TypeError("The iterator does not provide a '"+i+"' method"),s=1);o=t}else if((e=(f=h.n<0)?u:r.call(n,h))!==a)break}catch(e){o=t,s=1,u=e}finally{c=1}}return{value:e,done:f}}}(r,i,o),!0),c}var a={};function s(){}function u(){}function c(){}e=Object.getPrototypeOf;var l=[][n]?e(e([][n]())):(lo(e={},n,function(){return this}),e),f=c.prototype=s.prototype=Object.create(l);function h(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,lo(t,i,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=c,lo(f,"constructor",c),lo(c,"constructor",u),u.displayName="GeneratorFunction",lo(c,i,"GeneratorFunction"),lo(f),lo(f,i,"Generator"),lo(f,n,function(){return this}),lo(f,"toString",function(){return"[object Generator]"}),(co=function(){return{w:o,m:h}})()}function lo(t,e,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}lo=function(t,e,r,n){function o(e,r){lo(t,e,function(t){return this._invoke(e,r,t)})}e?i?i(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n}):t[e]=r:(o("next",0),o("throw",1),o("return",2))},lo(t,e,r,n)}function fo(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function ho(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function a(t){fo(o,n,i,a,s,"next",t)}function s(t){fo(o,n,i,a,s,"throw",t)}a(void 0)})}}function po(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,yo(n.key),n)}}function yo(t){var e=function(t,e){if("object"!=eo(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=eo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==eo(e)?e:e+""}function vo(t,e,r){return e=wo(e),function(t,e){if(e&&("object"==eo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,mo()?Reflect.construct(e,r||[],wo(t).constructor):e.apply(t,r))}function mo(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(mo=function(){return!!t})()}function bo(t,e,r,n){var i=go(wo(1&n?t.prototype:t),e,r);return 2&n&&"function"==typeof i?function(t){return i.apply(r,t)}:i}function go(){return go="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=wo(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},go.apply(null,arguments)}function wo(t){return wo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},wo(t)}function So(t,e){return So=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},So(t,e)}var xo=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=vo(this,e,arguments))._fonts=[],t._overrides=[],t._stylesheet="",t.fontsDirty=!1,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&So(t,e)}(e,t),function(t,e,r){return e&&po(t.prototype,e),r&&po(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"cleanFonts",value:function(){this._fonts.length>0&&(this._fonts.forEach(function(t){URL.revokeObjectURL(t.src),t.refs--,0===t.refs&&(t.fontFace&&document.fonts.delete(t.fontFace),delete e.availableFonts[t.originalUrl])}),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}},{key:"loadFont",value:function(t){var r=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=e.availableFonts;if(o[t]){var a=o[t];return this._fonts.push(a),a.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return n.W0.ADAPTER.fetch(t).then(function(t){return t.blob()}).then(function(){var t=ho(co().m(function t(e){return co().w(function(t){for(;;)if(0===t.n)return t.a(2,new Promise(function(t,r){var n=URL.createObjectURL(e),i=new FileReader;i.onload=function(){return t([n,i.result])},i.onerror=r,i.readAsDataURL(e)}))},t)}));return function(e){return t.apply(this,arguments)}}()).then(function(){var e=ho(co().m(function e(a){var s,u,c,l,f;return co().w(function(e){for(;;)switch(e.n){case 0:return s=ao(a,2),u=s[0],c=s[1],l=Object.assign({family:n.Wp.path.basename(t,n.Wp.path.extname(t)),weight:"normal",style:"normal",display:"auto",src:u,dataSrc:c,refs:1,originalUrl:t,fontFace:null},i),o[t]=l,r._fonts.push(l),r.styleID++,f=new FontFace(l.family,"url(".concat(l.src,")"),{weight:l.weight,style:l.style,display:l.display}),l.fontFace=f,e.n=1,f.load();case 1:return document.fonts.add(f),e.n=2,document.fonts.ready;case 2:r.styleID++,r.fontsDirty=!0;case 3:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}())}},{key:"addOverride",value:function(){for(var t,e=this,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var o=n.filter(function(t){return!e._overrides.includes(t)});o.length>0&&((t=this._overrides).push.apply(t,oo(o)),this.styleID++)}},{key:"removeOverride",value:function(){for(var t=this,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r.filter(function(e){return t._overrides.includes(e)});i.length>0&&(this._overrides=this._overrides.filter(function(t){return!i.includes(t)}),this.styleID++)}},{key:"toCSS",value:function(t){return["transform: scale(".concat(t,")"),"transform-origin: top left","display: inline-block","color: ".concat(this.normalizeColor(this.fill)),"font-size: ".concat(this.fontSize,"px"),"font-family: ".concat(this.fontFamily),"font-weight: ".concat(this.fontWeight),"font-style: ".concat(this.fontStyle),"font-variant: ".concat(this.fontVariant),"letter-spacing: ".concat(this.letterSpacing,"px"),"text-align: ".concat(this.align),"padding: ".concat(this.padding,"px"),"white-space: ".concat(this.whiteSpace)].concat(oo(this.lineHeight?["line-height: ".concat(this.lineHeight,"px")]:[]),oo(this.wordWrap?["word-wrap: ".concat(this.breakWords?"break-all":"break-word"),"max-width: ".concat(this.wordWrapWidth,"px")]:[]),oo(this.strokeThickness?["-webkit-text-stroke-width: ".concat(this.strokeThickness,"px"),"-webkit-text-stroke-color: ".concat(this.normalizeColor(this.stroke)),"text-stroke-width: ".concat(this.strokeThickness,"px"),"text-stroke-color: ".concat(this.normalizeColor(this.stroke)),"paint-order: stroke"]:[]),oo(this.dropShadow?[this.dropShadowToCSS()]:[]),oo(this._overrides)).join(";")}},{key:"toGlobalCSS",value:function(){return this._fonts.reduce(function(t,e){return"".concat(t,'\n            @font-face {\n                font-family: "').concat(e.family,"\";\n                src: url('").concat(e.dataSrc,"');\n                font-weight: ").concat(e.weight,";\n                font-style: ").concat(e.style,";\n                font-display: ").concat(e.display,";\n            }")},this._stylesheet)}},{key:"stylesheet",get:function(){return this._stylesheet},set:function(t){this._stylesheet!==t&&(this._stylesheet=t,this.styleID++)}},{key:"normalizeColor",value:function(t){return Array.isArray(t)&&(t=n.Wp.rgb2hex(t)),"number"==typeof t?n.Wp.hex2string(t):t}},{key:"dropShadowToCSS",value:function(){var t=this.normalizeColor(this.dropShadowColor),e=this.dropShadowAlpha,r=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),n=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);t.startsWith("#")&&e<1&&(t+=(255*e|0).toString(16).padStart(2,"0"));var i="".concat(r,"px ").concat(n,"px");return this.dropShadowBlur>0?"text-shadow: ".concat(i," ").concat(this.dropShadowBlur,"px ").concat(t):"text-shadow: ".concat(i," ").concat(t)}},{key:"reset",value:function(){Object.assign(this,e.defaultOptions)}},{key:"onBeforeDraw",value:function(){var t=this.fontsDirty;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&t?new Promise(function(t){return setTimeout(t,100)}):Promise.resolve()}},{key:"isSafari",get:function(){var t=n.W0.ADAPTER.getNavigator().userAgent;return/^((?!chrome|android).)*safari/i.test(t)}},{key:"fillGradientStops",get:function(){return bo(e,"fillGradientStops",this,1)},set:function(t){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}},{key:"fillGradientType",get:function(){return bo(e,"fillGradientType",this,1)},set:function(t){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}},{key:"miterLimit",get:function(){return bo(e,"miterLimit",this,1)},set:function(t){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}},{key:"trim",get:function(){return bo(e,"trim",this,1)},set:function(t){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}},{key:"textBaseline",get:function(){return bo(e,"textBaseline",this,1)},set:function(t){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}},{key:"leading",get:function(){return bo(e,"leading",this,1)},set:function(t){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}},{key:"lineJoin",get:function(){return bo(e,"lineJoin",this,1)},set:function(t){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}}],[{key:"from",value:function(t){return new e(Object.keys(e.defaultOptions).reduce(function(e,r){return no(no({},e),{},io({},r,t[r]))},{}))}}])}(mr);xo.availableFonts={},xo.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100};var _o=xo;function Eo(t){return Eo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eo(t)}function To(){var t,e,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function o(r,n,i,o){var u=n&&n.prototype instanceof s?n:s,c=Object.create(u.prototype);return ko(c,"_invoke",function(r,n,i){var o,s,u,c=0,l=i||[],f=!1,h={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,r){return o=e,s=0,u=t,h.n=r,a}};function p(r,n){for(s=r,u=n,e=0;!f&&c&&!i&&e<l.length;e++){var i,o=l[e],p=h.p,d=o[2];r>3?(i=d===n)&&(u=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=t):o[0]<=p&&((i=r<2&&p<o[1])?(s=0,h.v=n,h.n=o[1]):p<d&&(i=r<3||o[0]>n||n>d)&&(o[4]=r,o[5]=n,h.n=d,s=0))}if(i||r>1)return a;throw f=!0,n}return function(i,l,d){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,d),s=l,u=d;(e=s<2?t:u)||!f;){o||(s?s<3?(s>1&&(h.n=-1),p(s,u)):h.n=u:h.v=u);try{if(c=2,o){if(s||(i="next"),e=o[i]){if(!(e=e.call(o,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,s<2&&(s=0)}else 1===s&&(e=o.return)&&e.call(o),s<2&&(u=TypeError("The iterator does not provide a '"+i+"' method"),s=1);o=t}else if((e=(f=h.n<0)?u:r.call(n,h))!==a)break}catch(e){o=t,s=1,u=e}finally{c=1}}return{value:e,done:f}}}(r,i,o),!0),c}var a={};function s(){}function u(){}function c(){}e=Object.getPrototypeOf;var l=[][n]?e(e([][n]())):(ko(e={},n,function(){return this}),e),f=c.prototype=s.prototype=Object.create(l);function h(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,ko(t,i,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=c,ko(f,"constructor",c),ko(c,"constructor",u),u.displayName="GeneratorFunction",ko(c,i,"GeneratorFunction"),ko(f),ko(f,i,"Generator"),ko(f,n,function(){return this}),ko(f,"toString",function(){return"[object Generator]"}),(To=function(){return{w:o,m:h}})()}function ko(t,e,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}ko=function(t,e,r,n){function o(e,r){ko(t,e,function(t){return this._invoke(e,r,t)})}e?i?i(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n}):t[e]=r:(o("next",0),o("throw",1),o("return",2))},ko(t,e,r,n)}function Po(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function Oo(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function a(t){Po(o,n,i,a,s,"next",t)}function s(t){Po(o,n,i,a,s,"throw",t)}a(void 0)})}}function Ao(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ro(n.key),n)}}function Ro(t){var e=function(t,e){if("object"!=Eo(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Eo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Eo(e)?e:e+""}function jo(t,e,r){return e=Do(e),function(t,e){if(e&&("object"==Eo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Io()?Reflect.construct(e,r||[],Do(t).constructor):e.apply(t,r))}function Io(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Io=function(){return!!t})()}function Co(t,e,r,n){var i=Mo(Do(1&n?t.prototype:t),e,r);return 2&n&&"function"==typeof i?function(t){return i.apply(r,t)}:i}function Mo(){return Mo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=Do(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},Mo.apply(null,arguments)}function Do(t){return Do=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Do(t)}function No(t,e){return No=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},No(t,e)}var Bo=function(t){function e(){var t,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=jo(this,e,[n.gP.EMPTY]))._text=null,r._style=null,r._autoResolution=!0,r.localStyleID=-1,r.dirty=!1,r._updateID=0,r.ownsStyle=!1;var a=new Image,s=n.gP.from(a,{scaleMode:n.W0.SCALE_MODE,resourceOptions:{autoLoad:!1}});s.orig=new n.M_,s.trim=new n.M_,r.texture=s;var u="http://www.w3.org/2000/svg",c="http://www.w3.org/1999/xhtml",l=document.createElementNS(u,"svg"),f=document.createElementNS(u,"foreignObject"),h=document.createElementNS(c,"div"),p=document.createElementNS(c,"style");return f.setAttribute("width","10000"),f.setAttribute("height","10000"),f.style.overflow="hidden",l.appendChild(f),r.maxWidth=e.defaultMaxWidth,r.maxHeight=e.defaultMaxHeight,r._domElement=h,r._styleElement=p,r._svgRoot=l,r._foreignObject=f,r._foreignObject.appendChild(p),r._foreignObject.appendChild(h),r._image=a,r._loadImage=new Image,r._autoResolution=e.defaultAutoResolution,r._resolution=null!==(t=e.defaultResolution)&&void 0!==t?t:n.W0.RESOLUTION,r.text=i,r.style=o,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&No(t,e)}(e,t),function(t,e,r){return e&&Ao(t.prototype,e),r&&Ao(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"measureText",value:function(t){var e,r,n=Object.assign({text:this._text,style:this._style,resolution:this._resolution},t),i=n.text,o=n.style,a=n.resolution;Object.assign(this._domElement,{innerHTML:i,style:o.toCSS(a)}),this._styleElement.textContent=o.toGlobalCSS(),document.body.appendChild(this._svgRoot);var s=this._domElement.getBoundingClientRect();this._svgRoot.remove();var u=s.width,c=s.height;(u>this.maxWidth||c>this.maxHeight)&&console.warn("[HTMLText] Large expanse of text, increase HTMLText.maxWidth or HTMLText.maxHeight property.");var l=Math.min(this.maxWidth,Math.ceil(u)),f=Math.min(this.maxHeight,Math.ceil(c));return this._svgRoot.setAttribute("width",l.toString()),this._svgRoot.setAttribute("height",f.toString()),i!==this._text&&(this._domElement.innerHTML=this._text),o!==this._style&&(Object.assign(this._domElement,{style:null===(e=this._style)||void 0===e?void 0:e.toCSS(a)}),this._styleElement.textContent=null===(r=this._style)||void 0===r?void 0:r.toGlobalCSS()),{width:l+2*o.padding,height:f+2*o.padding}}},{key:"updateText",value:(r=Oo(To().m(function t(){var e,r,n,i,o,a,s,u,c=this,l=arguments;return To().w(function(t){for(;;)switch(t.n){case 0:if(e=!(l.length>0&&void 0!==l[0])||l[0],r=this.style,n=this._image,i=this._loadImage,this.localStyleID!==r.styleID&&(this.dirty=!0,this.localStyleID=r.styleID),this.dirty||!e){t.n=1;break}return t.a(2);case 1:return o=this.measureText(),a=o.width,s=o.height,n.width=i.width=Math.ceil(Math.max(1,a)),n.height=i.height=Math.ceil(Math.max(1,s)),this._updateID++,u=this._updateID,t.n=2,new Promise(function(t){i.onload=Oo(To().m(function e(){return To().w(function(e){for(;;)switch(e.n){case 0:if(!(u<c._updateID)){e.n=1;break}return t(),e.a(2);case 1:return e.n=2,r.onBeforeDraw();case 2:n.src=i.src,i.onload=null,i.src="",c.updateTexture(),t();case 3:return e.a(2)}},e)}));var e=(new XMLSerializer).serializeToString(c._svgRoot);i.src="data:image/svg+xml;charset=utf8,".concat(encodeURIComponent(e))});case 2:return t.a(2)}},t,this)})),function(){return r.apply(this,arguments)})},{key:"source",get:function(){return this._image}},{key:"updateTexture",value:function(){var t=this.style,e=this.texture,r=this._image,n=this.resolution,i=t.padding,o=e.baseTexture;e.trim.width=e._frame.width=r.width/n,e.trim.height=e._frame.height=r.height/n,e.trim.x=-i,e.trim.y=-i,e.orig.width=e._frame.width-2*i,e.orig.height=e._frame.height-2*i,this._onTextureUpdate(),o.setRealSize(r.width,r.height,n),this.dirty=!1}},{key:"_render",value:function(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),Co(e,"_render",this,3)([t])}},{key:"_renderCanvas",value:function(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),Co(e,"_renderCanvas",this,3)([t])}},{key:"getLocalBounds",value:function(t){return this.updateText(!0),Co(e,"getLocalBounds",this,3)([t])}},{key:"_calculateBounds",value:function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}},{key:"_onStyleChange",value:function(){this.dirty=!0}},{key:"destroy",value:function(t){var r,n,i,o,a;"boolean"==typeof t&&(t={children:t}),t=Object.assign({},e.defaultDestroyOptions,t),Co(e,"destroy",this,3)([t]);var s=null;this.ownsStyle&&null!==(r=this._style)&&void 0!==r&&r.cleanFonts(),this._style=s,null!==(n=this._svgRoot)&&void 0!==n&&n.remove(),this._svgRoot=s,null!==(i=this._domElement)&&void 0!==i&&i.remove(),this._domElement=s,null!==(o=this._foreignObject)&&void 0!==o&&o.remove(),this._foreignObject=s,null!==(a=this._styleElement)&&void 0!==a&&a.remove(),this._styleElement=s,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=s,this._image.src="",this._image=s}},{key:"width",get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution},set:function(t){this.updateText(!0);var e=n.Wp.sign(this.scale.x)||1;this.scale.x=e*t/this._image.width/this.resolution,this._width=t}},{key:"height",get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution},set:function(t){this.updateText(!0);var e=n.Wp.sign(this.scale.y)||1;this.scale.y=e*t/this._image.height/this.resolution,this._height=t}},{key:"style",get:function(){return this._style},set:function(t){this._style!==t&&((t=t||{})instanceof _o?(this.ownsStyle=!1,this._style=t):t instanceof mr?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=_o.from(t)):(this.ownsStyle=!0,this._style=new _o(t)),this.localStyleID=-1,this.dirty=!0)}},{key:"text",get:function(){return this._text},set:function(t){t=String(""===t||null==t?" ":t),t=this.sanitiseText(t),this._text!==t&&(this._text=t,this.dirty=!0)}},{key:"resolution",get:function(){return this._resolution},set:function(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}},{key:"sanitiseText",value:function(t){return t.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}}]);var r}(o.k);Bo.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},Bo.defaultMaxWidth=2024,Bo.defaultMaxHeight=2024,Bo.defaultAutoResolution=!0}}]);